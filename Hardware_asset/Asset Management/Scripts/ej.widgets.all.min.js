/*!
*  filename: ej.widgets.all.min.js
*  version : 11.4.0.26
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function gridResize(n){this.$headerTable=n.getGridHeaderTable(),this.gridInstance=n,this._colMinWidth=15,this._$visualElement=$(),this._currentCell=-1,this._allowStart=!1,this._oldWidth=null,this._orgX=null,this._orgY=null,this._extra=null,this._expand=!1}function sfExtendClass(n,t){var i=function(){};return i.prototype=new n,$.extend(i.prototype,t),i}function sfExtendClass(n,t){var i=function(){};return i.prototype=new n,$.extend(i.prototype,t),i}var SfVmlRender,SfSvgRender,SfAxisRenderer,SfStripline,sfDateTimeValue,sfDoubleValue,sfCategoryValue,SfLegendRender,sfSeriesRender,sfLineSeries,sfStepLineSeries,sfStepAreaSeries,sfColumnSeries,sfStackingColumnSeries,sfRangeColumnSeries,sfStackingBarSeries,sfBarSeries,sfStackingAreaSeries,sfAreaSeries,sfSplineSeries,sfSplineAreaSeries,sfScatterSeries,sfBubbleSeries,sfhiloSeries,sfhiloopencloseSeries,sfCandleSeries,sfPieSeries,sfDoughnutSeries,sfPyramidSeries,Gradient,ejChart,syncfusion;window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var f,r,u;t.consts={NamespaceJoin:"-"},t.textAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.orientation={Horizontal:"horizontal",Vertical:"vertical"},Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n,t){return n[t]!==i}),Array.prototype.lastItem=function(){return this.length?this[this.length-1]:i},String.format=function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n+1]);return t.replace(/\{[0-9]\}/g,"")},t.defineClass=function(n,r,u,f){if(!n||!u)return i;for(var o=n.split("."),s=window,e=0;e<o.length-1;e++)t.isNullOrUndefined(s[o[e]])&&(s[o[e]]={}),s=s[o[e]];return(f||t.isNullOrUndefined(s[o[e]]))&&(r=typeof r=="function"?r:function(){},s[o[e]]=r,s[o[e]].prototype=u),s[o[e]]},t.util={getNameSpace:function(n){var i=n.toLowerCase().split(".");return i[0]==="ej"&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(n,r){var u,e,f;if(!r)return i;for(u=r,e=n.split("."),f=0;f<e.length;f++){if(t.util.isNullOrUndefined(u))break;u=u[e[f]]}return u},createObject:function(n,i,r){for(var f=n.split("."),o=r||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t.isNullOrUndefined(i)?{}:i:t.isNullOrUndefined(e[f[u]])&&(e[f[u]]={}),e=e[f[u]];return o},isNullOrUndefined:function(n){return n===i||n===null},buildTag:function(t,r,u,f){var s=/^[a-z]*[0-9a-z]+/ig.exec(t)[0],e=/#([a-z]+[-_0-9a-z]+)/ig.exec(t),o;return e=e?e.lastItem():i,o=/\.([a-z]+[-_0-9a-z ]+)/ig.exec(t),o=o?o.lastItem():i,n(document.createElement(s)).attr(e?{id:e}:{}).addClass(o||"").css(u||{}).attr(f||{}).html(r||"")}},n.extend(t,t.util),t.widgetBase={droppables:{"default":[]},resizables:{"default":[]},destroy:function(){var r,i,u;if(!this._trigger("destroy")){for(this.model.persist&&this.persistState(),this._destroy(),r=this.element.data("ejWidgets")||[],i=0;i<r.length;i++)r[i]==this.pluginName&&r.splice(i,1);while(this._events){if(u=this._events.pop(),!u)break;n.fn.off.apply(u[0],u[1])}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var r=[].splice.call(arguments,1,arguments.length-1),u={},f=r.length;u&&typeof u!="function";)u=r[--f];return r[f]=t.proxy(r[f],this),this._events.push([i,r,u,r[f]]),n.fn.on.apply(i,r),this},_off:function(t,i,r,u){var e=this._events,s,o,f,h;if(!e||!e.length)return this;for(typeof r=="function"&&(s=u,u=r,r=s),o=0;o<e.length;o++)if(f=e[o],h=f[0].length&&(!u||f[2]===u)&&f[1][0]===i&&n.inArray(t[0],f[0])>-1,h){n.fn.off.apply(t,u?[i,r,f[3]]:[i,r]),e.splice(o,1);break}return this},_trigger:function(i,r){var f=this.model[i],e,u,o;return f&&(typeof f=="string"&&(f=t.util.getObject(f,window)),n.isFunction(f)&&(u=t.event(i,this.model,r),e=f.call(this,u),r&&n.extend(r,u),u.cancel||!t.isNullOrUndefined(e)))?e===!1||u.cancel:(o=Boolean(r),r=r||{},r.originalEventType=i,r.type=this.pluginName+i,u=n.Event(r.type,t.event(r.type,this.model,r)),this.element.trigger(u),o&&n.extend(r,u),u.cancel)},setModel:function(i,r){var u,e,o,f;if(!this._trigger("modelChange",{changes:i})){for(u in i){if(!r&&this.model[u]===i[u]){delete i[u];continue}if(this.dataTypes&&(e=this._isValidModelValue(u,this.dataTypes,i),e!==!0))throw"setModel - Invalid input for property :"+u+" - "+e;this.model.notifyOnEachPropertyChanges&&this.model[u]!==i[u]&&(o={oldValue:this.model[u],newValue:i[u]},i[u]=this._trigger(u+"Change",o)?this.model[u]:o.newValue)}if(this._setFirst?(f=i.dataSource,f&&delete i.dataSource,n.extend(!0,this.model,i),f&&(this.model.dataSource=f),this._setModel&&this._setModel(i)):this._setModel&&this._setModel(i)===!1||n.extend(!0,this.model,i),"persist"in i)if(i.persist===!0){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler)}else n(window).off("unload",this._persistHandler)}},option:function(r,u,f){if(!r)return this.model;if(n.isPlainObject(r))return this.setModel(r);if(typeof r=="string"){r=r.replace(/^model\./,"");var e=t.getObject(r,this.model);if(u===i)return e;if(f||t.getObject(r,this.model)!==u)return this.setModel(t.createObject(r,u,{}),f)}return i},_isValidModelValue:function(n,t,i){var u=t[n],r=i[n],f,e,o;if(!u)return!0;if(typeof u=="string"){if(u=="enum"&&(i[n]=r?r.toString().toLowerCase():r,u="string"),u==="array"){if(r instanceof Array)return!0}else if(u==="data"||typeof r===u)return!0;return"Expected type - "+u}if(r instanceof Array){for(e=0;e<r.length;e++)if(f=this._isValidModelValue(n,t,r[e]),f!==!0)return" ["+e+"] - "+f;return!0}for(o in r)if(f=this._isValidModelValue(o,u,r),f!==!0)return o+" : "+f;return!0},persistState:function(){var n=r({},this.model),i;if(this.ignoreOnPersist)for(i=0;i<this.ignoreOnPersist;i++)delete n[this.ignoreOnPersist[i]];this._persistState&&(n.customPersists={},this._persistState(n.customPersists)),window.localStorage?window.localStorage.setItem(this.pluginName+this._id,JSON.stringify(n)):document.cookie&&t.cookie.set(this.pluginName+this._id,n)},restoreState:function(i){var r=null,u;window.localStorage?r=window.localStorage.getItem(this.pluginName+this._id):document.cookie&&(r=t.cookie.get(this.pluginName+this._id)),r&&(u=JSON.parse(r),this._restoreState&&(this._restoreState(u.customPersists),delete u.customPersists),this.model=n.extend(!0,this.model,u)),!i&&r&&this._setModel&&this._setModel(this.model)}},t.widget=function(i,e,o){var h,s,c;if(typeof i=="object"){o=e;for(h in i)s=i[h],s instanceof Array&&(o._rootCSS=s[1],s=s[0]),t.widget(h,s,o),i[h]instanceof Array&&(o._rootCSS="");return}c=o._rootCSS||t.getNameSpace(e),o=t.defineClass(e,function(u,s){var a,v,y,h,p,w,b,c,l;if(this.sfType=e,this.pluginName=i,this.instance=this,n.extend(this,t.widgetBase),this.dataTypes)for(a in s)if(v=this._isValidModelValue(a,this.dataTypes,s),v!==!0)throw"setModel - Invalid input for property :"+a+" - "+v;for(y=u.data("ejWidgets")||[],y.push(i),u.data("ejWidgets",y),h=0;t.widget.observables&&this.observables&&h<this.observables.length;h++)p=t.getObject(this.observables[h],s),p&&t.createObject(this.observables[h],t.widget.observables.register(p,this.observables[h],this,u),s);if(this.element=u.jquery?u:n(u),this.model=r({},o.prototype.defaults,s),this.model.keyConfigs=r(this.keyConfigs),this._id=u[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.persist){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler);this.restoreState(!0)}if(this._init(),typeof this.model.keyConfigs=="object"&&!(this.model.keyConfigs instanceof Array)){w=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus);for(b in this.model.keyConfigs)if(b!=="focus"){w=!0;break}w&&this._keyPressed&&(c=u,l="keydown",this.keySettings&&(c=this.keySettings.getElement?this.keySettings.getElement()||c:c,l=this.keySettings.event||l),this._on(c,l,function(n){if(this.model.keyConfigs){var t=f.getActionFromCode(this.model.keyConfigs,n.which,n.ctrlKey,n.shiftKey,n.altKey),i={code:n.which,ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};t&&this._keyPressed(t,n.target,i,n)===!1&&n.preventDefault()}}))}this._trigger("create")},o),n.fn[i]=function(r){for(var a,h=0;h<this.length;h++){var l=n(this[h]),f=l.data(i),v=f&&l.hasClass(c),s=null;if(!v){r&&typeof r!="object"?u(i+": methods/properties can be accessed only after plugin creation"):l.addClass(c+" e-js").data(i,new o(l,r));continue}if(r)if(n.isPlainObject(r))f.setModel(r);else if((r.indexOf("_")===0||t.isNullOrUndefined(s=t.getObject(r,f)))&&r.indexOf("model.")!==0)u(e+": function/property - "+r+" does not exist");else{if(!s||!n.isFunction(s)){if(arguments.length==1)return s;f.option(r,arguments[1]);continue}if(a=s.apply(f,[].splice.call(arguments,1,arguments.length-1)),!t.util.isNullOrUndefined(a))return a}}return this},t.widget.register(i,e,o.prototype)},n.extend(t.widget,function(){var i={},r=n({}),f=function(f,e,o){var s=n.Event("beforeAdd",{cancel:!1,widget:f,prototype:o});(r.triggerHandler(s),s.cancel)||(t.isNullOrUndefined(i[f])||u("ej.widget : The widget named "+f+" is trying to register twice."),i[f]={name:f,className:e,proto:o},r.triggerHandler("add",{widget:f,prototype:o}))};return{register:f,events:r,registeredWidgets:i}}()),t.widget.destroyAll=function(n){var r,t,i;if(n&&n.length)for(r=0;r<n.length;r++)if(t=n.eq(r).data(),t.ejWidgets&&t.ejWidgets.length)for(i=t.ejWidgets.length-1;i>-1;i--)t[t.ejWidgets[i]]&&t[t.ejWidgets[i]].destroy&&t[t.ejWidgets[i]].destroy()},t.cookie={get:function(n){var t=RegExp(n+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(n,t,i){typeof t=="object"&&(t=JSON.stringify(t)),t=escape(t)+(i==null?"":"; expires="+i.toUTCString()),document.cookie=n+"="+t}},f={getActionFromCode:function(n,t,i,r,u){var o,e;i=i||!1,r=r||!1,u=u||!1;for(o in n)if(o!=="focus"&&(e=f.getKeyObject(n[o]),t===e.code&&i==e.isCtrl&&r==e.isShift&&u==e.isAlt))return o;return null},getKeyObject:function(n){var i={isCtrl:!1,isShift:!1,isAlt:!1},t;for(n=n.split("+"),t=0;t<n.length;t++)n[t]==="ctrl"?i.isCtrl=!0:n[t]==="shift"?i.isShift=!0:n[t]==="alt"?i.isAlt=!0:i.code=parseInt(n[t],10);return i}},t.browserInfo=function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},r;for(r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase(),n.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,r){return n.extend(r||{},{type:t,model:i,cancel:!1})},t.proxy=function(n,t,i){return!n||typeof n!="function"?null:"bind"in n?i?n.bind(t,i):n.bind(t):function(){var r=i?[i]:[];r.push.apply(r,arguments),n.apply(t,r)}},t.hasStyle=function(n){var r=document.documentElement.style,i,t;if(n in r)return!0;for(i=["ms","Moz","Webkit","O","Khtml"],n=n[0].toUpperCase()+n.slice(1),t=0;t<i.length;t++)if(i[t]+n in r)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n},r=t.copyObject=function(n){for(var o=[].splice.call(arguments,1,arguments.length),s,u,f,e=0;e<o.length;e++)for(f in o[e])(s=n[f],u=o[e][f],u!==i&&s!==u&&o[e]!==u&&n!==u)&&(u instanceof Array?n[f]=u.slice():t.isPlainObject(u)?(n[f]=s||{},r(n[f],u)):n[f]=u);return n},t.isPlainObject=function(n){if(!n||typeof n!="object"||n.nodeType||jQuery.isWindow(n))return!1;try{if(n.constructor&&!n.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(f){return!1}var r,u=t.support.isOwnLast;for(r in n)if(u)break;return r===i||n.hasOwnProperty(r)},t.support={isOwnLast:function(){var n=function(){this.a=1},t;n.prototype.b=1;for(t in new n)return t==="b"}(),outerHTML:function(){return document.createElement("div").outerHTML!==i}()},u=t.throwError=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}},t.extensions={},t.extensions.ko={subscriptions:{},register:function(n,i,r){return!window.ko||!ko.isObservable(n)?n:(t.widget.observables.subscriptions[i]=n.subscribe(t.proxy(t.widget.observables.raise,{instance:r,field:i})),n())},raise:function(n){this.instance.option(this.field,n,!0)}},t.extensions.angular={subscriptions:{},register:function(n,i,r,u){if(!window.angular)return n;var f=angular.element(u[0]).scope(),e=t.getObject(n,f);return e&&f.$watchCollection(n,t.proxy(t.widget.observables.raise,{instance:r,field:i})),e||n},raise:function(n){this.instance.option(this.field,n,!0)}}}(window.jQuery,window.Syncfusion),window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var u,b,k,y,c,r;t.DataManager=function(u,f,e){if(!(this instanceof t.DataManager))return new t.DataManager(u,f,e);u||r("DataManger : a dataSource is required to create Manager");var o=[],s=this;return u instanceof Array?o={json:u,offline:!0}:typeof u=="object"?n.isPlainObject(u)?(u.table&&(u.json=this._getJsonFromElement(u.table,u.headerOption)),o={url:u.url,insertUrl:u.insertUrl,removeUrl:u.removeUrl,updateUrl:u.updateUrl,crudUrl:u.crudUrl,batchUrl:u.batchUrl,json:u.json,headers:u.headers,accept:u.accept,data:u.data,requestType:u.requestType,key:u.key,crossDomain:u.crossDomain,jsonp:u.jsonp,dataType:u.dataType,offline:u.offline!==i?u.offline:u.url?!1:!0,requiresFormat:u.requiresFormat}):(u.jquery||at(u))&&(o={json:this._getJsonFromElement(u),offline:!0,table:u}):typeof u=="string"&&(o={url:u,offline:!1,dataType:"json"}),o.requiresFormat!==i||t.support.cors||(o.requiresFormat=c(o.crossDomain)?!1:o.crossDomain),o.dataType===i&&(o.dataType="json"),this.dataSource=o,this.defaultQuery=f,o.url&&o.offline&&!o.json?(this.isDataAvailable=!1,this.adaptor=e||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(f||t.Query()).done(function(n){s.dataSource.offline=!0,s.isDataAvailable=!0,o.json=n.result,s.adaptor=new t.JsonAdaptor})):this.adaptor=o.offline?new t.JsonAdaptor:new t.ODataAdaptor,!o.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(o.jsonp="callback"),this.adaptor=e||this.adaptor,this},t.DataManager.prototype={setDefaultQuery:function(n){this.defaultQuery=n},executeQuery:function(i,u,f,e){var s,o;return typeof i=="function"&&(e=f,f=u,u=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||r("DataManager - executeQuery() : A query is required to execute"),s=n.Deferred(),s.then(u,f,e),o={query:i},this.dataSource.offline?lt(function(){var n=this.executeLocal(i);i._requiresCount?(o.result=n.result,o.count=n.count):o.result=n,o.getTableModel=g(i._fromTable,o.result,this),o.getKnockoutModel=nt(o.result),s.resolveWith(this,[o])},this):this._makeRequest(this.adaptor.processQuery(this,i),s,o,i),s.promise()},executeLocal:function(i){var e,u;if(this.defaultQuery||i instanceof t.Query||r("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||r("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,e=this.adaptor.processQuery(this,i),i._subQuery){var o=i._subQuery._fromTable,s=i._subQuery._lookup,f=i._requiresCount?e.result:e;for(s&&s instanceof Array&&w(i._subQuery._fKey,o,f,s),u=0;u<f.length;u++)f[u][o]instanceof Array&&(f[u]=n.extend({},f[u]),f[u][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(f[u][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(e,this,i)},_makeRequest:function(t,i,r,u){var e=!!u._subQuerySelector,c=o(function(n){r.error=n,i.rejectWith(this,[r])},this),l=o(function(n,t,f,o,s){e||(r.xhr=f,r.count=parseInt(t,10),r.result=n,r.request=o,r.getTableModel=g(u._fromTable,n,this),r.getKnockoutModel=nt(n),r.actual=s,i.resolveWith(this,[r]))},this),a=o(function(t,i){var f=n.Deferred(),s={parent:r},e,o;return u._subQuery._isChild=!0,e=this.adaptor.processQuery(this,u._subQuery,t?this.adaptor.processResponse(t):i),o=this._makeRequest(e,f,s,u._subQuery),f.then(function(n){t&&(w(u._subQuery._fKey,u._subQuery._fromTable,t,n),l(t))},c),o},this),v=p(function(n,t,i,r){n=h.parseJson(n);var f=this.adaptor.processResponse(n,this,u,i,r),o=0;if(u._requiresCount&&(o=f.count,f=f.result),!u._subQuery){l(f,o,i,r,n);return}e||a(f)},this),f=n.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:o(this._beforeSend,this),processData:!1,success:v,error:c},t),s;return f=n.ajax(f),e&&(s=u._subQuerySelector.call(this,{query:u._subQuery,parent:u}),s&&s.length?(f=n.when(f,a(null,s)),f.then(p(function(n,t,i){var r=this.adaptor.processResponse(n[0],this,u,n[2],i[0]),f=0,o;u._requiresCount&&(f=r.count,r=r.result),o=this.adaptor.processResponse(t[0],this,u._subQuery,t[2],i[1]),f=0,u._subQuery._requiresCount&&(f=o.count,o=o.result),w(u._subQuery._fKey,u._subQuery._fromTable,r,o),e=!1,l(r,f,n[2])},this),c)):e=!1),f},_beforeSend:function(n,t){var i,r,u,f;for(this.adaptor.beforeSend(this,n,t),i=this.dataSource.headers,u=0;i&&u<i.length;u++){r=[];for(f in i[u])r.push(f);n.setRequestHeader(i[r[0]],i[r[1]])}},saveChanges:function(t,i,r){var e={url:r,key:i||this.dataSource.key},f=this.adaptor.batchRequest(this,t,e),u;return this.dataSource.offline?f:(u=n.Deferred(),n.ajax(n.extend({beforeSend:o(this._beforeSend,this),success:p(function(n,i,r,f){u.resolveWith(this,this.adaptor.processResponse(n,this,null,r,f,t))},this),fail:function(n){u.rejectWith(this,n)}},f)),u)},insert:function(t,i){var u=this.adaptor.insert(this,t,i),r;return this.dataSource.offline?u:(r=n.Deferred(),n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",processData:!1,beforeSend:o(this._beforeSend,this),success:p(function(n,t,i,u){n=this.adaptor.processResponse(h.parseJson(n),this,null,i,u),r.resolveWith(this,[{record:n,dataManager:this}])},this),error:function(n){r.rejectWith(this,[{error:n,dataManager:this}])}},u)),r.promise())},remove:function(t,i,r){typeof i=="object"&&(i=i[t]);var u=this.adaptor.remove(this,t,i,r);return this.dataSource.offline?u:n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:o(this._beforeSend,this),dataType:"json"},u))},update:function(t,i,r){var u=this.adaptor.update(this,t,i,r);return this.dataSource.offline?u:n.ajax(n.extend({contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:o(this._beforeSend,this)},u))},_getJsonFromElement:function(n){n=n.jquery?n[0]:n;var i=n.tagName.toLowerCase();return i!=="table"&&r("ej.DataManager : Unsupported htmlElement : "+i),t.parseTable(n)}};var w=function(n,t,i,u){var f,e={},o;for(u.result&&(u=u.result),u.GROUPGUID&&r("ej.DataManager: Do not have support Grouping in hierarchy"),f=0;f<u.length;f++)o=e[u[f][n]]||(e[u[f][n]]=[]),o.push(u[f]);for(f=0;f<i.length;f++)i[f][t]=e[i[f][n]]},s={accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},h={parseJson:function(n){var t=typeof n;return t==="string"?n=JSON.parse(n,h.jsonReviver):n instanceof Array?h.iterateAndReviveArray(n):t==="object"&&h.iterateAndReviveJson(n),n},iterateAndReviveArray:function(n){for(var t=0;t<n.length;t++)typeof n[t]=="object"?h.iterateAndReviveJson(n[t]):n[t]=h.parseJson(n[t])},iterateAndReviveJson:function(n){var t,i;for(i in n)i.startsWith("__")||(t=n[i],typeof t=="object"?t instanceof Array?h.iterateAndReviveArray(t):h.iterateAndReviveJson(t):n[i]=h.jsonReviver(i,t))},jsonReviver:function(n,t){var u=t,r,i;if(typeof t=="string"){if(r=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),r)return new Date(parseInt(r[1]));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=new Date(t),t=="Invalid Date"&&(i=u.split(/[^0-9]/),t=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])))}return t}};t.parseJSON=h.parseJson,t.Query=function(n){return(this instanceof t.Query)?(this.queries=[],this._key="",this._fKey="",typeof n=="string"?this._fromTable=n||"":n&&n instanceof Array&&(this._lookup=n),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(n)},t.Query.prototype={key:function(n){return typeof n=="string"&&(this._key=n),this},using:function(n){return n instanceof t.DataManager?(this.dataManagar=n,this):r("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(n,i,u,f){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeQuery(this,i,u,f):r("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(n){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeLocal(this):r("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var n=new t.Query;return n.queries=this.queries.slice(0),n._key=this._key,n._isChild=this._isChild,n.dataManagar=this.dataManager,n._fromTable=this._fromTable,n._params=this._params.slice(0),n._expands=this._expands.slice(0),n._sortedColumns=this._sortedColumns.slice(0),n._groupedColumns=this._groupedColumns.slice(0),n._subQuerySelector=this._subQuerySelector,n._subQuery=this._subQuery,n._fKey=this._fKey,n._requiresCount=this._requiresCount,n},from:function(n){return typeof n=="string"&&(this._fromTable=n),this},addParams:function(n,t){return typeof t=="string"?this._params.push({key:n,value:t}):typeof t=="function"&&this._params.push({key:n,fn:t}),this},expand:function(n){return this._expands=typeof n=="string"?[].slice.call(arguments,0):n.slice(0),this},where:function(n,i,u,f){i=(i||t.FilterOperators.equal).toLowerCase();var e=null;return typeof n=="string"?e=new t.Predicate(n,i,u,f):n instanceof t.Predicate?e=n:r("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:e}),this},search:function(n,i,r,u){i&&typeof i!="boolean"?typeof i=="string"&&(i=[i]):(i=[],u=i),typeof r=="boolean"&&(u=r,r=null),r=r||t.FilterOperators.contains,r.length<3&&(r=t.data.operatorSymbols[r]);var f=t.data.fnOperators[r]||t.data.fnOperators.processSymbols(r);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:r,searchKey:n,ignoreCase:u,comparer:f}}),this},sortBy:function(n,i,r){var o=t.sortOrder.Ascending,s,u,e,f;if(typeof n=="string"&&n.toLowerCase().endsWith(" desc")&&(n=n.replace(/ desc$/i,""),i=t.sortOrder.Descending),typeof i=="boolean"?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:typeof i=="function"&&(o="custom"),i&&typeof i!="string"||(o=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),r)for(s=a(this.queries,"onSortBy"),e=0;e<s.length;e++)if(u=s[e].e.fieldName,typeof u=="string"){if(u===n)return}else if(u instanceof Array)for(f=0;f<u.length;f++)if(u[f]===n||n.toLowerCase()===u[f]+" desc")return;return this.queries.push({fn:"onSortBy",e:{fieldName:n,comparer:i,direction:o}}),this},sortByDesc:function(n){return this.sortBy(n,t.sortOrder.Descending)},group:function(n){return this.sortBy(n,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:n}}),this},page:function(n,t){return this.queries.push({fn:"onPage",e:{pageIndex:n,pageSize:t}}),this},range:function(n,t){return(typeof n!="number"||typeof t!="number")&&r("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:n,end:t}}),this},take:function(n){return typeof n!="number"&&r("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:n}}),this},skip:function(n){return typeof n!="number"&&r("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:n}}),this},select:function(n){return typeof n=="string"&&(n=[].slice.call(arguments,0)),n instanceof Array||r("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:n}}),this},hierarchy:function(n,i){return n&&n instanceof t.Query||r("Query() - hierarchy : query must be instance of ej.Query"),typeof i=="function"&&(this._subQuerySelector=i),this._subQuery=n,this},foreignKey:function(n){return typeof n=="string"&&(this._fKey=n),this},requiresCount:function(){return this._requiresCount=!0,this}},t.Adaptor=function(n){this.dataSource=n,this.pvt={}},t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where"},extend:function(t){var i=function(t){this.dataSource=t,this.options&&(this.options=n.extend({},this.options)),this.pvt={}},u,r;i.prototype=new this.type,i.prototype.type=i,u=i.prototype.base={};for(r in t)i.prototype[r]||(u[r]=i.prototype[r]);return n.extend(!0,i.prototype,t),i},processQuery:function(){},processResponse:function(n){return n},convertToQueryString:function(t){return n.param(t)},type:t.Adaptor},t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(n,t,i){var b=a(t.queries,"onSortBy"),g=a(t.queries,"onGroup"),nt=a(t.queries,"onWhere"),tt=a(t.queries,"onSearch"),v=rt(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),it=t._params,k=n.dataSource.url,f,p,w=null,l=this.options,h={sorted:[],grouped:[],filters:[],searches:[]},o,s,y,d;for(v.onPage?(f=v.onPage,p=u(f.pageIndex,t),w=u(f.pageSize,t),p=(p-1)*w):v.onRange&&(f=v.onRange,p=f.start,w=f.end-f.start),s=0;s<b.length;s++)f=u(b[s].e.fieldName,t),h.sorted.push(e(this,"onEachSort",{name:f,direction:b[s].e.direction},t));for(i&&(f=this.getFiltersFrom(i,t),f&&h.filters.push(e(this,"onEachWhere",f.toJSON(),t))),s=0;s<nt.length;s++){h.filters.push(e(this,"onEachWhere",nt[s].e.toJSON(),t));for(y in h.filters[s])c(h[y])&&delete h[y]}for(s=0;s<tt.length;s++)f=tt[s].e,h.searches.push(e(this,"onEachSearch",{fields:f.fieldNames,operator:f.operator,key:f.searchKey,ignoreCase:f.ignoreCase},t));for(s=0;s<g.length;s++)h.grouped.push(u(g[s].e.fieldName,t));for(o={},o[l.from]=t._fromTable,l.expand&&(o[l.expand]=t._expands),o[l.select]=v.onSelect?e(this,"onSelect",u(v.onSelect.fieldNames,t),t):"",o[l.count]=t._requiresCount?e(this,"onCount",t._requiresCount,t):"",o[l.search]=h.searches.length?e(this,"onSearch",h.searches,t):"",o[l.skip]=v.onSkip?e(this,"onSkip",u(v.onSkip.nos,t),t):"",o[l.take]=v.onTake?e(this,"onTake",u(v.onTake.nos,t),t):"",o[l.where]=h.filters.length||h.searches.length?e(this,"onWhere",h.filters,t):"",o[l.sortBy]=h.sorted.length?e(this,"onSortBy",h.sorted,t):"",o[l.group]=h.grouped.length?e(this,"onGroup",h.grouped,t):"",s=0;f=it[s];s++)o[f.key]&&r("ej.Query: Custom Param is conflicting other request arguments"),o[f.key]=o[f.value],f.fn&&(o[f.key]=f.fn.call(t,f.key,t,n));for(y in o)(c(o[y])||o[y]===""||o[y].length===0)&&delete o[y];return(l.skip in o&&l.take in o||w===null||(o[l.skip]=e(this,"onSkip",p,t),o[l.take]=e(this,"onTake",w,t)),d=this.pvt,this.pvt={},this.options.requestType==="json")?{data:JSON.stringify(o),url:k,ejPvtData:d,type:"POST",contentType:"application/json; charset=utf-8"}:(f=this.convertToQueryString(o,t,n),{type:"GET",url:f.length?k.replace(/\/*$/,"/"+f):k,ejPvtData:d})},convertToQueryString:function(t){return n.param(t)},processResponse:function(n,i,r,u,f,e){var h=f.ejPvtData||{},l=JSON.parse(f.data),c,o,s;if(l&&l.action==="batch"&&n.added)return e.added=n.added,e;if(h.groups&&h.groups.length){for(c=h.groups,o={},n.count&&(o.count=n.count),n.result&&(n=n.result),s=0;s<c.length;s++)n=t.group(n,c[s]);return o.count?o.result=n:o=n,o}return n},onGroup:function(n){this.pvt.groups=n},batchRequest:function(n,t,i){return{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key})}},beforeSend:function(){},insert:function(n,t,i){return{url:n.dataSource.insertUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},remove:function(n,t,i,r){return{type:"POST",url:n.dataSource.removeUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({key:i,keyColumn:t,table:r,action:"remove"})}},update:function(n,t,i,r){return{type:"POST",url:n.dataSource.updateUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:r})}},getFiltersFrom:function(n,i){var u;n instanceof Array&&n.length||r("ej.SubQuery: Array of key values required");var f=i._fKey,e,o=f,s=[],h=typeof n[0]!="object";for(typeof n[0]!="object"&&(o=null),u=0;u<n.length;u++)e=h?n[u]:t.pvt.getObject(o,n[u]),s.push(new t.Predicate(f,"==",e));return t.Predicate.or(s)}});var a=function(n,t){return n.filter(function(n){return n.fn===t})||[]},rt=function(n,t){for(var r=n.filter(function(n){return t.indexOf(n.fn)!==-1}),u={},i=0;i<r.length;i++)u[r[i].fn]||(u[r[i].fn]=r[i].e);return u},e=function(n,t,i,r){if(n[t]){var u=n[t](i,r);c(u)||(i=u)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(n,t){return n.isComplex?this.onComplexPredicate(n,t):this.onPredicate(n,t)},onPredicate:function(n,i,r){var o="",e=n.operator,u=n.value,s=typeof u,f=this._p(n.field),h;return(u instanceof Date&&(u="datetime'"+vt(u)+"'"),s==="string"&&(u="'"+u+"'",r&&(f="cast("+f+", 'Edm.String')"),n.ignoreCase&&(f="tolower("+f+")",u=u.toLowerCase())),e=t.data.odBiOperator[n.operator],e)?(o+=f,o+=e,o+u):(e=t.data.odUniOperator[n.operator],!e||s!=="string")?"":(e==="substringof"&&(h=u,u=f,f=h),o+=e+"(",o+=f+",",o+(u+")"))},onComplexPredicate:function(n,t){for(var r=[],i=0;i<n.predicates.length;i++)r.push("("+this.onEachWhere(n.predicates[i],t)+")");return r.join(" "+n.condition+" ")},onWhere:function(n){return this.pvt.searches&&n.push(this.onEachWhere(this.pvt.searches,null,!0)),n.join(" and ")},onEachSearch:function(n){var u,i;for(n.fields.length===0&&r("Query() - Search : oData search requires list of field names to search"),u=this.pvt.searches||[],i=0;i<n.fields.length;i++)u.push(new t.Predicate(n.fields[i],n.operator,n.key,n.ignoreCase));this.pvt.searches=u},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(n){var i=[],t;if(n.name instanceof Array)for(t=0;t<n.name.length;t++)i.push(this._p(n.name[t]));else i.push(this._p(n.name)+(n.direction==="descending"?" desc":""));return i.join(",")},onSortBy:function(n){return n.join(",")},onGroup:function(n){return this.pvt.groups=n,""},onSelect:function(n){for(var t=0;t<n.length;t++)n[t]=this._p(n[t]);return n.join(",")},onCount:function(n){return n===!0?"allpages":""},beforeSend:function(n,t,i){i.url.endsWith(this.options.batch)&&i.type.toLowerCase()==="post"&&(t.setRequestHeader("Accept",s.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),n.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,r,u,f,e,o){var y=e&&e.ejPvtData,a,p,k,w,d,l,v,b,s;if(e&&e.url.endsWith(this.options.batch)&&e.type.toLowerCase()==="post"){if(a=f.getResponseHeader("Content-Type"),a=a.substring(a.indexOf("=batchresponse")+1),i=i.split(a),i.length<2)return;for(i=i[1],w=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(w[0],""),d=w[1],i=i.split(d),s=i.length;s>-1;s--)/\bContent-ID:/i.test(i[s])&&/\bHTTP.+201/.test(i[s])&&(p=parseInt(/\bContent-ID: (\d+)/i.exec(i[s])[1]),o.added[p]&&(k=h.parseJson(/^\{.+\}/m.exec(i[s])[0]),n.extend(o.added[p],this.processResponse(k))));return o}if(l=f&&f.getResponseHeader("DataServiceVersion"),v=null,l=l&&parseInt(l,10)||2,u&&u._requiresCount&&((i.__count||i["odata.count"])&&(v=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(v=i.__count||i["odata.count"])),l===3&&i.value&&(i=i.value),i.d&&(i=i.d),l<3&&i.results&&(i=i.results),y&&y.groups&&y.groups.length)for(b=y.groups,s=0;s<b.length;s++)i=t.group(i,b[s]);return c(v)?i:{result:i,count:v}},convertToQueryString:function(n,t,i){var r=[],f=n.table||"",u;delete n.table,i.dataSource.requiresFormat&&(n.$format="json");for(u in n)r.push(u+"="+n[u]);return r=r.join("&"),r.length?f+"?"+r:f||""},insert:function(n,t,i){return{url:n.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(n,t,i,r){return{type:"DELETE",url:n.dataSource.url.replace(/\/*$/,r?"/"+r:"")+"("+i+")"}},update:function(n,t,i,r){return{type:"PUT",url:n.dataSource.url.replace(/\/*$/,r?"/"+r:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(n,i,r){var e=r.guid=t.getGuid(s.batchPre),o=n.dataSource.url.replace(/\/*$/,"/"+this.options.batch),f={url:r.url,key:r.key,cid:1,cSet:t.getGuid(s.changeSet)},u="--"+e+"\n";return u+="Content-Type: multipart/mixed; boundary="+f.cSet.replace("--","")+"\n",u+=this.generateInsertRequest(i.added,f),u+=this.generateUpdateRequest(i.changed,f),u+=this.generateDeleteRequest(i.deleted,f),u+=f.cSet+"--\n",u+="--"+e+"--",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+e,data:u}},generateDeleteRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=s.changeSetContent+"\n\n",i+="DELETE ",i+=t.url+"("+n[r][t.key]+") HTTP/1.1\n",i+="Accept: "+s.accept+"\n",i+=s.batchChangeSetContentType+"\n";return i+"\n"},generateInsertRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=s.changeSetContent+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+s.accept+"\n",i+="Content-Id: "+r+"\n",i+=s.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n";return i},generateUpdateRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=s.changeSetContent+"\n\n",i+="PUT ",i+=t.url+"("+n[r][t.key]+") HTTP/1.1\n",i+="Accept: "+s.accept+"\n",i+=s.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n\n";return i},_p:function(n){return n.replace(/\./g,"/")}}),t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(n,t){for(var r=n.dataSource.json.slice(0),o=r.length,s=!0,e,u,f=0;f<t.queries.length;f++)u=t.queries[f],e=this[u.fn].call(this,r,u.e,t),r=e!==i?e:r,(u.fn==="onPage"||u.fn==="onSkip"||u.fn==="onTake"||u.fn==="onRange")&&(s=!1),s&&(o=r.length);return t._requiresCount&&(r={result:r,count:o}),r},batchRequest:function(n,t,i){for(var r=0;r<t.added.length;r++)this.insert(n,t.added[r]);for(r=0;r<t.changed.length;r++)this.update(n,i.key,t.changed[r]);for(r=0;r<t.deleted.length;r++)this.remove(n,i.key,t.deleted[r]);return t},onWhere:function(n,t){return n?n.filter(function(n){return t.validate(n)}):n},onSearch:function(n,i){return!n||!n.length?n:(i.fieldNames.length===0&&t.pvt.getFieldList(n[0],i.fieldNames),n.filter(function(n){for(var r=0;r<i.fieldNames.length;r++)if(i.comparer.call(n,t.pvt.getObject(i.fieldNames[r],n),i.searchKey,i.ignoreCase))return!0;return!1}))},onSortBy:function(n,i,r){var o,f,e;if(!n)return n;if(f=u(i.fieldName,r),!f)return n.sort(i.comparer);if(f instanceof Array){for(f=f.slice(0),e=f.length-1;e>=0;e--)f[e]&&(o=i.comparer,f[e].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),f[e]=f[e].replace(" desc","")),n=d(n,f[e],o));return n}return d(n,f,i.comparer)},onGroup:function(n,i,r){return n?t.group(n,u(i.fieldName,r)):n},onPage:function(n,t,i){var r=u(t.pageSize,i),f=(u(t.pageIndex,i)-1)*r,e=f+r;return n?n.slice(f,e):n},onRange:function(n,t){return n?n.slice(u(t.start),u(t.end)):n},onTake:function(n,t){return n?n.slice(0,u(t.nos)):n},onSkip:function(n,t){return n?n.slice(u(t.nos)):n},onSelect:function(n,i){return n?t.select(n,u(i.fieldNames)):n},insert:function(n,t){return n.dataSource.json.push(t)},remove:function(n,t,i){var u=n.dataSource.json,r;for(typeof i=="object"&&(i=i[t]),r=0;r<u.length;r++)if(u[r][t]===i)break;return r!==u.length?u.splice(r,1):null},update:function(t,i,r){for(var f=t.dataSource.json,e=r[i],u=0;u<f.length;u++)if(f[u][i]===e)break;return u<f.length?n.extend(f[u],r):null}}),u=function(n,t){return typeof n=="function"?n.call(t||{}):n},t.TableModel=function(i,u,f,e){var c,s,l,h;if(!v(this,t.TableModel))return new t.TableModel(u);for(v(u,Array)||r("ej.TableModel - Json Array is required"),c=[],l=o(et,this),h=0;h<u.length;h++){s=new t.Model(u[h],this),s.state="unchanged";s.on("stateChange",l);e&&s.computes(e),c.push(s)}return this.name=i||"table1",this.rows=t.NotifierArray(c),this._deleted=[],this._events=n({}),this.dataManager=f,this._isDirty=!1,this},t.TableModel.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},setDataManager:function(n){this.dataManagar=n},saveChanges:function(){if(this.dataManager&&v(this.dataManager,t.DataManager)||r("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var n=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);n.done(o(function(n){for(var t=this.toArray(),i=0;i<t.length;i++)t.state==="added"&&t.set(this.key,n.added.filter(function(n){return n[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),n.fail(o(function(n){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:n})},this)),this._isDirty=!1}},rejectChanges:function(){for(var t=this.toArray(),n=0;n<t.length;n++)t[n].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(n){var i=new t.Model(n);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(n){var u;this.key||r("TableModel - update : Primary key should be assigned to TableModel.key");var i=n,t,f=this.key,e=i[f];t=this.rows.array.filter(function(n){return n.get(f)===e}),t=t[0];for(u in i)t.set(u,i[u]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:t,table:this})},remove:function(n){var t,u,e,f;for(this.key||r("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,u=-1,n&&typeof n=="object"&&(n=n[t]!==i?n[t]:n.get(t)),f=0;f<this.rows.length();f++)if(this.rows.array[f].get(t)===n){u=f;break}u>-1&&(e=this.rows.removeAt(u),e.markDelete(),this._deleted.push({model:e,position:u}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:e,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var i={added:[],changed:[]},r=this.toArray(),n=0;n<r.length;n++)i[r[n].state]&&i[r[n].state].push(r[n].json);return i.deleted=t.select(this._deleted,["model"]),i},toArray:function(){return this.rows.toArray()},setDirty:function(n,t){this._isDirty!==!!n&&(this._isDirty=!!n,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(n){return this.rows.array[n]},length:function(){return this.rows.array.length},bindTo:function(t){var i=b,e=n(t.html()),f=this.toArray(),u,r;for(n.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(i=k),i.insertBefore(t),t.detach().empty(),r=0;r<f.length;r++)u=e.clone(),f[r].bindTo(u),t.append(u);t.insertAfter(i),i.remove()}},b=n(document.createElement("div")),k=n(document.createElement("tr")),t.Model=function(i,r,u){typeof r=="string"&&(u=r,r=null),this.$id=it("m"),this.json=i,this.table=r instanceof t.TableModel?r:null,this.name=u||this.table&&this.table.name,this.dataManager=r instanceof t.DataManager?r:r.dataManagar,this.actual={},this._events=n({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},t.Model.prototype={computes:function(t){n.extend(this.computed,t)},on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},set:function(n,t){var r=this.json,e=n,f,u;for(n=n.split("."),u=0;u<n.length-1;u++)n=n[0],r=r[n[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),f=r[n],this.actual[n]!==i||n in this.actual||(this.actual[n]=t),r[n]=t,this._updateValues(n,t),this._events.triggerHandler({type:e,current:t,previous:f,model:this})},get:function(n){return t.pvt.getObject(n,this.json)},revert:function(n){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,n?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,u){return(i=i||this.dataManagar,u=u||i.dataSource.key,i||r("ej.Model - DataManager is required to commit the changes"),this.state==="added")?i.insert(this.json,this.name).done(t.proxy(function(t){n.extend(this.json,t.record)},this)):this.state==="changed"?i.update(u,this.json,this.name):this.state==="deleted"?i.remove(u,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if(this.state==="added")if(t==="deleted")t="unchanged";else return;var r=t;i=i||{},this.state=t,this._events.triggerHandler(n.extend({type:"stateChange",current:t,previous:r,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var n in this.json)this._props.push(n),this._updates[n]={read:[],input:[]};return this._props},bindTo:function(t){var h=this.properties(),e=n(t),r,i,o=e.find("[ej-observe], [ej-computed], [ej-prop]"),s=o.length,u,f;for(e.data("ejModel",this),u={fields:[],props:[],computes:[]},f=0;f<s;f++){if(r=o.eq(f),i=r.attr("ej-prop"),i&&this._processAttrib(i,r,u),i=r.attr("ej-observe"),i&&this._props.indexOf(i)!==-1){this._processField(r,i,u);continue}if(i=r.attr("ej-computed"),i){this._processComputed(i,r,u);continue}}e.data("ejModelBinding"+this.$id,u)},unbind:function(t){var l=this.properties(),u,r={props:this._attrEls,computes:this._computeEls},f=!1,i,c,e,s,h,o;t&&(r=n(t).removeData("ejModel").data("ejModelBinding"+this.$id)||r,f=!0);for(i in this.computed)u=r.computes[i],i=this.computed[i],u&&i.deps&&(this.off(i.deps.join(" "),u.handle),f&&delete this._computeEls[i]);f||(this._computeEls={});for(i in r.props)u=r.props[i],u&&(this.off(u.deps.join(" "),u.handle),delete r.props[i],f&&delete this._attrEls[i]);if(f||(this._attrEls={}),r.fields&&r.fields.length)for(c=r.fields.length,o=0;o<c;o++)e=r.fields[o],n(e).off("change",null,this._changeHandler),h=this.formElements.indexOf(e.tagName.toLowerCase())!==-1?"input":"read",s=this._updates[h].indexOf(e),s!==-1&&this._updates[h].splice(s,1)},_processComputed:function(n,t,i){if(n){var r,u=[],f=ft(n),e=this.formElements.indexOf(t[0].tagName.toLowerCase())!==-1?"val":"html";this.computed[n]&&this.computed[f]||(this.computed[f]={value:new Function("var e = this; return "+n),deps:this._generateDeps(n)},n=f),r=this.computed[n],r.get||(r.get=function(){r.value.call(this.json)}),u=r.deps,r=r.value,this._updateDeps(u),this._updateElement(t,e,r),r={el:t,handle:o(this._computeHandle,this,{value:n,type:e})},this._computeEls[n]=r,i.computes[n]=r;this.on(u.join(" "),r.handle)}},_computeHandle:function(n){var t=this._computeEls[n.value];t&&this.computed[n.value]&&this._updateElement(t.el,n.type,this.computed[n.value].value)},_updateElement:function(t,i,r){t[i](r.call(n.extend({},this.json,this.computed)))},_updateDeps:function(n){for(var i=0;i<n.length;i++)!(n[i]in this.json)&&n[i]in this.computed&&t.merge(n,this.computed[n[i]].deps)},_generateDeps:function(n){for(var r=n.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),i,u=[],t=0;t<r.length;t++)r[t].startsWith("#ej.#")&&(i=r[t].replace("#ej.#","").split(" ")[0],i&&this._props.indexOf(i)!==-1&&u.push(i));return u},_processAttrib:function(n,t,i){var s,u={},r,f,e;for(n=n.replace(/^ +| +$/g,"").split(";"),r=0;r<n.length;r++)(n[r]=n[r].split(":"),n[r].length<2)||(e=n[r][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""),u[e]=n[r][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));n=u,f=[];for(e in n)f.push(n[e]);this._updateDeps(f),this._updateProps(t,n),u=it("emak"),s={el:t,handle:o(this._attrHandle,this,u),value:n,deps:f},t.prop("ejmodelattrkey",u),i.props[u]=s,this._attrEls[u]=s;this.on(f.join(" "),s.handle)},_attrHandle:function(n){var t=this._attrEls[n];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var f=this.json,r,e=this.computed,u;for(u in i)r=i[u],r in f?r=f[r]:r in this.computed&&(r=this.computed[r],r&&(r=r.value.call(n.extend({},this.json,this.computed)))),c(r)||t.prop(u,r)},_updateValues:function(n,t){var i=this._updates[n];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,r){if(t)for(var u=t.length-1;u>-1;u--){if(!t[u].offsetParent){t.splice(u,1);continue}n(t[u])[i](r)}},_changeHandler:function(t){t.data.self.set(t.data.prop,n(this).val())},_processField:function(n,t,i){var u={self:this,prop:t},r=this.get(t);if(i.fields.push(n[0]),this.formElements.indexOf(n[0].tagName.toLowerCase())===-1)return n.html(r),this._updates[t].read.push(n[0]);n.val(r).off("change",null,this._changeHandler).on("change",null,u,this._changeHandler);return this._updates[t].input.push(n[0])},formElements:["input","select","textarea"]};var ut=/[^\w]+/g,ft=function(n){return n.replace(ut,"_")},et=function(n){this.setDirty(!0,n.model)};if(t.Predicate=function(n,i,r,u){return(this instanceof t.Predicate)?(typeof n=="string"?(this.field=n,this.operator=i,this.value=r,this.ignoreCase=u,this.isComplex=!1,this._comparer=t.data.fnOperators.processOperator(this.operator)):(n instanceof t.Predicate&&r instanceof t.Predicate||r instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[n],r instanceof Array?[].push.apply(this.predicates,r):this.predicates.push(r)),this):new t.Predicate(n,i,r,u)},t.Predicate.and=function(){return y._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return y._combinePredicates([].slice.call(arguments,0),"or")},y={_combinePredicates:function(n,r){if(!n.length)return i;if(n.length===1){if(!v(n[0],Array))return n[0];n=n[0]}return new t.Predicate(n[0],r,n.slice(1))},_combine:function(n,i,u,f,e,o){return i instanceof t.Predicate?t.Predicate[e](n,i):typeof i=="string"?t.Predicate[e](n,new t.Predicate(i,u,f,o)):r("Predicate - "+e+" : invalid arguments")}},t.Predicate.prototype={and:function(n,t,i,r){return y._combine(this,n,t,i,"and",r)},or:function(n,t,i,r){return y._combine(this,n,t,i,"or",r)},validate:function(n){var f=this.predicates,r,u,i;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,n),this.value,this.ignoreCase);for(r=this.condition==="and",i=0;i<f.length;i++)if(u=f[i].validate(n),r){if(!u)return!1}else if(u)return!0;return r},toJSON:function(){var t,i,n;if(this.isComplex)for(t=[],i=this.predicates,n=0;n<i.length;n++)t.push(i[n].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:t}}},t.dataUtil={swap:function(n,t,i){if(t!=i){var r=n[t];n[t]=n[i],n[i]=r}},mergeSort:function(n,i,r){return r&&typeof r!="string"||(r=t.pvt.fnSort(r,!0)),typeof i=="function"&&(r=i,i=null),t.pvt.mergeSort(n,i,r)},max:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnDescending)},min:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnAscending)},distinct:function(n,t,i){for(var f=[],u,e={},r=0;r<n.length;r++)u=l(n,t,r),u in e||(f.push(i?n[r]:u),e[u]=1);return f},sum:function(n,t){for(var f=0,u,r=0;r<n.length;r++)u=l(n,t,r),u!==i&&(f+=u);return f},avg:function(n,i){return t.sum(n,i)/n.length},select:function(n,i){for(var u=[],r=0;r<n.length;r++)u.push(t.pvt.extractFields(n[r],i));return u},group:function(n,i,r){var u,o,f,s,e;if(r=r||1,n.GROUPGUID==t.pvt.consts.GROUPGUID){for(u=0;u<n.length;u++)n[u].items=t.group(n[u].items,i,n.level+1),n[u].count=n[u].items.length;return n.childLevels+=1,n}for(o={},f=[],f.GROUPGUID=t.pvt.consts.GROUPGUID,f.level=r,f.childLevels=0,f.records=n,s=0;s<n.length;s++)e=l(n,i,s),o[e]||(o[e]={key:e,count:0,items:[],field:i},f.push(o[e])),o[e].count+=1,o[e].items.push(n[s]);return f},parseTable:function(i,r,u){var o=i.rows,s,a=[],v=[],f,h,c,l,e;if(!o.length)return[];u=u||0;switch((r||"").toLowerCase()){case t.headerOption.tHead:s=i.tHead.rows[u];break;case t.headerOption.row:default:s=i.rows[u]}for(h=s.cells,f=0;f<h.length;f++)a.push(n.trim(h[f].innerHTML));for(f=u+1;f<o.length;f++){for(c={},l=o[f].cells,e=0;e<l.length;e++)c[a[e]]=l[e].innerHTML;v.push(c)}return v}},t.headerOption={tHead:"thead",row:"row"},t.pvt={filterQueries:a,mergeSort:function(n,i,r){if(n.length<=1)return n;var e=parseInt(n.length/2,10),u=n.slice(0,e),f=n.slice(e);return u=t.pvt.mergeSort(u,i,r),f=t.pvt.mergeSort(f,i,r),t.pvt.merge(u,f,i,r)},getItemFromComparer:function(n,t,i){for(var f=l(n,t,0),u,e=n[0],r=1;r<n.length;r++)u=l(n,t,r),i(f,u)>0&&(f=u,e=n[r]);return e},quickSelect:function(n,i,r,u,f,e){if(r==u)return n[r];var o=t.pvt.partition(n,i,r,u,e),s=o-r+1;return s==f?n[o]:f<s?t.pvt.quickSelect(n,i,r,o-1,f,e):t.pvt.quickSelect(n,i,o+1,u,f-s,e)},extractFields:function(n,i){var u={},r;if(i.length==1)return t.pvt.getObject(i[0],n);for(r=0;r<i.length;r++)u[i[r].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[r],n);return u},partition:function(n,i,r,u,f){var e=parseInt((r+u)/2,10),s=l(n,i,e),o;for(t.swap(n,e,u),e=r,o=r;o<u;o++)f(l(n,i,o),s)&&(t.swap(n,o,e),e++);return t.swap(n,e,u),e},fnSort:function(n){return(n=n?n.toLowerCase():t.sortOrder.Ascending,n==t.sortOrder.Ascending)?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(n,i){return function(r,u){return i(t.pvt.getObject(n,r),t.pvt.getObject(n,u))}},fnAscending:function(n,t){return n&&n.localeCompare?n.localeCompare(t):n-t},fnDescending:function(n,t){return n&&n.localeCompare?n.localeCompare(t)*-1:t-n},merge:function(n,t,i,r){for(var u=[],f;n.length>0||t.length>0;)f=n.length>0&&t.length>0?r?r(l(n,i,0),l(t,i,0))<1?n:t:n[0][i]<n[0][i]?n:t:n.length>0?n:t,u.push(f.shift());return u},getObject:function(n,t){var r,f,u;if(!t)return i;if(!n)return t;if(n.indexOf(".")===-1)return t[n];for(r=t,f=n.split("."),u=0;u<f.length;u++){if(r==null)break;r=r[f[u]]}return r},createObject:function(n,t,r){for(var f=n.split("."),o=r||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t===i?{}:t:e[f[u]]==null&&(e[f[u]]={}),e=e[f[u]];return o},getFieldList:function(n,r,u){if(u===i&&(u=""),r===i||r===null)return t.pvt.getFieldList(n,[],u);for(var f in n)typeof n[f]!="object"||n[f]instanceof Array?r.push(u+f):t.pvt.getFieldList(n[f],r,u+f+".");return r}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(n,t,i){return i?f(n)==f(t):n==t},notequal:function(n,i,r){return!t.data.fnOperators.equal(n,i,r)},lessthan:function(n,t,i){return i?f(n)<f(t):n<t},greaterthan:function(n,t,i){return i?f(n)>f(t):n>t},lessthanorequal:function(n,t,i){return i?f(n)<=f(t):n<=t},greaterthanorequal:function(n,t,i){return i?f(n)>=f(t):n>=t},contains:function(n,t,i){return i?!c(n)&&!c(t)&&f(n).indexOf(f(t))!=-1:!c(n)&&!c(t)&&n.toString().indexOf(t)!=-1},notnull:function(n){return n!==null},isnull:function(n){return n===null},startswith:function(n,t,i){return i?n&&t&&f(n).startsWith(f(t)):n&&t&&n.startsWith(t)},endswith:function(n,t,i){return i?n&&t&&f(n).endsWith(f(t)):n&&t&&n.endsWith(t)},processSymbols:function(n){var u=t.data.operatorSymbols[n],i;return u&&(i=t.data.fnOperators[u],i)?i:r("Query - Process Operator : Invalid operator")},processOperator:function(n){var i=t.data.fnOperators[n];return i?i:t.data.fnOperators.processSymbols(n)}},t.NotifierArray=function(i){return v(this,t.NotifierArray)?(this.array=i,this._events=n({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},push:function(n){var t;return t=v(n,Array)?[].push.apply(this.array,n):this.array.push(n),this._raise("add",{item:n,index:this.length()-1}),t},pop:function(){var n=this.array.pop();return this._raise("remove",{item:n,index:this.length()-1}),n},addAt:function(n,t){return this.array.splice(n,0,t),this._raise("add",{item:t,index:n}),t},removeAt:function(n){var t=this.array.splice(n,1)[0];return this._raise("remove",{item:t,index:n}),t},remove:function(n){var t=this.array.indexOf(n);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:n,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(n.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},n.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(n,t){for(var i=0,r=this.length;i<r;++i)n.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(n){var i,u,t,r;if(typeof n!="function")throw new TypeError;for(i=[],u=arguments[1]||this,t=0;t<this.length;t++)r=this[t],n.call(u,r,t,this)&&i.push(r);return i},String.prototype.endsWith=String.prototype.endsWith||function(n){return this.slice(-n.length)===n},String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n},t.support||(t.support={}),t.support.stableSort=function(){var n=[0,1,2,3,4].sort(function(){return 0});return n[0]===0&&n[1]===1&&n[2]===2&&n[3]===3&&n[4]===4}(),t.support.cors=jQuery.support.cors,!jQuery.support.cors&&window.XDomainRequest){var ot=/^https?:\/\//i,st=/^get|post$/i,ht=new RegExp("^"+location.protocol,"i"),ct=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(n,t){if(n.crossDomain&&n.async&&st.test(n.type)&&ot.test(t.url)&&ht.test(t.url)){var r=null,u=(t.dataType||"").toLowerCase();return{send:function(f,e){r=new XDomainRequest,/^\d+$/.test(t.timeout)&&(r.timeout=t.timeout),r.ontimeout=function(){e(500,"timeout")},r.onload=function(){var o="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,t={code:200,message:"success"},f={text:r.responseText},n;try{if(u==="json")try{f.json=JSON.parse(r.responseText)}catch(h){t.code=500,t.message="parseerror"}else if(u==="xml"||u!=="text"&&ct.test(r.contentType)){n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1;try{n.loadXML(r.responseText)}catch(h){n=i}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){t.code=500,t.message="parseerror";throw"Invalid XML: "+r.responseText;}f.xml=n}}catch(s){throw s;}finally{e(t.code,t.message,f,o)}},r.onerror=function(){e(500,"error",{text:r.responseText})},r.open(n.type,n.url),r.send()},abort:function(){r&&r.abort()}}}})}jQuery.support.cors=!0,t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"};var lt=function(n,t){t&&(n=o(n,t)),(window.setImmediate||window.setTimeout)(n,0)},d=function(n,i,r){return t.support.stableSort?n.sort(t.pvt.fnGetComparer(i,r)):t.mergeSort(n,i,r)},f=function(n){return n?n.toLowerCase?n.toLowerCase():n.toString():n===0||n===!1?n.toString():""},l=function(n,i,r){return i?t.pvt.getObject(i,n[r]):n[r]},at=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&n.nodeType===1&&typeof n=="object"&&typeof n.nodeName=="string"},v=function(n,t){return n instanceof t},g=function(n,i,r,u){return function(f){return typeof f=="object"&&(u=f,f=null),new t.TableModel(f||n,i,r,u)}},nt=function(t){return function(i,u){var o,h,e,f,s;for(u=u||window.ko,u||r("Knockout is undefined"),h=[],s=0;s<t.length;s++){o={};for(e in t[s])e.startsWith("_")||(o[e]=u.observable(t[s][e]));for(e in i)f=i[e],n.isPlainObject(f)?(f.owner||(f.owner=o),f=u.computed(f)):f=u.computed(f,o),o[e]=f;h.push(o)}return u.observableArray(h)}},tt=0,it=function(n){return tt+=1,n+tt};t.getGuid=function(n){var i="0123456789abcdef",t;return(n||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,r){return t=Math.random()*16|0,i[r===19?t&3|8:t]})};var p=function(n,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),n.apply(t||this,i)}},o=function(n,t,i){return"bind"in n?i?n.bind(t,i):n.bind(t):function(){var r=[i];r.push.apply(r,arguments),n.apply(t||this,r)}},vt=function(n){return n=JSON.parse(JSON.stringify({val:n})).val,n.slice(0)};t.merge=function(n,t){n&&t&&Array.prototype.push.apply(n,t)},c=function(n){return n===i||n===null},r=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}}(window.jQuery,window.Syncfusion),$(function(){function a(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},r;for(r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase(),n.version=t[2],!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n}function o(n,t,i){var r=i.type;i.type=t,$.event.dispatch.call(n,i),i.type=r}function r(n){return n.originalEvent.touches?n.originalEvent.touches[0]:t?n.originalEvent:n}function u(n,t,i){var e,o,s,r={},f,u;return i&&(u=i.originalEvent.touches?[i.originalEvent.touches[0],n.originalEvent.changedTouches[0]]:[i.originalEvent,n.originalEvent],t._isSwipe||t._isdrag?(e=$.event.special.pinch._getdistance(u[0],u[1]),o=t.time,f={pageX:t.stop.pageX,pageY:t.stop.pageY}):t._isPinch&&(e=$.event.special.pinch.distance(n),o=n.timeStamp-i.timeStamp,s=t._pinchDistance),t._isDelta&&(r._dTime=n.timeStamp-i.timeStamp,r._x=u[1].pageX-u[0].pageX,r._y=u[1].pageY-u[0].pageY)),{options:n,delta:{time:r._dTime||null,X:r._x||null,Y:r._y||null},distance:e,scale:t._isPinch?s:null,time:o,velocity:{XY:e/r._dTime||null,X:r._x/r._dTime||null,Y:r._y/r._dTime||null},currentPosition:{pageX:f?f.pageX:null,pageY:f?f.pageY:null}}}var s=$(document);$.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight pinch pinchin pinchout pinchstopscrollstart scrollstop".split(" "),function(n,t){$.fn[t]=function(n){return n?this.bind(t,n):this.trigger(t)},$.attrFn&&($.attrFn[t]=!0)});var t=a().isMSPointerEnabled,f="ontouchstart"in window,l="touchmove scroll",e=t?"MSPointerDown":f?"touchstart":"mousedown",i=t?"MSPointerUp":f?"touchend":"mouseup",n=t?"MSPointerMove":f?"touchmove":"mousemove",h=t?"click":f?"touchend":"click",c=t?"MSPointerCancel":f?"touchcancel":"mouseleave";$.event.special.swipeupdown={setup:function(){var f=this,t=$(f);t.bind(e,function(f){function h(n){if(n.preventDefault(),n.stopPropagation(),e){var t=r(n);o={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},Math.abs(e.coords[1]-o.coords[1])>10&&n.preventDefault()}}var c=f,s=r(f),e={time:(new Date).getTime(),coords:[s.pageX,s.pageY],origin:$(f.target)},o;t.bind(n,h).one(i,function(i){if(i.preventDefault(),t.unbind(n,h),e&&o&&o.time-e.time<1e3&&Math.abs(e.coords[1]-o.coords[1])>30&&Math.abs(e.coords[0]-o.coords[0])<75){var f={time:o.time-e.time,_isSwipe:!0,_isDelta:!0,stop:o},r=u(i,f,c);e.origin.trigger($.extend(!0,{type:"swipeupdown"},r)).trigger($.extend(!0,{type:e.coords[1]>o.coords[1]?"swipeup":"swipedown"},r))}e=o=undefined})})}},$.event.special.scrollstart={enabled:!0,setup:function(){function r(i,r){n=r,o(t,n?"scrollstart":"scrollstop",i)}var t=this,u=$(t),n,i;u.bind(l,function(t){$.event.special.scrollstart.enabled&&(n||r(t,!0),clearTimeout(i),i=setTimeout(function(){r(t,!1)},50))})}},$.event.special.tap={tapholdThreshold:750,setup:function(){var n=this,t=$(n);t.bind("vmousedown "+e,function(r){function u(){clearTimeout(l)}function f(){u(),t.unbind("vclick "+h,a).unbind("vmouseup "+i,u),s.unbind("vmousecancel "+c,f)}function a(t){f(),e===t.target&&o(n,"tap",t)}if(r.which&&r.which!==1)return!1;var e=r.target,v=r.originalEvent,l;t.bind("vmouseup "+i,u).bind("vclick "+h,a),s.bind("vmousecancel "+c,f),l=setTimeout(function(){o(n,"taphold",$.Event("taphold",{target:e}))},$.event.special.tap.tapholdThreshold)})}},$.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,pointers:window.navigator.msPointerEnabled,start:function(n){var t=r(n);return{time:(new Date).getTime(),coords:[t.pageX,t.pageY],origin:$(n.target)}},stop:function(n){var t=r(n);return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(n,t,i,r){if(t.time-n.time<$.event.special.swipe.durationThreshold&&Math.abs(n.coords[0]-t.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(n.coords[1]-t.coords[1])<$.event.special.swipe.verticalDistanceThreshold){var e={time:t.time-n.time,_isSwipe:!0,_isDelta:!0,stop:t},f=u(i,e,r);n.origin.trigger($.extend(!0,{type:"swipe"},f)).trigger($.extend(!0,{type:n.coords[0]>t.coords[0]?"swipeleft":"swiperight"},f))}},setup:function(){var r=this,t=$(r);t.bind(e,function(r){function e(n){u&&(f=$.event.special.swipe.stop(n),Math.abs(u.coords[0]-f.coords[0])>$.event.special.swipe.scrollSupressionThreshold&&n.preventDefault())}var u=$.event.special.swipe.start(r),f,o=r;$(r.target).data("_dataTouchStart",{event:r,_now:(new Date).getTime()});t.bind(n,e).one(i,function(i){t.unbind(n,e),u&&f&&$.event.special.swipe.handleSwipe(u,f,i,o),u=f=undefined})})}},$.event.special.pinch={distance:function(n){return n.originalEvent.touches.length<2?null:$.event.special.pinch._getdistance(n.originalEvent.touches[0],n.originalEvent.touches[1])},_getdistance:function(n,t){return Math.sqrt((n.pageX-t.pageX)*(n.pageX-t.pageX)+(n.pageY-t.pageY)*(n.pageY-t.pageY))},setup:function(){var r=this,t=$(r);$.event.special.swipe.pointers&&t.css("-ms-touch-action","pinch-zoom double-tap-zoom"),t.bind(e,function(r){var o=r;if(r.originalEvent.touches&&r.originalEvent.touches.length>=2){var e=$.event.special.pinch.distance(r),f,l=5,s=e,h,a=u(r,{_isPinch:!0,_pinchDistance:s},o);$(r.target).trigger($.extend(!0,{type:"pinch"},a));function c(n){h=n,f=$.event.special.pinch.distance(n)||null,e&&f&&Math.abs(e-f)>l&&($(n.target).trigger($.extend(!0,{type:e>f?"pinchin":"pinchout"},u(n,{_isPinch:!0,_pinchDistance:s},o))),e=f)}t.bind(n,c).one(i,function(){t.unbind(n,c),$(r.target).trigger($.extend(!0,{type:"pinchstop"},u(h,{_isPinch:!0,_pinchDistance:f},o))),e=f=undefined})}})}},$.event.special.touchdrag={setup:function(){var f=this,t=$(f);t.bind(e,function(f){function s(n){o&&(e=r(n),$.event.special.pinch._getdistance(o,e)>5&&$(n.target).trigger($.extend(!0,{type:"touchdrag"},u(n,{_isdrag:!0,stop:e,_isDelta:!0},h))))}var o=r(f),e,h=f;$(f.target).data("_dataTouchStart",{event:f,_now:(new Date).getTime()});t.bind(n,s).one(i,function(){t.unbind(n,s),o=e=undefined})})}},$.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe",swipedown:"swipeupdown",swipeup:"swipeupdown",pinchin:"pinch",pinchout:"pinch",pinchstop:"pinch"},function(n,t){$.event.special[n]={setup:function(){$(this).bind(t,$.noop)}}})}),function(n,t){t.widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:!1,clone:!1,distance:1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,destroy:null,helper:function(){return n('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},helpers={},this._wireEvents()},_setModel:function(){},_destroy:function(){n(document).unbind(t.eventType.mouseUp,this._destroyHandler).unbind(t.eventType.mouseUp,this._dragStopHandler).unbind(t.eventType.mouseMove,this._dragStartHandler).unbind(t.eventType.mouseMove,this._dragHandler).unbind("selectstart",!1),t.widgetBase.droppables[this.scope]=null},_initialize:function(i){var u=i,r;i.preventDefault(),i=this._getCoordinate(i),this.target=n(u.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},n(document).bind(t.eventType.mouseMove,this._dragStartHandler).bind(t.eventType.mouseUp,this._destroyHandler),this.model.clone||(r=this.element.offset(),this._relXposition=i.pageX-r.left,this._relYposition=i.pageY-r.top),n(document.documentElement).trigger(t.eventType.mouseDown,u)},_setDragArea:function(){var t=n(this.model.dragArea)[0],i;t&&(i=n(t).css("overflow")!="hidden",this.dragArea=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helper.outerWidth()-this.margins.left-this.margins.right,(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helper.outerHeight()-this.margins.top-this.margins.bottom],this.relativeArea=n(this.model.dragArea))},_dragStart:function(i){var r=i,s,u,f;i=this._getCoordinate(i),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(r);var e=this._initPosition.x-i.pageX,o=this._initPosition.y-i.pageY,h=Math.sqrt(e*e+o*o);if(h>=this.model.distance){if(s=this.model.handle=this.helper=this.model.helper({sender:r,element:this.target}),this.model.dragArea&&this._setDragArea(),this.model.dragStart&&(u=null,r.type=="touchmove"?(f=r.originalEvent.changedTouches[0],u=document.elementFromPoint(f.pageX,f.pageY)):u=r.originalEvent.target||r.target,this._trigger("dragStart",{event:r,element:this.element,target:u})))return!1;n(document).unbind(t.eventType.mouseMove,this._dragStartHandler).unbind(t.eventType.mouseUp,this._destroyHandler).bind(t.eventType.mouseMove,this._dragHandler).bind(t.eventType.mouseUp,this._dragStopHandler).bind("selectstart",!1),t.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:s.css({position:"absolute",left:this.position.left,top:this.position.top}),destroy:this._destroyHandler}}},_drag:function(i){var f,r,u;this.position=this._getMousePosition(i),this.position.top<0&&(this.position.top=0),n(document).height()<this.position.top&&(this.position.top=n(document).height()),n(document).width()<this.position.left&&(this.position.left=n(document).width()),f=t.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(r=null,i.type=="touchmove"?(u=i.originalEvent.changedTouches[0],r=document.elementFromPoint(u.pageX,u.pageY)):r=i.originalEvent.target||i.target,this._trigger("drag",{event:i,element:this.target,target:r})),t.widgetBase.droppables[this.model.scope].helper.css({left:this.position.left,top:this.position.top})},_dragStop:function(n){var t,i;(n.type=="mouseup"||n.type=="touchend")&&this._destroy(n),this.model.dragStop&&(t=null,n.type=="touchend"?(i=n.originalEvent.changedTouches[0],t=document.elementFromPoint(i.pageX,i.pageY)):t=n.originalEvent.target||n.target,this._trigger("dragStop",{event:n,element:this.target,target:t}))},_wireEvents:function(){this._on(this.element,t.eventType.mouseDown,this._initialize),this._dragStartHandler=n.proxy(this._dragStart,this),this._destroyHandler=n.proxy(this._destroy,this),this._dragStopHandler=n.proxy(this._dragStop,this),this._dragHandler=n.proxy(this._drag,this)},_getMousePosition:function(n){var i,r,t;return n=this._getCoordinate(n),i=this.model.clone?n.pageX:n.pageX-this._relXposition,r=this.model.clone?n.pageY:n.pageY-this._relYposition,this.dragArea&&(this.relativeArea?(t=this.relativeArea.offset(),_area=[this.dragArea[0]+t.left,this.dragArea[1]+t.top,this.dragArea[2]+t.left,this.dragArea[3]+t.top]):_area=this.dragArea,n.pageX-this.margins.left<_area[0]&&(i=_area[0]+this.margins.left),n.pageY-this.margins.top<_area[1]&&(r=_area[1]+this.margins.top),n.pageX-this.margins.left>_area[2]&&(i=_area[2]+this.margins.left),n.pageY-this.margins.top>_area[3]&&(r=_area[3]+this.margins.top)),{left:i-this.margins.left-this.model.cursorAt.left,top:r-this.margins.top-this.model.cursorAt.top}},_getCoordinate:function(n){var t=n;return(n.type=="touchmove"||n.type=="touchstart"||n.type=="touchend")&&(t=n.originalEvent.changedTouches[0]),t}})}(jQuery,Syncfusion),function(n,t){t.widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null},_init:function(){this.model.accept?n(this.element).delegate(this.accept,"mouseenter",n.proxy(this._over,this)).delegate(this.accept,"mouseup",n.proxy(this._drop,this)).delegate(this.accept,"mouseleave",n.proxy(this._out,this)):(n(this.element).bind("mouseup",n.proxy(this._drop,this)),n(this.element).bind("mouseenter",n.proxy(this._over,this)),n(this.element).bind("mouseleave",n.proxy(this._out,this))),this._on(n(document),"touchend",this._drop)},_setModel:function(){},_destroy:function(){},_over:function(n){this._trigger(n,this.model.over)},_out:function(n){this._trigger(n,this.model.out)},_drop:function(i){var r=t.widgetBase.droppables[this.model.scope],f=!t.isNullOrUndefined(r.helper)&&r.helper.is(":visible"),u=this._isDropArea(i);r&&!t.isNullOrUndefined(this.model.drop)&&f&&u.canDrop&&this.model.drop(n.extend(i,{dropTarget:u.target},!0),r)},_isDropArea:function(t){var i={canDrop:!0,target:n(t.target)},e,r,o,u,f;if(t.type=="touchend")for(e=t.originalEvent.changedTouches[0],r=document.elementFromPoint(e.pageX,e.pageY),i.canDrop=!1,o=n(r).parents(),u=0;u<this.element.length;u++){if(n(r).is(n(this.element[u])))i={canDrop:!0,target:n(r)};else for(f=0;f<o.length;f++)if(n(this.element[u]).is(n(o[f]))){i={canDrop:!0,target:n(r)};break}if(i.canDrop)break}return i}})}(jQuery,Syncfusion),function(n,t){t.widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,destroy:null,helper:function(){return n('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this.handle!=null?n(this.target).delegate(this.handle,t.eventType.mouseDown,n.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):n(this.target).bind("mouseover",n.proxy(this._mouseover,this)),this._resizeStartHandler=n.proxy(this._resizeStart,this),this._destroyHandler=n.proxy(this._destroy,this),this._resizeStopHandler=n.proxy(this._resizeStop,this),this._resizeHandler=n.proxy(this._resize,this)},_mouseover:function(i){n(i.target).hasClass("e-resizable")?(n(i.target).css({cursor:"se-resize"}),n(this.target).bind(t.eventType.mouseDown,n.proxy(this._mousedown,this))):(n(this.target).unbind(t.eventType.mouseDown),n(this.target).css({cursor:""}))},_blockDefaultActions:function(n){n.cancelBubble=!0,n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()},_setModel:function(){},_mousedown:function(i){var r=i;return i=this._getCoordinate(i),this.target=n(r.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},n(document).bind(t.eventType.mouseMove,this._resizeStartHandler).bind(t.eventType.mouseUp,this._destroyHandler),n(document.documentElement).trigger(t.eventType.mouseDown,r),!1},_resizeStart:function(i){var r,u;if(n(i.target).hasClass("e-resizable")){i=this._getCoordinate(i);var f=this._initPosition.x-i.pageX,e=this._initPosition.y-i.pageY,o=Math.sqrt(f*f+e*e);o>=this.model.distance&&(this.model.resizeStart!=null&&this.model.resizeStart({element:this.target}),r=this.model.helper({element:this.target}),u=this.getElementPosition(r),n(document).unbind(t.eventType.mouseMove,this._resizeStartHandler).unbind(t.eventType.mouseUp,this._destroyHandler).bind(t.eventType.mouseMove,this._resizeHandler).bind(t.eventType.mouseUp,this._resizeStopHandler).bind("selectstart",!1),t.widgetBase.resizables[this.scope]={resizable:this.target,helper:r.css({width:i.pageX-u.left+this.model.cursorAt.left,height:i.pageY-u.top+this.model.cursorAt.top}),destroy:this._destroyHandler})}},_resize:function(n){n=this._getCoordinate(n),this.model.resize!=null&&this.model.resize({element:this.target});var u=this.getElementPosition(t.widgetBase.resizables[this.scope].helper),i=n.pageX-u.left+this.model.cursorAt.left,r=n.pageY-u.top+this.model.cursorAt.top;i<this.model.minWidth&&(i=this.model.minWidth),r<this.model.minHeight&&(r=this.model.minHeight),this.model.maxHeight!=null&&r>this.model.maxHeight&&(r=this.model.maxHeight),this.model.maxWidth!=null&&i>this.model.maxWidth&&(i=this.model.maxWidth),t.widgetBase.resizables[this.scope].helper.css({width:i,height:r})},_resizeStop:function(n){this.model.resizeStop!=null&&this.model.resizeStop({element:this.target}),(n.type=="mouseup"||n.type=="touchend")&&this._destroy(n)},_destroy:function(){n(document).unbind(t.eventType.mouseUp,this._destroyHandler).unbind(t.eventType.mouseUp,this._resizeStopHandler).unbind(t.eventType.mouseMove,this._resizeStartHandler).unbind(t.eventType.mouseMove,this._resizeHandler).unbind("selectstart",!1),t.widgetBase.resizables[this.scope]=null},getElementPosition:function(n){return n!=null&&n.length>0?{left:n[0].offsetLeft,top:n[0].offsetTop}:null},_getCoordinate:function(n){var t=n;return(n.type=="touchmove"||n.type=="touchstart"||n.type=="touchend")&&(t=n.originalEvent.changedTouches[0]),t}})}(jQuery,Syncfusion),function(n,t){t.widget("ejAutocomplete","ej.Autocomplete",{element:null,model:null,validTags:["input"],_rootCSS:"e-autocomplete",defaults:{dataSource:null,query:null,fields:null,template:null,grouping:!1,distinct:!1,allowSorting:!0,sortOrder:"ascending",multiSelectMode:"none",delimiterChar:",",allowNew:!1,addNewText:"Add New",roundedCorner:!1,readOnly:!1,cssClass:"",watermark:null,value:"",filter:"startswith",caseSensitive:!1,loadingImage:!0,listSize:0,minCharacter:1,dropdown:!1,highlightSearch:!1,autoFill:!1,rtl:!1,enabled:!0,height:"",width:"",noResults:"No suggestions",showNoResults:!0,persist:!1,suggestionBoxHeight:"152px",suggestionBoxWidth:"auto",focusIn:null,focusOut:null,change:null,select:null},dataTypes:{cssClass:"string",filter:"enum",caseSensitive:"boolean",loadingImage:"boolean",template:"string",grouping:"boolean",distinct:"boolean",allowSorting:"boolean",sortOrder:"enum",allowNew:"boolean",addNewText:"string",roundedCorner:"boolean",readOnly:"boolean",listSize:"number",minCharacter:"number",dropdown:"boolean",highlightSearch:"boolean",autoFill:"boolean",rtl:"boolean",multiSelectMode:"enum",delimiterChar:"string",noResults:"string",showNoResults:"boolean",enabled:"boolean",persist:"boolean",dataSource:"data",fields:"data"},observables:["dataSource"],enable:function(){this.model.enabled||(this.model.enabled=!0,this.target.disabled=!1,this.element.removeClass("e-disable"),this.model.dropdown&&this.dropdownbutton.removeClass("e-disable"),this.model.multiSelectMode=="visualmode"&&this._ulBox.removeClass("e-disable"))},disable:function(){this.model.enabled&&(this._hideResult(),this.model.enabled=!1,this.target.disabled=!0,this.element.addClass("e-disable"),this.model.dropdown&&this.dropdownbutton.addClass("e-disable"),this.model.multiSelectMode=="visualmode"&&this._ulBox.addClass("e-disable"))},clearText:function(){this.model.enabled&&(this.element.val(""),this.model.value="",this._isFocused?this.element.blur():this._targetBlur())},getValue:function(){return this.element.hasClass("e-watermark")?"":this.target.value},_setValue:function(t){var r,i;if(this.element.hasClass("e-watermark")&&this.element.removeClass("e-watermark"),(typeof t=="object"||typeof t=="number"&&isNaN(t))&&(t=""),this.model.value=t=n.trim(t),this.element.val(""),this.model.multiSelectMode=="visualmode"&&t)for(this._hiddenInput.val(t),r=t.split(this.model.delimiterChar),i=0;i<r.length;i++)r[i]&&(this._ulBox.append(this._createBox(r[i])),this._selectedItems.push(r[i]));else t&&this.element.val(t);return this._preVal=this.element.val(),this._isWatermark||this._setWatermarkTxt(),this.model.value},search:function(){this.model.enabled&&this._checkDelimiter()&&(this._hideResult(),this._autoFill=!1,this._queryString=n.trim(this._queryString),this._queryString.length>0&&this._OnTextEnter())},hide:function(){this._hideResult()},_changeWatermark:function(n){this._isWatermark?this.element.attr("placeholder",n):this.element.hasClass("e-watermark")&&this.element.val(n)},_changeSkin:function(n){this.wrapper.removeClass(this.model.cssClass).addClass(n),this.suggestionList.removeClass(this.model.cssClass).addClass(n)},_setDropdown:function(n){this.model.dropdown=n,n?this._renderDropdown():this._destroyDropdown()},_changeHeight:function(n){this.wrapper.height(n)},_changeWidth:function(n){this.wrapper.width(n),this._setListWidth()},_init:function(){if(!this.element.is("input")||this.element.attr("type")&&this.element.attr("type")!="text")return!1;this._initialize(),this._render(),this._wireEvents()},_setModel:function(n){var i,r;if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(i in n)switch(i){case"dataSource":this.model.dataSource=null;break;case"watermark":this._changeWatermark(n[i]);break;case"value":n[i]=this._setValue(n[i]);break;case"dropdown":this._setDropdown(n[i]);break;case"rtl":this._RightToLeft(n[i]);break;case"roundedCorner":this._setRoundedCorner(n[i]);break;case"readOnly":this.model.readOnly=n[i],this._checkReadOnly();break;case"delimiterChar":n[i]=this._validateDelimiter(n[i]);break;case"multiSelectMode":r=this.model.multiSelectMode,this.model.multiSelectMode=n[i],n[i]=="visualmode"?this._renderBoxModel():r=="visualmode"&&this._destroyBoxModel(),this._setValue(this.model.value);break;case"enabled":this._disabled(!n[i]);break;case"height":this._changeHeight(n[i]);break;case"width":this._changeWidth(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"listSize":(n[i]<=0||isNaN(n[i]))&&(n[i]=0);break;case"suggestionBoxHeight":this.suggestionList.css({"max-height":n[i]});break;case"suggestionBoxWidth":this.model.suggestionBoxWidth=n[i],this._setListWidth()}},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-input e-watermark").val(""),this._isWatermark&&this.element.removeAttr("placeholder"),this.suggestionList.remove()},_initialize:function(){this.target=this.element[0],this.dropdownbutton=null,this.showSuggestionBox=!1,this.noresult=!0,this._queryString=null,this.suggLen=0,this._selectedItems=[],this._activeItem=0,this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this._isWatermark=this._checkWatermarkSupport()},_render:function(){this._renderWrapper(),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._setWatermark(),this._renderSuggestionList(),this._RightToLeft(this.model.rtl),this._setRoundedCorner(this.model.roundedCorner)},_renderWrapper:function(){this.element.addClass("e-input"),this.wrapper=t.buildTag("span.e-atc e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper").insertAfter(this.element),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container)},_renderDropdown:function(){if(this.model.dropdown){var i=t.buildTag("span.e-icon e-search");this.dropdownbutton=t.buildTag("span.e-select#"+this.target.id+"_dropdown").append(i),this.container.append(this.dropdownbutton).addClass("e-padding"),this.dropdownbutton.bind("mousedown",n.proxy(this._OnDropdownClick,this))}},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderBoxModel:function(){this._ulBox=t.buildTag("ul.e-ul e-boxes"),this._hiddenInput=t.buildTag("input").attr({type:"hidden",name:this.element.attr("name")}).css("display","none"),this.element.val("").removeAttr("name").width(0).addClass("e-visual-mode"),this.container.prepend(this._hiddenInput,this._ulBox),this.wrapper.height("auto"),this._on(this.container,"mousedown",function(t){if(!this.model.enabled)return!1;var i=n(t.target);i.is(this.element)||(t.preventDefault(),this._isFocused||this.element.focus(),i.hasClass("e-options")?(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")):this._moveCaretToEnd(this.element[0])),!t.ctrlKey&&(i.hasClass("e-boxes")||i.hasClass("e-input"))&&this._removeActive()})},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.attr({name:this._hiddenInput.attr("name")}).removeAttr("style"),this.wrapper.height(this.model.height),this._hiddenInput.remove(),this._ulBox.remove(),this._off(this.container,"mousedown")},_deleteLastBox:function(){var t=this._ulBox.children(),n=t.last(),i=n.hasClass("e-active");this._removeActive(),i?this._deleteBox(n):n.addClass("e-active")},_deleteBox:function(t){for(var e,r,u,f,i=0;i<t.length;i++)e=this._ulBox.children(),r=e.index(t[i]),this._selectedItems.splice(r,1),u=this.model.delimiterChar,f=this._hiddenInput.val().split(u),f.splice(r,1),this._hiddenInput.val(f.join(u)),n(t[i]).remove();this.showSuggestionBox&&this._refreshPopup(),this._valueChange()},_removeActive:function(){this._ulBox.children("li.e-active").removeClass("e-active")},_adjustWidth:function(){var n=t.buildTag("span",this.element.val()),i;this.container.append(n),i=n.width()+30,this.element.width()!=i&&this.element.width(i),n.remove()},_checkProperties:function(){this._checkReadOnly(),this.model.delimiterChar=this._validateDelimiter(this.model.delimiterChar),this.model.enabled||(this.model.enabled=!0,this._disabled(!0)),this._checkNameAttr(),this.model.multiSelectMode=="visualmode"&&this._renderBoxModel(),this._setValue(this.model.value)},_checkNameAttr:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id})},_disabled:function(n){n?this.disable():this.enable()},_destroyDropdown:function(){this.dropdownbutton.unbind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.remove(),this.dropdownbutton=null,this.container.removeClass("e-padding")},_validateDelimiter:function(n){if(n.length==1)if(!/^[a-zA-Z0-9]+$/.test(n))return n;return","},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){this._isWatermark&&this.element.attr("placeholder",this.model.watermark)},_setWatermarkTxt:function(){this.model.watermark!=null&&n.trim(this.element.val())==""&&(this.element.addClass("e-watermark"),this.element.val(this.model.watermark))},_renderSuggestionList:function(){this.suggestionList=t.buildTag("div.e-atc-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"}),this.popup=this.suggestionList;var i=t.buildTag("div");this.ul=t.buildTag("ul.e-ul"),i.append(this.ul),this.suggestionList.append(i),n("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance")},_checkEmptyList:function(){if(this.model.multiSelectMode=="visualmode"&&this._removeRepeated(),!this.suggestionListItems)return this.noresult=!0,!1;this.suggestionListItems.length==0?(this.suggestionListItems.push(this.model.noResults),this.noresult=!0):this.noresult=!1},_showSuggestionList:function(){this._checkEmptyList(),this._addNewTemplate=null,this.noresult&&this.model.multiSelectMode=="visualmode"&&this.model.allowNew&&this.element.val()!=""&&(this.noresult=!1,this.suggestionListItems.pop(),this._addNewTemplate="   ("+this.model.addNewText+")",this.suggestionListItems.push(this.element.val()+this._addNewTemplate),this._checkEmptyList()),(!this.noresult||this.model.showNoResults)&&this._generateSuggestionList()},_generateSuggestionList:function(){var i=this.suggestionListItems,r,o,n,u,s,f,e;if(this.ul.empty(),typeof i[0]!="object"){for(this.model.distinct&&(i=t.dataUtil.distinct(i,"",!0)),r=0;r<i.length;r++)o=this.model.highlightSearch&&!this.noresult?this._highlightSuggestion(i[r]):i[r],this.ul.append(t.buildTag("li",o));this._currList=i,this._mapper={txt:null,key:null}}else if(n=this.model.fields,u={_key:null,_text:null,_attr:null},u._key=n&&n.uniqueKey?n.uniqueKey:"uniqueKey",u._text=n&&n.text?n.text:"text",u._attr=n&&n.htmlAttr?n.htmlAttr:"htmlAttr",this._mapper={txt:u._text,key:u._key},this._currList=[],this.model.distinct&&(i=t.dataUtil.distinct(i,u._text,!0)),this.model.grouping)for(s=n&&n.category?n.category:"category",e=t.Query().group(s),this._addSortingQuery(e,"key"),f=t.DataManager(i).executeLocal(e),this._swapUnCategorized(f),r=0;r<f.length;r++)f[r].key&&this.ul.append(t.buildTag("li.e-category",f[r].key)),this._generateLi(f[r].items,u);else this._generateLi(i,u);this._getLiTags().length>0&&this._showResult()},_swapUnCategorized:function(t){n(t).each(function(n,i){if(!i.key){for(var r=n;r>0;r--)t[r]=t[r-1];return t[r]=i,!1}})},_generateLi:function(i,r){for(var f,e,u=0;u<i.length;u++)f=this._getField(i[u],r._text),t.isNullOrUndefined(f)||(this.model.highlightSearch&&(f=this._highlightSuggestion(f)),this.model.template&&(f=this._getTemplatedString(i[u],r._text,f)),e=n(document.createElement("li")).append(f),this._setAttributes(this._getField(i[u],r._attr),e),this.ul.append(e),this._currList=n.merge(this._currList,[i[u]]))},_getLiTags:function(){return this.ul.children("li:not('.e-category')")},_getTemplatedString:function(n,t,i){for(var r=this.model.template,f=r.indexOf("${"),e=r.indexOf("}");f!=-1&&e!=-1;){var o=r.substring(f,e+1),s=o.replace("${","").replace("}",""),u=this._getField(n,s);t==s&&(u=i),u||(u=""),r=r.replace(o,u),f=r.indexOf("${"),e=r.indexOf("}")}return r},_getField:function(n,i){return t.pvt.getObject(i,n)},_setAttributes:function(n,t){if(n)for(var i in n)t.attr(i,n[i])},_setListWidth:function(){var n=this.model.suggestionBoxWidth;n&&n!="auto"?this.suggestionList.css({width:n}):this.suggestionList.css({width:this.wrapper.width()})},_setListHeight:function(){this.suggestionList.css({"max-height":this.model.suggestionBoxHeight})},_refreshPopup:function(){this.model.suggestionBoxWidth=="auto"&&this.wrapper.outerWidth()!=this.suggestionList.outerWidth()&&(this.suggestionList.css({width:this.wrapper.width()}),this._refreshScroller()),this._setListPosition()},_showResult:function(){var i,t;this._refreshPopup(),this._refreshScroller(),this._isOpened?n(document).bind("mousedown",n.proxy(this._OnDocumentClick,this)):(this.suggestionList.css("display","none"),i=this,this.suggestionList.slideDown(200,"easeOutQuad",function(){n(document).bind("mousedown",n.proxy(i._OnDocumentClick,i))})),this._isOpened=!0,this.showSuggestionBox=!0,t=this._getLiTags(),this._listSize=t.size(),t.bind("mouseenter",n.proxy(this._OnMouseEnter,this)),t.bind("mouseleave",n.proxy(this._OnMouseLeave,this)),t.bind("click",n.proxy(this._OnMouseClick,this)),n(window).bind("resize",n.proxy(this._OnWindowResize,this))},_hideResult:function(){this.showSuggestionBox&&(this.showSuggestionBox=!1,this._activeItem=0,this._isOpened?this.suggestionList.css("display","none"):this.suggestionList.slideUp(100,"easeOutQuad"),n(document).unbind("mousedown",n.proxy(this._OnDocumentClick,this)),n(window).unbind("resize",n.proxy(this._OnWindowResize,this)))},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".e-content, .e-vscroll").removeAttr("style"),this.suggestionList.find(".e-vscroll div").removeAttr("style"),this.suggestionList.css("display","block"),this.scrollerObj.model.height=this.suggestionList.height(),this.scrollerObj.refresh(),this.scrollerObj.option("scrollTop",0),this.suggestionList.css("height","auto")},_setListPosition:function(){var n=this.wrapper,t=n.offset(),i=t.left,r=n.outerHeight(),u=(r-n.height())/2,f=this._getZindexPartial();this.model.rtl&&(i-=this.suggestionList.outerWidth()-n.outerWidth()),this.suggestionList.css({left:i+"px",top:t.top+r-u+3+"px","z-index":f})},_getZindexPartial:function(){var r=this.element.parents(),i,t;return i=n("body").children(),index=i.index(this.popup),i.splice(index,1),n(i).each(function(n,t){r.push(t)}),t=Math.max.apply(t,n.map(r,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_targetFocus:function(){this.model.multiSelectMode=="visualmode"&&this.element.width(30),this.element.hasClass("e-watermark")&&(this.element.removeClass("e-watermark"),this.element.val("")),this.wrapper.addClass("e-focus"),this._isFocused=!0,this.model.focusIn&&this._trigger("focusIn")},_targetBlur:function(){if(this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._isWatermark||this._setWatermarkTxt(),this._removeSelection(),this.model.multiSelectMode=="visualmode")this._removeActive(),this.element.val("").width(0),this._preVal="";else if(this.model.multiSelectMode=="delimiter"){var t,i,r;t=n.trim(this.element.val()),i=this.model.delimiterChar,r=t.substr(t.length-i.length,t.length),r==i&&(this.element.val(t.substr(0,t.length-i.length)),this._valueChange())}this.model.focusOut&&this._trigger("focusOut")},_removeSelection:function(){if(this.model.autoFill){var n=this._getCaretSelection();n.end-n.start!=0&&n.end-n.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,n.start))}},_removeListHover:function(){this._getLiTags().removeClass("e-hover")},_addListHover:function(){var t=n(this._getLiTags()[this._activeItem-1]);t.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),t.focus()},_calcScrollTop:function(){for(var u=this.ul.outerHeight(),i=this.ul.find("li"),r=0,t=this.ul.find("li.e-hover").index(),n=0;n<t;n++)r+=i.eq(n).outerHeight();return r-(this.suggestionList.outerHeight()-i.eq(t).outerHeight())/2},_getActiveText:function(){return this._mapper.txt?this._getField(this._currList[this._activeItem-1],this._mapper.txt):this._currList[this._activeItem-1]},_getUniqueKey:function(){var n=null;return this._mapper.key&&(n=this._getField(this._currList[this._activeItem-1],this._mapper.key)),t.isNullOrUndefined(n)&&(n=null),n},_setTextBoxValue:function(){var i,u,t,r,f,e;this._activeItem&&!this.noresult&&(i=this._getActiveText(),u=this._getCaretSelection(),this.suggLen=u.start,t=this.target.value.substr(0,this.suggLen),t&&t.toLowerCase()==i.substr(0,this.suggLen).toLowerCase()?(this.model.multiSelectMode=="delimiter"?(f=this.target.value.lastIndexOf(this.model.delimiterChar),e=n.trim(t.substr(f+1,this.suggLen)),r=t+i.substr(e.length,i.length)):r=t+i.substr(t.length,i.length),this.element.val(r),this._autofilSelection()):this._removeSelection())},_enterTextBoxValue:function(){var n,t,i,r,u;!this._activeItem||this.noresult||this.model.readOnly||(n=this._getActiveText(),t=this._currList[this._activeItem-1],this.model.multiSelectMode=="visualmode"?(this._addNewTemplate&&(n=n.substr(0,n.length-this._addNewTemplate.length)),i=this._hiddenInput.val()?this.model.delimiterChar:"",this._hiddenInput.val(this._hiddenInput.val()+i+n),this.element.val(""),this._ulBox.append(this._createBox(n)),this._selectedItems.push(t)):this.model.multiSelectMode=="delimiter"?(r=this.target.value.lastIndexOf(this.model.delimiterChar),this.element.val(this._queryString.substr(0,r+1)+n+this.model.delimiterChar+" ")):this.element.val(n),this._moveCaretToEnd(this.element[0]),u=this.model.multiSelectMode=="visualmode"?this._hiddenInput.val():this.element.val(),this.model.select&&this._trigger("select",{value:u,selectedText:n,uniqueKey:this._getUniqueKey()}),this._valueChange())},_createBox:function(i){var r=t.buildTag("span.e-icon e-close"),u=t.buildTag("li.e-options",i).append(r);return this._on(r,"click",function(t){if(!this.model.enabled)return!1;this._deleteBox(n(t.target).parent())}),u},_addLoadingClass:function(){this.model.loadingImage&&this.element.addClass("e-load")},_removeLoadingClass:function(){this.element.removeClass("e-load")},_highlightSuggestion:function(t){if(n.trim(this._queryString)!=""){var f,e,i,r,o,u;f=this.model.caseSensitive?"g":"gi",u=n.trim(this._queryString),e=this.model.filter=="startswith"?"^"+u:u,i=new RegExp(e,f),i.test(t)&&(r=t.match(i),o=t.split(i),t="",n(o).each(function(n,i){t+=r[n]?i+"<span class='e-hilight-txt'>"+r[n]+"<\/span>":i}))}return t},_RightToLeft:function(n){n?(this.wrapper.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl"))},_setRoundedCorner:function(n){n?(this.container.addClass("e-corner-all"),this.suggestionList.addClass("e-corner-all")):(this.container.removeClass("e-corner-all"),this.suggestionList.removeClass("e-corner-all"))},_checkReadOnly:function(){this.model.readOnly?(this.element.attr("readonly","readonly"),this._off(this.element,"keydown",this._OnKeyDown),this._off(this.element,"keyup",this._OnKeyUp)):(this.element.removeAttr("readonly"),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp))},_OnKeyDown:function(t){this.model.filter!="startswith"&&(this.model.autoFill=!1);switch(t.keyCode){case 37:case 35:case 36:this._removeSelection();break;case 38:t.preventDefault(),this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),this._activeItem>1?this._activeItem-=1:this._activeItem=this._listSize,this._addListHover(),this.model.autoFill&&(this._queryString=this.target.value,this._setTextBoxValue()));break;case 40:t.preventDefault(),this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._addListHover(),this.model.autoFill&&(this._queryString=this.target.value,this._setTextBoxValue()));break;case 8:n.trim(this.element.val())==""&&(this._isOpened=!1),this.model.multiSelectMode=="visualmode"&&this.element.val()==""&&this._deleteLastBox();break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(),this._hideResult());break;case 27:this._isOpened=!1,this._hideResult()}this.model.multiSelectMode=="visualmode"&&(t.keyCode!=17&&t.keyCode!=8&&t.keyCode!=46&&this._removeActive(),this._adjustWidth())},_OnKeyUp:function(t){if(this._keyDownComplete(),this.ctrlKeyPressed)return t.keyCode==17&&(this.ctrlKeyPressed=!1),!1;if(n.trim(this.element.val())==""&&t.keyCode==38&&t.keyCode==40)return this._hideResult(),!1;if(!this._checkDelimiter())return!1;this._queryString=n.trim(this._queryString);switch(t.keyCode){case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(),this.model.autoFill&&(this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult();break;case 46:if(this.model.multiSelectMode=="visualmode"&&this.element.val()==""){this._deleteBox(this._ulBox.children("li.e-active"));break}case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter()):(this.noresult=!0,this._hideResult(),n.trim(this.element.val())==""&&(this._isOpened=!1));break;default:this._queryString.length>=this.model.minCharacter?(this._autoFill=!0,this._OnTextEnter()):this.noresult=!0}},_getFilteredList:function(n){if(!n||n.length<1)this.suggestionListItems=null;else{var i=t.Query();this._addQuery(i,typeof n[0]=="object"),this.suggestionListItems=t.DataManager(n).executeLocal(i)}this._doneRemaining()},_performSearch:function(){var n=this.model.dataSource,i;t.DataManager&&n instanceof t.DataManager?(window.clearTimeout(this.timer),i=this,this.timer=window.setTimeout(function(){i._fetchRemoteDat(n)},700)):this._getFilteredList(n)},_fetchRemoteDat:function(n){var t=this,i,r=this._getQuery();this._addQuery(r,!0),i=n.executeQuery(r),i.fail(function(){t.suggestionListItems=null,t._removeLoadingClass()}).done(function(n){t.suggestionListItems=n.result,t._doneRemaining()})},_addSortingQuery:function(n,t){if(this.model.allowSorting){var i=this.model.sortOrder=="descending"?!0:!1;n.sortBy(t,i)}},_addQuery:function(n,t){var r="",i;t&&(i=this.model.fields,r=i&&i.text?i.text:"text"),this._queryString&&n.where(r,this.model.filter,this._queryString,!this.model.caseSensitive),this._addSortingQuery(n,r),this.model.listSize>0&&n.take(this.model.listSize)},_getQuery:function(){var u;if(t.isNullOrUndefined(this.model.query)){var r=[],i=t.Query(),n=this.model.fields;for(u in n)u!=="tableName"&&r.push(n[u]);r.length>0&&i.select(r),this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||i.from(n.tableName)}else i=this.model.query.clone();return i},_OnTextEnter:function(){this._addLoadingClass(),this._hideResult(),this._performSearch()},_doneRemaining:function(){this._showSuggestionList(),this.model.autoFill&&this._autoFill&&!this.noresult&&(this._activeItem=1,this._queryString=this.target.value,this._setTextBoxValue()),this._removeLoadingClass()},_removeRepeated:function(){var t=this.suggestionListItems,n,i;if(!t||t==0||this._selectedItems.length==0)return!1;for(n=0;n<this._selectedItems.length;n++)i=t.indexOf(this._selectedItems[n]),i!=-1&&this.suggestionListItems.splice(i,1)},_checkDelimiter:function(){this._queryString=this.getValue();var n=this.model.multiSelectMode!="delimiter"?-1:this._queryString.lastIndexOf(this.model.delimiterChar);return n==-1?!0:n+1==this._queryString.length?(this._hideResult(),!1):(this._queryString=this._queryString.substr(n+1,this._queryString.length),!0)},_autofilSelection:function(){var n=this.element[0],t=this.element.val().length;n.setSelectionRange?n.setSelectionRange(this.suggLen,t):n.createTextRange&&(n=n.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",this.suggLen),n.select())},_OnDropdownClick:function(n){this.model.enabled&&!this.model.readOnly&&(n.preventDefault(),this._addLoadingClass(),this.showSuggestionBox?(this._isOpened=!1,this._hideResult(),this._removeLoadingClass()):this._showFullList())},_showFullList:function(){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._performSearch()},_OnMouseEnter:function(t){var i=t.target;t.target.tagName!="LI"&&(i=n(t.target).parents("li")),this._getLiTags().removeClass("e-hover"),n(i).addClass("e-hover"),this._queryString=this.element.val(),this._activeItem=this._getLiTags().index(n(i))+1},_OnMouseLeave:function(){this._getLiTags().removeClass("e-hover"),this.model.highlightSearch&&this._getLiTags().find(".e-hilight-txt").removeClass("e-hover")},_OnMouseClick:function(n){n.preventDefault(),this.noresult||(this._enterTextBoxValue(),this._isOpened=!1,this._hideResult())},_OnDocumentClick:function(t){n(t.target).is(this.suggestionList)||n(t.target).parents(".e-atc-popup").is(this.suggestionList)||n(t.target).is(this.element)||n(t.target).parents(".e-atc").is(this.wrapper)?(n(t.target).is(this.suggestionList)||n(t.target).parents(".e-atc-popup").is(this.suggestionList))&&t.preventDefault():(this._isOpened=!1,this._hideResult())},_OnWindowResize:function(){this._refreshPopup()},_valueChange:function(){var n=this.model.multiSelectMode=="visualmode"?this._hiddenInput.val():this.element.val();this.model.value!=n&&(this.model.value=n,this.model.change&&this._trigger("change",{value:n}))},_keyDownComplete:function(){var n=this.element.val();this._preVal!=n&&(this._preVal=n,this.model.multiSelectMode=="visualmode"&&this._adjustWidth(),this._valueChange())},_moveCaretToEnd:function(n){if(typeof n.selectionStart=="number")n.selectionStart=n.selectionEnd=n.value.length;else if(typeof n.createTextRange!="undefined"){var t=n.createTextRange();t.collapse(!1),t.select()}},_getCaretSelection:function(){var n=this.element[0],u=0,f=0,e,t,i,r,o;return isNaN(n.selectionStart)?(e=document.selection.createRange().getBookmark(),t=n.createTextRange(),t.moveToBookmark(e),i=n.createTextRange(),i.collapse(!0),i.setEndPoint("EndToStart",t),r=i.text.length,o=t.text.length,{start:r,end:r+o}):(u=n.selectionStart,f=n.selectionEnd,{start:Math.abs(u),end:Math.abs(f)})},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur)}}),t.filter={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"},t.sortOrder={Ascending:"ascending",Descending:"descending"},t.multiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"}}(jQuery,Syncfusion),function(n,t){t.widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_rootCSS:"e-button",defaults:{size:"normal",height:"",width:"",enabled:!0,text:null,contentType:"textonly",imagePosition:"imageleft",roundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,rtl:!1,repeatButton:!1,create:null,click:null,destroy:null},dataTypes:{size:"string",height:"string",width:"string",enabled:"boolean",roundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",rtl:"boolean"},disable:function(){this.element.addClass("e-disable"),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable"),this.model.enabled=!0},_init:function(){this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton)},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-btn e-select e-disable e-corner-all e-widget")},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i;for(i in n)switch(i){case"size":this._setSize(n[i]);break;case"height":this._setHeight(n[i]);break;case"width":this._setWidth(n[i]);break;case"contentType":this._setContentType(n[i]);break;case"imagePosition":this._setImagePosition(n[i]);break;case"text":this._setText(n[i]);break;case"prefixIcon":this._setMajorIcon(n[i]);break;case"suffixIcon":this._setMinorIcon(n[i]);break;case"enabled":this._controlStatus(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]);break;case"cssClass":this._setSkin(n[i]);break;case"rtl":this._setRTL(n[i])}},_setSize:function(n){switch(n){case"mini":this.element.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-mini");break;case"small":this.element.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-small");break;case"medium":this.element.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-medium");break;case"large":this.element.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-large")}},_setHeight:function(n){this.element.css("height",n)},_setWidth:function(n){this.element.css("width",n)},_setText:function(n){this.buttonType=="inputButton"?this.element.val(n):this.model.contentType==t.contents.textOnly?this.element.text(n):this.textspan.text(n),this.model.text=n},_setMajorIcon:function(n){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(n),this.model.prefixIcon=n},_setMinorIcon:function(n){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(n),this.model.suffixIcon=n},_setContentType:function(n){n!=this.model.contentType&&(this.element.empty(),this.model.contentType=n,this._renderButtonNormal())},_setImagePosition:function(n){this.model.contentType==t.contents.textAndImage&&n!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=n,this._renderButtonNormal())},_setRTL:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(n){n?this.enable():this.disable()},_setSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass),this.element.addClass(n))},_initialize:function(){this.element.is("input[type=button]")||this.element.is("input[type=submit]")||this.element.is("input[type=reset]")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this._timeout=null,this.repeatIntervalTime=150},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.rtl),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget"),this.buttonType=="inputButton"?(this.element.addClass("e-txt"),this.model.text!=null&&this.model.text!=""?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.roundedCorner)},_renderButtonNormal:function(){(this.model.text==null||this.model.text=="")&&(this.model.text=this.element.text()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span.e-icon "+this.model.prefixIcon),this.minorimgtag=t.buildTag("span.e-icon "+this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div")),this.model.contentType==t.contents.textAndImage?this.model.imagePosition==t.imagePositions.imageRight?(this.imgtxtwrap.append(this.textspan,this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.imgtxtwrap.append(this.majorimgtag,this.textspan),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.text(this.model.text))},_roundedCorner:function(n){n==!0?this.element.addClass("e-corner-all"):this.element.removeClass("e-corner-all")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(n(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(n(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(){var n=this,t;n.element.hasClass("e-disable")||(t={status:n.model.enabled},n._trigger("click",t))},_btnRepatMouseClickEvent:function(n){var t=this,i;t.element.hasClass("e-disable")||(i={status:t.model.enabled},(n.button==0||n.which==1)&&(t._timeout=setInterval(function(){t._trigger("click",{target:n.currentTarget,status:t.model.enabled})},this.repeatIntervalTime)))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(n){var t=this,i;t.element.hasClass("e-disable")||(i={status:t.model.enabled},(n.keyCode==32||n.keyCode==13)&&t._trigger("click",i))},_btnRepatKeyUpEvent:function(n){(n.keyCode==32||n.keyCode==13)&&clearTimeout(this._timeout)}}),t.contents={textOnly:"textonly",imageOnly:"imageonly",imageBoth:"imageboth",textAndImage:"textandimage",imageTextImage:"imagetextimage"},t.imagePositions={imageRight:"imageright",imageLeft:"imageleft"},t.buttonSize={mini:"mini",small:"small",medium:"medium",large:"large"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejBarcode","ej.Barcode",{element:{target:null},model:null,validTags:["div","span"],_rootCSS:"e-barcode",defaults:{displayText:!0,text:"",symbologyType:"qrbarcode",textColor:"black",lightBarColor:"white",darkBarColor:"black",quietZone:{left:1,top:1,right:1,bottom:1,all:1},narrowBarWidth:1,wideBarWidth:3,barHeight:150,barcodeToTextGapHeight:10,xDimension:4,encodeStartStopSymbol:!0,orientation:"Horizontal",load:null,init:null,enabled:!0},dataTypes:{displayText:"boolean",text:"string",enabled:"boolean",symbologyType:"enum",narrowBarWidth:"number",wideBarWidth:"number",barHeight:"number",encodeStartStopSymbol:"boolean"},_defaultScaleValues:function(){return{enabled:!0,displayText:!0,text:"",symbologyType:"qrbarcode",textColor:"black",lightBarColor:"white",darkBarColor:"black",quietZone:{left:1,top:1,right:1,bottom:1},narrowBarWidth:1,wideBarWidth:3,barHeight:150,barcodeToTextGapHeight:10,xDimension:4,encodeStartStopSymbol:!0}},_init:function(){this._initialize(),this._renderBarcode()},_destroy:function(){this.element.empty()},_setModel:function(n){var t;for(t in n)switch(t){case"enabled":this._disabled(!n[t]);break;case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"orientation":this.model.orientation=n[t];break;case"lightBarColor":this.model.lightBarColor=n[t];break;case"darkBarColor":this.model.darkBarColor=n[t];break;case"textColor":this.model.textColor=n[t];break;case"displayText":this.model.displayText=n[t];break;case"quietZone":this.model.quietZone=n[t];break;case"narrowBarWidth":this.model.narrowBarWidth=n[t];break;case"wideBarWidth":this.model.wideBarWidth=n[t];break;case"barHeight":this.model.barHeight=n[t];break;case"xDimension":this.model.xDimension=n[t];break;case"encodeStartStopSymbol":this.model.encodeStartStopSymbol=n[t];break;case"symbologyType":this.model.symbologyType=n[t],this._itemInitialize();break;case"text":this.model.text=n[t],this._itemInitialize()}this._renderBarcode()},_initialize:function(){this.BarcodeEl=this.element,this.target=this.element[0],this._itemInitialize(),this.Model=this.model},_renderBarcode:function(){this.initialize()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r),n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)t=r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();t=r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?t=f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(t=f._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n))}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this.model.enabled&&(this._initObject(this),this.Model.text!=null&&this._findBarcodeType())},enable:function(){this.model.enabled||(this.element.removeClass("e-disable"),this.model.enabled=!0)},disable:function(){this.model.enabled&&(this.element.addClass("e-disable"),this.model.enabled=!1)},_disabled:function(n){n?this.disable():this.enable()},_initObject:function(t){t.BarcodeEl=n("#"+t.target.id),t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.BarcodeEl.append(t.canvasEl),t.BarcodeEl.css("width",t.model.width),t.BarcodeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.BarcodeEl.width()),t.canvasEl[0].setAttribute("height",t.BarcodeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2;var r=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(r=window.G_vmlCanvasManager.initElement(r)),r&&r.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"),t.contextEl==i)},_findBarcodeType:function(){var y,p,a,o,n,v,s,h,u,c,r,f,e,l,w,b;if(this.contextEl!=i&&this.Model.text!=""){if(this.textFont={size:"12px",fontFamily:"Segoe UI",fontStyle:"Regular"},this.model.quietZone.all>1&&(this.model.quietZone.left=this.model.quietZone.right=this.model.quietZone.top=this.model.quietZone.bottom=this.model.quietZone.all),intercharacterGap=1,extendedText="",continuous=!1,validatorExp="",encodedText=this.Model.text,n=this.Model.symbologyType,v=!0,t.Barcode.symbologyType.dataMatrix==n||t.Barcode.symbologyType.qrBarcode==n)v=!1;else if(y=t.Barcode.symbologySettings[n].startSymbol,p=t.Barcode.symbologySettings[n].stopSymbol,validatorExp=t.Barcode.symbologySettings[n].validatorExp,a=t.Barcode.symbologySettings[n].symbolTable,o=t.Barcode.symbologySettings[n].extendedCodes,t.Barcode.symbologyType.code39Extended==n){for(s=encodedText.split(""),h="",u=0;u<s.length;u++)for(c=s[u],r=0;r<o.length;r++)if(o[r][0]==c&&(f=o[r][1],!(f==i)))for(e=0;e<f.length;e++)h+=f[e];extendedText=h}else if(t.Barcode.symbologyType.code93Extended==n){for(s=encodedText.split(""),h="",u=0;u<s.length;u++)for(c=s[u],r=0;r<o.length;r++)if(o[r][0]==c&&(f=o[r][1],!(f==i)))for(e=0;e<f.length;e++)h+=f[e];extendedText=h}if(v){if(!this._validateText(this.Model.text,validatorExp)){console.log("Barcode Text contains characters that are not accepted by this barcode specification.");return}if(this.model.symbologyType=="code32"&&this.model.text.length!=8){console.log("Barcode Text Length that are not accepted by this barcode specification.");return}extendedText.length>0&&(encodedText=extendedText),this.Model.encodeStartStopSymbol&&(encodedText=y.toString()+encodedText+p.toString()),l=this._getCharWidth(encodedText,a),l-=continuous==!1?intercharacterGap*encodedText.length:extendedText.length>0?intercharacterGap*(extendedText.length-this.Model.text.length):intercharacterGap,w=parseInt(this.Model.displayText?this.textFont.size.replace("px",""):0),b=this.Model.quietZone.top+this.Model.quietZone.bottom+this.Model.barHeight+intercharacterGap+(this.Model.displayText?w+this.Model.barcodeToTextGapHeight:0),l+=this.Model.quietZone.left+this.Model.quietZone.right,this.Model.width=l,this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width),this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.lightBarColor,this.contextEl.fillRect(0,0,l,b),this.contextEl.closePath(),this._draw1DBarcode(encodedText,a)}else t.Barcode.symbologyType.dataMatrix==n?this._buildDataMatrix():t.Barcode.symbologyType.qrBarcode==n&&this._buildQRBarcode();this._raiseEvent("load")}},_raiseEvent:function(n){this.model[n]&&this._trigger(n)},_buildQRBarcode:function(){var t=this.Model.text,u,r,f,n,i,e,o,s,h;for(this.m_EciAssignmentNumber=3,this.mode="numeric",this.isEci=!1,this.m_Version=1,u=[14,26,42,62,84,106,122,152,180,213,251,287,331,362,412,450,504,560,624,666,711,779,857,911,997,1059,1125,1190,1264,1370,1452,1538,1628,1722,1809,1911,1989,2099,2213,2331],n=0;n<t.length;n++)if(r=t.charCodeAt(n),!(r<58)||!(r>47))if(r<91&&r>64||t[n]=="$"||t[n]=="%"||t[n]=="*"||t[n]=="+"||t[n]=="-"||t[n]=="."||t[n]=="/"||t[n]==":"||t[n]==" ")this.mode="alphanumeric";else if(r>=65377&&r<=65439){this.mode="binary";break}else{this.mode="binary",this.isEci=!0;break}for(this.mode=="numeric"?u=[34,63,101,149,202,255,293,365,432,513,604,691,796,871,991,1082,1212,1346,1500,1600,1708,1872,2059,2188,2395,2544,2701,2857,3035,3289,3486,3693,3909,4134,4343,4588,4775,5039,5313,5596]:this.mode=="alphanumeric"&&(u=[20,38,61,90,122,154,178,221,262,311,366,419,483,528,600,656,734,816,909,970,1035,1134,1248,1326,1451,1542,1637,1732,1839,1994,2113,2238,2369,2506,2632,2780,2894,3054,3220,3391]),this.isEci==!0&&(this.m_EciAssignmentNumber=this._findECINumber(t)),n=0;n<u.length;n++)if(u[n]>t.length){this.m_Version=n+1;break}for(this.qrbarcodeValues={Version:this.m_Version,ErrorCorrectionLevel:1,NumberOfDataCodeWord:this._getNumberOfDataCodeWord(),NumberOfErrorCorrectingCodeWords:this._getNumberOfErrorCorrectingCodeWords(),NumberOfErrorCorrectionBlocks:this._getNumberOfErrorCorrectionBlocks(),End:this._getEnd(),DataCapacity:this._getDataCapacity(),FormatInformation:this._getFormatInformation(),VersionInformation:this._getVersionInformation()},this.noOfModules=(this.m_Version-1)*4+21,this.moduleValue=this._create2DArray(this.noOfModules,this.noOfModules),n=0;n<this.noOfModules;n++)for(i=0;i<this.noOfModules;i++)this.moduleValue[n][i]={IsBlack:!1,IsFilled:!1,IsPDP:!1};if(this._drawPDP(0,0),this._drawPDP(this.noOfModules-7,0),this._drawPDP(0,this.noOfModules-7),this._drawTimingPattern(),this.m_Version!=1)for(f=this._getAlignmentPatternCoOrdinates(),n=0;n<f.length;n++)for(i=0;i<f.length;i++)e=f[n],o=f[i],this.moduleValue[e][o].IsPDP!=!0&&this._drawAlignmentPattern(e,o);this._allocateFormatVersionInfo(),this._encodeData(),this._drawFormatInformation(),this._addQuietZone(),s=this.moduleValue.length*this.Model.xDimension,h=this.moduleValue[0].length*this.Model.xDimension,this.Model.width=s,this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width),this.contextEl.beginPath(),this.contextEl.fillStyle="white",this.contextEl.fillRect(0,0,s,h),this.contextEl.closePath(),this._drawQRBarcode(h)},_allocateFormatVersionInfo:function(){for(var i,r,t,n=0;n<9;n++)this.moduleValue[8][n].IsFilled=!0,this.moduleValue[n][8].IsFilled=!0;for(n=this.noOfModules-8;n<this.noOfModules;n++)this.moduleValue[8][n].IsFilled=!0,this.moduleValue[n][8].IsFilled=!0;if(this.m_Version>6)for(i=this.qrbarcodeValues.VersionInformation,r=0,n=0;n<6;n++)for(t=2;t>=0;t--)this.moduleValue[n][this.noOfModules-9-t].IsBlack=i[r]==1?!0:!1,this.moduleValue[n][this.noOfModules-9-t].IsFilled=!0,this.moduleValue[this.noOfModules-9-t][n].IsBlack=i[r++]==1?!0:!1,this.moduleValue[this.noOfModules-9-t][n].IsFilled=!0},_drawTimingPattern:function(){for(var n=8;n<this.noOfModules-8;n+=2)this.moduleValue[n][6].IsBlack=!0,this.moduleValue[n][6].IsFilled=!0,this.moduleValue[n+1][6].IsBlack=!1,this.moduleValue[n+1][6].IsFilled=!0,this.moduleValue[6][n].IsBlack=!0,this.moduleValue[6][n].IsFilled=!0,this.moduleValue[6][n+1].IsBlack=!1,this.moduleValue[6][n+1].IsFilled=!0;this.moduleValue[this.noOfModules-8][8].IsBlack=!0,this.moduleValue[this.noOfModules-8][8].IsFilled=!0},_drawQRBarcode:function(n){var r=this.Model.quietZone.all,s,h,t,e,i,f;r<2&&(r=2),s="white",h="black",this.Model.height=n,this.canvasEl[0].setAttribute("height",this.Model.height),this.BarcodeEl.css("height",this.Model.height);var u=parseInt(this.Model.xDimension),o=0,c=this.noOfModules+2*r,l=this.noOfModules+2*r;for(this.contextEl.beginPath(),t=0;t<c;t++){for(e=0,i=0;i<l;i++)f=null,f=this.moduleValue[t][i].IsBlack?"black":"white",this.dataAllocationValues[i][t].IsFilled&&this.dataAllocationValues[i][t].IsBlack&&(f="black"),this.contextEl.fillStyle=f,this.contextEl.fillRect(e,o,u,u),e+=u;o+=u}this.contextEl.closePath(),this.contextEl.stroke()},_addQuietZone:function(){var i=this.Model.quietZone.all,n,t;i<2&&(i=2);var r=this.noOfModules+2*i,u=this.noOfModules+2*i,f=this._create2DArray(r,u),e=this._create2DArray(r,u);for(n=0;n<r;n++)for(t=0;t<u;t++)f[n][t]={IsBlack:!1,IsFilled:!1,IsPDP:!1},e[n][t]={IsBlack:!1,IsFilled:!1,IsPDP:!1};for(n=i;n<r-i;n++)for(t=i;t<u-i;t++)f[n][t]=this.moduleValue[n-i][t-i],e[n][t]=this.dataAllocationValues[n-i][t-i];this.moduleValue=f,this.dataAllocationValues=e},_drawFormatInformation:function(){for(var t=this.qrbarcodeValues.FormatInformation,i=0,n=0;n<7;n++)n==6?this.moduleValue[n+1][8].IsBlack=t[i]==1?!0:!1:this.moduleValue[n][8].IsBlack=t[i]==1?!0:!1,this.moduleValue[8][this.noOfModules-n-1].IsBlack=t[i++]==1?!0:!1;for(i=14,n=0;n<7;n++)n==6?this.moduleValue[8][n+1].IsBlack=t[i]==1?!0:!1:this.moduleValue[8][n].IsBlack=t[i]==1?!0:!1,this.moduleValue[this.noOfModules-n-1][8].IsBlack=t[i--]==1?!0:!1;this.moduleValue[8][8].IsBlack=t[7]==1?!0:!1,this.moduleValue[8][this.noOfModules-8].IsBlack=t[7]==1?!0:!1},_dataAllocationAndMasking:function(n){var r=this.noOfModules,u,i,t,f;for(this.dataAllocationValues=this._create2DArray(r,r),u=0,i=0;i<r;i++)for(t=0;t<r;t++)this.dataAllocationValues[i][t]={IsBlack:!1,IsFilled:!1,IsPDP:!1};for(i=r-1;i>=0;i-=2){for(t=r-1;t>=0;t--)u=this._allocateValues(n,i,t,u);for(i-=2,i==6&&i--,t=0;t<r;t++)u=this._allocateValues(n,i,t,u)}for(i=0;i<r;i++)for(t=0;t<r;t++)this.moduleValue[i][t].IsFilled||(f=this.dataAllocationValues[i][t].IsBlack,this.dataAllocationValues[i][t].IsBlack=f?!1:!0)},_allocateValues:function(n,t,i,r){return this.moduleValue[t][i].IsFilled&&this.moduleValue[t-1][i].IsFilled||(this.moduleValue[t][i].IsFilled||(r+1<n.length&&(this.dataAllocationValues[t][i].IsBlack=n[r++]),this.dataAllocationValues[t][i].IsBlack=(t+i)%3==0?this.dataAllocationValues[t][i].IsBlack?!0:!1:this.dataAllocationValues[t][i].IsBlack?!1:!0,this.dataAllocationValues[t][i].IsFilled=!0),this.moduleValue[t-1][i].IsFilled||(r+1<n.length&&(this.dataAllocationValues[t-1][i].IsBlack=n[r++]),this.dataAllocationValues[t-1][i].IsBlack=(t-1+i)%3==0?this.dataAllocationValues[t-1][i].IsBlack?!0:!1:this.dataAllocationValues[t-1][i].IsBlack?!1:!0,this.dataAllocationValues[t-1][i].IsFilled=!0)),r},_encodeData:function(){var t=[],i=-1,b,s,f,nt,w,l,u,e,a,k,d,g,tt,y,it,c,v,n,o,r;switch(this.mode){case"numeric":t[++i]=!1,t[++i]=!1,t[++i]=!1,t[++i]=!0;break;case"alphanumeric":t[++i]=!1,t[++i]=!1,t[++i]=!0,t[++i]=!1;break;case"binary":if(this.isEci)for(t[++i]=!1,t[++i]=!0,t[++i]=!0,t[++i]=!0,e=this._stringToBoolArray(this.m_EciAssignmentNumber.toString(),8),b=0;b<e.length;b++)t[++i]=e[b];t[++i]=!1,t[++i]=!0,t[++i]=!1,t[++i]=!1}if(s=0,this.m_Version<10)switch(this.mode){case"numeric":s=10;break;case"alphanumeric":s=9;break;case"binary":s=8}else if(this.m_Version<27)switch(this.mode){case"numeric":s=12;break;case"alphanumeric":s=11;break;case"binary":s=16}else switch(this.mode){case"numeric":s=14;break;case"alphanumeric":s=13;break;case"binary":s=16}for(f=this.Model.text,nt=this._intToBoolArray(f.length,s),n=0;n<s;n++)t[++i]=nt[n];if(this.mode=="numeric"){for(u="",n=0;n<f.length;n++)if(e=[],u+=f[n],n%3==2&&n!=0||n==f.length-1)for(e=u.length==3?this._stringToBoolArray(u,10):u.length==2?this._stringToBoolArray(u,7):this._stringToBoolArray(u,4),u="",r=0;r<e.length;r++)t[++i]=e[r]}else if(this.mode=="alphanumeric")for(w="",u=0,n=0;n<f.length;n++){if(e=[],w+=f[n],n%2==0&&n+1!=f.length&&(u=45*this._getAlphanumericvalues(f[n])),n%2==1&&n!=0){for(u+=this._getAlphanumericvalues(f[n]),e=this._intToBoolArray(u,11),u=0,l=0;l<e.length;l++)t[++i]=e[l];w=""}if(n!=1&&w!=null&&n+1==f.length&&w.length==1)for(u=this._getAlphanumericvalues(f[n]),e=this._intToBoolArray(u,6),u=0,r=0;r<e.length;r++)t[++i]=e[r]}else if(this.mode="binary")for(n=0;n<f.length;n++){if(u=0,f.charCodeAt(n)>=32&&f.charCodeAt(n)<=126||f.charCodeAt(n)>=161&&f.charCodeAt(n)<=255)u=f.charCodeAt(n);else if(f.charCodeAt(n)>=65377&&f.charCodeAt(n)<=65439)u=f.charCodeAt(n)-65216;else{console.log("Input text contains non-convertable characters");return}for(e=this._intToBoolArray(u,8),r=0;r<e.length;r++)t[++i]=e[r]}for(n=0;n<4;n++)if(t.length==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!1;for(;;)if(t.length%8==0)break;else t[++i]=!1;for(;;){if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!0,t[++i]=!0,t[++i]=!0,t[++i]=!1,t[++i]=!0,t[++i]=!0,t[++i]=!1,t[++i]=!1;if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!1,t[++i]=!1,t[++i]=!1,t[++i]=!0,t[++i]=!1,t[++i]=!1,t[++i]=!1,t[++i]=!0}y=this.qrbarcodeValues.NumberOfDataCodeWord,blocks=this.qrbarcodeValues.NumberOfErrorCorrectionBlocks,a=blocks[0],blocks.length==6&&(a=blocks[0]+blocks[3]);var p=new Array(a),h=t,l=-1;if(blocks.length==6)for(k=blocks[0]*blocks[2]*8,h=new Array(k),n=0;n<k;n++)h[++l]=t[n];for(d=this._create2DArray(blocks[0],h.length/8/blocks[0]),d=this._createBlocks(h,blocks[0]),n=0;n<blocks[0];n++)p[n]=this._splitCodeWord(d,n,h.length/8/blocks[0]);if(l=-1,blocks.length==6){for(h=[],n=parseInt(blocks[0]*blocks[2]*8);n<t.length;n++)h[++l]=t[n];for(g=this._create2DArray(blocks[0],h.length/8/blocks[3]),g=this._createBlocks(h,blocks[3]),n=blocks[0],v=0;n<a;n++)p[n]=this._splitCodeWord(g,v++,h.length/8/blocks[3])}for(t=[],i=-1,n=0;n<125;n++)for(o=0;o<a;o++)for(r=0;r<8;r++)n<p[o].length&&(tt=p[o][n][r],t[++i]=tt=="1"?!0:!1);for(this.corCodeWords={DataBits:this.qrbarcodeValues.NumberOfDataCodeWord,ECCW:this.qrbarcodeValues.NumberOfErrorCorrectingCodeWords,DC:0},y=this.corCodeWords.DataBits,it=this.corCodeWords.ECCW,blocks=this.qrbarcodeValues.NumberOfErrorCorrectionBlocks,this.corCodeWords.DataBits=blocks.length==6?(y-blocks[3]*blocks[5])/blocks[0]:y/blocks[0],this.corCodeWords.ECCW=it/a,c=new Array(a),v=0,n=0;n<blocks[0];n++)this.corCodeWords.DC=p[v],c[v++]=this._getERCW();if(blocks.length==6)for(this.corCodeWords.DataBits=(y-blocks[0]*blocks[2])/blocks[3],n=0;n<blocks[3];n++)this.corCodeWords.DC=p[v],c[v++]=this._getERCW();if(blocks.length!=6)for(n=0;n<c[0].length;n++)for(o=0;o<blocks[0];o++)for(r=0;r<8;r++)n<c[o].length&&(t[++i]=c[o][n][r]=="1"?!0:!1);else for(n=0;n<c[0].length;n++)for(o=0;o<a;o++)for(r=0;r<8;r++)n<c[o].length&&(t[++i]=c[o][n][r]=="1"?!0:!1);this._dataAllocationAndMasking(t)},_getERCW:function(){var i,t=new Array(this.corCodeWords.DataBits),n=[];switch(this.corCodeWords.ECCW){case 7:n=[0,87,229,146,149,238,102,21],n=this._getElement(n);break;case 10:n=[0,251,67,46,61,118,70,64,94,32,45],n=this._getElement(n);break;case 13:n=[0,74,152,176,100,86,100,106,104,130,218,206,140,78],n=this._getElement(n);break;case 15:n=[0,8,183,61,91,202,37,51,58,58,237,140,124,5,99,105],n=this._getElement(n);break;case 16:n=[0,120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120],n=this._getElement(n);break;case 17:n=[0,43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136],n=this._getElement(n);break;case 18:n=[0,215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153],n=this._getElement(n);break;case 20:n=[0,17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190],n=this._getElement(n);break;case 22:n=[0,210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231],n=this._getElement(n);break;case 24:n=[0,229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21],n=this._getElement(n);break;case 26:n=[0,173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70],n=this._getElement(n);break;case 28:n=[0,168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123],n=this._getElement(n);break;case 30:n=[0,41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180],n=this._getElement(n);break;case 32:n=[0,10,6,106,190,249,167,4,67,209,138,138,32,242,123,89,27,120,185,80,156,38,69,171,60,28,222,80,52,254,185,220,241],n=this._getElement(n);break;case 34:n=[0,111,77,146,94,26,21,108,19,105,94,113,193,86,140,163,125,58,158,229,239,218,103,56,70,114,61,183,129,167,13,98,62,129,51],n=this._getElement(n);break;case 36:n=[0,200,183,98,16,172,31,246,234,60,152,115,0,167,152,113,248,238,107,18,63,218,37,87,210,105,177,120,74,121,196,117,251,113,233,30,120],n=this._getElement(n);break;case 40:n=[0,59,116,79,161,252,98,128,205,128,161,247,57,163,56,235,106,53,26,187,174,226,104,170,7,175,35,181,114,88,41,47,163,125,134,72,20,232,53,35,15],n=this._getElement(n);break;case 42:n=[0,250,103,221,230,25,18,137,231,0,3,58,242,221,191,110,84,230,8,188,106,96,147,15,131,139,34,101,223,39,101,213,199,237,254,201,123,171,162,194,117,50,96],n=this._getElement(n);break;case 44:n=[0,190,7,61,121,71,246,69,55,168,188,89,243,191,25,72,123,9,145,14,247,1,238,44,78,143,62,224,126,118,114,68,163,52,194,217,147,204,169,37,130,113,102,73,181],n=this._getElement(n);break;case 46:n=[0,112,94,88,112,253,224,202,115,187,99,89,5,54,113,129,44,58,16,135,216,169,211,36,1,4,96,60,241,73,104,234,8,249,245,119,174,52,25,157,224,43,202,223,19,82,15],n=this._getElement(n);break;case 48:n=[0,228,25,196,130,211,146,60,24,251,90,39,102,240,61,178,63,46,123,115,18,221,111,135,160,182,205,107,206,95,150,120,184,91,21,247,156,140,238,191,11,94,227,84,50,163,39,34,108],n=this._getElement(n);break;case 50:n=[0,232,125,157,161,164,9,118,46,209,99,203,193,35,3,209,111,195,242,203,225,46,13,32,160,126,209,130,160,242,215,242,75,77,42,189,32,113,65,124,69,228,114,235,175,124,170,215,232,133,205],n=this._getElement(n);break;case 52:n=[0,116,50,86,186,50,220,251,89,192,46,86,127,124,19,184,233,151,215,22,14,59,145,37,242,203,134,254,89,190,94,59,65,124,113,100,233,235,121,22,76,86,97,39,242,200,220,101,33,239,254,116,51],n=this._getElement(n);break;case 54:n=[0,183,26,201,87,210,221,113,21,46,65,45,50,238,184,249,225,102,58,209,218,109,165,26,95,184,192,52,245,35,254,238,175,172,79,123,25,122,43,120,108,215,80,128,201,235,8,153,59,101,31,198,76,31,156],n=this._getElement(n);break;case 56:n=[0,106,120,107,157,164,216,112,116,2,91,248,163,36,201,202,229,6,144,254,155,135,208,170,209,12,139,127,142,182,249,177,174,190,28,10,85,239,184,101,124,152,206,96,23,163,61,27,196,247,151,154,202,207,20,61,10],n=this._getElement(n);break;case 58:n=[0,82,116,26,247,66,27,62,107,252,182,200,185,235,55,251,242,210,144,154,237,176,141,192,248,152,249,206,85,253,142,65,165,125,23,24,30,122,240,214,6,129,218,29,145,127,134,206,245,117,29,41,63,159,142,233,125,148,123],n=this._getElement(n);break;case 60:n=[0,107,140,26,12,9,141,243,197,226,197,219,45,211,101,219,120,28,181,127,6,100,247,2,205,198,57,115,219,101,109,160,82,37,38,238,49,160,209,121,86,11,124,30,181,84,25,194,87,65,102,190,220,70,27,209,16,89,7,33,240],n=this._getElement(n);break;case 62:n=[0,65,202,113,98,71,223,248,118,214,94,0,122,37,23,2,228,58,121,7,105,135,78,243,118,70,76,223,89,72,50,70,111,194,17,212,126,181,35,221,117,235,11,229,149,147,123,213,40,115,6,200,100,26,246,182,218,127,215,36,186,110,106],n=this._getElement(n);break;case 64:n=[0,45,51,175,9,7,158,159,49,68,119,92,123,177,204,187,254,200,78,141,149,119,26,127,53,160,93,199,212,29,24,145,156,208,150,218,209,4,216,91,47,184,146,47,140,195,195,125,242,238,63,99,108,140,230,242,31,204,11,178,243,217,156,213,231],n=this._getElement(n);break;case 66:n=[0,5,118,222,180,136,136,162,51,46,117,13,215,81,17,139,247,197,171,95,173,65,137,178,68,111,95,101,41,72,214,169,197,95,7,44,154,77,111,236,40,121,143,63,87,80,253,240,126,217,77,34,232,106,50,168,82,76,146,67,106,171,25,132,93,45,105],n=this._getElement(n);break;case 68:n=[0,247,159,223,33,224,93,77,70,90,160,32,254,43,150,84,101,190,205,133,52,60,202,165,220,203,151,93,84,15,84,253,173,160,89,227,52,199,97,95,231,52,177,41,125,137,241,166,225,118,2,54,32,82,215,175,198,43,238,235,27,101,184,127,3,5,8,163,238],n=this._getElement(n)}return t=this._toDecimal(this.corCodeWords.DC,t),i=this._divide(n,t),this._toBinary(i)},_toBinary:function(n){for(var f=new Array(this.corCodeWords.ECCW),i,r,u,t=0;t<n.length;t++){for(i=n[t].toString(2),r=new String,u=0;u<8-i.length;u++)r+="0";f[t]=r+i}return f},_divide:function(n,t){for(var e=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142],c=this.corCodeWords.DataBits+this.corCodeWords.ECCW,r=new Array(c),l=new Array(this.corCodeWords.ECCW),a=new Array(n.length),v=new Array(c),o,s,f,u,h,i=0;i<n.length;i++)a[i]=this._findElement(n[i],e);for(i=0;i<t.length;i++)r[i]=t[i];for(i=0;i<this.corCodeWords.DC.length;i++)for(v[i]=this._findElement(r[i],e),o=i,s=i,f=0;f<n.length;f++)u=a[f]+v[i],u>=255&&(u=u-255),r[s]=e[u]^r[o],s++,o++;for(h=r.length-1,i=this.corCodeWords.ECCW-1;i>=0;i--)l[i]=r[h],h--;return l},_findElement:function(n,t){for(var i=0;i<t.length;i++)if(n==t[i])break;return i},_getElement:function(n){for(var i=new Array(n.length),r=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142],t=0;t<n.length;t++)n[t]>255&&(n[t]=n[t]-255),i[t]=r[n[t]];return i},_toDecimal:function(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=parseInt(n[t],2);return i},_splitCodeWord:function(n,t,i){var u,r;for(i=parseInt(i),u=new Array(i),r=0;r<i;r++)u[r]=n[t][r];return u},_createBlocks:function(n,t){for(var f=this._create2DArray(t,n.length/8/t),u="",i=0,r=0,e=0;i<n.length;i++)i%8==0&&i!=0&&(f[e][r]=u,u="",r++,r==n.length/t/8&&(e++,r=0)),u+=n[i]?1:0;return f[e][r]=u,f},_getAlphanumericvalues:function(n){return["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"].indexOf(n)},_stringToBoolArray:function(n,t){for(var u=new Array(t),r=0,i=0;i<n.length;i++)r=r*10+n.charCodeAt(i)-48;for(i=0;i<t;i++)u[t-i-1]=(r>>i&1)==1;return u},_intToBoolArray:function(n,t){for(var r=new Array(t),i=0;i<t;i++)r[t-i-1]=(n>>i&1)==1;return r},_drawPDP:function(n,t){for(var i=n,r=t;i<n+7;i++,r++)this.moduleValue[i][t].IsBlack=!0,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+6].IsBlack=!0,this.moduleValue[i][t+6].IsFilled=!0,this.moduleValue[i][t+6].IsPDP=!0,t+7<this.noOfModules?(this.moduleValue[i][t+7].IsBlack=!1,this.moduleValue[i][t+7].IsFilled=!0,this.moduleValue[i][t+7].IsPDP=!0):t-1>=0&&(this.moduleValue[i][t-1].IsBlack=!1,this.moduleValue[i][t-1].IsFilled=!0,this.moduleValue[i][t-1].IsPDP=!0),this.moduleValue[n][r].IsBlack=!0,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+6][r].IsBlack=!0,this.moduleValue[n+6][r].IsFilled=!0,this.moduleValue[n+6][r].IsPDP=!0,n+7<this.noOfModules?(this.moduleValue[n+7][r].IsBlack=!1,this.moduleValue[n+7][r].IsFilled=!0,this.moduleValue[n+7][r].IsPDP=!0):n-1>=0&&(this.moduleValue[n-1][r].IsBlack=!1,this.moduleValue[n-1][r].IsFilled=!0,this.moduleValue[n-1][r].IsPDP=!0);for(n+7<this.noOfModules&&t+7<this.noOfModules?(this.moduleValue[n+7][t+7].IsBlack=!1,this.moduleValue[n+7][t+7].IsFilled=!0,this.moduleValue[n+7][t+7].IsPDP=!0):n+7<this.noOfModules&&t+7>=this.noOfModules?(this.moduleValue[n+7][t-1].IsBlack=!1,this.moduleValue[n+7][t-1].IsFilled=!0,this.moduleValue[n+7][t-1].IsPDP=!0):n+7>=this.noOfModules&&t+7<this.noOfModules&&(this.moduleValue[n-1][t+7].IsBlack=!1,this.moduleValue[n-1][t+7].IsFilled=!0,this.moduleValue[n-1][t+7].IsPDP=!0),n++,t++,i=n,r=t;i<n+5;i++,r++)this.moduleValue[i][t].IsBlack=!1,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+4].IsBlack=!1,this.moduleValue[i][t+4].IsFilled=!0,this.moduleValue[i][t+4].IsPDP=!0,this.moduleValue[n][r].IsBlack=!1,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+4][r].IsBlack=!1,this.moduleValue[n+4][r].IsFilled=!0,this.moduleValue[n+4][r].IsPDP=!0;for(n++,t++,i=n,r=t;i<n+3;i++,r++)this.moduleValue[i][t].IsBlack=!0,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+2].IsBlack=!0,this.moduleValue[i][t+2].IsFilled=!0,this.moduleValue[i][t+2].IsPDP=!0,this.moduleValue[n][r].IsBlack=!0,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+2][r].IsBlack=!0,this.moduleValue[n+2][r].IsFilled=!0,this.moduleValue[n+2][r].IsPDP=!0;this.moduleValue[n+1][t+1].IsBlack=!0,this.moduleValue[n+1][t+1].IsFilled=!0,this.moduleValue[n+1][t+1].IsPDP=!0},_drawAlignmentPattern:function(n,t){for(var i=n-2,r=t-2;i<n+3;i++,r++)this.moduleValue[i][t-2].IsBlack=!0,this.moduleValue[i][t-2].IsFilled=!0,this.moduleValue[i][t+2].IsBlack=!0,this.moduleValue[i][t+2].IsFilled=!0,this.moduleValue[n-2][r].IsBlack=!0,this.moduleValue[n-2][r].IsFilled=!0,this.moduleValue[n+2][r].IsBlack=!0,this.moduleValue[n+2][r].IsFilled=!0;for(i=n-1,r=t-1;i<n+2;i++,r++)this.moduleValue[i][t-1].IsBlack=!1,this.moduleValue[i][t-1].IsFilled=!0,this.moduleValue[i][t+1].IsBlack=!1,this.moduleValue[i][t+1].IsFilled=!0,this.moduleValue[n-1][r].IsBlack=!1,this.moduleValue[n-1][r].IsFilled=!0,this.moduleValue[n+1][r].IsBlack=!1,this.moduleValue[n+1][r].IsFilled=!0;this.moduleValue[n][t].IsBlack=!0,this.moduleValue[n][t].IsFilled=!0},_getAlignmentPatternCoOrdinates:function(){var n=[];switch(this.m_Version){case 02:n=[6,18];break;case 03:n=[6,22];break;case 04:n=[6,26];break;case 05:n=[6,30];break;case 06:n=[6,34];break;case 07:n=[6,22,38];break;case 8:n=[6,24,42];break;case 9:n=[6,26,46];break;case 10:n=[6,28,50];break;case 11:n=[6,30,54];break;case 12:n=[6,32,58];break;case 13:n=[6,34,62];break;case 14:n=[6,26,46,66];break;case 15:n=[6,26,48,70];break;case 16:n=[6,26,50,74];break;case 17:n=[6,30,54,78];break;case 18:n=[6,30,56,82];break;case 19:n=[6,30,58,86];break;case 20:n=[6,34,62,90];break;case 21:n=[6,28,50,72,94];break;case 22:n=[6,26,50,74,98];break;case 23:n=[6,30,54,78,102];break;case 24:n=[6,28,54,80,106];break;case 25:n=[6,32,58,84,110];break;case 26:n=[6,30,58,86,114];break;case 27:n=[6,34,62,90,118];break;case 28:n=[6,26,50,74,98,122];break;case 29:n=[6,30,54,78,102,126];break;case 30:n=[6,26,52,78,104,130];break;case 31:n=[6,30,56,82,108,134];break;case 32:n=[6,34,60,86,112,138];break;case 33:n=[6,30,58,86,114,142];break;case 34:n=[6,34,62,90,118,146];break;case 35:n=[6,30,54,78,102,126,150];break;case 36:n=[6,24,50,76,102,128,154];break;case 37:n=[6,28,54,80,106,132,158];break;case 38:n=[6,32,58,84,110,136,162];break;case 39:n=[6,26,54,82,110,138,166];break;case 40:n=[6,30,58,86,114,142,170]}return n},_findECINumber:function(n){for(var i=3,u,r=0;r<n.length;r++)if(u=n.charCodeAt(r),!(u>=32)||!(u<=255)){var t=u.toString(16);if(["2591","2592","2593","2502","2524","2561","2562","2556","2555","2563","2551","2557","255D","255C","255B","2510","2514","2534","252C","251C","2500","253C","255E","255F","255A","2554","2569","2566","2560","2550","256C","2567","2568","2564","2565","2559","2558","2552","2553","256B","256A","2518","250C","2588","2584","258C","2590","2580","25A0"].indexOf(t)!=-1){i=2;break}else if(["104","2D8","141","13D","15A","160","15E","164","179","17D","17B","105","2DB","142","13E","15B","2C7","161","15F","165","17A","2DD","17E","17C","154","102","139","106","10C","118","11A","10E","110","143","147","150","158","16E","170","162","155","103","13A","107","10D","119","11B","10F","111","144","148","151","159","16F","171","163","2D9"].indexOf(t)!=-1){i=4;break}else if(["126","124","130","15E","11E","134","17B","127","125","131","15F","11F","135","17C","10A","108","120","11C","16C","15C","10B","109","121","11D","16D","15D"].indexOf(t)!=-1){i=5;break}else if(["104","138","156","128","13B","160","112","122","166","17D","105","2DB","157","129","13C","2C7","161","113","123","167","14A","17E","14B","100","12E","10C","118","116","12A","110","145","14C","136","172","168","16A","101","12F","10D","119","117","12B","111","146","14D","137","173","169","16B"].indexOf(t)!=-1){i=6;break}else if(t>=1025&&t<=1119&&t!=1037&&t!=1104&&t!=1117){i=7;break}else if(t>=1569&&t<=1594||t>=1600&&t<=1618||t==1567||t==1563||t==1548){i=8;break}else if(t>=900&&t<=974||t==890){i=9;break}else if(t>=1488&&t<=1514){i=10;break}else if(t>=3585&&t<=3675){i=13;break}else if(["141","104","15E","17B","142","105","15F","13D","13E","17C"].indexOf(t)!=1||t>=1569&&t<=1610){i=21;break}else if(["402","403","453","409","40A","40C","40B","40F","452","459","45A","45C","45B","45F","40E","45E","408","490","401","404","407","406","456","491","451","454","458","405","455","457"].indexOf(t)!=1||t>=1040&&t<=1103){i=22;break}else if(["20AC","201A","192","201E","2026","2020","2021","2C6","2030","160","2039","152","17D","2018","2019","201C","201D","2022","2013","2014","2DC","2122","161","203A","153","17E","178"].indexOf(t)!=-1){i=23;break}else if(["67E","679","152","686","698","688","6AF","6A9","691","153","6BA","6BE","6C1"].indexOf(t)!=-1){i=24;break}}return i},_getNumberOfDataCodeWord:function(){var n=0;switch(this.m_Version){case 01:n=16;break;case 02:n=28;break;case 03:n=44;break;case 04:n=64;break;case 05:n=86;break;case 06:n=108;break;case 07:n=124;break;case 8:n=154;break;case 9:n=182;break;case 10:n=216;break;case 11:n=254;break;case 12:n=290;break;case 13:n=334;break;case 14:n=365;break;case 15:n=415;break;case 16:n=453;break;case 17:n=507;break;case 18:n=563;break;case 19:n=627;break;case 20:n=669;break;case 21:n=714;break;case 22:n=782;break;case 23:n=860;break;case 24:n=914;break;case 25:n=1e3;break;case 26:n=1062;break;case 27:n=1128;break;case 28:n=1193;break;case 29:n=1267;break;case 30:n=1373;break;case 31:n=1455;break;case 32:n=1541;break;case 33:n=1631;break;case 34:n=1725;break;case 35:n=1812;break;case 36:n=1914;break;case 37:n=1992;break;case 38:n=2102;break;case 39:n=2216;break;case 40:n=2334}return n},_getNumberOfErrorCorrectingCodeWords:function(){var n=(this.m_Version-1)*4,t;return n+=1,t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],t[n]},_getNumberOfErrorCorrectionBlocks:function(){var n=[];switch(this.m_Version){case 01:case 02:case 03:n[0]=1;break;case 04:case 05:n[0]=2;break;case 06:case 07:n[0]=4;break;case 8:n=[2,60,38,2,61,39];break;case 9:n=[3,58,36,2,59,37];break;case 10:n=[4,69,43,1,70,44];break;case 11:n=[1,80,50,4,81,51];break;case 12:n=[6,58,36,2,59,37];break;case 13:n=[8,59,37,1,60,38];break;case 14:n=[4,64,40,5,65,41];break;case 15:n=[5,65,41,5,66,42];break;case 16:n=[7,73,45,3,74,46];break;case 17:n=[10,74,46,1,75,47];break;case 18:n=[9,69,43,4,70,44];break;case 19:n=[3,70,44,11,71,45];break;case 20:n=[3,67,41,13,68,42];break;case 21:case 22:n[0]=17;break;case 23:n=[4,75,47,14,76,48];break;case 24:n=[6,73,45,14,74,46];break;case 25:n=[8,75,47,13,76,48];break;case 26:n=[19,74,46,4,75,47];break;case 27:n=[22,73,45,3,74,46];break;case 28:n=[3,73,45,23,74,46];break;case 29:n=[21,73,45,7,74,46];break;case 30:n=[19,75,47,10,76,48];break;case 31:n=[2,74,46,29,75,47];break;case 32:n=[10,74,46,23,75,47];break;case 33:n=[14,74,46,21,75,47];break;case 34:n=[14,74,46,23,75,47];break;case 35:n=[12,75,47,26,76,48];break;case 36:n=[6,75,47,34,76,48];break;case 37:n=[29,74,46,14,75,47];break;case 38:n=[13,74,46,32,75,47];break;case 39:n=[40,75,47,7,76,48];break;case 40:n=[18,75,47,31,76,48]}return n},_getEnd:function(){return[208,359,567,807,1079,1383,1568,1936,2336,2768,3232,3728,4256,4651,5243,5867,6523,7211,7931,8683,9252,10068,10916,11796,12708,13652,14628,15371,16411,17483,18587,19723,20891,22091,23008,24272,25568,26896,28256,29648][this.m_Version-1]},_getDataCapacity:function(){return[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706][this.m_Version-1]},_getFormatInformation:function(){return[1,1,0,1,0,0,1,0,1,1,0,1,1,0,1]},_getVersionInformation:function(){var n=[];switch(this.m_Version){case 07:n=[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0];break;case 8:n=[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0];break;case 9:n=[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0];break;case 10:n=[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0];break;case 11:n=[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0];break;case 12:n=[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0];break;case 13:n=[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0];break;case 14:n=[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0];break;case 15:n=[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0];break;case 16:n=[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0];break;case 17:n=[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0];break;case 18:n=[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0];break;case 19:n=[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0];break;case 20:n=[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0];break;case 21:n=[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0];break;case 22:n=[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0];break;case 23:n=[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0];break;case 24:n=[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0];break;case 25:n=[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0];break;case 26:n=[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0];break;case 27:n=[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0];break;case 28:n=[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0];break;case 29:n=[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0];break;case 30:n=[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0];break;case 31:n=[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0];break;case 32:n=[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1];break;case 33:n=[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1];break;case 34:n=[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1];break;case 35:n=[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1];break;case 36:n=[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1];break;case 37:n=[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1];break;case 38:n=[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1];break;case 39:n=[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1];break;case 40:n=[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]}return n},_getStringCodePoints:function(){function n(n,t){return((n&1023)<<10)+(t&1023)+65536}return function(t){for(var u=[],i=0,r;i<t.length;)r=t.charCodeAt(i),(r&63488)==55296?u.push(n(r,t.charCodeAt(++i))):u.push(r),++i;return u}}(),_create2DArray:function(n,t){var r,i;for(n=parseInt(n),t=parseInt(t),r=new Array(n),i=0;i<n;i++)r[i]=new Array(t);return r},_buildDataMatrix:function(){for(var h=[[10,10,1,1,3,5,1,3],[12,12,1,1,5,7,1,5],[14,14,1,1,8,10,1,8],[16,16,1,1,12,12,1,12],[18,18,1,1,18,14,1,18],[20,20,1,1,22,18,1,22],[22,22,1,1,30,20,1,30],[24,24,1,1,36,24,1,36],[26,26,1,1,44,28,1,44],[32,32,2,2,62,36,1,62],[36,36,2,2,86,42,1,86],[40,40,2,2,114,48,1,114],[44,44,2,2,144,56,1,144],[48,48,2,2,174,68,1,174],[52,52,2,2,204,84,2,102],[64,64,4,4,280,112,2,140],[72,72,4,4,368,144,4,92],[80,80,4,4,456,192,4,114],[88,88,4,4,576,224,4,144],[96,96,4,4,696,272,4,174],[104,104,4,4,816,336,6,136],[120,120,6,6,1050,408,6,175],[132,132,6,6,1304,496,8,163],[144,144,6,6,1558,620,10,156],[8,18,1,1,5,7,1,5],[8,32,2,1,10,11,1,10],[12,26,1,1,16,14,1,16],[12,36,2,1,22,18,1,22],[16,36,2,1,32,24,1,32],[16,48,2,1,49,28,1,49]],u=this._getStringCodePoints(this.Model.text),a,i,t=[],e=0,f,s,n=0;n<u.length;n++)u[n]<127?t[e]=u[n]+1:(t[e++]=235,t[e]=u[n]-127),e++;for(n=0;n<h.length;n++)if(h[n][4]>=u.length){i=h[n];break}if(i[4]>t.length){var r=t.length,o=new Array(i[4]);for(f=0;f<r;f++)o[f]=t[f];for(r<i[4]+1&&(o[r]=129),r++;r<i[4];)s=129+(r+1)*149%253+1,s>254&&(s-=254),o[r++]=s;t=o}a=i[5],errCorrArray=this._errorCorrection(a,t);var y=t.concat(errCorrArray),c=this._createMatrix(y,i),l=c.length*this.Model.xDimension,v=c[0].length*this.Model.xDimension;this.Model.width=l,this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width),this.contextEl.beginPath(),this.contextEl.fillStyle="white",this.contextEl.fillRect(0,0,l,v),this.contextEl.closePath(),this._drawDataMatrix(c,l,v)},_drawDataMatrix:function(n,t,i){var r,e,u,o,f,s;for(this.Model.height=i,this.canvasEl[0].setAttribute("height",this.Model.height),this.BarcodeEl.css("height",this.Model.height),r=parseInt(this.Model.xDimension),e=0,this.contextEl.beginPath(),u=0;u<n.length;u++){for(o=0,f=0;f<n[u].length;f++)s="white",n[u][f]==1&&(s="black"),this.contextEl.fillStyle=s,this.contextEl.fillRect(o,e,r,r),o+=r;e+=r}this.contextEl.closePath(),this.contextEl.stroke()},_createMatrix:function(n,t){var r,u,c,l,b=[],e=t[1],s=t[0],k=e/t[2],d=s/t[3],o,a,rt,p,w,g,i,f;for(c=e-2*(e/k),l=s-2*(s/d),b=new Array(c*l),this._ecc200placement(b,l,c),o=new Array(e*s),i=0;i<o.length;i++)o[i]=0;for(u=0;u<s;u+=d){for(r=0;r<e;r++)o[parseInt(u*e)+r]=1;for(r=0;r<e;r+=2)o[parseInt((u+d-1)*e)+r]=1}for(r=0;r<e;r+=k){for(u=0;u<s;u++)o[parseInt(u*e)+r]=1;for(u=0;u<s;u+=2)o[parseInt(u*e)+r+k-1]=1}for(u=0;u<l;u++)for(r=0;r<c;r++)a=b[(l-u-1)*c+r],(a==1||a>7&&(n[(a>>3)-1]&1<<(a&7))!=0)&&(rt=parseInt(parseInt(1+u+2*parseInt(u/(d-2)))*e+1+r+ +(2*parseInt(r/(k-2)))),o[rt]=1);var v=t[1],y=t[0],ut=this._create2DArray(v,y);for(p=0;p<v;p++)for(w=0;w<y;w++)ut[p][w]=o[v*w+p];for(g=this._create2DArray(y,v),i=0;i<y;i++)for(f=0;f<v;f++)g[y-1-i][f]=ut[f][i];var nt=t[0]+(this.Model.quietZone.top+this.Model.quietZone.bottom),tt=t[1]+(this.Model.quietZone.left+this.Model.quietZone.right),h=this.Model.quietZone.all,it=this._create2DArray(nt,tt);for(i=0;i<nt;i++)for(f=0;f<tt;f++)it[i][f]=0;for(i=h;i<nt-h;i++)for(f=h;f<tt-h;f++)it[i][f]=g[i-h][f-h];return it},_ecc200placement:function(n,t,i){for(var u,f,r=0;r<t;r++)for(u=0;u<i;u++)n[r*i+u]=0;f=1,r=4,u=0;do{r!=t||u!=0||this._ecc200placementcornerA(n,t,i,f++),r!=t-2||u!=0||i%4==0||this._ecc200placementcornerB(n,t,i,f++),r!=t-2||u!=0||i%8!=4||this._ecc200placementcornerC(n,t,i,f++),r!=t+4||u!=2||i%8!=0||this._ecc200placementcornerD(n,t,i,f++);do r<t&&u>=0&&!(n[r*i+u]!=0)&&this._ecc200placementblock(n,t,i,r,u,f++),r-=2,u+=2;while(r>=0&&u<i);r++,u+=3;do r>-1&&u<i&&!(n[r*i+u]!=0)&&this._ecc200placementblock(n,t,i,r,u,f++),r+=2,u-=2;while(r<t&&u>=0);r+=3,u++}while(r<t||u<i);n[t*i-1]!=0||(n[t*i-1]=n[t*i-i-2]=1)},_ecc200placementcornerA:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-1,0,r,7),this._ecc200placementbit(n,t,i,t-1,1,r,6),this._ecc200placementbit(n,t,i,t-1,2,r,5),this._ecc200placementbit(n,t,i,0,i-2,r,4),this._ecc200placementbit(n,t,i,0,i-1,r,3),this._ecc200placementbit(n,t,i,1,i-1,r,2),this._ecc200placementbit(n,t,i,2,i-1,r,1),this._ecc200placementbit(n,t,i,3,i-1,r,0)},_ecc200placementcornerB:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-3,0,r,7),this._ecc200placementbit(n,t,i,t-2,0,r,6),this._ecc200placementbit(n,t,i,t-1,0,r,5),this._ecc200placementbit(n,t,i,0,i-4,r,4),this._ecc200placementbit(n,t,i,0,i-3,r,3),this._ecc200placementbit(n,t,i,0,i-2,r,2),this._ecc200placementbit(n,t,i,0,i-1,r,1),this._ecc200placementbit(n,t,i,1,i-1,r,0)},_ecc200placementcornerC:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-3,0,r,7),this._ecc200placementbit(n,t,i,t-2,0,r,6),this._ecc200placementbit(n,t,i,t-1,0,r,5),this._ecc200placementbit(n,t,i,0,i-2,r,4),this._ecc200placementbit(n,t,i,0,i-1,r,3),this._ecc200placementbit(n,t,i,1,i-1,r,2),this._ecc200placementbit(n,t,i,2,i-1,r,1),this._ecc200placementbit(n,t,i,3,i-1,r,0)},_ecc200placementcornerD:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-1,0,r,7),this._ecc200placementbit(n,t,i,t-1,i-1,r,6),this._ecc200placementbit(n,t,i,0,i-3,r,5),this._ecc200placementbit(n,t,i,0,i-2,r,4),this._ecc200placementbit(n,t,i,0,i-1,r,3),this._ecc200placementbit(n,t,i,1,i-3,r,2),this._ecc200placementbit(n,t,i,1,i-2,r,1),this._ecc200placementbit(n,t,i,1,i-1,r,0)},_ecc200placementblock:function(n,t,i,r,u,f){this._ecc200placementbit(n,t,i,r-2,u-2,f,7),this._ecc200placementbit(n,t,i,r-2,u-1,f,6),this._ecc200placementbit(n,t,i,r-1,u-2,f,5),this._ecc200placementbit(n,t,i,r-1,u-1,f,4),this._ecc200placementbit(n,t,i,r-1,+u,f,3),this._ecc200placementbit(n,t,i,+r,u-2,f,2),this._ecc200placementbit(n,t,i,+r,u-1,f,1),this._ecc200placementbit(n,t,i,+r,+u,f,0)},_ecc200placementbit:function(n,t,i,r,u,f,e){r<0&&(r+=t,u+=4-(t+4)%8),u<0&&(u+=i,r+=4-(i+4)%8),n[r*i+u]=(f<<3)+e},_errorCorrection:function(n,t){var f,a=1,h,u=new Array(n+1),e=new Array(256),r=new Array(256),l,c,o,i,s;for(e[0]=-255,r[0]=1,i=1;i<=255;i++)r[i]=r[i-1]*2,r[i]>=256&&(r[i]=r[i]^301),e[r[i]]=i;for(u[0]=1,i=1;i<=n;i++){for(u[i]=1,f=i-1;f>0;f--)u[f]!=0&&(u[f]=r[(e[u[f]]+a)%255]),u[f]^=u[f-1];u[0]=r[(e[u[0]]+a)%255],a++}for(h=new Array(n),l=0;l<h.length;l++)h[l]=u[l];for(c=0,o=new Array(n),i=0;i<n;i++)o[i]=0;for(i=0;i<t.length;i++){for(c=o[n-1]^t[i],s=n-1;s>0;s--)o[s]=c!=0&&h[s]!=0?o[s-1]^r[(e[c]+e[h[s]])%255]:o[s-1];o[0]=c!=0&&h[0]!=0?r[(e[c]+e[h[0]])%255]:0}return o.reverse()},_validateText:function(n,t){var i=new RegExp(t);return i.test(n)},_getCharWidth:function(n,t){for(var r=0,u=n.split(""),i=0;i<u.length;i++)r=r+intercharacterGap+this._getWidth(t,u[i]);return r},_getWidth:function(n,t){for(var e=!1,r=0,u,f,i=0;i<n.length;i++)if(n[i][0]==t){for(u=n[i][2],f=0;f<u.length;f++)e==!1&&u.length%2!=0&&(continuous=!0),r=r+u[f]*this.Model.narrowBarWidth,e=!0;return r}return r},_draw1DBarcode:function(n,t){var e,y,i,o,r,s,u,c,l,h;if(t.length>0){var a=n.split(""),f=this.Model.quietZone.left,v=this.Model.quietZone.top;for(this.Model.height=v+this.Model.barHeight+this.Model.quietZone.bottom,e=parseInt(this.textFont.size.replace("px","")),this.Model.displayText&&(this.Model.height+=e+this.Model.barcodeToTextGapHeight),this.canvasEl[0].setAttribute("height",this.Model.height),this.BarcodeEl.css("height",this.Model.height),y=this.Model.width,i=this.Model.height,this.contextEl.beginPath(),this.contextEl.fillStyle="white",this.contextEl.fillRect(0,0,y,i),o=0;o<a.length;o++)for(r=0;r<t.length;r++)if(t[r][0]==a[o]){for(s=t[r][2],u=0;u<s.length;u++)c=s[u]*this.Model.narrowBarWidth,u%2==0&&(this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(f,v,c,this.Model.barHeight)),f+=c;s.length%2!=0&&(f+=intercharacterGap)}this.contextEl.closePath(),this.contextEl.stroke(),this.Model.width=f+=this.Model.quietZone.right,this.Model.displayText&&(l=this.textFont.fontStyle.toLowerCase()=="regular"?"":+this.textFont.fontStyle.toLowerCase()+" ",l+=this.textFont.size+" "+this.textFont.fontFamily.toLowerCase()+",sans-serif",this.contextEl.font=l,h=0,h=this.contextEl.measureText(this.Model.text).width,this.Model.width<h&&(this.Model.width=h,this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width)),this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.textColor,this.contextEl.textAlign="center",i=i-e+e/2,this.contextEl.fillText(this.Model.text,this.Model.width/2,i),this.contextEl.closePath(),this.contextEl.stroke())}}}),t.Barcode.symbologyType={code39:"code39",code39Extended:"code39extended",code11:"code11",codabar:"codabar",code32:"code32",code93:"code93",code93Extended:"code93extended",code128A:"code128a",code128B:"code128b",code128C:"code128c",dataMatrix:"datamatrix",qrBarcode:"qrbarcode"},t.Barcode.symbologySettings={code39:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[A-Z0-9 -.$/+% ]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["A",10,[3,1,1,1,1,3,1,1,3]],["B",11,[1,1,3,1,1,3,1,1,3]],["C",12,[3,1,3,1,1,3,1,1,1]],["D",13,[1,1,1,1,3,3,1,1,3]],["E",14,[3,1,1,1,3,3,1,1,1]],["F",15,[1,1,3,1,3,3,1,1,1]],["G",16,[1,1,1,1,1,3,3,1,3]],["H",17,[3,1,1,1,1,3,3,1,1]],["I",18,[1,1,3,1,1,3,3,1,1]],["J",19,[1,1,1,1,3,3,3,1,1]],["K",20,[3,1,1,1,1,1,1,3,3]],["L",21,[1,1,3,1,1,1,1,3,3]],["M",22,[3,1,3,1,1,1,1,3,1]],["N",23,[1,1,1,1,3,1,1,3,3]],["O",24,[3,1,1,1,3,1,1,3,1]],["P",25,[1,1,3,1,3,1,1,3,1]],["Q",26,[1,1,1,1,1,1,3,3,3]],["R",27,[3,1,1,1,1,1,3,3,1]],["S",28,[1,1,3,1,1,1,3,3,1]],["T",29,[1,1,1,1,3,1,3,3,1]],["U",30,[3,3,1,1,1,1,1,1,3]],["V",31,[1,3,3,1,1,1,1,1,3]],["W",32,[3,3,3,1,1,1,1,1,1]],["X",33,[1,3,1,1,3,1,1,1,3]],["Y",34,[3,3,1,1,3,1,1,1,1]],["Z",35,[1,3,3,1,3,1,1,1,1]],["-",36,[1,3,1,1,1,1,3,1,3]],[".",37,[3,3,1,1,1,1,3,1,1]],[" ",38,[1,3,3,1,1,1,3,1,1]],["$",39,[1,3,1,3,1,3,1,1,1]],["/",40,[1,3,1,3,1,1,1,3,1]],["+",41,[1,3,1,1,1,3,1,3,1]],["%",42,[1,1,1,3,1,3,1,3,1]],["*",0,[1,3,1,1,3,1,3,1,1]]]},code39extended:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[\x00-]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["A",10,[3,1,1,1,1,3,1,1,3]],["B",11,[1,1,3,1,1,3,1,1,3]],["C",12,[3,1,3,1,1,3,1,1,1]],["D",13,[1,1,1,1,3,3,1,1,3]],["E",14,[3,1,1,1,3,3,1,1,1]],["F",15,[1,1,3,1,3,3,1,1,1]],["G",16,[1,1,1,1,1,3,3,1,3]],["H",17,[3,1,1,1,1,3,3,1,1]],["I",18,[1,1,3,1,1,3,3,1,1]],["J",19,[1,1,1,1,3,3,3,1,1]],["K",20,[3,1,1,1,1,1,1,3,3]],["L",21,[1,1,3,1,1,1,1,3,3]],["M",22,[3,1,3,1,1,1,1,3,1]],["N",23,[1,1,1,1,3,1,1,3,3]],["O",24,[3,1,1,1,3,1,1,3,1]],["P",25,[1,1,3,1,3,1,1,3,1]],["Q",26,[1,1,1,1,1,1,3,3,3]],["R",27,[3,1,1,1,1,1,3,3,1]],["S",28,[1,1,3,1,1,1,3,3,1]],["T",29,[1,1,1,1,3,1,3,3,1]],["U",30,[3,3,1,1,1,1,1,1,3]],["V",31,[1,3,3,1,1,1,1,1,3]],["W",32,[3,3,3,1,1,1,1,1,1]],["X",33,[1,3,1,1,3,1,1,1,3]],["Y",34,[3,3,1,1,3,1,1,1,1]],["Z",35,[1,3,3,1,3,1,1,1,1]],["-",36,[1,3,1,1,1,1,3,1,3]],[".",37,[3,3,1,1,1,1,3,1,1]],[" ",38,[1,3,3,1,1,1,3,1,1]],["$",39,[1,3,1,3,1,3,1,1,1]],["/",40,[1,3,1,3,1,1,1,3,1]],["+",41,[1,3,1,1,1,3,1,3,1]],["%",42,[1,1,1,3,1,3,1,3,1]],["*",0,[1,3,1,1,3,1,3,1,1]]],extendedCodes:[['\0',["%","U"]],[String.fromCharCode(parseInt("0001",16)),["$","A"]],[String.fromCharCode(parseInt("0002",16)),["$","B"]],[String.fromCharCode(parseInt("0003",16)),["$","C"]],[String.fromCharCode(parseInt("0004",16)),["$","D"]],[String.fromCharCode(parseInt("0005",16)),["$","E"]],[String.fromCharCode(parseInt("0006",16)),["$","F"]],["a",["$","G"]],["\b",["$","H"]],["\t",["$","I"]],["\n",["$","J"]],['\v',["$","K"]],["\f",["$","L"]],["\r",["$","M"]],[String.fromCharCode(parseInt("000e",16)),["$","N"]],[String.fromCharCode(parseInt("000f",16)),["$","O"]],[String.fromCharCode(parseInt("0010",16)),["$","P"]],[String.fromCharCode(parseInt("0011",16)),["$","Q"]],[String.fromCharCode(parseInt("0012",16)),["$","R"]],[String.fromCharCode(parseInt("0013",16)),["$","S"]],[String.fromCharCode(parseInt("0014",16)),["$","T"]],[String.fromCharCode(parseInt("0015",16)),["$","U"]],[String.fromCharCode(parseInt("0016",16)),["$","V"]],[String.fromCharCode(parseInt("0017",16)),["$","W"]],[String.fromCharCode(parseInt("0018",16)),["$","X"]],[String.fromCharCode(parseInt("0019",16)),["$","Y"]],[String.fromCharCode(parseInt("001a",16)),["$","Z"]],[String.fromCharCode(parseInt("001b",16)),["%","A"]],[String.fromCharCode(parseInt("001c",16)),["%","B"]],[String.fromCharCode(parseInt("001d",16)),["%","C"]],[String.fromCharCode(parseInt("001e",16)),["%","D"]],[String.fromCharCode(parseInt("001f",16)),["%","E"]],[" ",[" "]],["!",["/","A"]],['"',["/","B"]],["#",["/","C"]],["$",["/","D"]],["%",["/","E"]],["&",["/","F"]],["'",["/","G"]],["(",["/","H"]],[")",["/","I"]],["*",["/","J"]],["+",["/","K"]],[",",["/","L"]],["-",["/","M"]],[".",["/","N"]],["/",["/","O"]],["0",["0"]],["1",["1"]],["2",["2"]],["3",["3"]],["4",["4"]],["5",["5"]],["6",["6"]],["7",["7"]],["8",["8"]],["9",["9"]],[":",["/","Z"]],[";",["%","F"]],["<",["%","G"]],["=",["%","H"]],[">",["%","I"]],["?",["%","J"]],["@",["%","V"]],["A",["A"]],["B",["B"]],["C",["C"]],["D",["D"]],["E",["E"]],["F",["F"]],["G",["G"]],["H",["H"]],["I",["I"]],["J",["J"]],["K",["K"]],["L",["L"]],["M",["M"]],["N",["N"]],["O",["O"]],["P",["P"]],["Q",["Q"]],["R",["R"]],["S",["S"]],["T",["T"]],["U",["U"]],["V",["V"]],["W",["W"]],["X",["X"]],["Y",["Y"]],["Z",["Z"]],["[",["%","K"]],["\\",["%","L"]],["]",["%","M"]],["^",["%","N"]],["_",["%","O"]],["`",["%","W"]],["a",["+","A"]],["b",["+","B"]],["c",["+","C"]],["d",["+","D"]],["e",["+","E"]],["f",["+","F"]],["g",["+","G"]],["h",["+","H"]],["i",["+","I"]],["j",["+","J"]],["k",["+","K"]],["l",["+","L"]],["m",["+","M"]],["n",["+","N"]],["o",["+","O"]],["p",["+","P"]],["q",["+","Q"]],["r",["+","R"]],["s",["+","S"]],["t",["+","T"]],["u",["+","U"]],["v",["+","V"]],["w",["+","W"]],["x",["+","X"]],["y",["+","Y"]],["z",["+","Z"]],["{",["%","P"]],["|",["%","Q"]],["}",["%","R"]],["~",["%","S"]],[String.fromCharCode(parseInt("007f",16)),["%","T"]]]},code11:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[0-9-]*$",symbolTable:[["0",0,[1,1,1,1,2]],["1",1,[2,1,1,1,2]],["2",2,[1,2,1,1,2]],["3",3,[2,2,1,1,1]],["4",4,[1,1,2,1,2]],["5",5,[2,1,2,1,1]],["6",6,[1,2,2,1,1]],["7",7,[1,1,1,2,2]],["8",8,[2,1,1,2,1]],["9",9,[2,1,1,1,1]],["-",10,[1,1,2,1,1]],["*",0,[1,1,2,2,1]]]},codabar:{startSymbol:"A",stopSymbol:"B",validatorExp:"^[0-9-.$/:+]*$",symbolTable:[["0",0,[1,1,1,1,1,2,2]],["1",0,[1,1,1,1,2,2,1]],["2",0,[1,1,1,2,1,1,2]],["3",0,[2,2,1,1,1,1,1]],["4",0,[1,1,2,1,1,2,1]],["5",0,[2,1,1,1,1,2,1]],["6",0,[1,2,1,1,1,1,2]],["7",0,[1,2,1,1,2,1,1]],["8",0,[1,2,2,1,1,1,1]],["9",0,[2,1,1,2,1,1,1]],["-",0,[1,1,1,2,2,1,1]],["$",0,[1,1,2,2,1,1,1]],[":",0,[2,1,1,1,2,1,2]],["/",0,[2,1,2,1,1,1,2]],[".",0,[2,1,2,1,2,1,1]],["+",0,[1,1,2,1,2,1,2]],["A",0,[1,1,2,2,1,2,1]],["B",0,[1,1,1,2,1,2,2]]]},code32:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[A-Z0-9 -*.$/+%]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["B",10,[1,1,3,1,1,3,1,1,3]],["C",11,[3,1,3,1,1,3,1,1,1]],["D",12,[1,1,1,1,3,3,1,1,3]],["F",13,[1,1,3,1,3,3,1,1,1]],["G",14,[1,1,1,1,1,3,3,1,3]],["H",15,[3,1,1,1,1,3,3,1,1]],["J",16,[1,1,1,1,3,3,3,1,1]],["K",17,[3,1,1,1,1,1,1,3,3]],["L",18,[1,1,3,1,1,1,1,3,3]],["M",19,[3,1,3,1,1,1,1,3,1]],["N",20,[1,1,1,1,3,1,1,3,3]],["P",21,[1,1,3,1,3,1,1,3,1]],["Q",22,[1,1,1,1,1,1,3,3,3]],["R",23,[3,1,1,1,1,1,3,3,1]],["S",24,[1,1,3,1,1,1,3,3,1]],["T",25,[1,1,1,1,3,1,3,3,1]],["U",26,[3,3,1,1,1,1,1,1,3]],["V",27,[1,3,3,1,1,1,1,1,3]],["W",28,[3,3,3,1,1,1,1,1,1]],["X",29,[1,3,1,1,3,1,1,1,3]],["Y",30,[3,3,1,1,3,1,1,1,1]],["Z",31,[1,3,3,1,3,1,1,1,1]],["*",0,[1,3,1,1,3,1,3,1,1]]]},code93:{startSymbol:"*",stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[A-Z0-9 -.$/+% ]+$",symbolTable:[["0",0,[1,3,1,1,1,2]],["1",1,[1,1,1,2,1,3]],["2",2,[1,1,1,3,1,2]],["3",3,[1,1,1,4,1,1]],["4",4,[1,2,1,1,1,2]],["5",5,[1,2,1,2,1,2]],["6",6,[1,2,1,3,1,1]],["7",7,[1,1,1,1,1,4]],["8",8,[1,3,1,2,1,1]],["9",9,[1,4,1,1,1,1]],["A",10,[2,1,1,1,1,3]],["B",11,[2,1,1,2,1,2]],["C",12,[2,1,1,3,1,1]],["D",13,[2,2,1,1,1,2]],["E",14,[2,2,1,2,1,1]],["F",15,[2,3,1,1,1,1]],["G",16,[1,1,2,1,1,3]],["H",17,[1,1,2,2,1,2]],["I",18,[1,1,2,3,1,1]],["J",19,[1,2,2,1,1,2]],["K",20,[1,3,2,1,1,1]],["L",21,[1,1,1,1,2,3]],["M",22,[1,1,1,2,2,2]],["N",23,[1,1,1,3,2,1]],["O",24,[1,2,1,1,2,2]],["P",25,[1,3,1,1,2,1]],["Q",26,[2,1,2,1,1,2]],["R",27,[2,1,2,2,1,1]],["S",28,[2,1,1,1,2,2]],["T",29,[2,1,1,2,2,1]],["U",30,[2,2,1,1,2,1]],["V",31,[2,2,2,1,1,1]],["W",32,[1,1,2,1,2,2]],["X",33,[1,1,2,2,2,1]],["Y",34,[1,2,2,1,2,1]],["Z",35,[1,2,3,1,1,1]],["-",36,[1,2,1,1,3,1]],[".",37,[3,1,1,1,1,2]],[" ",38,[3,1,1,2,1,1]],["$",39,[3,2,1,1,1,1]],["/",40,[1,1,2,1,3,1]],["+",41,[1,1,3,1,2,1]],["%",42,[2,1,1,1,3,1]],["*",0,[1,1,1,1,4,1]],[String.fromCharCode(parseInt("00ff",16)),0,[1,1,1,1,4,1,1]],[String.fromCharCode(parseInt("00fb",16)),43,[1,2,1,2,2,0]],[String.fromCharCode(parseInt("00fc",16)),44,[3,1,2,1,1,1]],[String.fromCharCode(parseInt("00fd",16)),45,[3,1,1,1,2,1]],[String.fromCharCode(parseInt("00fe",16)),46,[1,2,2,2,1,1]]]},code93extended:{startSymbol:"*",stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[\x00-\x00fb\x00fd\x00fe'�''�''�']+$",symbolTable:[["0",0,[1,3,1,1,1,2]],["1",1,[1,1,1,2,1,3]],["2",2,[1,1,1,3,1,2]],["3",3,[1,1,1,4,1,1]],["4",4,[1,2,1,1,1,2]],["5",5,[1,2,1,2,1,2]],["6",6,[1,2,1,3,1,1]],["7",7,[1,1,1,1,1,4]],["8",8,[1,3,1,2,1,1]],["9",9,[1,4,1,1,1,1]],["A",10,[2,1,1,1,1,3]],["B",11,[2,1,1,2,1,2]],["C",12,[2,1,1,3,1,1]],["D",13,[2,2,1,1,1,2]],["E",14,[2,2,1,2,1,1]],["F",15,[2,3,1,1,1,1]],["G",16,[1,1,2,1,1,3]],["H",17,[1,1,2,2,1,2]],["I",18,[1,1,2,3,1,1]],["J",19,[1,2,2,1,1,2]],["K",20,[1,3,2,1,1,1]],["L",21,[1,1,1,1,2,3]],["M",22,[1,1,1,2,2,2]],["N",23,[1,1,1,3,2,1]],["O",24,[1,2,1,1,2,2]],["P",25,[1,3,1,1,2,1]],["Q",26,[2,1,2,1,1,2]],["R",27,[2,1,2,2,1,1]],["S",28,[2,1,1,1,2,2]],["T",29,[2,1,1,2,2,1]],["U",30,[2,2,1,1,2,1]],["V",31,[2,2,2,1,1,1]],["W",32,[1,1,2,1,2,2]],["X",33,[1,1,2,2,2,1]],["Y",34,[1,2,2,1,2,1]],["Z",35,[1,2,3,1,1,1]],["-",36,[1,2,1,1,3,1]],[".",37,[3,1,1,1,1,2]],[" ",38,[3,1,1,2,1,1]],["$",39,[3,2,1,1,1,1]],["/",40,[1,1,2,1,3,1]],["+",41,[1,1,3,1,2,1]],["%",42,[2,1,1,1,3,1]],["*",0,[1,1,1,1,4,1]],[String.fromCharCode(parseInt("00ff",16)),0,[1,1,1,1,4,1,1]],[String.fromCharCode(parseInt("00fb",16)),43,[1,2,1,2,2,0]],[String.fromCharCode(parseInt("00fc",16)),44,[3,1,2,1,1,1]],[String.fromCharCode(parseInt("00fd",16)),45,[3,1,1,1,2,1]],[String.fromCharCode(parseInt("00fe",16)),46,[1,2,2,2,1,1]]],extendedCodes:[['\0',[String.fromCharCode(parseInt("00fc",16)),"U"]],[String.fromCharCode(parseInt("0001",16)),[String.fromCharCode(parseInt("00fb",16)),"A"]],[String.fromCharCode(parseInt("0002",16)),[String.fromCharCode(parseInt("00fb",16)),"B"]],[String.fromCharCode(parseInt("0003",16)),[String.fromCharCode(parseInt("00fb",16)),"C"]],[String.fromCharCode(parseInt("0004",16)),[String.fromCharCode(parseInt("00fb",16)),"D"]],[String.fromCharCode(parseInt("0005",16)),[String.fromCharCode(parseInt("00fb",16)),"E"]],[String.fromCharCode(parseInt("0006",16)),[String.fromCharCode(parseInt("00fb",16)),"F"]],["a",[String.fromCharCode(parseInt("00fb",16)),"G"]],["\b",[String.fromCharCode(parseInt("00fb",16)),"H"]],["\t",[String.fromCharCode(parseInt("00fb",16)),"I"]],["\n",[String.fromCharCode(parseInt("00fb",16)),"J"]],['\v',[String.fromCharCode(parseInt("00fb",16)),"K"]],["\f",[String.fromCharCode(parseInt("00fb",16)),"L"]],["\r",[String.fromCharCode(parseInt("00fb",16)),"M"]],[String.fromCharCode(parseInt("000e",16)),[String.fromCharCode(parseInt("00fb",16)),"N"]],[String.fromCharCode(parseInt("000f",16)),[String.fromCharCode(parseInt("00fb",16)),"O"]],[String.fromCharCode(parseInt("0010",16)),[String.fromCharCode(parseInt("00fb",16)),"P"]],[String.fromCharCode(parseInt("0011",16)),[String.fromCharCode(parseInt("00fb",16)),"Q"]],[String.fromCharCode(parseInt("0012",16)),[String.fromCharCode(parseInt("00fb",16)),"R"]],[String.fromCharCode(parseInt("0013",16)),[String.fromCharCode(parseInt("00fb",16)),"S"]],[String.fromCharCode(parseInt("0014",16)),[String.fromCharCode(parseInt("00fb",16)),"T"]],[String.fromCharCode(parseInt("0015",16)),[String.fromCharCode(parseInt("00fb",16)),"U"]],[String.fromCharCode(parseInt("0016",16)),[String.fromCharCode(parseInt("00fb",16)),"V"]],[String.fromCharCode(parseInt("0017",16)),[String.fromCharCode(parseInt("00fb",16)),"W"]],[String.fromCharCode(parseInt("0018",16)),[String.fromCharCode(parseInt("00fb",16)),"X"]],[String.fromCharCode(parseInt("0019",16)),[String.fromCharCode(parseInt("00fb",16)),"Y"]],[String.fromCharCode(parseInt("001a",16)),[String.fromCharCode(parseInt("00fb",16)),"Z"]],[String.fromCharCode(parseInt("001b",16)),[String.fromCharCode(parseInt("00fc",16)),"A"]],[String.fromCharCode(parseInt("001c",16)),[String.fromCharCode(parseInt("00fc",16)),"B"]],[String.fromCharCode(parseInt("001d",16)),[String.fromCharCode(parseInt("00fc",16)),"C"]],[String.fromCharCode(parseInt("001e",16)),[String.fromCharCode(parseInt("00fc",16)),"D"]],[String.fromCharCode(parseInt("001f",16)),[String.fromCharCode(parseInt("00fc",16)),"E"]],[" ",[" "]],["!",[String.fromCharCode(parseInt("00fd",16)),"A"]],['"',[String.fromCharCode(parseInt("00fd",16)),"B"]],["#",[String.fromCharCode(parseInt("00fd",16)),"C"]],["$",[String.fromCharCode(parseInt("00fd",16)),"D"]],["%",[String.fromCharCode(parseInt("00fd",16)),"E"]],["&",[String.fromCharCode(parseInt("00fd",16)),"F"]],["'",[String.fromCharCode(parseInt("00fd",16)),"G"]],["(",[String.fromCharCode(parseInt("00fd",16)),"H"]],[")",[String.fromCharCode(parseInt("00fd",16)),"I"]],["*",[String.fromCharCode(parseInt("00fd",16)),"J"]],["+",[String.fromCharCode(parseInt("00fd",16)),"K"]],[",",[String.fromCharCode(parseInt("00fd",16)),"L"]],["-",[String.fromCharCode(parseInt("00fd",16)),"M"]],[".",[String.fromCharCode(parseInt("00fd",16)),"N"]],["/",[String.fromCharCode(parseInt("00fd",16)),"O"]],["0",["0"]],["1",["1"]],["2",["2"]],["3",["3"]],["4",["4"]],["5",["5"]],["6",["6"]],["7",["7"]],["8",["8"]],["9",["9"]],[":",[String.fromCharCode(parseInt("00fd",16)),"Z"]],[";",[String.fromCharCode(parseInt("00fc",16)),"F"]],["<",[String.fromCharCode(parseInt("00fc",16)),"G"]],["=",[String.fromCharCode(parseInt("00fc",16)),"H"]],[">",[String.fromCharCode(parseInt("00fc",16)),"I"]],["?",[String.fromCharCode(parseInt("00fc",16)),"J"]],["@",[String.fromCharCode(parseInt("00fc",16)),"V"]],["A",["A"]],["B",["B"]],["C",["C"]],["D",["D"]],["E",["E"]],["F",["F"]],["G",["G"]],["H",["H"]],["I",["I"]],["J",["J"]],["K",["K"]],["L",["L"]],["M",["M"]],["N",["N"]],["O",["O"]],["P",["P"]],["Q",["Q"]],["R",["R"]],["S",["S"]],["T",["T"]],["U",["U"]],["V",["V"]],["W",["W"]],["X",["X"]],["Y",["Y"]],["Z",["Z"]],["[",[String.fromCharCode(parseInt("00fc",16)),"K"]],["\\",[String.fromCharCode(parseInt("00fc",16)),"L"]],["]",[String.fromCharCode(parseInt("00fc",16)),"M"]],["^",[String.fromCharCode(parseInt("00fc",16)),"N"]],["_",[String.fromCharCode(parseInt("00fc",16)),"O"]],["`",[String.fromCharCode(parseInt("00fc",16)),"W"]],["a",[String.fromCharCode(parseInt("00fe",16)),"A"]],["b",[String.fromCharCode(parseInt("00fe",16)),"B"]],["c",[String.fromCharCode(parseInt("00fe",16)),"C"]],["d",[String.fromCharCode(parseInt("00fe",16)),"D"]],["e",[String.fromCharCode(parseInt("00fe",16)),"E"]],["f",[String.fromCharCode(parseInt("00fe",16)),"F"]],["g",[String.fromCharCode(parseInt("00fe",16)),"G"]],["h",[String.fromCharCode(parseInt("00fe",16)),"H"]],["i",[String.fromCharCode(parseInt("00fe",16)),"I"]],["j",[String.fromCharCode(parseInt("00fe",16)),"J"]],["k",[String.fromCharCode(parseInt("00fe",16)),"K"]],["l",[String.fromCharCode(parseInt("00fe",16)),"L"]],["m",[String.fromCharCode(parseInt("00fe",16)),"M"]],["n",[String.fromCharCode(parseInt("00fe",16)),"N"]],["o",[String.fromCharCode(parseInt("00fe",16)),"O"]],["p",[String.fromCharCode(parseInt("00fe",16)),"P"]],["q",[String.fromCharCode(parseInt("00fe",16)),"Q"]],["r",[String.fromCharCode(parseInt("00fe",16)),"R"]],["s",[String.fromCharCode(parseInt("00fe",16)),"S"]],["t",[String.fromCharCode(parseInt("00fe",16)),"T"]],["u",[String.fromCharCode(parseInt("00fe",16)),"U"]],["v",[String.fromCharCode(parseInt("00fe",16)),"V"]],["w",[String.fromCharCode(parseInt("00fe",16)),"W"]],["x",[String.fromCharCode(parseInt("00fe",16)),"X"]],["y",[String.fromCharCode(parseInt("00fe",16)),"Y"]],["z",[String.fromCharCode(parseInt("00fe",16)),"Z"]],["{",[String.fromCharCode(parseInt("00fc",16)),"P"]],["|",[String.fromCharCode(parseInt("00fc",16)),"Q"]],["}",[String.fromCharCode(parseInt("00fc",16)),"R"]],["~",[String.fromCharCode(parseInt("00fc",16)),"S"]],[String.fromCharCode(parseInt("007f",16)),[String.fromCharCode(parseInt("00fc",16)),"T"]]]},code128a:{startSymbol:String.fromCharCode(parseInt("00f9",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"[\0\x0001\x0002\x0003\x0004\x0005\x0006\a\b\t\n\v\f\r\x000e\x000f\x0010\x0011\x0012\x0013\x0014\x0015\x0016\x0017\x0018\x0019\x001a\x001b\x001c\x001d\x001e\x001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\x00f0\x00f1\x00f2\x00f3\x00f4]",symbolTable:[["\0",64,[1,1,1,4,2,2]],[String.fromCharCode(parseInt("0001",16)),65,[1,2,1,1,2,4]],[String.fromCharCode(parseInt("0002",16)),66,[1,2,1,4,2,1]],[String.fromCharCode(parseInt("0003",16)),67,[1,4,1,1,2,2]],[String.fromCharCode(parseInt("0004",16)),68,[1,4,1,2,2,1]],[String.fromCharCode(parseInt("0005",16)),69,[1,1,2,2,1,4]],[String.fromCharCode(parseInt("0006",16)),70,[1,1,2,4,1,2]],["a",71,[1,2,2,1,1,4]],["\b",72,[1,2,2,4,1,1]],["\t",73,[1,4,2,1,1,2]],["\n",74,[1,4,2,2,1,1]],["\v",75,[2,4,1,2,1,1]],["\f",76,[2,2,1,1,1,4]],["\r",77,[4,1,3,1,1,1]],[String.fromCharCode(parseInt("000e",16)),78,[2,4,1,1,1,2]],[String.fromCharCode(parseInt("000f",16)),79,[1,3,4,1,1,1]],[String.fromCharCode(parseInt("0010",16)),80,[1,1,1,2,4,2]],[String.fromCharCode(parseInt("0011",16)),81,[1,2,1,1,4,2]],[String.fromCharCode(parseInt("0012",16)),82,[1,2,1,2,4,1]],[String.fromCharCode(parseInt("0013",16)),83,[1,1,4,2,1,2]],[String.fromCharCode(parseInt("0014",16)),84,[1,2,4,1,1,2]],[String.fromCharCode(parseInt("0015",16)),85,[1,2,4,2,1,1]],[String.fromCharCode(parseInt("0016",16)),86,[4,1,1,2,1,2]],[String.fromCharCode(parseInt("0017",16)),87,[4,2,1,1,1,2]],[String.fromCharCode(parseInt("0018",16)),88,[4,2,1,2,1,1]],[String.fromCharCode(parseInt("0019",16)),89,[2,1,2,1,4,1]],[String.fromCharCode(parseInt("001a",16)),90,[2,1,4,1,2,1]],[String.fromCharCode(parseInt("001b",16)),91,[4,1,2,1,2,1]],[String.fromCharCode(parseInt("001c",16)),92,[1,1,1,1,4,3]],[String.fromCharCode(parseInt("001d",16)),93,[1,1,1,3,4,1]],[String.fromCharCode(parseInt("001e",16)),94,[1,3,1,1,4,1]],[String.fromCharCode(parseInt("001f",16)),95,[1,1,4,1,1,3]],[" ",0,[2,1,2,2,2,2]],["!",1,[2,2,2,1,2,2]],['"',2,[2,2,2,2,2,1]],["#",3,[1,2,1,2,2,3]],["$",4,[1,2,1,3,2,2]],["%",5,[1,3,1,2,2,2]],["&",6,[1,2,2,2,1,3]],["'",7,[1,2,2,3,1,2]],["(",8,[1,3,2,2,1,2]],[")",9,[2,2,1,2,1,3]],["*",10,[2,2,1,3,1,2]],["+",11,[2,3,1,2,1,2]],[",",12,[1,1,2,2,3,2]],["-",13,[1,2,2,1,3,2]],[".",14,[1,2,2,2,3,1]],["/",15,[1,1,3,2,2,2]],["0",16,[1,2,3,1,2,2]],["1",17,[1,2,3,2,2,1]],["2",18,[2,2,3,2,1,1]],["3",19,[2,2,1,1,3,2]],["4",20,[2,2,1,2,3,1]],["5",21,[2,1,3,2,1,2]],["6",22,[2,2,3,1,1,2]],["7",23,[3,1,2,1,3,1]],["8",24,[3,1,1,2,2,2]],["9",25,[3,2,1,1,2,2]],[":",26,[3,2,1,2,2,1]],[";",27,[3,1,2,2,1,2]],["<",28,[3,2,2,1,1,2]],["=",29,[3,2,2,2,1,1]],[">",30,[2,1,2,1,2,3]],["?",31,[2,1,2,3,2,1]],["@",32,[2,3,2,1,2,1]],["A",33,[1,1,1,3,2,3]],["B",34,[1,3,1,1,2,3]],["C",35,[1,3,1,3,2,1]],["D",36,[1,1,2,3,1,3]],["E",37,[1,3,2,1,1,3]],["F",38,[1,3,2,3,1,1]],["G",39,[2,1,1,3,1,3]],["H",40,[2,3,1,1,1,3]],["I",41,[2,3,1,3,1,1]],["J",42,[1,1,2,1,3,3]],["K",43,[1,1,2,3,3,1]],["L",44,[1,3,2,1,3,1]],["M",45,[1,1,3,1,2,3]],["N",46,[1,1,3,3,2,1]],["O",47,[1,3,3,1,2,1]],["P",48,[3,1,3,1,2,1]],["Q",49,[2,1,1,3,3,1]],["R",50,[2,3,1,1,3,1]],["S",51,[2,1,3,1,1,3]],["T",52,[2,1,3,3,1,1]],["U",53,[2,1,3,1,3,1]],["V",54,[3,1,1,1,2,3]],["W",55,[3,1,1,3,2,1]],["X",56,[3,3,1,1,2,1]],["Y",57,[3,1,2,1,1,3]],["Z",58,[3,1,2,3,1,1]],["[",59,[3,3,2,1,1,1]],["\\",60,[3,1,4,1,1,1]],["]",61,[2,2,1,4,1,1]],["^",62,[4,3,1,1,1,1]],["_",63,[1,1,1,2,2,4]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00f1",16)),97,[4,1,1,1,1,3]],[String.fromCharCode(parseInt("00f2",16)),96,[1,1,4,3,1,1]],[String.fromCharCode(parseInt("00f3",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00f4",16)),98,[4,1,1,3,1,1]],[String.fromCharCode(parseInt("00fc",16)),99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00fb",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00f9",16)),103,[2,1,1,4,1,2]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]},code128b:{startSymbol:String.fromCharCode(parseInt("00fd",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[\x00-]",symbolTable:[[" ",0,[2,1,2,2,2,2]],["!",1,[2,2,2,1,2,2]],['"',2,[2,2,2,2,2,1]],["#",3,[1,2,1,2,2,3]],["$",4,[1,2,1,3,2,2]],["%",5,[1,3,1,2,2,2]],["&",6,[1,2,2,2,1,3]],["'",7,[1,2,2,3,1,2]],["(",8,[1,3,2,2,1,2]],[")",9,[2,2,1,2,1,3]],["*",10,[2,2,1,3,1,2]],["+",11,[2,3,1,2,1,2]],[",",12,[1,1,2,2,3,2]],["-",13,[1,2,2,1,3,2]],[".",14,[1,2,2,2,3,1]],["/",15,[1,1,3,2,2,2]],["0",16,[1,2,3,1,2,2]],["1",17,[1,2,3,2,2,1]],["2",18,[2,2,3,2,1,1]],["3",19,[2,2,1,1,3,2]],["4",20,[2,2,1,2,3,1]],["5",21,[2,1,3,2,1,2]],["6",22,[2,2,3,1,1,2]],["7",23,[3,1,2,1,3,1]],["8",24,[3,1,1,2,2,2]],["9",25,[3,2,1,1,2,2]],[":",26,[3,2,1,2,2,1]],[";",27,[3,1,2,2,1,2]],["<",28,[3,2,2,1,1,2]],["=",29,[3,2,2,2,1,1]],[">",30,[2,1,2,1,2,3]],["?",31,[2,1,2,3,2,1]],["@",32,[2,3,2,1,2,1]],["A",33,[1,1,1,3,2,3]],["B",34,[1,3,1,1,2,3]],["C",35,[1,3,1,3,2,1]],["D",36,[1,1,2,3,1,3]],["E",37,[1,3,2,1,1,3]],["F",38,[1,3,2,3,1,1]],["G",39,[2,1,1,3,1,3]],["H",40,[2,3,1,1,1,3]],["I",41,[2,3,1,3,1,1]],["J",42,[1,1,2,1,3,3]],["K",43,[1,1,2,3,3,1]],["L",44,[1,3,2,1,3,1]],["M",45,[1,1,3,1,2,3]],["N",46,[1,1,3,3,2,1]],["O",47,[1,3,3,1,2,1]],["P",48,[3,1,3,1,2,1]],["Q",49,[2,1,1,3,3,1]],["R",50,[2,3,1,1,3,1]],["S",51,[2,1,3,1,1,3]],["T",52,[2,1,3,3,1,1]],["U",53,[2,1,3,1,3,1]],["V",54,[3,1,1,1,2,3]],["W",55,[3,1,1,3,2,1]],["X",56,[3,3,1,1,2,1]],["Y",57,[3,1,2,1,1,3]],["Z",58,[3,1,2,3,1,1]],["[",59,[3,3,2,1,1,1]],["\\",60,[3,1,4,1,1,1]],["]",61,[2,2,1,4,1,1]],["^",62,[4,3,1,1,1,1]],["_",63,[1,1,1,2,2,4]],["`",64,[1,1,1,4,2,2]],["a",65,[1,2,1,1,2,4]],["b",66,[1,2,1,4,2,1]],["c",67,[1,4,1,1,2,2]],["d",68,[1,4,1,2,2,1]],["e",69,[1,1,2,2,1,4]],["f",70,[1,1,2,4,1,2]],["g",71,[1,2,2,1,1,4]],["h",72,[1,2,2,4,1,1]],["i",73,[1,4,2,1,1,2]],["j",74,[1,4,2,2,1,1]],["k",75,[2,4,1,2,1,1]],["l",76,[2,2,1,1,1,4]],["m",77,[4,1,3,1,1,1]],["n",78,[2,4,1,1,1,2]],["o",79,[1,3,4,1,1,1]],["p",80,[1,1,1,2,4,2]],["q",81,[1,2,1,1,4,2]],["r",82,[1,2,1,2,4,1]],["s",83,[1,1,4,2,1,2]],["t",84,[1,2,4,1,1,2]],["u",85,[1,2,4,2,1,1]],["v",86,[4,1,1,2,1,2]],["w",87,[4,2,1,1,1,2]],["x",88,[4,2,1,2,1,1]],["y",89,[2,1,2,1,4,1]],["z",90,[2,1,4,1,2,1]],["{",91,[4,1,2,1,2,1]],["|",92,[1,1,1,1,4,3]],["}",93,[1,1,1,3,4,1]],["~",94,[1,3,1,1,4,1]],[String.fromCharCode(parseInt("007f",16)),95,[1,1,4,1,1,3]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00f1",16)),97,[4,1,1,1,1,3]],[String.fromCharCode(parseInt("00f2",16)),96,[1,1,4,3,1,1]],[String.fromCharCode(parseInt("00f3",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00f4",16)),98,[4,1,1,3,1,1]],[String.fromCharCode(parseInt("00fc",16)),99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00fa",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00fd",16)),104,[2,1,1,2,1,4]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]},code128c:{startSymbol:String.fromCharCode(parseInt("00fe",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"[0-9]",symbolTable:[["\0",0,[2,1,2,2,2,2]],[String.fromCharCode(parseInt("0001",16)),1,[2,2,2,1,2,2]],[String.fromCharCode(parseInt("0002",16)),2,[2,2,2,2,2,1]],[String.fromCharCode(parseInt("0003",16)),3,[1,2,1,2,2,3]],[String.fromCharCode(parseInt("0004",16)),4,[1,2,1,3,2,2]],[String.fromCharCode(parseInt("0005",16)),5,[1,3,1,2,2,2]],[String.fromCharCode(parseInt("0006",16)),6,[1,2,2,2,1,3]],["a",7,[1,2,2,3,1,2]],["\b",8,[1,3,2,2,1,2]],["\t",9,[2,2,1,2,1,3]],["\n",10,[2,2,1,3,1,2]],["\v",11,[2,3,1,2,1,2]],["\f",12,[1,1,2,2,3,2]],["\r",13,[1,2,2,1,3,2]],[String.fromCharCode(parseInt("000e",16)),14,[1,2,2,2,3,1]],[String.fromCharCode(parseInt("000f",16)),15,[1,1,3,2,2,2]],[String.fromCharCode(parseInt("0010",16)),16,[1,2,3,1,2,2]],[String.fromCharCode(parseInt("0011",16)),17,[1,2,3,2,2,1]],[String.fromCharCode(parseInt("0012",16)),18,[2,2,3,2,1,1]],[String.fromCharCode(parseInt("0013",16)),19,[2,2,1,1,3,2]],[String.fromCharCode(parseInt("0014",16)),20,[2,2,1,2,3,1]],[String.fromCharCode(parseInt("0015",16)),21,[2,1,3,2,1,2]],[String.fromCharCode(parseInt("0016",16)),22,[2,2,3,1,1,2]],[String.fromCharCode(parseInt("0017",16)),23,[3,1,2,1,3,1]],[String.fromCharCode(parseInt("0018",16)),24,[3,1,1,2,2,2]],[String.fromCharCode(parseInt("0019",16)),25,[3,2,1,1,2,2]],[String.fromCharCode(parseInt("001a",16)),26,[3,2,1,2,2,1]],[String.fromCharCode(parseInt("001b",16)),27,[3,1,2,2,1,2]],[String.fromCharCode(parseInt("001c",16)),28,[3,2,2,1,1,2]],[String.fromCharCode(parseInt("001d",16)),29,[3,2,2,2,1,1]],[String.fromCharCode(parseInt("001e",16)),30,[2,1,2,1,2,3]],[String.fromCharCode(parseInt("001f",16)),31,[2,1,2,3,2,1]],[" ",32,[2,3,2,1,2,1]],["!",33,[1,1,1,3,2,3]],['"',34,[1,3,1,1,2,3]],["#",35,[1,3,1,3,2,1]],["$",36,[1,1,2,3,1,3]],["%",37,[1,3,2,1,1,3]],["&",38,[1,3,2,3,1,1]],["'",39,[2,1,1,3,1,3]],["[",40,[2,3,1,1,1,3]],[")",41,[2,3,1,3,1,1]],["*",42,[1,1,2,1,3,3]],["+",43,[1,1,2,3,3,1]],[",",44,[1,3,2,1,3,1]],["-",45,[1,1,3,1,2,3]],[".",46,[1,1,3,3,2,1]],["/",47,[1,3,3,1,2,1]],["0",48,[3,1,3,1,2,1]],["1",49,[2,1,1,3,3,1]],["2",50,[2,3,1,1,3,1]],["3",51,[2,1,3,1,1,3]],["4",52,[2,1,3,3,1,1]],["5",53,[2,1,3,1,3,1]],["6",54,[3,1,1,1,2,3]],["7",55,[3,1,1,3,2,1]],["8",56,[3,3,1,1,2,1]],["9",57,[3,1,2,1,1,3]],[":",58,[3,1,2,3,1,1]],[";",59,[3,3,2,1,1,1]],["<",60,[3,1,4,1,1,1]],["=",61,[2,2,1,4,1,1]],[">",62,[4,3,1,1,1,1]],["?",63,[1,1,1,2,2,4]],["@",64,[1,1,1,4,2,2]],["A",65,[1,2,1,1,2,4]],["B",66,[1,2,1,4,2,1]],["C",67,[1,4,1,1,2,2]],["D",68,[1,4,1,2,2,1]],["E",69,[1,1,2,2,1,4]],["F",70,[1,1,2,4,1,2]],["G",71,[1,2,2,1,1,4]],["H",72,[1,2,2,4,1,1]],["I",73,[1,4,2,1,1,2]],["J",74,[1,4,2,2,1,1]],["K",75,[2,4,1,2,1,1]],["L",76,[2,2,1,1,1,4]],["M",77,[4,1,3,1,1,1]],["N",78,[2,4,1,1,1,2]],["O",79,[1,3,4,1,1,1]],["P",80,[1,1,1,2,4,2]],["Q",81,[1,2,1,1,4,2]],["R",82,[1,2,1,2,4,1]],["S",83,[1,1,4,2,1,2]],["T",84,[1,2,4,1,1,2]],["U",85,[1,2,4,2,1,1]],["V",86,[4,1,1,2,1,2]],["W",87,[4,2,1,1,1,2]],["X",88,[4,2,1,2,1,1]],["Y",89,[2,1,2,1,4,1]],["Z",90,[2,1,4,1,2,1]],["[",91,[4,1,2,1,2,1]],["\\",92,[1,1,1,1,4,3]],["]",93,[1,1,1,3,4,1]],["^",94,[1,3,1,1,4,1]],["_",95,[1,1,4,1,1,3]],["`",96,[1,1,4,3,1,1]],["a",97,[4,1,1,1,1,3]],["b",98,[4,1,1,3,1,1]],["c",99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00fa",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00fb",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00fe",16)),105,[2,1,1,2,3,2]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]}}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejDatePicker","ej.DatePicker",{element:null,_rootCss:"e-datepicker",model:null,validTags:["input","div","span"],defaults:{dayHeaderFormat:"ShowHeaderMin",showDateIcon:!0,showFooter:!0,displayInline:!1,dateFormat:"",waterMarkText:"Select date",displayDefaultDate:!0,value:null,minDate:new Date(1900,00,01),maxDate:new Date(2099,11,31),startLevel:"Month",depthLevel:"",cssClass:"",startDay:0,stepMonths:1,localize:"en-US",showOtherMonths:!0,strictMode:!1,persist:!1,enabled:!0,width:"",height:"",rtl:!1,roundedCorner:!1,headerFormat:"MMMM yyyy",buttonText:"Today",open:null,close:null,select:null,change:null,readOnly:!1,focusIn:null,focusOut:null},dataTypes:{startDay:"number",stepMonths:"number",showOtherMonths:"boolean",strictMode:"boolean",roundedCorner:"boolean",rtl:"boolean",displayDefaultDate:"boolean",displayInline:"boolean",showDateIcon:"boolean",localize:"string",readOnly:"boolean",cssClass:"string",dateFormat:"string",waterMarkText:"string",headerFormat:"string",buttonText:"string"},_setModel:function(n){var i;if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var r=!1,f=!1,u=!1;for(i in n)switch(i){case"dayHeaderFormat":this.model.dayHeaderFormat=n[i],r=!0;break;case"showDateIcon":this._renderDateIcon(n[i],!0);break;case"displayInline":this._setDisplayInline(n[i]);break;case"value":this._setDateValue(n[i]),n[i]=this.model.value,u=!0,r=!0;break;case"dateFormat":this.model.dateFormat=n[i],this._setDateValue(this.model.value);break;case"minDate":this._setMinDate(n[i]),n[i]=this.model.minDate,u=!0,r=!0;break;case"maxDate":this._setMaxDate(n[i]),n[i]=this.model.maxDate,u=!0,r=!0;break;case"localize":this.model.localize=n[i],this.model.dateFormat="",this._setCulture(n[i]),this._setDateValue(this.model.value),r=!0;break;case"showOtherMonths":this.model.showOtherMonths=n[i],r=!0;break;case"strictMode":this.model.strictMode=n[i],u=!0,r=!0;break;case"readOnly":this.model.readOnly=n[i],this._disbleMaualInput();break;case"width":this._setWidth(n[i]);break;case"height":this._setHeight(n[i]);break;case"cssClass":this._setSkin(n[i]);break;case"rtl":this._setRTL(n[i]);break;case"roundedCorner":this._setRoundedCorner(n[i]);break;case"enabled":n[i]?this.enable():this.disable();break;case"buttonText":this._setFooterText(n[i]);break;case"showFooter":this._enableFooter(n[i]);break;case"waterMarkText":this.model.waterMarkText=n[i],this._setWaterMark();break;case"startDay":(parseInt(n[i])<0||parseInt(n[i])>6)&&(n[i]=0),this.model.startDay=n[i],r=!0;break;case"startLevel":this.model.startLevel=n[i],f=!0,r=!0;break;case"headerFormat":this.model.headerFormat=n[i],r=!0;break;case"depthLevel":this.model.depthLevel=n[i],f=!0,r=!0}u&&(this._validateMinMaxDate(),n.value=this.model.value,n.maxDate=this.model.maxDate,n.minDate=this.model.minDate),this._setWaterMark(),r&&this.isValidState&&!this.element.hasClass("e-watermark")&&this._refreshDatepicker(),f&&this._startLevel(this.model.startLevel),this._triggerChangeEvent(),this._checkErrorClass()},_destroy:function(){this.sfCalendar.remove(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this.element.removeClass("e-datepicker e-input")},_init:function(){this._setValues(),this._createDatePicker()},_setValues:function(){this.Date=new Date,this._id=this.element[0].id,this.isValidState=!0,this._setCulture(this.model.localize),this._setMinDate(this.model.minDate),this._setMaxDate(this.model.maxDate),this._calendarDate=this._zeroTime(new Date),(this.model.startDay<0||this.model.startDay>6)&&(this.model.startDay=0),this.Date.firstDayOfWeek=this.model.startDay,this.Date.fullYearStart="20",this._showHeader=!0,this._validateMinMaxDate(),this._dateValue=new Date(this._calendarDate.toString()),this._isIE7=this._checkIE7(),this._getInternalEvents=!1,this._flag=!0,this._ejHLWeekEnd=!1,this._isOpen=!1,this._prevDate=null,this._isFocused=!1},_createDatePicker:function(){this._createWrapper(),this._wireEvents(),this.model.displayInline&&this.show(),this.model.rtl&&this._setRTL(!0),this.model.roundedCorner&&this._setRoundedCorner(!0)},_createWrapper:function(){this._isInputBox()&&(this.element.addClass("e-input"),this.wrapper=t.buildTag("span.e-datewidget e-widget "+this.model.cssClass),this.innerWrapper=t.buildTag("span.e-in-wrap e-box"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this.innerWrapper.addClass("e-padding"),this.dateIcon=t.buildTag("span.e-select#"+this._id+"-img","",null).append(t.buildTag("span.e-icon e-date")).insertAfter(this.element)),this._setHeight(this.model.height),this.model.width!=""&&this._setWidth(this.model.width),this.sfCalendar=t.buildTag("div.e-datepicker e-popup e-widget "+this.model.cssClass+" e-calendar","",{},{id:"e-"+this._id}).insertBefore(this.element),this.popup=this.sfCalendar,this._resizeCalender(),this.model.displayDefaultDate&&this._setDateValue(this.model.value),this._preValue=this._textboxVal(),this._setWaterMark(),this._createCalender(),this._setDisplayInline(this.model.displayInline),this.model.readOnly&&this._disbleMaualInput(),this.model.enabled||this.disable(),this._layoutChanged(),this._checkErrorClass()},_isInputBox:function(){return this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))},_renderDateIcon:function(n,t){t&&this.model.showDateIcon==n||(!n&&this.dateIcon?(this.dateIcon.css("display","none"),this.innerWrapper.removeClass("e-padding"),this._bindInputEvent()):(this.innerWrapper&&(this.innerWrapper.addClass("e-padding"),this.dateIcon.css("display","block")),this.model.displayInline||this._bindDateButton()),this.model.showDateIcon=n)},_resizeCalender:function(){var n;n=this.model.dayHeaderFormat=="ShowHeaderShort"?"18em":this.model.dayHeaderFormat=="ShowHeaderLong"?"35em":"18em",this.sfCalendar.width(n)},_setWidth:function(n){this.wrapper?this.wrapper.width(n):this.element.width(n)},_setHeight:function(n){n&&(this.wrapper?this.wrapper.height(n):this.element.height(n)),this._isIE7&&this.element.height(this.innerWrapper.height())},_setRTL:function(n){n?(this.model.showDateIcon&&this.wrapper?this.wrapper.addClass("e-rtl"):this.element.addClass("e-rtl"),this.sfCalendar.addClass("e-rtl")):(this.model.showDateIcon&&this.wrapper?this.wrapper.removeClass("e-rtl"):this.element.removeClass("e-rtl"),this.sfCalendar.removeClass("e-rtl"))},_setRoundedCorner:function(n){n?(this.innerWrapper&&this.innerWrapper.addClass("e-corner-all"),this.sfCalendar.addClass("e-corner-all")):(this.innerWrapper&&this.innerWrapper.removeClass("e-corner-all"),this.sfCalendar.removeClass("e-corner-all"))},_refreshDatepicker:function(){this._setDateValue(this._textboxVal()),n(".e-text",this.sfCalendar).text(this._asString(this._calendarDate,this.model.headerFormat)),this._resizeCalender(),this._dateValue=new Date(this._calendarDate.toString()),this._hoverDate=this._calendarDate.getDate()-1,this._renderCalendar(this,this._dateValue),this._setFooterText(this.model.buttonText),this._enableFooter(this.model.showFooter),this._layoutChanged()},_setFooterText:function(t){n(".e-footer-text",this.sfCalendar).html(t)},_setSkin:function(n){this.wrapper?(this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(n)):(this.element.removeClass(this.model.cssClass),this.element.addClass(n)),this.sfCalendar.removeClass(this.model.cssClass),this.sfCalendar.addClass(n)},_setDisplayInline:function(t){this.model.displayInline=t,t&&this._isInputBox()?(this.sfCalendar.insertAfter(this.wrapper),this._setDatePickerPosition()):t?this.element.append(this.sfCalendar):(this.sfCalendar.css("display","none"),n("body").append(this.sfCalendar),this._isOpen=!1),t?(this.show(),this._off(n(this.dateIcon,this.wrapper),"click",n.proxy(this._showDatePopUp,this)),this.element.unbind("click",n.proxy(this._showDatePopUp,this))):this._renderDateIcon(this.model.showDateIcon,!1)},_disbleMaualInput:function(){this.model.readOnly?(n(this.element).attr("readonly","readonly"),this.model.displayInline||this.hide()):n(this.element).removeAttr("readonly")},_checkDateObject:function(n){if(n&&(typeof JSON!="object"||JSON.stringify(n)!=="{}"))n instanceof Date||(n=this._parseDate(n));else return"";return isNaN(Date.parse(n))?null:this._dateValue=this._calendarDate=this._zeroTime(n)},_checkInstanceType:function(n){if(n=this._stringToObject(n),n)n instanceof Date||(n=this._parseDate(n));else return null;return isNaN(Date.parse(n))?null:this._zeroTime(n)},_stringToObject:function(n){return typeof n=="string"?Globalize.parseDate(n,this.model.dateFormat):n},_validateMinMaxDate:function(){var n=!1,t=!1;this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.strictMode?this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.minDate,this.isValidState=!1,t=!0):this.model.value>this.model.maxDate?(this._calendarDate=this.model.maxDate,this.isValidState=!1,t=!0):this.isValidState=!0:this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate):(this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.value=this.model.minDate,n=!0):this.model.value>this.model.maxDate&&(this._calendarDate=this.model.value=this.model.maxDate,n=!0):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),n&&this.element.val(this._formatter(this.model.value,this.model.dateFormat)),t&&this._getInternalEvents&&this._trigger("outOfRange")},_setCulture:function(n){this.culture=Globalize.culture(n),this.culture?(this.Date.dayNames=this.culture.calendar.days.names,this.Date.dayNamesMin=this.culture.calendar.days.namesShort,this.Date.abbrDayNames=this.culture.calendar.days.namesAbbr,this.Date.monthNames=this.culture.calendar.months.names,this.Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,this.Date.format=this.culture.calendar.patterns.d,this.model.dateFormat==""&&(this.model.dateFormat=this.culture.calendar.patterns.d)):(this.Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.Date.dayNamesMin=["Su","Mo","Tu","We","Th","Fr","Sa"],this.Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.Date.format="MM/dd/yyyy",this.model.dateFormat==""&&(this.model.dateFormat="MM/dd/yyyy")),this._separator=this._getSeparator()},_setWaterMark:function(){if(this.element!=null&&this.element.hasClass("e-input")&&this._textboxVal()==""&&this.model.waterMarkText)return this.isValidState=!0,this._checkErrorClass(),this.element.addClass("e-watermark").val(this.model.waterMarkText),this.model.value=null,!0},_setDatePickerPosition:function(){var n=this.wrapper.offset(),t=n.left,i=this.wrapper.outerHeight(),r=this._getZindexPartial();this.model.rtl&&(t+=this.wrapper.width()-this.sfCalendar.width()),this.sfCalendar.css({left:t+"px",position:"absolute",top:n.top+i+3+"px","z-index":r})},_getZindexPartial:function(){var r=this.element.parents(),i,t;return i=n("body").children(),index=i.index(this.popup),i.splice(index,1),n(i).each(function(n,t){r.push(t)}),t=Math.max.apply(t,n.map(r,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_setMinDate:function(n){this.model.minDate=this._checkInstanceType(n),this.model.minDate||(this.model.minDate=new Date("11/31/1899"))},_setMaxDate:function(n){this.model.maxDate=this._checkInstanceType(n),this.model.maxDate||(this.model.maxDate=new Date("12/31/2099"))},_setDateValue:function(n){this._removeWatermark();var t=this._checkDateObject(n);t!=null?(this.isValidState=!0,t==""?(this.element.val(""),this.model.value=""):(this.model.value=t,this._validateMinMaxDate(),this.element.val(this._formatter(this.model.value,this.model.dateFormat)))):(typeof n=="string"&&this.model.strictMode?this.element.val(n):this.element.val(""),this.model.value="",this.isValidState=this._textboxVal()==""?!0:!1)},_updateInputVal:function(){var n=this._validateValue();n!=null&&(this.sfCalendar.find(".e-datepicker-days").is(":visible")?this._refreshDatepicker():this.model.displayDefaultDate&&this._setDateValue(n))},_validateInputVal:function(){var n=this._validateValue();n!=null&&(n<=this.model.maxDate&&n>=this.model.minDate?this.isValidState=!0:(this.model.value="",this.isValidState=!1))},_validateValue:function(){return this._parseDate(this._textboxVal())},_getSeparator:function(){var t,n;for(formats=this.culture?this.culture.calendar.patterns.d:this.model.dateFormat,t=new RegExp("^[a-zA-Z0-9]+$"),n=0;n<formats.length;n++)if(!t.test(formats[n]))return formats[n]},_checkIE7:function(){if(navigator.appName=="Microsoft Internet Explorer"){var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),n=-1;if(t.exec(navigator.userAgent)!=null&&(n=parseFloat(RegExp.$1)),n>=7&&n<8)return!0}return!1},_formatter:function(n,t){return Globalize.format(n,t,this.model.localize)},_parseDate:function(n){return Globalize.parseDate(n,this.model.dateFormat)},isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},_zeroTime:function(n){var t=new Date(n);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},_zeroPad:function(n){return(n<10?"0":"")+String(n)},_formatDate:function(n){return this._formatter(n,this.Date.format)},_getDaysInMonth:function(n){return[31,this.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][n.getMonth()]},_addDays:function(n,t){return n.setDate(n.getDate()+t),n},_addYears:function(n,t){return n.setFullYear(n.getFullYear()+t),n},_addMonths:function(n,t){var i=n.getDate();return n.setMonth(n.getMonth()+t),i>n.getDate()&&this._addDays(n,-n.getDate()),n},_isWeekend:function(n){return n.getDay()==0||n.getDay()==6},_asString:function(n,t){var i=t||this.Date.format;return i.split("yyyy").join(n.getFullYear()).split("yy").join((n.getFullYear()+"").substring(2)).split("MMMM").join(this._getMonthName(!1,n)).split("MMM").join(this._getMonthName(!0,n)).split("MM").join(this._zeroPad(n.getMonth()+1)).split("dd").join(this._zeroPad(n.getDate())).split("hh").join(this._zeroPad(n.getHours())).split("min").join(this._zeroPad(n.getMinutes())).split("ss").join(this._zeroPad(n.getSeconds()))},_getMonthName:function(n,t){return n?this.Date.abbrMonthNames[t.getMonth()]:this.Date.monthNames[t.getMonth()]},_currentDay:function(){var n=new Date,t=n.getDate(),i=n.getMonth()+1,r=n.getFullYear();return new Date(t+"/"+i+"/"+r)},_displayNewMonth:function(n,t){return this._setDisplayedMonth(this.displayedMonth+n,this.displayedYear+t,!0),!1},_setDisplayedMonth:function(n,t,r){var f,e,u,s,h,o;this.model.minDate!=i&&this.model.maxDate!=i&&(f=new Date(this.model.minDate.getTime()),f.setDate(1),e=new Date(this.model.maxDate.getTime()),e.setDate(1),!n&&!t||isNaN(n)&&isNaN(t)?(u=this._zeroTime(new Date),u.setDate(1)):u=isNaN(n)?new Date(t,this.displayedMonth,1):isNaN(t)?new Date(this.displayedYear,n,1):new Date(t,n,1),u.getTime()<f.getTime()?u=f:u.getTime()>e.getTime()&&(u=e),s=this.displayedMonth,h=this.displayedYear,this.displayedMonth=u.getMonth(),this.displayedYear=u.getFullYear(),o=u,r&&(this.displayedMonth!=s||this.displayedYear!=h)&&(this._renderCalendar(this,o),this._dateValue=o,this.model.monthChanged&&this._trigger("monthChanged",[this.displayedMonth,this.displayedYear])))},_clearSelected:function(){this.numSelected=0,n("td.e-active",this.sfCalendar).removeClass("e-active").parent().removeClass("selectedWeek")},_hideOtherMonths:function(t){n("td.other-month",t).css("visibility","hidden")},_showOtherMonths:function(t){n("td.other-month",t).css({visibility:"visible"})},_createCalender:function(){t.buildTag("div.e-header").append(t.buildTag("span.e-prev").append(t.buildTag("a.e-icon e-left-arrow e-icon-"+this.model.cssClass+""))).append(t.buildTag("span.e-text").text(this._asString(this._calendarDate,this.model.headerFormat))).append(t.buildTag("span.e-next").append(t.buildTag("a.e-icon e-right-arrow e-icon-"+this.model.cssClass+""))).appendTo(this.sfCalendar),this._enableHeader(this._showHeader);var i=t.buildTag("table.e-dp-viewdays","",{},{cellspacing:2}).data("e-table","data");this.sfCalendar.append(i),this._renderCalendar(this),this._startLevel(this.model.startLevel),t.buildTag("div.e-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this.sfCalendar),n(".e-footer-text",this.sfCalendar).html(this.model.buttonText),this._enableFooter(this.model.showFooter)},_enableHeader:function(t){t?n(".e-header",this.sfCalendar).show():n(".e-header",this.sfCalendar).hide()},_enableFooter:function(t){t?n(".e-footer",this.sfCalendar).show():n(".e-footer",this.sfCalendar).hide()},_checkArrows:function(n,t){this._preArrowCondition(n,this.model.minDate.getFullYear()),this._nextArrowCondition(t,this.model.maxDate.getFullYear())},_checkDateArrows:function(){this._preArrowCondition(this._tempMinDate,this.model.minDate),this._nextArrowCondition(this._tempMaxDate,this.model.maxDate)},_preArrowCondition:function(n,t){n<=t?this.sfCalendar.find(".e-left-arrow").addClass("e-disable"):this.sfCalendar.find(".e-left-arrow").removeClass("e-disable")},_nextArrowCondition:function(n,t){n>=t?this.sfCalendar.find(".e-right-arrow").addClass("e-disable"):this.sfCalendar.find(".e-right-arrow").removeClass("e-disable")},_previousNextHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t.preventDefault();var i=n(t.target).is("a")?n(t.target.parentNode):n(t.target),r=i.hasClass("e-prev")?!0:!1;this._processNextPrevDate(r)},_processNextPrevDate:function(t){var i,u,o,e,f,r;if(t&&this.sfCalendar.find(".e-left-arrow").hasClass("e-disable")||!t&&this.sfCalendar.find(".e-right-arrow").hasClass("e-disable"))return!1;i=n("table",this.sfCalendar),o=i.get(0).className;switch(o){case"e-dp-viewdays":if(e=this.model.stepMonths,t){if(this._dateValue<=this.model.minDate)return this._flag=!1,!1}else if(this._dateValue>=this.model.maxDate)return this._flag=!1,!1;this._flag=!0,this._addMonths(this._dateValue,t?-e:e),this._renderCalendar(this,this._dateValue),n(".e-text",this.sfCalendar).text(this._asString(this._dateValue,this.model.headerFormat)),this._addFocus("day",this._hoverDate);break;case"e-dp-viewmonths":if(t){if(this._dateValue.getFullYear()<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(this._dateValue.getFullYear()>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._addYears(this._dateValue,t?-1:1),this._renderCalendar(this,this._dateValue),u=this._dateValue.getFullYear(),n(".e-text",this.sfCalendar).text(u),n("tbody,tr.e-week-header",i).not(".e-datepicker-months").hide(),n(n(i).find(".e-datepicker-months")).show(),this._addFocus("month",this._hoverMonth),this._checkArrows(u,u);break;case"e-dp-viewyears":if(t){if(parseInt(n("td.e-year-first:first").text())<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(parseInt(n("td.e-year-last:first").prev().text())>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._dateValue.setFullYear(this._dateValue.getFullYear()+(t?-10:10)),this._renderCalendar(this,this._dateValue),r=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),n(".e-text").text(r+1+" - "+(r+10)),n("tbody,tr.e-week-header",i).not(".e-datepicker-years").hide(),n(n(i).find(".e-datepicker-years")).show(),this._addFocus("year",this._hoverYear),this._checkArrows(r+1,r+10);break;case"e-dp-viewallyears":if(t){if(f=parseFloat(n("td.e-allyear-first",i.get(0)).text().split("-")[1]),f<=this.model.minDate.getFullYear())return this._flag=!1,!1;this._flag=!0}else{if(f=parseFloat(n("td.e-allyear-last",i.get(0)).prev().text().split("-")[1]),f>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0}this._dateValue.setFullYear(f+(t?-10:10)),this._renderCalendar(this,this._dateValue),r=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%100+1),u=parseFloat(n("td.e-allyear-last",i.get(0)).prev().text().split("-")[1]),n(".e-text",this.sfCalendar).text(r+1+" - "+u),n("tbody,tr.e-week-header",i).not(".e-datepicker-allyears").hide(),n(n(i).find(".e-datepicker-allyears")).show(),this._addFocus("allyear",this._hoverAllYear),this._checkArrows(r+1,u)}this._layoutChanged()},_addFocus:function(t,i){var f="e-current-"+t,u,r;return t=="day"&&(f="current-month"),u=this.sfCalendar.find("tbody tr td."+f),r=u[i],r||(r=u.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),n(r).addClass("e-state-hover"),n(r)},_setFocusByName:function(t,i){var u=this.sfCalendar.find("tbody tr td.e-current-"+t),f,r;return n(u).each(function(n,t){if(parseInt(t.innerHTML)==parseInt(i)){f=n;return}}),r=u[f],r||(r=u.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),n(r).addClass("e-state-hover"),f},_getHeaderTxt:function(){return this.sfCalendar.find(".e-text").text()},_forwardNavHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t&&t.preventDefault();var r=n("table",this.sfCalendar),u=n("table",this.sfCalendar).get(0).className,f=this,i;switch(u){case"e-dp-viewdays":this._hoverMonth=this._getDateObj(r.find(".e-state-hover")).getMonth()||this._getDateObj(r.find(".e-active")).getMonth()||0,this._startLevel("Year"),this._addFocus("month",this._hoverMonth);break;case"e-dp-viewmonths":i=this._getHeaderTxt(),this._startLevel("Decade"),this._hoverYear=this._setFocusByName("year",i);break;case"e-dp-viewyears":i=this._getHeaderTxt(),this._startLevel("Century"),this._hoverAllYear=this._setFocusByName("allyear",i)}this._layoutChanged()},_backwardNavHandler:function(t){var r,i;if(this.model.readOnly||!this.model.enabled)return!1;t.type?(t.preventDefault(),r=n(t.target)):r=t;var u=n("table",this.sfCalendar),e,o=n("table",this.sfCalendar).get(0).className,f=this;switch(o){case"e-dp-viewmonths":u.removeClass("e-dp-viewmonths").addClass("e-dp-viewdays"),this._dateValue=new Date(this._dateValue.getFullYear(),parseInt(n(r).attr("index")),1),this._renderCalendar(this,this._dateValue),n("tbody",u).not(".e-datepicker-days,.e-week-header").hide(),n(n(u).find(".e-datepicker-days,.e-week-header")).fadeIn("fast",function(){f._addFocus("day",f._hoverDate||0)}),n(".e-text",this.sfCalendar).text(this._asString(this._dateValue,this.model.headerFormat));break;case"e-dp-viewyears":u.removeClass("e-dp-viewyears").addClass("e-dp-viewmonths"),this._dateValue.setFullYear(parseInt(r.text())),this._renderCalendar(this,this._dateValue),n("tbody,tr.e-week-header",u).not(".e-datepicker-months").hide(),n(n(u).find(".e-datepicker-months")).fadeIn("fast",function(){f._addFocus("month",f._hoverMonth||0)}),e=r.text(),n(".e-text",this.sfCalendar).text(e),this._checkArrows(e,e);break;case"e-dp-viewallyears":i=r.text().split("-"),u.removeClass("e-dp-viewallyears").addClass("e-dp-viewyears"),i[0]<this.model.minDate.getFullYear()?i[0]=this.model.minDate.getFullYear().toString():i[0]>this.model.maxDate.getFullYear()&&(i[0]=this.model.maxDate.getFullYear().toString()),this._renderCalendar(this,new Date(i[0],0,1)),n("tbody,tr.e-week-header",u).not(".e-datepicker-years").hide(),n(n(u).find(".e-datepicker-years")).fadeIn("fast",function(){f._addFocus("year",f._hoverYear||0)}),n(".e-text",this.sfCalendar).text(i[0]+"-"+i[1]),this._checkArrows(i[0],i[1]);break;default:this._clearSelected(),this.sfCalendar.find("table td").removeClass("e-state-hover"),r.not("td.other-month").addClass("e-active e-state-hover"),this._hoverDate=this._getDateObj(r).getDate()-1,this._dateValue=new Date(r.attr("date"))}this._layoutChanged()},_startLevel:function(t){var i=n("table",this.sfCalendar),f=n(".e-text",this.sfCalendar),r,u,e,o;switch(t){case"Decade":i.removeClass("e-dp-viewmonths e-dp-viewdays").addClass("e-dp-viewyears"),n("tbody,tr.e-week-header",i).not(".e-datepicker-years").hide(),n(n(i).find(".e-datepicker-years")).show(),e=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),r=e+1,u=e+10,f.text(r+" - "+u),this._checkArrows(r,u);break;case"Century":this._renderCalendar(this,this._dateValue),i.removeClass("e-dp-viewyears e-dp-viewdays e-dp-viewmonths").addClass("e-dp-viewallyears"),n("tbody,tr.e-week-header",i).not(".e-datepicker-allyears").hide(),n(n(i).find(".e-datepicker-allyears")).show(),r=parseFloat(n("td.e-allyear-first",i.get(0)).text().split("-")[1])+1,u=parseFloat(n("td.e-allyear-last",i.get(0)).prev().text().split("-")[1]),o=r+"-"+u,f.text(o),this._checkArrows(r,u);break;case"Year":i.removeClass("e-dp-viewdays").addClass("e-dp-viewmonths"),n("tbody,tr.e-week-header",i).hide(),n(n(i).find(".e-datepicker-months")).show(),r=this._dateValue.getFullYear(),f.text(r),this._checkArrows(r,r)}},_depthLevel:function(t){var i=this.sfCalendar;switch(t){case"Year":n(i.find(".e-current-year,.e-current-allyear")).bind("click",n.proxy(this._backwardNavHandler,this)),this._on(n(".e-current-month",this.sfCalendar),"click",n.proxy(this._onDepthSelectHandler,this));break;case"Decade":n(i.find(".e-current-allyear")).bind("click",n.proxy(this._backwardNavHandler,this)),n(".e-current-year",this.sfCalendar).bind("click",n.proxy(this._onDepthSelectHandler,this));break;case"Century":n(i.find(".e-current-allyear")).bind("click",n.proxy(this._onDepthSelectHandler,this))}},_onDepthSelectHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;n(t.target).hasClass("e-current-month")?this._dateValue=new Date(this._dateValue.setMonth(parseInt(t.target.attributes.index.value))):n(t.target).hasClass("e-current-year")?this._dateValue=new Date(this._dateValue.setFullYear(parseInt(t.target.innerHTML))):n(t.target).hasClass("e-current-allyear")&&(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(t.target.innerHTML)))),this._onSetCancelDateHandler(t)},_datepickerMonths:function(t,i,r){for(var c=function(n){return document.createElement(n)},f=0,o,s,u,h,e=0;e<3;e++){for(o=n(c("tr")),s=0;s<4;s++)u=n(c("td")).addClass("e-current-month e-state-default").attr("index",f).html(this.Date.abbrMonthNames[f++]),r.getFullYear()<this.model.minDate.getFullYear()||r.getFullYear()>this.model.maxDate.getFullYear()?(u.addClass("e-hidedate"),u.removeClass("e-current-month")):(r.getFullYear()<=this.model.minDate.getFullYear()&&f<this.model.minDate.getMonth()+1||r.getFullYear()>=this.model.maxDate.getFullYear()&&f>this.model.maxDate.getMonth()+1)&&(u.addClass("e-hidedate"),u.removeClass("e-current-month")),o.append(u);t.append(o)}i.append(t),h=r.getFullYear(),this._checkArrows(h,h)},_datepickerYears:function(t,i,r){for(var c=function(n){return document.createElement(n)},l=parseInt(r)-(parseInt(r)%10+1),f=[],o,s,h,u,e=0;e<12;e++)f.push(l+e);for(o=0,s=0;s<3;s++){for(h=n(c("tr")),e=0;e<4;e++)u=n(c("td")),o==0?(parseInt(f[o])<=this.model.minDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-year-first e-current-year ")):o==11?(parseInt(f[o])>=this.model.maxDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-year-last e-current-year ")):u.addClass("e-current-year e-state-default"),(f[o]<this.model.minDate.getFullYear()||f[o]>this.model.maxDate.getFullYear())&&(u.addClass("e-hidedate"),u.removeClass("e-current-year")),u.html(f[o++]),h.append(u);t.append(h)}i.append(t),this._checkArrows(f[0],f[f.length])},_datepickerAllYears:function(t,i,r){for(var s=parseInt(r)-(parseInt(r)%100+10),l=s,o=[],f,h,c,u,e=0;e<12;e++)o.push(parseInt(s)+"-\n"+parseInt(s+9)),s=s+10;for(f=0,h=0;h<3;h++){for(c=n(document.createElement("tr")),e=0;e<4;e++)u=n(document.createElement("td")),f==0?(parseInt(o[f].split("-\n")[1])<=this.model.minDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-allyear-first e-current-allyear ")):f==11?(parseInt(o[f].split("-\n")[0]-1)>=this.model.maxDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-allyear-last e-current-allyear ")):u.addClass("e-current-allyear e-state-default"),(parseInt(o[f].split("-\n")[1])<this.model.minDate.getFullYear()||parseInt(o[f].split("-\n")[0])>this.model.maxDate.getFullYear())&&(u.addClass("e-hidedate"),u.removeClass("e-current-allyear")),u.html(o[f++]),c.append(u);t.append(c)}i.append(t)},_renderHeader:function(i){var h=n(document.createElement("thead")),e,u,f,r,o,s;if(i.model.dayHeaderFormat!="ShowHeaderNone")for(e=t.buildTag("tr.e-week-header"),u=this.Date.firstDayOfWeek;u<this.Date.firstDayOfWeek+7;u++)f=u%7,r=this.Date.dayNames[f],o=i.model.dayHeaderFormat=="ShowHeaderShort"?r.substr(0,3):i.model.dayHeaderFormat=="ShowHeaderLong"?r:r.substr(0,2),s=t.buildTag("th","",{},{scope:"col",abbr:r,date:r,title:this._formatter(r,"dddd"),"class":f==0||f==6?"weekend":"weekday"}).html(o),e.append(s);return h.append(e)},_renderCalendar:function(r,u){var w=this,s,e,o,k,d,g,v,y,l,h,p;r=n.extend({},t.DatePicker.prototype.defaults,r),this.Date.firstDayOfWeek=this.model.startDay,s=u?u:this._calendarDate?this._calendarDate:w._zeroTime(new Date),e=n("table",this.sfCalendar),e.empty(),e.append(this._renderHeader(r)),o=t.buildTag("tbody.e-datepicker-allyears","",{display:"none"},{}),this._datepickerAllYears(o,e,s.getFullYear()),o=t.buildTag("tbody.e-datepicker-years","",{display:"none"},{}),this._datepickerYears(o,e,s.getFullYear());var b=r.model.month==i?s.getMonth():r.model.month,tt=r.model.year||s.getFullYear(),f=new Date(tt,b,1,0,0,0),c=this.Date.firstDayOfWeek-f.getDay()+1;c>1&&(c-=7),k=Math.ceil((-1*c+1+this._getDaysInMonth(f))/7),this._addDays(f,c-1),d=w._zeroTime(new Date),g=this._calendarDate,o=t.buildTag("tbody.e-datepicker-months","",{display:"none"},{}),this._datepickerMonths(o,e,s),o=t.buildTag("tbody.e-datepicker-days","",{display:"none"},{});for(var it=0,nt=!0,a=!0;it++<k;){for(v=jQuery(document.createElement("tr")),y=0;y<7;y++)l=f.getMonth()==b,h=n(document.createElement("td")).text(f.getDate()+"").attr({date:f.toDateString(),title:this._formatter(f,"ddd MMM dd yyyy")}).addClass((l?"current-month e-state-default ":"other-month e-state-default ")+(this._isWeekend(f)?this._ejHLWeekEnd?"e-dp-weekend weekend ":"weekend ":"weekday ")+(l&&f.getTime()==d.getTime()?"today ":"")),g.getTime()==f.getTime()&&(h.addClass("e-active"),this._hoverDate||(h.addClass("e-state-hover"),this._hoverDate=f.getDate()-1)),p=!0,(f<this.model.minDate||f>this.model.maxDate)&&(h.addClass("e-hidedate"),h.removeClass("current-month other-month"),p=a=!1),l&&(p&&nt&&(this._tempMinDate=f,nt=!1,a=!0),a&&(this._tempMaxDate=f)),v.append(h),f=new Date(f.getFullYear(),f.getMonth(),f.getDate()+1,0,0,0);o.append(v)}e.append(o),n(o).fadeIn("fast"),this.model.startLevel===this.model.depthLevel?this._depthLevel(this.model.depthLevel):this.model.depthLevel!="Month"&&this.model.depthLevel!=""?this.model.startLevel=="Century"?this._depthLevel(this.model.depthLevel):this.model.startLevel=="Decade"&&this.model.depthLevel!="Century"?this._depthLevel(this.model.depthLevel):this.model.startLevel=="Year"&&this.model.depthLevel!="Decade"&&this.model.depthLevel!="Century"?this._depthLevel(this.model.depthLevel):(this._on(e.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",n.proxy(this._backwardNavHandler,this)),this._on(e.find(".current-month , .other-month"),"click",n.proxy(this._onSetCancelDateHandler,this))):(this._on(e.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",n.proxy(this._backwardNavHandler,this)),this._on(e.find(".current-month , .other-month"),"click",n.proxy(this._onSetCancelDateHandler,this))),this.model.showOtherMonths?this._showOtherMonths(this.sfCalendar):this._hideOtherMonths(this.sfCalendar),this._checkDateArrows()},_keyboardNavigation:function(n){var t;if(this._isOpen){if(n.keyCode==37||n.keyCode==38||n.keyCode==39||n.keyCode==40||n.keyCode==13||n.keyCode==36||n.keyCode==35){n.preventDefault&&n.preventDefault(),t={row:null,col:null},t.col=this.sfCalendar.find("tbody tr td.e-state-hover").index(),t.row=this.sfCalendar.find("tbody tr td.e-state-hover").parent().index(),t.col=t.col!=-1?t.col+1:this.sfCalendar.find("tbody tr td.e-active").index()+1,t.row=t.row!=-1?t.row+1:this.sfCalendar.find("tbody tr td.e-active").parent().index()+1;var f=this.sfCalendar.find("table")[0].className,i,r=3,u=4;switch(f){case"e-dp-viewallyears":i=this._changeRowCol(t,n.keyCode,r,u,"yearall",n.ctrlKey),n.ctrlKey||(this._hoverAllYear=this.sfCalendar.find("tbody.e-datepicker-allyears tr td").index(i));break;case"e-dp-viewyears":i=this._changeRowCol(t,n.keyCode,r,u,"year",n.ctrlKey),n.ctrlKey||(this._hoverYear=this.sfCalendar.find("tbody.e-datepicker-years tr td").index(i));break;case"e-dp-viewmonths":i=this._changeRowCol(t,n.keyCode,r,u,"month",n.ctrlKey),n.ctrlKey||(this._hoverMonth=this.sfCalendar.find("tbody.e-datepicker-months tr td").index(i));break;case"e-dp-viewdays":r=this.sfCalendar.find("tbody.e-datepicker-days tr").length,u=7,i=this._changeRowCol(t,n.keyCode,r,u,"day",n.ctrlKey),n.ctrlKey||(this._hoverDate=this._getDateObj(i).getDate()-1)}n.ctrlKey||(this.sfCalendar.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"))}else if(!this.model.displayInline&&(n.keyCode==27||n.keyCode==9))return this.hide(),!1}else if(n.altKey&&n.keyCode==40)return this.show(),!1},_changeRowCol:function(t,i,r,u,f,e){var s,h={parent:null,child:null},o,l,c;switch(f){case"day":s="tbody.e-datepicker-days tr td.current-month",h.parent=".e-datepicker-days",h.child=".current-month";break;case"month":s="tbody.e-datepicker-months tr td.e-current-month",h.parent=".e-datepicker-months",h.child=".e-current-month";break;case"year":s="tbody.e-datepicker-years tr td.e-current-year",h.parent=".e-datepicker-years",h.child=".e-current-year";break;case"yearall":s="tbody.e-datepicker-allyears tr td.e-current-allyear",h.parent=".e-datepicker-allyears",h.child=".e-current-allyear"}if(t.row<=0&&t.col<=0)return this.sfCalendar.find(s+":first");l=this;switch(i){case 36:return this.sfCalendar.find(s+":first");case 35:return this.sfCalendar.find(s+":last");case 38:if(e)this._forwardNavHandler();else if(t.row>1)t.row-=1;else return this._processNextPrevDate(!0),this.sfCalendar.find(s+":nth-child("+t.col+"):last");return o=this._getCell(t,h),o.length<=0&&(this._processNextPrevDate(!0),o=this.sfCalendar.find(s+":nth-child("+t.col+"):last")),o;case 37:if(e)return this._processNextPrevDate(!0),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else if(t.row>1)t={row:t.row-1,col:u};else return this._processNextPrevDate(!0),this.sfCalendar.find(s+":last");return o=this._getCell(t,h),o.length<=0&&(this._processNextPrevDate(!0),o=this.sfCalendar.find(s+":last")),o;case 39:if(e)return this._processNextPrevDate(!1),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col<u)t.col+=1;else if(t.row<r)t={row:t.row+1,col:1};else return this._processNextPrevDate(!1),this.sfCalendar.find(s+":first");return o=this._getCell(t,h),o.length<=0&&(this._processNextPrevDate(!1),o=this.sfCalendar.find(s+":first")),o;case 40:if(!e){if(t.row<r)t.row+=1;else return this._processNextPrevDate(!1),this.sfCalendar.find(s+":nth-child("+t.col+"):first");return o=this._getCell(t,h),o.length<=0&&(this._processNextPrevDate(!1),o=this.sfCalendar.find(s+":nth-child("+t.col+"):first")),o}case 13:c=n("table",this.sfCalendar).get(0).className,this._backwardNavHandler(this._getCell(t,h)),c=="e-dp-viewdays"&&this._onSetCancelDateHandler({type:null})}return this._getCell(t,h)},_getCell:function(n,t){return this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+n.row+") td"+t.child+":nth-child("+n.col+")")},_getDateObj:function(n){return new Date(n.attr("date"))},_touchCalendar:function(n){var t=this.sfCalendar.find("table")[0].className;switch(n.type){case"pinchin":t!="e-dp-viewdays"&&this._keyboardNavigation({keyCode:13});break;case"pinchout":t!="e-dp-viewallyears"&&this._forwardNavHandler();break;case"swipeleft":this._processNextPrevDate(!1);break;case"swiperight":this._processNextPrevDate(!0)}},show:function(){if(this._isOpen)return!1;var t=this;this.model.enabled&&(this.model.displayInline||this._setDatePickerPosition(),this.sfCalendar.slideDown(200,"easeOutQuad",function(){t._isOpen=!0,t.model.displayInline||n(document).bind("mousedown",n.proxy(t._onDocumentClick,t))}),this._textboxVal()!==""&&this._updateInputVal(),this.model.open&&this._trigger("open",{previousValue:this._prevDate,value:this._formatter(this.model.value,this.model.dateFormat)}))},hide:function(){if(!this._isOpen)return!1;var t=this;this.sfCalendar.slideUp(100,"easeOutQuad",function(){t._isOpen=!1,n(document).unbind("mousedown",n.proxy(t._onDocumentClick,t)),t._setWaterMark()}),this._textboxVal()==""||this.element.hasClass("e-watermark")||this._validateInputVal(),this.model.close&&this._trigger("close",{previousValue:this._prevDate,value:this._formatter(this.model.value,this.model.dateFormat)})},enable:function(){this.model.enabled=!0,this.element.removeClass("e-disable"),this.dateIcon&&this.dateIcon.removeClass("e-disable"),this.element.removeAttr("disabled"),this.sfCalendar.removeClass("e-disable")},disable:function(){this.model.enabled=!1,this.element.addClass("e-disable"),this.dateIcon&&this.dateIcon.addClass("e-disable"),this.element.attr("disabled","disabled"),this.sfCalendar.addClass("e-disable"),this._isOpen&&(this.element.is(":input")&&this.element.blur(),this.model.displayInline||this.hide())},getValue:function(){return this._formatter(this.model.value,this.model.dateFormat)},_wireEvents:function(){this._on(n(".e-text",this.sfCalendar),"click",n.proxy(this._forwardNavHandler,this)),this._on(n(".e-next",this.sfCalendar),"click",n.proxy(this._previousNextHandler,this)),this._on(n(".e-prev",this.sfCalendar),"click",n.proxy(this._previousNextHandler,this)),this.element.is(":input")&&(this._on(this.element,"blur",this._onFocusOut),this._on(this.element,"focus",this._onFocusIn),this._on(this.element,"keyup",this._keyUp)),this.model.showFooter&&this._on(n(".e-footer",this.sfCalendar),"click",this._setCurrDate),this._on(this.sfCalendar,"pinchin pinchout swipeleft swiperight",n.proxy(this._touchCalendar,this))},_bindDateButton:function(){this._on(n(this.dateIcon,this.wrapper),"mousedown",n.proxy(this._showDatePopUp,this)),this.element.unbind("mousedown",n.proxy(this._showDatePopUp,this))},_bindInputEvent:function(){this._off(n(this.dateIcon,this.wrapper),"mousedown",n.proxy(this._showDatePopUp,this)),this.element.is(":input")&&!this.model.displayInline&&this.element.bind("mousedown",n.proxy(this._showDatePopUp,this))},_onFocusOut:function(){this._isFocused=!1;var t=this._validateValue();t==null&&this._textboxVal()!=""&&(this.isValidState=!1),this.wrapper.removeClass("e-focus"),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._preValue==this._textboxVal()||this._updateInputVal(),this._textboxVal()!=""&&(!this._isOpen||this.model.displayInline)&&this._validateInputVal(),this.element.unbind("keydown",n.proxy(this._keyboardNavigation,this)),this.model.focusOut&&this._trigger("focusOut"),this._checkErrorClass()},_onFocusIn:function(t){(t.preventDefault(),this._isFocused=!0,this.wrapper.removeClass("e-error"),this.isValidState=!0,this.wrapper.addClass("e-focus"),this.model.readOnly)||(this._removeWatermark(),this.element.bind("keydown",n.proxy(this._keyboardNavigation,this)),this.model.focusIn&&this._trigger("focusIn"))},_removeWatermark:function(){this.element.val()==this.model.waterMarkText&&(this.element.val(""),this.element.removeClass("e-watermark"))},_keyUp:function(){var n=this._textboxVal();this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._preValue!=n&&(this._updateInputVal(),this._triggerChangeEvent())},_textboxVal:function(){return this.element.hasClass("e-watermark")?"":this.element.val()},_showhidePopup:function(){if(!this.model.enabled)return!1;this._isOpen?(!this._isFocused&&this.element.is(":input")&&this.element.focus(),this.hide()):(!this._isFocused&&this.element.is(":input")&&this.element.focus(),this.show())},_triggerChangeEvent:function(){var n=this._textboxVal(),t;this.model.value=this._parseDate(n),t={previousDate:this._prevDate,value:n},this._preValue!=n&&(this._preValue=n,this.model.change&&this._trigger("change",t))},_triggerSelectEvent:function(){var n=this._textboxVal(),t;this._parseDate(n)&&(t={previousDate:this._prevDate,value:n},this._prevDate!=n&&this._parseDate(t.value)&&this.model.value>=this.model.minDate&&this.model.value<=this.model.maxDate&&this.model.select&&this._trigger("select",t))},_onDocumentClick:function(t){n(t.target).is(this.popup)||n(t.target).parents(".e-popup").is(this.popup)||n(t.target).is(this.wrapper)||n(t.target).parents(".e-datewidget").is(this.wrapper)?(n(t.target).is(this.popup)||n(t.target).parents(".e-popup").is(this.popup))&&t.preventDefault():this._showhidePopup()},_showDatePopUp:function(n){if(!this.model.readOnly){if(n.preventDefault(),!this.model.enabled&&this.model.displayInline)return!1;this._showhidePopup()}},_layoutChanged:function(){this._getInternalEvents&&this._trigger("layoutChange")},_setCurrDate:function(n){if(this.model.readOnly||!this.model.enabled)return!1;n&&n.preventDefault();var t=this;this._dateValue=this._zeroTime(new Date),this.model.value=this._calendarDate=this._dateValue,this._setDateValue(this.model.value),this._triggerSelectEvent(n),this._triggerChangeEvent(n),this._refreshDatepicker(),this._changeDayClass(),this._startLevel(this.model.startLevel),this._onSetCancelDateHandler(n),this._layoutChanged()},_changeDayClass:function(){var n=this.popup.children("table")[0].className;n!="e-dp-viewdays"&&this.popup.children("table").removeClass(n).addClass("e-dp-viewdays")},_onSetCancelDateHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t&&t.type&&t.preventDefault(),this.model.value=this._parseDate(this._textboxVal()),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._setDateValue(this._dateValue),this._triggerSelectEvent(t),this._triggerChangeEvent(t),this.element.is(":input")&&!this.model.displayInline&&this._showhidePopup(),t&&n(t.target).hasClass("other-month")&&this._refreshDatepicker()},_closeCalendar:function(n){n&&n!=this.element||this.sfCalendar.empty().remove()},_checkErrorClass:function(){this.wrapper&&(this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error"))}}),t.DatePicker.Header={ShowHeaderNone:"ShowHeaderNone",ShowHeaderShort:"ShowHeaderShort",ShowHeaderMin:"ShowHeaderMin",ShowHeaderLong:"ShowHeaderLong"},t.DatePicker.Level={Month:"Month",Year:"Year",Decade:"Decade",Century:"Century"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejDateTimePicker","ej.DateTimePicker",{element:null,model:null,validTags:["input"],_rootCSS:"e-datetimepicker",defaults:{cssClass:"",localize:"en-US",readOnly:!1,roundedCorner:!1,rtl:!1,enabled:!0,value:"",min:new Date("1/1/1900 12:00:00 AM"),max:new Date("12/31/2099 11:59:59 PM"),height:"",width:"",dateTimeFormat:"",showButton:!0,buttonText:{today:"Today",now:"Now",done:"Done",timeTitle:"Time"},persist:!1,interval:30,timeDisplayFormat:"",timePopupWidth:100,dayHeaderFormat:"ShowHeaderShort",startLevel:"Month",depthLevel:"",startDay:0,stepMonths:1,showOtherMonths:!0,headerFormat:"MMMM yyyy",open:null,close:null,change:null},dataTypes:{cssClass:"string",localize:"string",readOnly:"boolean",roundedCorner:"boolean",rtl:"boolean",enabled:"boolean",dateTimeFormat:"string",showButton:"boolean",buttonText:"data",persist:"boolean",interval:"number",timeDisplayFormat:"string",dayHeaderFormat:"string",startLevel:"string",depthLevel:"string",startDay:"number",stepMonths:"number",showOtherMonths:"boolean",headerFormat:"string"},_setModel:function(n){var i,r,u;if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;r=!1;for(i in n)switch(i){case"cssClass":this._changeSkin(n[i]);break;case"localize":this._localize(n[i]);break;case"readOnly":this._readOnly(n[i]);break;case"roundedCorner":this._setRoundedCorner(n[i]);break;case"rtl":this._setRtl(n[i]);break;case"enabled":this._enabled(n[i]);break;case"value":n[i]=this._setValue(n[i]),r=!0;break;case"min":case"max":u=this._stringToObject(n[i]),this._isValidDate(u)?(this.datePicker.option(i+"Date",u),n[i]=u):n[i]=this.model[i],r=!0;break;case"height":this.wrapper.height(n[i]);break;case"width":this.wrapper.width(n[i]);break;case"dateTimeFormat":this.model.dateTimeFormat=n[i],this.isValidState&&this._setValue(this.model.value);break;case"showButton":this._showButton(n[i]);break;case"buttonText":this._buttonText(n[i]);break;case"interval":this.timePicker.option("interval",n[i]);break;case"timeDisplayFormat":this.timePicker.option("timeFormat",n[i]);break;case"timePopupWidth":this.timePicker.option("popupWidth",n[i]);break;case"dayHeaderFormat":this.datePicker.option("dayHeaderFormat",n[i]);break;case"startLevel":this.datePicker.option("startLevel",n[i]);break;case"depthLevel":this.datePicker.option("depthLevel",n[i]);break;case"startDay":this.datePicker.option("startDay",n[i]);break;case"stepMonths":this.datePicker.option("stepMonths",n[i]);break;case"showOtherMonths":this.datePicker.option("showOtherMonths",n[i]);break;case"headerFormat":this.datePicker.option("headerFormat",n[i])}r&&this._validateMinMax(),this._valueChange(),this._checkErrorClass()},_destroy:function(){this.element.insertAfter(this.wrapper),this.element.removeClass("e-input").val(""),this.wrapper.remove(),this.popup.remove()},_init:function(){if(!this.element.is("input")||this.element.attr("type")&&this.element.attr("type")!="text")return!1;this._initialize(),this._render(),this._wireEvents()},_initialize:function(){var n,t,i;this.popup=null,this.isPopupOpen=!1,this.isValidState=!0,this.model.dateTimeFormat&&this.model.timeDisplayFormat||this._getDateTimeFormat(),typeof this.model.value=="string"&&typeof this.model.value!=""&&(n=this._stringToObject(this.model.value),n&&(this.model.value=n)),t=this.model.min=this._stringToObject(this.model.min),t&&this._isValidDate(t)||(this.model.min=this.defaults.min),i=this.model.max=this._stringToObject(this.model.max),i&&this._isValidDate(i)||(this.model.max=this.defaults.max)},_render:function(){this._renderWrapper(),this._renderIcon(),this._setDimentions(),this._renderDropdown(),this._checkProperties()},_renderWrapper:function(){this.element.addClass("e-input"),this.wrapper=t.buildTag("span.e-datetime-wrap e-widget "+this.model.cssClass+"#"+this.element[0].id+"_wrapper").insertAfter(this.element),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container)},_renderIcon:function(){if(!this.model.showButton)return!1;this.datetimeIcon=t.buildTag("span.e-select");var n=t.buildTag("span.e-icon e-datetime");this.datetimeIcon.append(n),this.container.append(this.datetimeIcon).addClass("e-padding"),this._on(this.datetimeIcon,"click",this._iconClick),this._on(this.datetimeIcon,"mousedown",function(n){n.preventDefault()})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderDropdown:function(){this.popup=t.buildTag("div.e-datetime-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.element[0].id+"_popup").css("visibility","hidden"),n("body").append(this.popup),this._renderControls();var f,e,o,s,i,r,u,h;f=t.buildTag("div.e-header",this.model.buttonText.timeTitle),e=t.buildTag("div.e-datecontainer").append(this.datePicker.popup),o=t.buildTag("div.e-timecontainer").append(f,this.timePicker.popup),s=t.buildTag("div.e-popup-container").append(e,o),i=t.buildTag("div.e-dt-button e-dt-today",this.model.buttonText.today),r=t.buildTag("div.e-dt-button e-dt-now",this.model.buttonText.now),u=t.buildTag("div.e-dt-button e-dt-done",this.model.buttonText.done),h=t.buildTag("div.e-button-container").append(i,r,u),this.popup.append(s,h),this._updateTimeHeight(),this._bindOperations(),this._updateValues(),this.popup.css({visibility:"visible",display:"none"}),this._on(i,"click",this._todayClick),this._on(r,"click",this._nowClick),this._on(u,"click",this._doneClick)},_renderControls:function(){this._renderDateControl(),this._renderTimeControl();var n=t.buildTag("span").append(this.datePicker.wrapper,this.timePicker.wrapper);n.find("span").css("display","none"),this.popup.append(n)},_renderDateControl:function(){var n=t.buildTag("input#"+this.element[0].id+"_date","",{},{type:"text"});this.popup.append(n),n.ejDatePicker({height:"0px",width:"0px",displayInline:!0,showDateIcon:!1,showFooter:!1,strictMode:!0,minDate:this._stringToObject(this.model.min),maxDate:this._stringToObject(this.model.max),dayHeaderFormat:this.model.dayHeaderFormat,startLevel:this.model.startLevel,depthLevel:this.model.depthLevel,startDay:this.model.startDay,stepMonths:this.model.stepMonths,showOtherMonths:this.model.showOtherMonths,headerFormat:this.model.headerFormat,buttonText:this.model.buttonText.today,enabled:this.model.enabled,rtl:this.model.rtl,roundedCorner:this.model.roundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,localize:this.model.localize}),this.datePicker=n.data("ejDatePicker"),this.datePicker._getInternalEvents=!0,this.datePicker.popup.css({position:"static",display:"block"})},_renderTimeControl:function(){var n=t.buildTag("input#"+this.element[0].id+"_time","",{},{type:"text"});this.popup.append(n),n.ejTimePicker({height:"0px",width:"0px",interval:this.model.interval,timeFormat:this.model.timeDisplayFormat,popupWidth:this.model.timePopupWidth,enabled:this.model.enabled,rtl:this.model.rtl,roundedCorner:this.model.roundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,localize:this.model.localize}),this.timePicker=n.data("ejTimePicker"),this.timePicker._getInternalEvents=!0,this.timePicker.showDropdown=!0,this.timePicker.popup.css({position:"static",display:"block"})},_updateTimeHeight:function(){var n=this.datePicker.popup.outerHeight()-this.popup.find(".e-header").outerHeight()-2;this.timePicker.option("popupHeight",n)},_bindOperations:function(){var n=this;this.datePicker.option("layoutChange",function(){n._updateTimeHeight()}),this.datePicker.option("outOfRange",function(){n.isValidState=!1}),this.timePicker.option("outOfRange",function(){n.isValidState=!1}),this.datePicker.option("change",function(t){n._refreshTimes(t)}),this.datePicker.option("select",function(){n._updateInput()}),this.timePicker.option("select",function(){n._updateInput()})},_updateInput:function(){var n=this._getDate()||new Date,t=this._getTime()||new Date;this.model.value=new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),this._updateDateTime(),this._raiseChangeEvent()},_updateDateTime:function(){this.isValidState=!0;var n=this._objectToString(this.model.value);this.element.val(n)},_refreshTimes:function(n){var i=this._getDateObj(n.value,this.datePicker.model.dateFormat),r,u,t;if(!i)return!1;this.isValidState=!0,this._compare(i,this._setEmptyTime(this.model.min))?(r=this._getFormat(this.model.min,"HH:mm:ss"),t=this._getTime(),this.timePicker.option("minTime",r),this._compare(t,this._getTime())||(this.timePicker.model.value=this._getFormat(t,this.timePicker.model.timeFormat),this.isValidState=!1)):this.timePicker.option("minTime","12:00:00 AM"),this._compare(i,this._setEmptyTime(this.model.max))?(u=this._getFormat(this.model.max,"HH:mm:ss"),t=this._getTime(),this.timePicker.option("maxTime",u),this._compare(t,this._getTime())||(this.timePicker.model.value=this._getFormat(t,this.timePicker.model.timeFormat),this.isValidState=!1)):this.timePicker.option("maxTime","11:59:59 PM")},_updateValues:function(){this._setValue(this.model.value),this.datePicker.option("value",this.model.value),this.timePicker.option("value",this.model.value),this._validateMinMax(),this._preVal=this.element.val(),this._checkErrorClass()},_setValue:function(n){return n==null||typeof JSON=="object"&&JSON.stringify(n)==="{}"?(this.element.val(""),this.model.value=null,this.isValidState=!0):typeof n=="string"?(this.element.val(n),this._updateModel()):n instanceof Date&&this._isValidDate(n)&&(this.model.value=n,this._updateDateTime()),this._checkErrorClass(),this.model.value},_validateValue:function(n){var t=this._stringToObject(n);t?(this.isValidState=!0,this.model.value=t):(this.model.value=n,this.isValidState=!1)},_validateMinMax:function(){var n,t,i;if(n=this.model.value?this._stringToObject(this.model.value):null,t=this.model.min?this._stringToObject(this.model.min):this.defaults.min,i=this.model.max?this._stringToObject(this.model.max):this.defaults.max,!n||!t||!i)return!1;t>i&&(this.model.min=this.model.max),this.isValidState=n<t||n>i?!1:!0},_checkProperties:function(){this.model.readOnly&&this._readOnly(!0),this.model.roundedCorner&&this._setRoundedCorner(!0),this.model.rtl&&this._setRtl(!0),this.model.enabled&&this._enabled(!0),this.element.attr("name")||this.element.attr({name:this.element[0].id}),this._checkErrorClass()},_targetFocus:function(n){n.preventDefault(),this.isFocused=!0,this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),this.model.showButton||this.model.readOnly||this._showResult()},_targetBlur:function(){this.isFocused=!1,this.wrapper.removeClass("e-focus"),this.model.showButton||this._hideResult(),this._checkErrorClass()},_keyDownOnInput:function(n){switch(n.keyCode){case 40:n.altKey&&this._showhidePopup();break;case 37:case 39:n.altKey&&this.isPopupOpen&&(n.preventDefault(),this._addPrevNextFocus(n.keyCode==37));break;case 27:n.preventDefault();case 9:this._hideResult()}},_addFocus:function(t){t.hasClass("e-focus")||(this._removeFocus(),t.addClass("e-focus"),t.hasClass("e-datecontainer")?n(document).bind("keydown",n.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?n(document).bind("keydown",n.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-dt-button")&&n(document).bind("keydown",n.proxy(this._buttonClick,this)))},_removeFocus:function(){var t=this._getFocusedElement();t.length>0&&(t.removeClass("e-focus"),t.hasClass("e-datecontainer")?n(document).unbind("keydown",n.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?n(document).unbind("keydown",n.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-dt-button")&&n(document).unbind("keydown",n.proxy(this._buttonClick,this)))},_addPrevNextFocus:function(n){var i=this._getFocusedElement(),t;i.length>0?i.hasClass("e-datecontainer")?t=n?this.popup.find(".e-dt-done"):this.popup.find(".e-timecontainer"):i.hasClass("e-timecontainer")?t=n?this.popup.find(".e-datecontainer"):this.popup.find(".e-dt-today"):i.hasClass("e-dt-today")?t=n?this.popup.find(".e-timecontainer"):this.popup.find(".e-dt-now"):i.hasClass("e-dt-now")?t=n?this.popup.find(".e-dt-today"):this.popup.find(".e-dt-done"):i.hasClass("e-dt-done")&&(t=n?this.popup.find(".e-dt-now"):this.popup.find(".e-datecontainer")):t=n?this.popup.find(".e-dt-done"):this.popup.find(".e-datecontainer"),this._addFocus(t)},_getFocusedElement:function(){return this.popup.children("div").children("div.e-focus")},_valueChange:function(){this._preVal!=this.element.val()&&(this._preVal=this.element.val(),this._updateModel(),this._validateMinMax(),this._raiseChangeEvent())},_updateModel:function(){var n=this.element.val(),t;n==""?(this.model.value=null,this.isValidState=!0):(t=this._stringToObject(n),t?(this.model.value=t,this.isValidState=!0,this._refreshPopup()):(this.model.value=n,this.isValidState=!1))},_refreshPopup:function(){if(this.isValidState&&this.isPopupOpen){var n=this._setEmptyTime(this.model.value),t=this._setEmptyDate(this.model.value),i=this._getDate(),r=this._getTime();i&&this._compare(i,n)||this.datePicker.option("value",n),r&&this._compare(r,t)||this.timePicker.option("value",t)}},_buttonClick:function(n){if(n.keyCode==13){var t=this._getFocusedElement();t.hasClass("e-dt-today")?this._todayClick():t.hasClass("e-dt-now")?this._nowClick():t.hasClass("e-dt-done")&&this._doneClick()}},_todayClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.datePicker.popup.find(".today").hasClass("e-active")&&this.datePicker.popup.children("table").hasClass("e-dp-viewdays")&&this.element.val()!=""&&this.isValidState||(this.datePicker._setCurrDate(),this._updateInput())},_nowClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.timePicker.updateCurrentTime(),this._updateInput()},_doneClick:function(){this._hideResult()},_iconClick:function(n){n.preventDefault(),this.isFocused||this.element.focus(),this._showhidePopup()},_showhidePopup:function(){if(this.model.readOnly)return!1;this.isPopupOpen?this._hideResult():this._showResult()},_showResult:function(){if(this.isPopupOpen||!this.model.enabled||this._raiseEvent("open"))return!1;this.isPopupOpen=!0,this._setListPosition();var t=this;this.popup.slideDown(200,"easeOutQuad",function(){t._on(n(document),"mousedown",t._OnDocumentClick)}),this._updateModel(),this.timePicker._refreshScroller(),this.timePicker._updateScrollTop(),this._validateMinMax(),this._on(n(window),"resize",this._OnWindowResize)},_hideResult:function(){if(!this.isPopupOpen||this._raiseEvent("close"))return!1;this.isPopupOpen=!1,this._removeFocus(),this.popup.slideUp(100,"easeOutQuad"),this._off(n(document),"mousedown",this._OnDocumentClick),this._off(n(window),"resize",this._OnWindowResize)},_setListPosition:function(){var n=this.wrapper.offset(),t=n.left,i=n.top+this.wrapper.outerHeight()+3+"px",r=this._getZindexPartial();this.model.rtl&&(t-=this.popup.outerWidth()-this.wrapper.outerWidth()),this.popup.css({left:t+"px",top:i,"z-index":r})},_OnDocumentClick:function(t){n(t.target).is(this.popup)||n(t.target).parents(".e-datetime-popup").is(this.popup)||n(t.target).is(this.wrapper)||n(t.target).parents(".e-datetime-wrap").is(this.wrapper)?(n(t.target).is(this.popup)||n(t.target).parents(".e-datetime-popup").is(this.popup))&&(t.preventDefault(),n(t.target).parents(".e-datecontainer").length>0?this._addFocus(n(t.target).parents(".e-datecontainer")):n(t.target).parents(".e-timecontainer").length>0?this._addFocus(n(t.target).parents(".e-timecontainer")):n(t.target).hasClass("e-dt-button")?this._addFocus(n(t.target)):this._removeFocus()):this._hideResult()},_OnWindowResize:function(){this._setListPosition()},_raiseChangeEvent:function(){this.element!=null&&this.model.change&&this._trigger("change",{value:this.element.val(),isValidState:this.isValidState})},_raiseEvent:function(n){return this.element!=null&&this.model[n]?this._trigger(n):!1},_getDateTimeFormat:function(){var n=Globalize.culture(this.model.localize).calendar.patterns;this.model.dateTimeFormat||(this.model.dateTimeFormat=n.d+" "+n.t),this.model.timeDisplayFormat||(this.model.timeDisplayFormat=n.t)},_getZindexPartial:function(){var u=this.element.parents(),r,t;return r=n("body").children(),index=r.index(this.popup),r.splice(index,1),n(r).each(function(n,t){u.push(t)}),t=Math.max.apply(t,n.map(u,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),t==i||t==null||t<1e4?t=1e4:t+=1,t},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},_getDate:function(){return this.datePicker.model.value},_getTime:function(){return this._getDateObj(this.timePicker.model.value,this.timePicker.model.timeFormat)},_setEmptyTime:function(n){var t=new Date(n);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},_setEmptyDate:function(n){var t=new Date(n);return t.setDate(1),t.setMonth(0),t.setFullYear(2e3),t},_objectToString:function(n){return this._getFormat(n,this.model.dateTimeFormat)},_stringToObject:function(n){return this._getDateObj(n,this.model.dateTimeFormat)},_getFormat:function(n,t){return n instanceof Date?Globalize.format(n,t,this.model.localize):n},_getDateObj:function(n,t){return typeof n=="string"?Globalize.parseDate(n,t):n},_compare:function(n,t){return n&&t&&n.getTime()==t.getTime()},_isValidDate:function(n){return n&&typeof n.getTime=="function"&&isFinite(n.getTime())},_change:function(n,t){this.datePicker.option(n,t),this.timePicker.option(n,t)},_changeSkin:function(n){this.wrapper.removeClass(this.model.cssClass).addClass(n),this.popup.removeClass(this.model.cssClass).addClass(n),this._change("cssClass",n)},_localize:function(n){this.model.localize=n,this.model.dateTimeFormat=this.model.timeDisplayFormat="",this._getDateTimeFormat(),(this.isValidState||this.model.value instanceof Date&&this._isValidDate(this.model.value))&&this.element.val(this._objectToString(this.model.value)),this._preVal=this.element.val(),this._change("localize",n)},_readOnly:function(n){n?this.element.attr("readonly","readonly"):this.element.removeAttr("readonly"),this._change("readOnly",n)},_setRoundedCorner:function(n){n?(this.container.addClass("e-corner-all"),this.popup.addClass("e-corner-all"),this.popup.find(".e-dt-button").addClass("e-corner-all")):(this.container.removeClass("e-corner-all"),this.popup.removeClass("e-corner-all"),this.popup.find(".e-dt-button").removeClass("e-corner-all")),this.datePicker.option("roundedCorner",n)},_setRtl:function(n){n?(this.wrapper.addClass("e-rtl"),this.popup.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popup.removeClass("e-rtl")),this._change("rtl",n)},_enabled:function(n){n?this.enable():(this.model.enabled=!0,this.disable())},_showButton:function(n){this.model.showButton=n,n?(this.container.addClass("e-padding"),this._renderIcon()):(this.container.removeClass("e-padding"),this.datetimeIcon.remove(),this.datetimeIcon=null)},_buttonText:function(t){n.extend(this.model.buttonText,t),this.popup.find(".e-dt-today").html(this.model.buttonText.today),this.popup.find(".e-dt-now").html(this.model.buttonText.now),this.popup.find(".e-dt-done").html(this.model.buttonText.done),this.popup.find(".e-timecontainer").find(".e-header").html(this.model.buttonText.timeTitle)},enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.model.enabled=!0,this.element.removeClass("e-disable"),this.datetimeIcon&&this.datetimeIcon.removeClass("e-disable"),this.popup.children("div").removeClass("e-disable"),this._change("enabled",!0))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.addClass("e-disable"),this.datetimeIcon&&this.datetimeIcon.addClass("e-disable"),this.popup.children("div").addClass("e-disable"),this._hideResult(),this._change("enabled",!1),this.datePicker.popup.removeClass("e-disable"),this.timePicker.popup.removeClass("e-disable"))},getValue:function(){return this._objectToString(this.model.value)},dateTimeNow:function(){this.model.enabled&&!this.model.readOnly&&this._setValue(new Date)},show:function(){this._showResult()},hide:function(){this._hideResult()},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._valueChange)}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,model:null,validTags:["div","span"],defaults:{autoOpen:!0,closeOnEscape:!0,closeText:"close",draggable:!0,height:"auto",minHeight:150,minWidth:150,maxHeight:null,maxWidth:null,modal:!1,position:null,resizable:!0,showHeader:!0,content:null,loadUrl:null,ajaxOptions:{type:"GET",cache:!1,url:"",data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",rtl:!1,allowKeyboardNavigation:!0,roundedCorner:!1,iconAction:["close"],customIconCss:null,contentContainer:null,persist:!1,enabled:!0,beforeClose:null,close:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,load:null,ajaxSuccess:null,ajaxError:null},dataTypes:{autoOpen:"boolean",closeOnEscape:"boolean",closeText:"string",draggable:"boolean",modal:"boolean",resizable:"boolean",showHeader:"boolean",title:"string",zIndex:"number",cssClass:"string",loadUrl:"string",content:"string",ajaxOptions:"data",iconAction:"data"},_setModel:function(i){if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;for(var r in i)switch(r){case"closeText":this._ejDialog.find("div.e-dialog-icon").attr("title",i[r]);break;case"title":this._ejDialog.find("span.e-title").html(i[r]);break;case"width":this.model.width=i[r],this._setSize(),this._resetScroller();break;case"height":this.model.height=i[r],this._setSize(),this._resetScroller();break;case"position":this.model.position=i[r],this._dialogPosition();break;case"cssClass":this._changeSkin(i[r]);break;case"roundedCorner":this._roundedCorner(i[r]);break;case"content":this._appendContent(i[r]);break;case"enabled":this.model.enabled=i[r],this._enabledAction(i[r]);break;case"loadUrl":this.model.loadUrl=i[r],this._appendContent(this.model.content);break;case"contentContainer":this._ejDialog.appendTo(n(i[r]));break;case"minHeight":this._ejDialog.css("minHeight",i[r]);break;case"minWidth":this._ejDialog.css("minWidth",i[r]);break;case"zIndex":this._ejDialog.css("z-index",i[r]);break;case"customIconCss":this._dialogCustom.find("span").removeClass().addClass(i[r]);break;case"draggable":this.model.draggable=i[r],i[r]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"resizable":this.model.resizable=i[r],i[r]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove());break;case"showHeader":this.model.showHeader=i[r],i[r]?(this._renderTitleBar(),this._iconsRender(this.model.iconAction),this._enableDrag()):this._ejDialog.find(".e-titlebar").remove();break;case"rtl":i[r]?this._ejDialog.addClass("e-rtl"):this._ejDialog.removeClass("e-rtl");break;case"iconAction":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[r]))}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1},keyConfigs:[37,38,39,40],_init:function(){this._renderControl(),this._wireEvents()},_renderControl:function(){this._cloneElement=this.element.clone(),this.element.attr("tabindex",0),this._ejDialog=t.buildTag("div.e-dialog e-widget "+this.model.cssClass+" e-dialog-wrap e-shadow#"+this.element.prop("id")+"_wrapper","",{display:"none",zIndex:this.model.zIndex}),this.wrapper=this._ejDialog,t.isNullOrUndefined(this.model.contentContainer)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(n(this.model.contentContainer)),this.model.rtl&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&this._renderTitleBar(),this.model.showHeader&&this._iconsRender(this.model.iconAction),this._appendContent(this.model.content),this._enabledAction(this.model.enabled),this._enableDrag(),this._setSize(),this.model.autoOpen&&this.model.content!="ajax"&&this.open(),this._roundedCorner(this.model.roundedCorner)},_enableDrag:function(){this.model.draggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog())},_enableResize:function(){if(this.model.resizable&&this.model.enabled){this._ejDialog.addClass("e-resizable");var n=t.buildTag("div.e-icon e-resize-handle");n.appendTo(this._ejDialog),this._resizeDialog()}},_changeSkin:function(n){this.model.cssClass!=n&&this._ejDialog.removeClass(this.model.cssClass).addClass(n)},_enabledAction:function(n){n?(this._ejDialog.removeClass("e-disable"),this._enableResize()):(this._ejDialog.addClass("e-disable"),this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),typeof this._elementTitle!="string"&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=t.buildTag("div.e-titlebar e-header").prependTo(this._ejDialog),this.model.title&&t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)},_iconsRender:function(n){for(var t=0;t<n.length;t++)switch(n[t]){case"close":this._closeIcon();break;case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;case"custom":this._customIcon()}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(n){var i,r;this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-content e-widget-content"),t.isNullOrUndefined(this.model.loadUrl)||t.isNullOrUndefined(n)?this.element.show().appendTo(this.contentDiv):n=="ajax"?(this.model.ajaxOptions.url=this.model.loadUrl,this._sendAjaxOptions(this.element,this.model.ajaxOptions.url)):n=="iframe"?(i=t.buildTag("iframe.e-iframe","",{width:"100%"},{scrolling:"no",frameborder:0,src:this.model.loadUrl}),this.element.append(i).show().appendTo(this.contentDiv),this._trigger("load",{contentType:n,url:this.model.loadUrl})):n=="image"&&(r=t.buildTag("img.e-images","","",{src:this.model.loadUrl}),this.element.append(r).show().appendTo(this.contentDiv),this._trigger("load",{contentType:n,url:this.model.loadUrl})),this.contentDiv.appendTo(this._ejDialog)},_roundedCorner:function(n){n?(this._ejDialog.addClass("e-corner-all"),this._dialogTitlebar.addClass("e-corner-top"),this._dialogClose.addClass("e-corner-all")):this._ejDialog.hasClass("e-corner-all")&&(this._ejDialog.removeClass("e-corner-all"),this._dialogTitlebar.removeClass("e-corner-top"),this._dialogClose.removeClass("e-corner-all"))},_renderScroller:function(){var t=this.model.width,i;this.model.height==="auto"||this.model.height==="100%"||(this.model.width==="auto"||this.model.width==="100%"||(t=this.element.outerWidth()),i=this.model.height-n(this._ejDialog.find("div.e-titlebar")).outerHeight(),this.contentDiv.ejScroller({width:t,height:i,rtl:this.model.rtl}))},_maxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_setZindex:function(){var n=this._maxZindex();this.model.zIndex<=n&&this._ejDialog.css({zIndex:n+1})},_createOverlay:function(){var n=this._maxZindex()<this.model.zIndex?this.model.zIndex:this._maxZindex();this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:n-1}),this._overLay.appendTo(document.body)},_sendAjaxOptions:function(t,i){t.addClass("e-load");var r=this,u=this.model.title,e=i,f={success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(n){try{r._ajaxErrorHandler(n.statusText,t,i,u)}catch(n){}}};n.extend(!0,f,this.model.ajaxOptions),this._sendAjaxRequest(f)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(n,t,i){t.removeClass("e-load"),t.html(n).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.open(),this._trigger("ajaxSuccess",{data:n,url:i})},_ajaxErrorHandler:function(n,t,i){t.addClass("e-dialog-loaded"),t.appendTo(this.contentDiv),this._dialogPosition(),this.open(),this._trigger("ajaxError",{data:n,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-close");n.appendTo(this._dialogClose),this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeText),this._on(this._dialogClose,"mousedown",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-collapse-arrow");n.appendTo(this._dialogCollapsible),this._dialogCollapsible.appendTo(this._dialogTitlebar),this._on(this._dialogCollapsible,"mousedown",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-maximize");n.appendTo(this._dialogMaximize),this._dialogMaximize.appendTo(this._dialogTitlebar),this._on(this._dialogMaximize,"mousedown",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-minimize");n.appendTo(this._dialogMinimize),this._dialogMinimize.appendTo(this._dialogTitlebar),this._on(this._dialogMinimize,"mousedown",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-unpin");n.appendTo(this._dialogPin),this._dialogPin.appendTo(this._dialogTitlebar),this._on(this._dialogPin,"mousedown",this._pinClick)},_customIcon:function(){this._dialogCustom=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-dialog-custom");n.appendTo(this._dialogCustom),this._dialogCustom.appendTo(this._dialogTitlebar),t.isNullOrUndefined(this.model.customIconCss)||n.addClass(this.model.customIconCss)},_setSize:function(){var n=this.model,t,i;parseInt(n.minWidth)>parseInt(n.width)&&(n.width=n.minWidth,this.element.width(n.width)),t=this._ejDialog.css({height:"auto",width:n.width}).outerHeight(),i=Math.max(0,parseInt(n.minHeight)-t),n.height==="auto"?this._ejDialog.css({height:"auto",minHeight:i}):this._ejDialog.height(this.model.height)},_resetScroller:function(){var i=this.model.height-n(this._ejDialog.find("div.e-titlebar")).outerHeight(),t;this.contentDiv.ejScroller({width:this.model.width,height:i}),this.element.width("auto"),t=this.contentDiv.data("ejScroller"),t.refresh()},_dragDialog:function(){var t=this;this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragStart:function(n){return t._clickHandler(),!t.dialogPin&&t.model.draggable&&t.model.enabled||(n.cancel=!0),t._trigger("dragStart",{event:n})?(n.cancel=!0,!1):void 0},drag:function(n){t._trigger("drag",{event:n})},dragStop:function(n){t._ejDialog.focus(),t._trigger("dragStop",{event:n})},helper:function(){return n(t._ejDialog).addClass("dragClone").appendTo(t._ejDialog.parent())}})},_resizeDialog:function(){var t=this;this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:parseInt(t.model.minHeight),minWidth:parseInt(t.model.minWidth),maxHeight:parseInt(t.model.maxHeight),maxWidth:parseInt(t.model.maxWidth),handle:"e-content",resizeStart:function(n){t._trigger("resizeStart",{event:n})},resize:function(i){var r=n(i.element).parents("div.e-dialog-wrap");t.model.height=n(r).height(),t.model.width=n(r).width(),t._setSize(),t._resetScroller(),t._trigger("resize",{event:i})},resizeStop:function(n){t._ejDialog.focus(),t._trigger("resizeStop",{event:n})},helper:function(i){var r=n(i.element).parents("div.e-dialog-wrap");return t.model.height=n(r).height(),t.model.width=n(r).width(),t._setSize(),t._resetScroller(),n(t._ejDialog).appendTo(t._ejDialog.parent())}})},_dialogPosition:function(){var i,r,u;this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.contentContainer)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),this.model.position!=null?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X+"px"),this._ejDialog.css("top",this.model.position.Y+"px")):(t.isNullOrUndefined(this.model.contentContainer)?(i=(n(window).width()-this._ejDialog.width())/2,r=(n(window).height()-this._ejDialog.height())/2):(u=n(this.model.contentContainer).position(),i=(n(this.model.contentContainer).outerWidth()-this._ejDialog.width())/2+Math.ceil(u.left),r=(n(this.model.contentContainer).outerHeight()-this._ejDialog.height())/2+Math.ceil(u.top)),this._ejDialog.css({top:r,left:i}),this._ejDialog.css("position","absolute"))},_closeClick:function(n){n.preventDefault(),this.close(n)},_collapsibleClick:function(t){n(t.target).hasClass("e-collapse-arrow")?(this._dialogCollapsible.find("span.e-collapse-arrow").removeClass("e-collapse-arrow").addClass("e-expand-arrow"),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-content").parent().slideUp("fast"),this._ejDialog.height("auto")):n(t.target).hasClass("e-expand-arrow")&&(this._dialogCollapsible.find("span.e-expand-arrow").removeClass("e-expand-arrow").addClass("e-collapse-arrow"),this._ejDialog.find(".e-content").parent().slideDown("fast"),this._ejDialog.find("div.e-resize-handle").show(),this._ejDialog.height(this.model.height))},_maximizeClick:function(t){var i=n(t.target);i.hasClass("e-maximize")?(this._ejDialog.css("top","0px").css("left","0px").css("position","fixed"),this._ejDialog.width("100%"),this._ejDialog.height("100%"),this.element.height("100%"),this.element.width("100%"),this.contentDiv.height("100%"),this.contentDiv.width("100%"),i.removeClass("e-maximize").addClass("e-restore"),this._maximize=!0,this.dialogPin=!0):i.hasClass("e-restore")&&(this.element.height(""),this.element.width(""),this._restoreDialog(),i.removeClass("e-restore").addClass("e-maximize"))},_minimizeClick:function(t){var i=n(t.target),r;i.hasClass("e-minimize")&&(this._maximize&&this._setSize(),r=n(window).height()-this._ejDialog.height()+this.element.height()+14,this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position","fixed"),this.contentDiv.hide(),i.parent().hide(),this._dialogTitlebar.find(".e-maximize").removeClass("e-maximize").addClass("e-restore"),this.dialogPin=!0)},_pinClick:function(t){var i=n(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin")):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"))},_restoreDialog:function(){this.dialogPin=!1,this.contentDiv.show(),this._ejDialog.css("position","absolute").css("bottom",""),this._setSize(),this._dialogPosition(),this._renderScroller(),this._dialogTitlebar.find(".e-minimize").parent().show()},_clickHandler:function(){var n=this._maxZindex();parseInt(this._ejDialog.css("zIndex"))<n&&this._ejDialog.css({zIndex:n+1})},_docKeyDown:function(n){this.model.enabled&&(code=n.keyCode?n.keyCode:n.which?n.which:n.charCode,this.model.closeOnEscape&&code===27&&(this.close(n),n.preventDefault()))},_keyDown:function(t){code=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&n(t.target).hasClass("e-dialog")&&n.inArray(code,this.keyConfigs)>-1&&(this._keyPressed(code),t.preventDefault())},_keyPressed:function(n){switch(n){case 40:this._ejDialog.css("top",this._ejDialog.position().top+3+"px");break;case 39:this._ejDialog.css("left",this._ejDialog.position().left+3+"px");break;case 38:this._ejDialog.css("top",this._ejDialog.position().top-3+"px");break;case 37:this._ejDialog.css("left",this._ejDialog.position().left-3+"px")}},_wireEvents:function(){this._on(n(document),"keydown",this._docKeyDown),this._on(this._ejDialog,"keydown",this._keyDown)},open:function(){if(!this.model.enabled)return!1;if(this._isOpen)return!0;if(!0==this._trigger("beforeOpen"))return!1;this.element.css("display","block"),this._setZindex(),this._dialogPosition();var n=this;return this._ejDialog.fadeIn(400,"easeOutQuad",function(){n._trigger("open")}),this.model.modal==!0&&this._createOverlay(),this._ejDialog.eq(0).focus(),this._isOpen=!0,this},close:function(n){if(!this._isOpen||!this.model.enabled)return!0;if(!0==this._trigger("beforeClose",{event:n}))return!1;this._isOpen=!1,this.element.css("display","none");var t=this;return this._ejDialog.fadeOut(300,"easeOutQuad",function(){t._trigger("close",{event:n})}),this.model.modal&&this._overLay.remove(),this},isOpened:function(){return this._isOpen}})}(jQuery,Syncfusion),function(n,t){t.widget("ejDropDownList","ej.DropDownList",{element:null,model:null,validTags:["select","input"],_rootCSS:"e-dropdownlist",defaults:{cssClass:"",value:"",listSize:0,dataSource:null,query:null,fields:null,watermark:null,height:"",width:"",popupPanelHeight:"152px",popupPanelWidth:"auto",targetId:null,template:null,selectedItem:null,multiSelectedItemsIndex:[],selectedTo:null,roundedCorner:!1,showPopupOnLoad:!1,rtl:!1,enabled:!0,caseSensitive:!1,showCheckbox:!1,checkAll:!1,uncheckAll:!1,persist:!1,incrementalSearch:!1,readOnly:!1,multiSelectMode:!1,create:null,popupHide:null,popupShown:null,beforePopupShown:null,change:null,select:null,checkChange:null,destroy:null},dataTypes:{cssClass:"string",listSize:"number",watermark:"string",height:"string",width:"string",popupPanelHeight:"string",popupPanelWidth:"string",template:"string",selectedItem:"number",selectedTo:"string",roundedCorner:"boolean",showPopupOnLoad:"boolean",rtl:"boolean",persist:"boolean",enabled:"boolean",readOnly:"boolean",multiSelectMode:"boolean",dataSource:"data",multiSelectedItemsIndex:"data"},observables:["dataSource"],enable:function(){this.element.hasClass("e-disable")&&(this.target.disabled=!1,this.model.enabled=!0,this.element.removeClass("e-disable"),this.dropdownbutton.removeClass("e-disable"),this.element.bind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.bind("mousedown",n.proxy(this._OnDropdownClick,this)),this.model.multiSelectMode&&this._ulBox.removeClass("e-disable"))},disable:function(){this.element.hasClass("e-disable")||(this.target.disabled=!0,this.model.enabled=!1,this.element.addClass("e-disable"),this.dropdownbutton.addClass("e-disable"),this.model.multiSelectMode&&this._ulBox.addClass("e-disable"),this.element.unbind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.unbind("mousedown",n.proxy(this._OnDropdownClick,this)))},getValue:function(){return this.element.hasClass("e-watermark")?"":this.target.value},_setValue:function(n){if(!this.model.enabled)return!1;this.element.hasClass("e-watermark")&&this.element.removeClass("e-watermark"),this.element.val(n),this.model.value=n},_changeWatermark:function(n){if(!this.model.enabled)return!1;this.element.hasClass("e-watermark")&&this.element.val(n)},popupListHide:function(){if(!this.model.enabled)return!1;this.ultag.find("li").length>0&&this._hideResult()},popupListShow:function(){if(!this.model.enabled)return!1;this.ultag.find("li").length>0&&this._showResult()},clearText:function(){this.model.enabled&&(this.element.val(""),this.model.value="",this.model.watermark!=null&&n.trim(this.element.val())===""&&(this.element.val(this.model.watermark),this.element.addClass("e-watermark")))},selectItemByIndex:function(n){if(!this.model.enabled)return!1;n!=null&&(this._activeItem=n,this._activeItem<0?this._activeItem=0:this._activeItem==this._listSize-1&&(this._activeItem=this._listSize-1),this.model.template?this._templateValue():this._enterTextBoxValue())},unselectItemByIndex:function(n){if(!this.model.enabled)return!1;this.selectedIndexValue==n&&(this._activeItem=n,this._removeTextBoxValue())},selectItemByValue:function(t){if(!this.model.enabled)return!1;var i,r;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(r=n(this.listitems[i]).children("input:hidden"),(r!=null||r.length>0)&&(this._selectedValue=n(this.listitems[i]).children("input:hidden").val(),this._selectedValue==t))return this._activeItem=i,this._enterTextBoxValue(),!1},unselectItemByValue:function(t){if(!this.model.enabled)return!1;var i,r;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(r=n(this.listitems[i]).children("input:hidden"),(r!=null||r.length>0)&&(this._selectedValue=n(this.listitems[i]).children("input:hidden").val(),this._selectedValue==t))return this._activeItem=i,this._removeTextBoxValue(),!1},selectItemByText:function(t){if(!this.model.enabled)return!1;var i;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(this.selectedTextValue=n(this.listitems[i]).text(),this.selectedTextValue==t)return this._activeItem=i,this._enterTextBoxValue(),!1},unselectItemByText:function(t){if(!this.model.enabled)return!1;var i;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(this.unselectedTextValue=n(this.listitems[i]).text(),this.unselectedTextValue==t)return this._activeItem=i,this._removeTextBoxValue(),!1},getCheckedItems:function(){var t="";for(i=0;i<this.listitems.length;i++)n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("isChecked")==!0&&(t+=n(this.listitems[i]).text()+",");return t},getSelectedItem:function(){return this.selectedTextValue},getSelectedIndex:function(){if(this.element[0].value!="")return this.selectedIndexValue},getSelectedValue:function(){if(this.element[0].value!="")return this._selectedValue},_removeText:function(n){var t,i;t=this.element[0].value.split(","),i=t.indexOf(n),i!=-1&&(t.splice(i,1),this.element[0].value=t)},_addText:function(n){this.model.watermark&&this.element.hasClass("e-watermark")&&this.element.val(this.element[0].value.replace(this.model.watermark,"")),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._delimiterIndex==-1&&this.element[0].value!=""?(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")):this._delimiterIndex!=this.element[0].value.length-1&&this.element[0].value!=""&&(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")),this.element.val(this.element[0].value.substr(0,this._delimiterIndex+1)+n)},_init:function(){(this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))||this.element.is("select"))&&(this._initialize(),this._render(),this._enabled(this.model.enabled),this._wireEvents())},_setInitialPopup:function(n){n==!1?this._hideResult():this._showResult()},_changeSkin:function(n){this.model.cssClass!=n&&(this.wrapper.removeClass(this.model.cssClass).addClass(n),this.popupList.removeClass(this.model.cssClass).addClass(n))},_setRTL:function(n){this.model.rtl!=n&&(this.model.rtl=n,this._RightToLeft(),this._dropbtnRTL())},_changeHeight:function(n){this.wrapper.height(n),this._reposDDB()},_changeWidth:function(n){this.wrapper.width(n),this._setListWidth()},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i;n.dataSource!=null&&this.element.val("");for(i in n)switch(i){case"dataSource":this._checkModelDataBinding(n[i]);break;case"query":this._queryCheck(n[i]);break;case"fields":this.model.fields=n[i],this._checkModelDataBinding(this.model.dataSource);break;case"template":this.model.template=n[i],this._checkModelDataBinding(this.model.dataSource);break;case"value":this._setValue(n[i]);break;case"rtl":this._setRTL(n[i]);break;case"enabled":this._enabled(n[i]);break;case"height":this._changeHeight(n[i]);break;case"width":this._changeWidth(n[i]);break;case"popupPanelHeight":this._setListHeight(n[i]);break;case"popupPanelWidth":this.model.popupPanelWidth=n[i],this._setListWidth();break;case"cssClass":this._changeSkin(n[i]);break;case"showCheckbox":this._checkboxHideShow(n[i]);break;case"checkAll":this._setCheckAll(n[i]);break;case"uncheckAll":this._setUncheckAll(n[i]);break;case"watermark":this._changeWatermark(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]),this.model.roundedCorner=n[i];break;case"showPopupOnLoad":this._setInitialPopup(n[i]);break;case"targetId":this.model.targetId=n[i],this._showFullList();break;case"selectedItem":this.selectItemByIndex(n[i]);break;case"multiSelectedItemsIndex":this._selectCheckedItem(n[i]),this.model.multiSelectedItemsIndex=n[i];break;case"multiSelectMode":this.model.multiSelectMode=n[i],n[i]?this._renderBoxModel():this._destroyBoxModel()}},_destroy:function(){this._destroyDropdown(),this.element.removeClass("e-input "+this.model.cssClass+" e-watermark"),this.element.attr("accesskey",this.wrapper.attr("accesskey")),this.element[0].value="",this.model.dataSource!=null?this.popupPanelWrapper.remove():(this.docbdy.append(this.ultag.html()),this.popupPanelWrapper.remove())},_finalize:function(){this.model.selectedItem!=null?this.selectItemByIndex(this.model.selectedItem):this.model.showCheckbox==!0&&this.model.multiSelectedItemsIndex.length>0&&this._selectCheckedItem(this.model.multiSelectedItemsIndex)},_initialize:function(){this.element.is("select")&&(this.selectelement=!0,this._renderSelectToDropdown()),this.target=this.element[0],this.showPopupBox=!1,this._queryString=null,this.suggLen=0,this._itemId=null,this.checkedStatus=!1,this._incqueryString="",this._activeItem=null,this.ddWidth=0},_renderSelectToDropdown:function(){var i,r;for(this.inputElement=t.buildTag("input.e-dropdownlist#"+this.element[0].id+"_input","",{},{type:"text"}),this.inputElement.insertAfter(this.element),this.optionDiv=t.buildTag("div#"+this.element[0].id+"_list"),this.optionDiv.insertAfter(this.inputElement),this.optionUl=t.buildTag("ul"),this.optionDiv.append(this.optionUl),this.selectOptions=this.element,this.selectOptions.attr("id",this.element[0].id),this.selectOptionItems=this.element.children("option"),r=this.selectOptionItems.length,this.optionDummyUl=n(),i=0;i<r;i++)this.selectOptionItems[i].text!=null&&this.selectOptionItems[i].text!=""&&(this.optionLi=t.buildTag("li",this.selectOptionItems[i].text),this.selectOptionItems[i].value!=null&&this.selectOptionItems[i].value!=""&&(this.optionValue=t.buildTag("input","",{},{type:"hidden",name:this.selectOptionItems[i].text,value:this.selectOptionItems[i].value}),this.optionLi.append(this.optionValue)),this.optionDummyUl.push(this.optionLi[0]));this.optionUl.append(this.optionDummyUl),this.element.css("display","none"),this.element=this.inputElement},_render:function(){this._renderDropdown(),this._setWatermark(),this._renderPopupPanelWrapper(),this._initDataSource(this.model.dataSource),this._showFullList(),this._finalize()},_queryCheck:function(n){this.model.query=n,this._checkModelDataBinding(this.model.dataSource)},_checkModelDataBinding:function(n){this.model.dataSource=n,n!=null?t.DataManager&&n instanceof t.DataManager?this._initDataSource(n):this._showFullList():this.ultag.empty()},_initDataSource:function(n){var i=this,r;t.DataManager&&n instanceof t.DataManager&&(i.popupListItems=i.model.dataSource,i._addLoadingClass(),r=n.executeQuery(this._getQuery()),r.done(function(n){i.popupListItems=n.result,i._removeLoadingClass(),i._showFullList()}).fail(function(){i.model.dataSource=null,i._addLoadingClass()}))},_getQuery:function(){var u;if(t.isNullOrUndefined(this.model.query)){var r=[],i=t.Query(),n=this.model.fields;for(u in n)u!=="tableName"&&r.push(n[u]);r.length>0&&i.select(r),this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||i.from(n.tableName)}else i=this.model.query;return i},_addLoadingClass:function(){this.dropdownbutton.addClass("e-load"),this.drpbtnspan.removeClass("e-icon e-down-arrow"),this.model.readOnly=!0},_removeLoadingClass:function(){this.dropdownbutton.removeClass("e-load"),this.drpbtnspan.addClass("e-icon e-down-arrow"),this.model.readOnly=!1},_renderDropdown:function(){this.element.addClass("e-input "+this.model.cssClass),this.model.value&&this.element.val(this.model.value),this._checkNameAttr(),this.wrapper=t.buildTag("span.e-ddl e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper","",{},{tabindex:"0",accesskey:this.element.attr("accesskey")}),this.container=t.buildTag("span.e-in-wrap e-box "+this.model.cssClass+"#"+this.target.id+"_container"),this.element.removeAttr("accesskey"),this.element.attr("readonly",!0).attr("tabindex","-1"),this.drpbtnspan=t.buildTag("span.e-icon e-down-arrow"),this.dropdownbutton=t.buildTag("span.e-select#"+this.target.id+"_dropdown").append(this.drpbtnspan),this.container.insertAfter(this.element),this.container.append(this.element),this.container.append(this.dropdownbutton),this.wrapper.insertBefore(this.container),this.wrapper.append(this.container),this.selectelement&&this.selectOptions.insertBefore(this.element),this._setDimentions(),this._RightToLeft(),this.ddWidth=this.dropdownbutton.outerWidth()>0?this.dropdownbutton.outerWidth():24,this.element.bind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.bind("mousedown",n.proxy(this._OnDropdownClick,this)),this._roundedCorner(this.model.roundedCorner),this._renderBoxModel()},_checkNameAttr:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id})},_renderBoxModel:function(){if(!this.model.multiSelectMode)return!1;this.element.css("display","none"),this._ulBox=t.buildTag("ul.e-ul e-boxes"),this.container.prepend(this._ulBox),this._ulBox.css("min-height","30px"),this.wrapper.css({height:"auto"}),this._on(this.container,"mousedown",function(t){if(!this.model.enabled)return!1;var i=n(t.target);i.hasClass("e-options")&&(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")),!t.ctrlKey&&i.hasClass("e-boxes")&&this._removeActive()})},_renderPopupPanelWrapper:function(){this.popupPanelWrapper=t.buildTag("div#"+this.element[0].id+"_popup_wrapper"),n("body").append(this.popupPanelWrapper),this.popupList=t.buildTag("div.e-ddl-popup e-box e-popup e-widget "+this.model.cssClass+"#"+this.element[0].id+"_popup","",{visibility:"hidden"}),this.popup=this.popupList,this.popupScroller=t.buildTag("div"),this.ultag=t.buildTag("ul.e-ul"),this.popupScroller.append(this.ultag),this.popupList.append(this.popupScroller),this.popupPanelWrapper.append(this.popupList)},_renderPopupList:function(){var u=this.popupListItems,i,f,r=this.model.fields,a;if(this.ultag.empty(),this.dummyUl=n(),this.model.rtl&&this.popupList.addClass("e-rtl"),this.model.dataSource==null||this.model.dataSource.length<1)a=this.element.parents().last(),this.docbdy=this.model.targetId?a.find("#"+this.model.targetId):this.optionDiv,this.itemsContainer=this.docbdy.children("ol,ul"),this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),this.items.children("img").addClass("e-align"),this.items.children("div").addClass("e-align"),this.itemsContainer.children("span").addClass("e-ghead"),this.ultag.append(this.itemsContainer.children()),this.itemsContainer.empty(),this.docbdy.css({display:"none"}),this.itemsContainer.css({display:"none"});else if(this.model.dataSource!=null&&typeof u[0]!="object"){if(u.length>0){for(i=0;i<u.length;i++)f=t.buildTag("li",u[i]),this.dummyUl.push(f[0]);this.ultag.append(this.dummyUl)}}else if(this.mapFld={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null},this.mapFld._id=r&&r.id?r.id:"id",this.mapFld._imageUrl=r&&r.imageUrl?r.imageUrl:"imageUrl",this.mapFld._imageAttributes=r&&r.imageAttributes?r.imageAttributes:"imageAttributes",this.mapFld._spriteCSS=r&&r.spriteCSS?r.spriteCSS:"spriteCSS",this.mapFld._text=r&&r.text?r.text:"text",this.mapFld._value=r&&r.value?r.value:"value",this.mapFld._htmlAttributes=r&&r.htmlAttributes?r.htmlAttributes:"htmlAttributes",this.mapFld._selected=r&&r.selected?r.selected:"selected",u.length>0){if(this.model.template!=null){for(i=0;i<u.length;i++)f=t.buildTag("li",u[i]),this.model.template&&f.append(this._getTemplatedString(u[i])),this.dummyUl.push(f[0]);this.ultag.append(this.dummyUl)}else for(i=0;i<u.length;i++){var v=this._getField(u[i],this.mapFld._id),h=this._getField(u[i],this.mapFld._imageUrl),o=this._getField(u[i],this.mapFld._imageAttributes),c=this._getField(u[i],this.mapFld._spriteCSS),e=this._getField(u[i],this.mapFld._text),l=this._getField(u[i],this.mapFld._value),s=this._getField(u[i],this.mapFld._htmlAttributes),y=this._getField(u[i],this.mapFld._selected);if(f=t.buildTag("li"),v&&f.attr("id",v),h&&h!=""){if(imgtag=t.buildTag("img.e-align","",{},{src:h,alt:e}),o&&o!="")for(i=0;i<o.length;i++)n.each(o[i],function(n,t){imgtag.attr(n,t)});f.append(imgtag)}if(c&&c!=""&&(divtag=t.buildTag("div.e-align "+c+" sprite-image"),f.append(divtag)),e&&e!=""&&f.append(e),l&&l!=""&&(hinputtag=t.buildTag("input#popuplist_"+this.element[0].id+i,"",{},{type:"hidden",name:e,value:l}),f.append(hinputtag)),s&&s!="")for(i=0;i<s.length;i++)n.each(s[i],function(n,t){f.attr(n,t)});y&&f.addClass("chkselect"),this.dummyUl.push(f[0])}this.ultag.append(this.dummyUl)}this._setListWidth(),this._setListHeight(),this._setListPosition(),this.popupList.css("height",""),this.popupScroller.css({height:"",width:""}),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css({display:"none",visibility:"visible"}),this._checkboxHideShow(this.model.showCheckbox),this._setCheckAll(this.model.checkAll),this._setUncheckAll(this.model.uncheckAll),this.model.showPopupOnLoad&&this._showResult()},_getField:function(n,i){return t.pvt.getObject(i,n)},_getTemplatedString:function(n){for(var t=this.model.template,i=t.indexOf("${"),r=t.indexOf("}"),u,f;i!=-1&&r!=-1;)u=t.substring(i,r+1),f=u.replace("${","").replace("}",""),t=t.replace(u,this._getField(n,f)),i=t.indexOf("${"),r=t.indexOf("}");return t},_setWatermark:function(){this.model.watermark!=null&&this.element.val()==""&&(this.element.addClass("e-watermark"),this.element.val(this.model.watermark))},_checkboxHideShow:function(n){n?this._createCheckbox():this._removeCheckbox(),this.model.showCheckbox=n},_createCheckbox:function(){var i,r,u=this;if(this.listitems=this.popupList.find("ol,ul").children("li"),r=this.listitems.find("input[type=checkbox]"),r.length==0){for(i=0;i<this.listitems.length;i++)$checkbox=t.buildTag("input.listcheckbox e-align#popuplist"+i+"_"+this.element[0].id,"",{},{type:"checkbox",name:"list"+i}),n(this.listitems[i]).prepend($checkbox);for(n(".listcheckbox").ejCheckBox({cssClass:this.model.cssClass,change:n.proxy(this._OnClickCheckList,this)}),this.element.val(""),this._setWatermark(),i=0;i<this.listitems.length;i++)n(this.listitems[i]).hasClass("chkselect")&&(n(this.listitems[i]).find(".listcheckbox").ejCheckBox({checked:!0}),this._activeItem=i,this.checkedStatus=!0,this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),this._enterTextBoxValue(),n(this.listitems[i]).removeClass("chkselect"))}},_removeCheckbox:function(){var n;this.listitems=this.popupList.find("ol,ul").children("li"),n=this.listitems.find(".listcheckbox"),n.length>0&&(this.listitems.find(".listcheckbox").ejCheckBox("destroy"),this.listitems.find("input[type=checkbox]").remove())},_setCheckAll:function(n){this.model.showCheckbox&&n&&this.checkAll()},_setUncheckAll:function(n){this.model.showCheckbox&&n&&this.unCheckAll()},checkAll:function(){var r,t,u;if(!this.model.enabled)return!1;for(t=this.model.multiSelectedItemsIndex,i=0;i<this.listitems.length;i++)n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("isChecked")==!1&&(n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("option","check",!0),this.model.watermark&&this.element.hasClass("e-watermark")&&this.element.val(this.element[0].value.replace(this.model.watermark,"")),r=n(this.listitems[i]).text(),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._delimiterIndex==-1&&this.element[0].value!=""&&(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")),this.element.val(this.element[0].value.substr(0,this._delimiterIndex+1)+r+","),t=this.model.multiSelectedItemsIndex,n.inArray(i,t)==-1&&this.model.multiSelectedItemsIndex.push(i),this.checkedStatus=!0,u=n(this.listitems[i]).children('input[type = "hidden"]'),this._selectedValue=u!=null&&u.length>0?n(this.listitems[i]).children('input[type = "hidden"]').val():"",this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this.element[0].value,selectedText:r,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args),this._cascadeAction());this.model.value=this.element.val(),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("e-watermark")):this.element.removeClass("e-watermark"))},_selectCheckedItem:function(t){var r,u;if(t.length>0){for(i=0;i<t.length;i++)n(this.listitems[t[i]].firstChild).find(".listcheckbox").ejCheckBox("isChecked")==!1&&(n(this.listitems[t[i]].firstChild).find(".listcheckbox").ejCheckBox("option","check",!0),r=n(this.listitems[t[i]]).text(),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._delimiterIndex==-1&&this.element[0].value!=""&&(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")),this.element.val(this.element[0].value.substr(0,this._delimiterIndex+1)+r+","),this.checkedStatus=!0,u=n(this.listitems[t[i]]).children('input[type = "hidden"]'),this._selectedValue=u!=null&&u.length>0?n(this.listitems[t[i]]).children('input[type = "hidden"]').val():"",this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this.element[0].value,selectedText:r,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args),this._cascadeAction());this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("e-watermark")):this.element.removeClass("e-watermark"))}},unCheckAll:function(){var t,r,u;if(!this.model.enabled)return!1;for(i=0;i<this.listitems.length;i++)n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("isChecked")&&(n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("option","check",!1),t=n(this.listitems[i]).text(),this._txtpos=this.element[0].value.lastIndexOf(t),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._txtpos==0&&this._delimiterIndex<=-1?this.element.val(this.element[0].value.replace(t,"")):this._txtpos==0&&this._delimiterIndex>-1?this.element.val(this.element[0].value.replace(t+",","")):this._txtpos>-1&&this._delimiterIndex>this._txtpos?this.element.val(this.element[0].value.replace(t+",","")):this._txtpos>-1&&this._delimiterIndex<this._txtpos?this.element.val(this.element[0].value.replace(","+t,"")):this._txtpos>-1&&this._delimiterIndex<this._txtpos&&this.element.val(this.element[0].value.replace(t,""))),this.checkedStatus=!1,r=this.model.multiSelectedItemsIndex,n.inArray(this.selectedIndexValue,r)>-1&&this.model.multiSelectedItemsIndex.splice(n.inArray(i,r),1),u=n(this.listitems[i]).children('input[type = "hidden"]'),this._selectedValue=u!=null&&u.length>0?n(this.listitems[i]).children('input[type = "hidden"]').val():"",this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this.element[0].value,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args),this._cascadeAction();this.model.value=this.element.val(),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("e-watermark")):this.element.removeClass("e-watermark"))},_refreshScroller:function(){this.popupList.css("height","auto"),this.popupList.find(".e-content, .e-vhandle").removeAttr("style"),this.popupList.find(".e-vhandle div").removeAttr("style"),this.popupList.css({display:"block"}),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.refresh(),this.scrollerObj.option("scrollTop",0),this.popupList.css({height:"auto"})},_setListWidth:function(){var n=this.model.popupPanelWidth;n&&n!="auto"?this.popupList.css({width:n}):this.popupList.css({width:this.wrapper.width()})},_setListHeight:function(){this.model.listSize>0?this.popupList.css({"max-height":this.model.listSize*30}):this.popupList.css({"max-height":this.model.popupPanelHeight})},_refreshPopup:function(){this.model.popupPanelWidth=="auto"&&this.popupList.css({width:this.wrapper.width()}),this._setListPosition(),this._refreshScroller()},_setListPosition:function(){var n=this.wrapper,t=n.offset(),i=t.left,r=n.outerHeight(),u=(r-n.height())/2,f=this._getZindexPartial();this.model.rtl&&(i-=this.popupList.outerWidth()-n.outerWidth()),this.popupList.css({left:i+"px",top:t.top+r-u+3+"px","z-index":f})},_getZindexPartial:function(){var r=this.element.parents(),i,t;return i=n("body").children(),index=i.index(this.popup),i.splice(index,1),n(i).each(function(n,t){r.push(t)}),t=Math.max.apply(t,n.map(r,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_showResult:function(){var i=this,t;this.model.beforePopupShown&&this._trigger("beforePopupShown",{popupStatus:this.showPopupBox}),this._refreshPopup(),this.popupList.slideDown(200,"easeOutQuad",function(){i.popupList.focus(),n(document).bind("mousedown",n.proxy(i._OnDocumentClick,i))}),this.showPopupBox=!0,t=this.ultag.children("li"),this._listSize=t.size(),t.bind("mouseenter",n.proxy(this._OnMouseEnter,this)),t.bind("mouseleave",n.proxy(this._OnMouseLeave,this)),t.bind("click",n.proxy(this._OnMouseClick,this)),n(window).bind("resize",n.proxy(this._OnWindowResize,this)),this.model.popupShown&&this._trigger("popupShown",{popupStatus:this.showPopupBox})},_OnWindowResize:function(){this._refreshPopup(),this.popupList.css("display","block")},_hideResult:function(){var t,i;this.showPopupBox&&(this.showPopupBox=!1,t=this,this.popupList.slideUp(100,"easeOutQuad",function(){t.wrapper.focus(),n(document).unbind("mousedown",n.proxy(t._OnDocumentClick,t))}),i=this.ultag.children("li"),n(window).unbind("resize",n.proxy(this._OnWindowResize,this)),i.unbind("mouseenter",n.proxy(this._OnMouseEnter,this)),i.unbind("mouseleave",n.proxy(this._OnMouseLeave,this)),i.unbind("click",n.proxy(this._OnMouseClick,this)),this.element!=null&&this.model.popupHide&&this._trigger("popupHide",{popupStatus:this.showPopupBox}))},_enterTextBoxValue:function(){var u,i,t,r,f;i=this._getActiveItem(),t=n.trim(i.text()),this.selectedTextValue=t,this.selectedIndexValue=this._activeItem,u=n(i).children('input[type = "hidden"]'),this._selectedValue=u!=null&&u.length>0?n(i).children('input[type = "hidden"]').val():"",r={text:t,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.select&&this._trigger("select",r),this.element[0].value!=t&&(this.model.showCheckbox?(this._addText(t),f=this.model.multiSelectedItemsIndex,n.inArray(this.selectedIndexValue,f)==-1&&this.model.multiSelectedItemsIndex.push(this.selectedIndexValue),this.model.multiSelectMode&&(this._ulBox.append(this._createBox(t)),this.showPopupBox&&this._setListPosition())):(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),i.addClass("e-active"),this.element.val(t),this.model.selectedItem=this.selectedIndexValue),r={text:this.element[0].value,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",r),this._cascadeAction(),this.model.value=this.element.val(),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("e-watermark")):this.element.removeClass("e-watermark")))},_removeTextBoxValue:function(){var i,t,r;i=this._getActiveItem(),t=i.text(),this.selectedIndexValue=this._activeItem,this.model.showCheckbox?(this._removeText(t),r=this.model.multiSelectedItemsIndex,n.inArray(this.selectedIndexValue,r)>-1&&this.model.multiSelectedItemsIndex.splice(n.inArray(this.selectedIndexValue,r),1),this.model.multiSelectMode&&(this._deleteBoxCheck(t),this.showPopupBox&&this._setListPosition())):(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this._txtpos=this.element[0].value.lastIndexOf(t),this._txtpos>-1&&this.element.val(this.element[0].value.replace(t,""))),hidelement=n(i).children('input[type = "hidden"]'),this._selectedValue=hidelement!=null&&hidelement.length>0?n(i).children('input[type = "hidden"]').val():"",args={text:t,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.select&&this._trigger("select",args),args={text:this.element[0].value,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args),this.model.value=this.element.val(),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("e-watermark")):this.element.removeClass("e-watermark"))},_createBox:function(i){var r=t.buildTag("span.e-icon e-close"),u=t.buildTag("li.e-options",i).append(r);return this._on(r,"click",function(t){if(!this.model.enabled)return!1;this._deleteBox(n(t.target).parent())}),u},_deleteBoxCheck:function(t){for(var r=this._ulBox.children("li"),i=0;i<r.length;i++)n(r[i]).text()==t&&n(r[i]).remove()},_deleteLastBox:function(){var t=this._ulBox.children("li:not(.e-search-box)"),n=t.last();n.hasClass("e-active")?this._deleteBox(n):(this._removeActive(),n.addClass("e-active"))},_deleteBox:function(t){for(var u,f,i,r=0;r<t.length;r++){for(u=n(t[r]),deltext=u.text(),f=this.ultag.children("li"),i=0;i<f.length;i++)n(f[i]).text()==deltext&&(this._activeItem=i,this._uncheckboxModel(this._activeItem));u.remove()}},_removeActive:function(){this._ulBox.children("li").removeClass("e-active")},_adjustWidth:function(){var n=t.buildTag("span",this.element.val());this.container.append(n),this.element.width(n.width()+30),n.remove()},_uncheckboxModel:function(t){var i=this.ultag.children("li");n(i[t].firstChild).find(".listcheckbox").ejCheckBox("isChecked")&&(n(i[t].firstChild).find(".listcheckbox").ejCheckBox("option","check",!1),this._removeTextBoxValue(),this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}))},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.css("display","block"),this.wrapper.height(this.model.height),this._ulBox.remove(),this._off(this.container,"mousedown")},_removeListHover:function(){this.ultag.children("li").removeClass("e-hover")},_addListHover:function(){var n=this._getActiveItem();n.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),n.focus()},_calcScrollTop:function(){for(var u=this.ultag.outerHeight(),i=this.ultag.find("li"),r=0,t=this.ultag.find("li.e-hover").index(),n=0;n<t;n++)r+=i.eq(n).outerHeight();return r-(this.popupList.outerHeight()-i.eq(t).outerHeight())/2},_getActiveItem:function(){return n(this.ultag.children("li")[this._activeItem])},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_roundedCorner:function(n){n?this.container.addClass("e-corner-all"):this.container.removeClass("e-corner-all")},_enabled:function(n){n?this.enable():this.disable()},_destroyDropdown:function(){this.element.insertAfter(this.wrapper),this.element.width(this.element.width()+this.dropdownbutton.outerWidth()),this.wrapper.remove(),this.container.remove(),this.element.unbind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.unbind("mousedown",n.proxy(this._OnDropdownClick,this))},_RightToLeft:function(){this.model.rtl?this.wrapper.addClass("e-rtl"):this.wrapper.removeClass("e-rtl")},_dropbtnRTL:function(){this.model.rtl?this.popupList.addClass("e-rtl"):this.popupList.removeClass("e-rtl")},_OnDropdownClick:function(n){if(n.preventDefault(),this.model.readOnly)return!1;this.ultag.find("li").length>0&&(this.showPopupBox?this._hideResult():(this._showResult(),this.wrapper.focus()))},_showFullList:function(){this.model.dataSource!=null&&(t.DataManager&&this.model.dataSource instanceof t.DataManager||(this.popupListItems=this.model.dataSource)),this._renderPopupList()},_cascadeAction:function(){this.model.selectedTo&&(this._currentValue=this._getField(this.popupListItems[this._activeItem],this.mapFld._value),this.selectDropObj=n("#"+this.model.selectedTo).ejDropDownList("instance"),t.isNullOrUndefined(this._dSource)&&(this._dSource=this.selectDropObj.model.dataSource),t.DataManager&&this._dSource instanceof t.DataManager?this._performOdataInit():this._performJsonDataInit())},_performOdataInit:function(){var n=this,i,r;t.isNullOrUndefined(this._dQuery)&&(this._dQuery=this.selectDropObj.model.query.clone()),r=this._dQuery.clone(),n.selectDropObj._addLoadingClass(),i=this._dSource.executeQuery(r.where(this.mapFld._value,"equal",this._currentValue)),i.fail(function(){n._changedSource=null,n.selectDropObj.setModel({dataSource:n._changedSource,enabled:!1})}).done(function(t){n._changedSource=t.result,n.selectDropObj.setModel({dataSource:n._changedSource,enabled:!0}),n.selectDropObj._removeLoadingClass()})},_performJsonDataInit:function(){this._changedSource=t.DataManager(this._dSource).executeLocal(t.Query().where(this.mapFld._value,"==",this._currentValue)),this.selectDropObj.setModel({dataSource:this._changedSource,enabled:!0})},_OnMouseEnter:function(t){var r,i;this.ultag.children("li").removeClass("e-hover"),n(t.target).is("li")?n(t.target).addClass("e-hover"):t.target.tagName!="li"&&(r=n(t.target).parents("li"),n(r).addClass("e-hover")),i=0,this.ultag.children("li").each(function(t){if(n(this).hasClass("e-hover"))return i=t,!1}),this._activeItem=i},_OnMouseLeave:function(){this.ultag.children("li").removeClass("e-hover")},_OnMouseClick:function(t){t.preventDefault(),this.model.showCheckbox?(n(t.currentTarget).is("li")&&n(t.target).is("li")&&(n(t.currentTarget.firstChild).find(".listcheckbox").ejCheckBox("isChecked")?(n(t.currentTarget.firstChild).find(".listcheckbox").ejCheckBox("option","check",!1),this.checkedStatus=!1,this._removeTextBoxValue()):(n(t.currentTarget.firstChild).find(".listcheckbox").ejCheckBox("option","check",!0),this.checkedStatus=!0,this._enterTextBoxValue())),this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model})):(this.model.template?this._templateValue():this._enterTextBoxValue(),this._hideResult())},_OnClickCheckList:function(n){n.isChecked?(this.checkedStatus=!0,this._enterTextBoxValue()):(this.checkedStatus=!1,this._removeTextBoxValue()),this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model})},_OnListSelect:function(t){t.preventDefault(),activeItem=this._getActiveItem(),n(activeItem).find(".listcheckbox").ejCheckBox("isChecked")?(n(activeItem).find(".listcheckbox").ejCheckBox("option","check",!1),this.checkedStatus=!1,this._removeTextBoxValue()):(n(activeItem).find(".listcheckbox").ejCheckBox("option","check",!0),this.checkedStatus=!0,this._enterTextBoxValue()),this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model})},_OnDocumentClick:function(t){n(t.target).is(this.popupList)||n(t.target).parents(".e-ddl-popup").is(this.popupList)||n(t.target).is(this.element)||n(t.target).parents(".e-ddl").is(this.wrapper)?(n(t.target).is(this.popupList)||n(t.target).parents(".e-ddl-popup").is(this.popupList))&&t.preventDefault():this._hideResult()},_OnKeyDown:function(n){if(!this.model.enabled||this.model.readOnly)return!1;this._itemId=null;var t=this.ultag.children("li");this._listSize=this.ultag.children("li").size();switch(n.keyCode){case 38:if(n.altKey)this.ultag.find("li").length>0&&this._hideResult();else return this.showPopupBox?(this._removeListHover(),this.ultag.children("li").removeClass("e-active"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(this.ultag.children("li").removeClass("e-active"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),n.preventDefault(),!1;break;case 40:if(n.altKey)this.ultag.find("li").length>0&&this._showResult();else return this.showPopupBox?(this._removeListHover(),this.ultag.children("li").removeClass("e-active"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(this.ultag.children("li").removeClass("e-active"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),n.preventDefault(),!1;break;case 37:return this.showPopupBox?(this._removeListHover(),this.ultag.children("li").removeClass("e-active"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(this.ultag.children("li").removeClass("e-active"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),n.preventDefault(),!1;case 39:return this.showPopupBox?(this._removeListHover(),this.ultag.children("li").removeClass("e-active"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(this.ultag.children("li").removeClass("e-active"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),n.preventDefault(),!1;case 8:return this.model.multiSelectMode==!0&&this.model.showCheckbox&&this._deleteLastBox(),n.preventDefault(),!1;case 9:this._hideResult();break;case 35:return this.showPopupBox?(this._removeListHover(),this.ultag.children("li").removeClass("e-active"),this._activeItem=this._listSize-1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(this.ultag.children("li").removeClass("e-active"),this._activeItem=this._listSize-1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),n.preventDefault(),!1;case 36:return this.showPopupBox?(this._removeListHover(),this.ultag.children("li").removeClass("e-active"),this._activeItem=0,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(this.ultag.children("li").removeClass("e-active"),this._activeItem=0,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),n.preventDefault(),!1;case 27:this._hideResult();break;case 32:return n.preventDefault(),!1}},_OnKeyUp:function(t){if(!this.model.enabled||this.model.readOnly)return!1;t.preventDefault();var i=t.target;if(n.trim(this.element.val())==""&&t.keyCode==38&&t.keyCode==40)return this._hideResult(),!1;switch(t.keyCode){case 38:break;case 40:break;case 37:break;case 39:break;case 20:break;case 16:break;case 17:break;case 18:break;case 35:break;case 36:break;case 144:break;case 27:break;case 9:break;case 13:return t.preventDefault(),this.model.showCheckbox?this._OnListSelect(t):this.model.template?(this._templateValue(),this._hideResult()):(this._enterTextBoxValue(),this._hideResult()),!1;case 32:return t.preventDefault(),this.model.showCheckbox?this._OnListSelect(t):this.model.template?(this._templateValue(),this._hideResult()):(this._enterTextBoxValue(),this._hideResult()),!1;case 8:this._hideResult();break;case 46:if(this.model.multiSelectMode==!0&&this.model.showCheckbox){this._deleteBox(this._ulBox.children("li.e-active"));break}default:!this.model.showCheckbox&&this.model.dataSource!=null&&this.model.dataSource.length>0&&this.model.incrementalSearch&&this._OnTextEnter(t.keyCode)}},_templateValue:function(){var t=n(this.ultag.children("li")[this._activeItem]);currentText=this._getField(this.popupListItems[this._activeItem],this.mapFld._text),currentValue=this._getField(this.popupListItems[this._activeItem],this.mapFld._value),args={text:currentText,selectedText:currentText,itemId:this._activeItem,value:currentValue},this.model.select&&this._trigger("select",args),this._activeItem!=this._aselectedItem&&(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),t.addClass("e-active"),this._aselectedItem=this._activeItem,this.element.val(currentText),args={text:this.element[0].value,selectedText:currentText,itemId:this._activeItem,value:currentValue},this.model.change&&this._trigger("change",args),this.model.value=this.element.val()),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("e-watermark")):this.element.removeClass("e-watermark"))},_OnTextEnter:function(n){_proxy=this,this._incqueryString+=String.fromCharCode(n),this._incqueryString.length>0&&setTimeout(function(){_proxy._incqueryString=""},100);var i=this.model.dataSource,t,o=this.model.caseSensitive,f=this.model.fields,r,e=this._incqueryString,s=this._incqueryString.length,u=!1;for(o||(e=e.toLowerCase()),t=0;t<i.length;t++)if(r=typeof i[t]=="string"?i[t]:(f&&f.text)?i[t][f.text]:i[t].text,r=o?r:r.toLowerCase(),r.substr(0,s)==e?(this.showPopupBox?(this._removeListHover(),this._activeItem=t,this._enterTextBoxValue(),this._addListHover()):(this._activeItem=t,this._enterTextBoxValue()),u=!0):t==i.length-1&&u==!1&&(this.showPopupBox?(this._removeListHover(),this._activeItem=t,this._enterTextBoxValue(),this._addListHover()):(this._activeItem=t,this._enterTextBoxValue()),u=!0),u)break},_targetFocus:function(){this.model.enabled&&(this.element.hasClass("e-watermark")&&(this.element.removeClass("e-watermark"),this.element.val(null)),this.wrapper.addClass("e-focus"),this._isFocused=!0,this.model.focusIn&&this._trigger("focusIn"))},_targetBlur:function(){this.model.enabled&&(this._isFocused=!1,this.wrapper.removeClass("e-focus"),this.model.watermark!=null&&n.trim(this.element.val())===""&&(this.element.val(this.model.watermark),this.element.addClass("e-watermark")),this.model.focusOut&&this._trigger("focusOut"))},_wireEvents:function(){this._on(this.wrapper,"focus",this._targetFocus),this._on(this.wrapper,"blur",this._targetBlur),this._on(this.wrapper,"keydown",this._OnKeyDown),this._on(this.popupList,"keydown",this._OnKeyDown),this._on(this.popupList,"keyup",this._OnKeyUp),this._on(this.wrapper,"keyup",this._OnKeyUp)}})}(jQuery,Syncfusion),function(n,t,i){t.widget({ejNumericTextbox:["ej.NumericTextbox","e-numerictextbox"],ejPercentageTextbox:["ej.PercentageTextbox","e-percentagetextbox"],ejCurrencyTextbox:["ej.CurrencyTextbox","e-currencytextbox"]},{element:null,model:null,validTags:["input"],defaults:{width:"",height:"",value:null,name:null,minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,incrementStep:1,decimals:0,cssClass:"",persist:!1,showSpinButton:!0,localize:"en-US",strictMode:!1,roundedCorner:!1,readOnly:!1,enabled:!0,rtl:!1,waterMarkText:"",change:null,focusIn:null,focusOut:null},dataTypes:{minValue:"number",maxValue:"number",incrementStep:"number",decimals:"number",showSpinButton:"boolean",strictMode:"boolean",roundedCorner:"boolean",rtl:"boolean",localize:"string",waterMarkText:"string",cssClass:"string",readOnly:"boolean",enabled:"boolean"},_setModel:function(n){var r=!1,i;if(this.model.enabled||n.enabled){for(i in n)switch(i){case"value":t.isNullOrUndefined(n.minValue)&&t.isNullOrUndefined(n.maxValue)?(this._setValue(n[i]),n[i]=this.model.value):(this.model.value=this._checkNumValue(n[i]),this._localizedFormat(),this._raiseChangeEvent(),r=!0);break;case"rtl":this._enableRTL(n[i]);break;case"width":this._setWidth(n[i]);break;case"height":this._setHeight(n[i]);break;case"minValue":if(isNaN(n[i]))return;this.model.minValue=parseFloat(n[i].toFixed(this.model.decimals)),r=!0;break;case"maxValue":if(isNaN(n[i]))return;this.model.maxValue=parseFloat(n[i].toFixed(this.model.decimals)),r=!0;break;case"incrementStep":if(isNaN(n[i]))return;this.model.incrementStep=parseFloat(n[i].toFixed(this.model.decimals));break;case"showSpinButton":this._showSpin(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]);break;case"localize":this._setLocalize(n[i]);break;case"decimals":this._setDecimal(n[i]);break;case"cssClass":this._setSkin(n[i]);break;case"readOnly":this._setReadOnly(n[i]);break;case"enabled":n[i]?this.enable():this.disable();break;case"waterMarkText":this.model.waterMarkText=n[i],this._setWaterMark()}r&&(this._validateMinMaxValue(!0),n.value=this.model.value,n.maxValue=this.model.maxValue,n.minValue=this.model.minValue,this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue)),this._checkErrorClass()}},_destroy:function(){this.wrapper&&(this.element.insertBefore(this.wrapper),this.wrapper.remove()),this.model.name&&this.element.removeAttr("name"),this.element.val("").removeClass("e-input e-watermark").empty()},_init:function(){if(this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type")))this._setValues(),this._renderControl(),this._wireEvents(),this._initObjects();else return this._destroy(),!1},_setValues:function(){this._id=this.element[0].id,this._textBox=this.element[0],this._error=!1,this._timeout=null,this.isValidState=!0,this._allowkeyboard=!0,this._validateOnType=!1,this._focused=!1,this._startValue=0,this.sfType==="ej.CurrencyTextbox"&&this.model.minValue==-Number.MAX_VALUE&&(this.model.minValue=0),this.model.minValue=parseFloat(this.model.minValue.toFixed(this.model.decimals)),this.model.maxValue=parseFloat(this.model.maxValue.toFixed(this.model.decimals)),this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),this.model.value=this._checkNumValue(this.model.value),this._localizedFormat(),this._validateMinMaxValue(!0),this.model.waterMarkText=this._checkWaterMark(this.model.waterMarkText),this._percentSymbol=Globalize.culture(this.model.localize).numberFormat.percent.symbol,this._currencySymbol=Globalize.culture(this.model.localize).numberFormat.currency.symbol},_renderControl:function(){var i=n(document.createElement("span")).addClass("e-widget"),r=n(document.createElement("span")).addClass("e-in-wrap e-box"),u,f;this.sfType==="ej.NumericTextbox"?i.addClass("e-numeric"):this.sfType==="ej.PercentageTextbox"?i.addClass("e-percent"):this.sfType==="ej.CurrencyTextbox"&&i.addClass("e-currency"),i.append(r).insertAfter(this.element),r.append(this.element),this.model.name=this.model.name!=null?this.model.name:this.element[0].id,this.element.attr("name",this.model.name).addClass("e-input"),u=n('<span class="e-select"><span class="e-spin e-spin-up"/><span class="e-spin e-spin-down"/><\/span>'),f=t.buildTag("span.e-icon e-arrow"),r.append(u),u.find(".e-spin").append(f),this.innerWrap=this.element.parent(),this.wrapper=this.innerWrap.parent(),this.spin=this.wrapper.find(".e-select"),this.spinUp=this.wrapper.find(".e-spin-up"),this.spinDown=this.wrapper.find(".e-spin-down"),this._setWidth(this.model.width),this._setHeight(this.model.height),this.model.cssClass!=""&&this._setSkin(this.model.cssClass),this._showSpin(this.model.showSpinButton),this.model.roundedCorner&&this._roundedCorner(this.model.roundedCorner),this.model.rtl&&this._enableRTL(this.model.rtl),this.model.readOnly&&this._setReadOnly(this.model.readOnly),this.model.enabled||this.disable(),this.wrapper=i},_initObjects:function(){this._preVal=this._numberValue(),this._textBox.value==""&&this.model.waterMarkText!=""&&this._setWaterMark(),this.sfType==="ej.PercentageTextbox"&&this._textBox.value!=""?this._appendPercentSymbol(this._textBox.value):this.sfType==="ej.CurrencyTextbox"&&this._textBox.value!=""&&this._appendCurrencySymbol(this._textBox.value),this.model.value==""?this.isValidState=!0:(this.model.value<this.model.minValue||this.model.value>this.model.maxValue)&&(this.isValidState=!1),this._checkErrorClass()},_showSpin:function(n){n?(this.spin&&(this.spin.show(),this.innerWrap.addClass("e-padding")),this._bindSpinEvents()):(this.spin&&(this.spin.hide(),this.innerWrap.removeClass("e-padding")),this._unbindSpinEvents())},_roundedCorner:function(n){n&&!this.innerWrap.hasClass("e-corner-all")?this.innerWrap.addClass("e-corner-all"):this.innerWrap.hasClass("e-corner-all")&&this.innerWrap.removeClass("e-corner-all")},_enableRTL:function(n){n?this.spin?this.wrapper.addClass("e-rtl"):this.element.addClass("e-rtl"):this.spin?this.wrapper.removeClass("e-rtl"):this.element.removeClass("e-rtl")},_setWidth:function(n){this.wrapper.width(n)},_setHeight:function(n){this.wrapper.height(n)},_setSkin:function(n){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(n)},_setValue:function(n){this.model.value=this._checkNumValue(n),this._validateMinMaxValue(!1),this.isValidState=this.model.minValue<=this.model.value&&this.model.value<=this.model.maxValue?!0:!1,this._checkErrorClass(),this._localizedFormat(),this._raiseChangeEvent()},_setLocalize:function(n){this.model.localize=n,this._percentSymbol=Globalize.culture(this.model.localize).numberFormat.percent.symbol,this._currencySymbol=Globalize.culture(this.model.localize).numberFormat.currency.symbol,this._localizedFormat()},_setDecimal:function(n){this.model.decimals=n,this._localizedFormat()},_validateMinMaxValue:function(n){var t=!1;this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue),this.model.value!=""&&this.model.minValue>this.model.value?(this.model.strictMode!=!0?(this.isValidState=!0,this._startValue=this.model.value=this.model.minValue):this.isValidState=!1,t=!0):this.model.value!=""&&this.model.maxValue<this.model.value?(this.model.strictMode!=!0?(this.isValidState=!0,this.model.value=this.model.maxValue):this.isValidState=!1,t=!0):this.isValidState=!0,this.model.minValue==this.model.maxValue&&(this._startValue=this.model.minValue),t&&n&&(this._localizedFormat(),this._raiseChangeEvent())},_localizedFormat:function(){this._wipeWaterMark(),this._textBox.value=Globalize.format(this.model.value,"n"+this.model.decimals,this.model.localize),this._focused||this._textBox.value==""||(this.sfType==="ej.PercentageTextbox"?this._appendPercentSymbol(this._textBox.value):this.sfType==="ej.CurrencyTextbox"&&this._appendCurrencySymbol(this._textBox.value))},_checkNumValue:function(n){return typeof n!="string"||isNaN(Globalize.parseFloat(n,this.model.localize))?typeof n!="number"||isNaN(n)?"":n:(n=Globalize.parseFloat(n,this.model.localize),parseFloat(n))},_checkWaterMark:function(n){return n?n:""},_setReadOnly:function(n){n?this.element.attr("readonly",!0):this.element.removeAttr("readonly")},_setWaterMark:function(){this.element.addClass("e-watermark"),this._textBox.value=this.model.waterMarkText},_wipeWaterMark:function(){this.element.removeClass("e-watermark")},_setSelectionRange:function(n,t){function f(i){i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select()}var i=this._textBox,r,u;try{i.setSelectionRange?(i.setSelectionRange(n,t),i.focus()):i.createTextRange&&(r=i.createTextRange(),f(r))}catch(e){u=this,window.setTimeout(function(){document.body.focus(),u._textBox.select();var n=document.selection.createRange();f(n)},1)}},_getSelection:function(n){var t=null;return document.selection?(t=document.selection.createRange(),t.text==""?t.text:this._removeFormats(t.text)):n==null?this.model.value:this._removeFormats(n.substring(this._textBox.selectionStart,this._textBox.selectionEnd))},_caretPosition:function(){var n=this._textBox,t=0,i;return document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),t=i.text.length):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionEnd),t},_appendPercentSymbol:function(n){this._percentSymbol&&(n=n.replace(this._percentSymbol,"")),n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)<0&&(this._textBox.value=n+Globalize.culture(this.model.localize).numberFormat.percent.symbol),this._percentSymbol=Globalize.culture(this.model.localize).numberFormat.percent.symbol},_appendCurrencySymbol:function(n){this._currencySymbol&&(n=n.replace(this._currencySymbol,"")),n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)<0&&(this._textBox.value=Number(n)<0?"("+Globalize.culture(this.model.localize).numberFormat.currency.symbol+Math.abs(n)+")":Globalize.culture(this.model.localize).numberFormat.currency.symbol+n),this._currencySymbol=Globalize.culture(this.model.localize).numberFormat.currency.symbol},_removeFormats:function(n){var t=Globalize.culture(this.model.localize).numberFormat[","];return n!=null?t=="."?n.toString().replace(/["."]/g,""):n.toString().match(new RegExp(t,"g"))?n.toString().replace(new RegExp(t,"g"),""):n:null},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},enable:function(){this.model.enabled=!0,this._textBox.disabled=!1,this.element.removeAttr("disabled"),this.element.removeClass("e-disable"),this.wrapper.find(".e-select").removeClass("e-disable")},disable:function(){this.model.enabled=!1,this._textBox.disabled=!0,this.element.attr("disabled","disabled"),this.element.addClass("e-disable"),this.wrapper.find(".e-select").addClass("e-disable")},getValue:function(){return this.model.value==null?"":this.model.value},_wireEvents:function(){this._on(this.element,"focus",this._focusIn),this._on(this.element,"blur",this._focusOut),this._on(this.element,"keydown",this._keyDown),this._on(this.element,"keyup",this._keyUp),this._on(this.element,"mousewheel",this._mouseWheel),this._on(this.element,"DOMMouseScroll",this._mouseWheel)},_bindSpinEvents:function(){this._on(this.spinUp,"mousedown",this._spinUpClick),this._on(this.spinDown,"mousedown",this._spinDownClick),this._on(this.spinUp,"mouseup",this._spinUpClick),this._on(this.spinDown,"mouseup",this._spinDownClick)},_unbindSpinEvents:function(){this._off(this.spinUp,"mousedown",this._spinUpClick),this._off(this.spinDown,"mousedown",this._spinDownClick),this._off(this.spinUp,"mouseup",this._spinUpClick),this._off(this.spinDown,"mouseup",this._spinDownClick)},_spinUpClick:function(t){var i=this;(t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly)&&(this._on(this.spinUp,"mouseleave",this._mouseUpClick),this.spinUp.addClass("e-active"),i=this,t.type=="mouseup"?(this._incrementValue(t),this.spinUp.removeClass("e-active"),this._off(n(document),"mouseup",this._mouseUpClick)):t.type=="mousedown"&&(this._focused||this.element[0].focus(),this._timeout=setInterval(function(){i._incrementValue(t)},150),this._on(n(document),"mouseup",this._mouseUpClick)))},_spinDownClick:function(t){var i=this;(t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly)&&(this._on(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.addClass("e-active"),t.type=="mouseup"?(this._decrementValue(t),this.spinDown.removeClass("e-active"),this._off(n(document),"mouseup",this._mouseUpClick)):t.type=="mousedown"&&(this._focused||this.element[0].focus(),this._timeout=setInterval(function(){i._decrementValue(t)},150),this._on(n(document),"mouseup",this._mouseUpClick)))},_mouseUpClick:function(n){n.stopPropagation(),clearTimeout(this._timeout),this._off(this.spinUp,"mouseleave",this._mouseUpClick),this._off(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.removeClass("e-active"),this.spinUp.removeClass("e-active")},_mouseWheel:function(n){if(n.preventDefault(),this._focused||this.element[0].focus(),!this.model.readOnly){var t,i=n.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._incrementValue(n):t<0&&this._decrementValue(n),this._cancelEvent(n)}},_numberValue:function(){var n=this._textBox.value,t;return this.sfType==="ej.PercentageTextbox"?n=n.split(this._percentSymbol)[0]:this.sfType==="ej.CurrencyTextbox"&&(t=n.split(this._currencySymbol)[1],n=t?t.replace(")",""):n),n},_focusIn:function(){(this._focused=!0,this.wrapper.addClass("e-focus"),this.model.readOnly)||(this.wrapper.removeClass("e-error"),this._textBox.value==this.model.waterMarkText&&(this._textBox.value="",this.element.hasClass("e-watermark")&&this._wipeWaterMark()),this._error||(this._textBox.value!=""&&(this._textBox.value=this._numberValue()),this._setSelectionRange(0,this._textBox.value.length)),this.model.focusIn&&this._trigger("focusIn"))},_focusOut:function(){if(this._focused=!1,this.wrapper.removeClass("e-focus"),!this._error){if(this._textBox.value!=""&&this._textBox.value!=this.model.waterMarkText){if(parseFloat(this._textBox.value)<this.model.minValue?this.model.strictMode==!1?this._textBox.value=this.model.minValue.toFixed(this.model.decimals):this.isValidState=!1:parseFloat(this._textBox.value)>this.model.maxValue&&(this.model.strictMode==!1?this._textBox.value=this.model.maxValue.toFixed(this.model.decimals):this.isValidState=!1),this.sfType==="ej.NumericTextbox")this.model.value=Globalize.parseFloat(this._textBox.value,this.model.localize);else if(this.sfType==="ej.PercentageTextbox"||this.sfType==="ej.CurrencyTextbox"){var n=this._textBox.value,t=n;n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)>-1?t=n.substring(0,n.length-1):n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)>-1&&(t=n.substring(1)),this.model.value=Globalize.parseFloat(t,this.model.localize)}isNaN(this.model.value)&&!this.model.value&&(this.model.value="",this.isValidState=!1),this._localizedFormat(),this._checkErrorClass()}else this._textBox.value==""&&this.model.waterMarkText==""?this._textBox.value="":this._textBox.value==""&&this.model.waterMarkText!=""&&this._setWaterMark(),this._textBox.value!=""&&(this._textBox.value==this.model.waterMarkText?this.model.value="":this._setValue(this._textBox.value));this.model.value==""||this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue?this.isValidState=!0:this.model.strictMode&&(this.isValidState=!1),this._keyUp(),this.model.focusOut&&this._trigger("focusOut")}this._checkErrorClass()},_cancelEvent:function(n){return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},_incrementValue:function(){if(this.isValidState=!0,this._textBox.value!=this.model.waterMarkText||this._textBox.value==""){if(this._textBox.value==""&&(this._textBox.value=this._startValue),this.sfType==="ej.PercentageTextbox"||this.sfType==="ej.CurrencyTextbox"){var n=this._textBox.value,t=n;n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)>-1?t=n.substring(0,n.length-1):n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)>-1&&(t=n.substring(1)),this.model.value=Globalize.parseFloat(t,this.model.localize)}else this.sfType=="ej.NumericTextbox"&&(this.model.value=Globalize.parseFloat(this._textBox.value,this.model.localize));isNaN(this.model.value)&&!this.model.value&&(this.model.value=this._startValue),this.model.strictMode==!0?this.model.value>this.model.minValue&&this.model.value>this.model.maxValue?(this.model.value=this.model.maxValue,this._setValue(this.model.value),this._wipeWaterMark()):this.model.value<this.model.minValue&&this.model.value<this.model.maxValue?(this.model.value=this.model.minValue,this._setValue(this.model.value),this._wipeWaterMark()):this.model.value>=this.model.minValue&&this.model.value<this.model.maxValue&&(this.model.value=this.model.value+this.model.incrementStep,this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(this._setValue(this.model.value),this._wipeWaterMark())):this.model.value>=this.model.minValue&&this.model.value<this.model.maxValue&&(this.model.value=this.model.value+this.model.incrementStep,this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(this._setValue(this.model.value),this._wipeWaterMark()))}this._checkErrorClass()},_decrementValue:function(){var i,n,t;this.isValidState=!0,i=this.model.value,(this._textBox.value!=this.model.waterMarkText||this._textBox.value=="")&&(this._textBox.value==""?this._textBox.value=this._startValue:this._textBox.value.indexOf(" ")>=0&&(this._textBox.value=this._textBox.value.replace(" ","")),this.sfType==="ej.PercentageTextbox"||this.sfType==="ej.CurrencyTextbox"?(n=this._textBox.value,t=n,n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)>-1?t=n.substring(0,n.length-1):n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)>-1&&(t=n.substring(1)),this.model.value=Globalize.parseFloat(t,this.model.localize)):this.sfType=="ej.NumericTextbox"&&(this.model.value=Globalize.parseFloat(this._textBox.value,this.model.localize)),isNaN(this.model.value)&&!this.model.value&&(this.model.value=this._startValue),this.model.strictMode==!0?this.model.value>=this.model.minValue&&this.model.value>this.model.maxValue?(this.model.value=this.model.maxValue,this._setValue(this.model.value),this._wipeWaterMark()):this.model.value<this.model.minValue&&this.model.value<=this.model.maxValue?(this.model.value=this.model.minValue,this._setValue(this.model.value),this._wipeWaterMark()):this.model.value>this.model.minValue&&this.model.value<=this.model.maxValue&&(this.model.value=this.model.value-this.model.incrementStep,this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(this._setValue(this.model.value),this._wipeWaterMark())):this.model.value>this.model.minValue&&this.model.value<=this.model.maxValue&&(this.model.value=this.model.value-this.model.incrementStep,this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(this._setValue(this.model.value),this._wipeWaterMark()))),this._checkErrorClass()},_validateDecimal:function(n){if(window.navigator.appName=="Microsoft Internet Explorer"){if(n.originalEvent.char==Globalize.culture(this.model.localize).numberFormat["."])return!0}else{var t=String.fromCharCode(n.keyCode);if(n.keyCode==188?t=",":(n.keyCode==190||n.keyCode==110)&&(t="."),Globalize.culture(this.model.localize).numberFormat["."].charCodeAt(0)==t.charCodeAt(0))return!0}return!1},_allowKeyCodes:function(n){for(var i=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110,173,86,88,67],t=0;t<i.length;t++)if(n.keyCode==i[t]||this._validateDecimal(n)&&this.model.decimals!=0)return!0;return!1},_raiseChangeEvent:function(){var n=this._numberValue();this._preVal&&this._preVal.toString()!=n&&(this._preVal=n,this.model.value=this._checkNumValue(this._preVal),this._raiseChangeEvent(),this.model.change&&this._trigger("change",{value:this.model.value}))},_keyUp:function(){this._raiseChangeEvent()},_keyDown:function(t){var c,y,u,f,e,p,v,l,a,b;if(!this.model.readOnly)if(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||this._allowKeyCodes(t)){if(t.shiftKey&&(t.keyCode==35||t.keyCode==36||t.keyCode==37||t.keyCode==39||t.keyCode==46||t.keyCode==127)||t.ctrlKey&&(t.keyCode==86||t.keyCode==118||t.keyCode==67||t.keyCode==88))return!0;if((t.shiftKey==!0||t.ctrlKey==!0)&&t.keyCode!=9&&t.keyCode!=17&&t.keyCode!=86&&t.keyCode!=67||t.keyCode==67||t.keyCode==86||t.keyCode==88)return this._keypressFlag=!1,this._cancelEvent(t),!1;if(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode==110){if(this._wipeWaterMark(),c=this._caretPosition(),u=this._textBox.value.toString().substring(0,c),f=this._textBox.value.toString().substring(c),e=this._getSelection(this._textBox.value),t.keyCode>=96&&t.keyCode<=105&&(t.keyCode-=48),this.model.value=e.length==0?Globalize.parseFloat(u+String.fromCharCode(t.keyCode)+f,this.model.localize):Globalize.parseFloat(u.substring(0,u.length-e.length)+String.fromCharCode(t.keyCode)+f,this.model.localize),this._validateOnType){var r=Globalize.culture(this.model.localize).numberFormat["."],o=this.model.value.toString(),tt=o.indexOf(r),k=this.model.value,s=this.model.minValue.toFixed(this.model.decimals),h=this.model.maxValue.toFixed(this.model.decimals),w=!1;if((s.toString().indexOf("e")>0||h.toString().indexOf("e")>0)&&(w=!0),w)this.model.decimals!=0?(p=this._textBox.value.split(".")[1],y=o.indexOf(r)>0||Number(o)<Number(s)||Number(o)>Number(h)?o.substring(o.indexOf(r)+1,o.length).length>this.model.decimals?!0:e.length==0&&c>this._textBox.value.indexOf(r)&&p&&p.length>=this.model.decimals?!0:!1:e.length==0&&c>this._textBox.value.indexOf(r)&&p&&p.length>=this.model.decimals?!0:!1):y=!1;else if(r!="."&&(o=this._textBox.value.toString(),this.model.minValue.toString().match(new RegExp(".","g"))&&(s=this.model.minValue.toString().replace(/["."]/g,r)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(h=this.model.maxValue.toString().replace(/["."]/g,r))),l=s.toString().indexOf(r)>0?Number(s.toString().substring(0,s.toString().indexOf(r))):this.model.minValue,a=h.toString().indexOf(r)>0?Number(h.toString().toString().substring(0,h.toString().indexOf(r))):this.model.maxValue,tt>0){k=Number(o.substring(o.indexOf(r)+1,o.toString().length)),l=s.toString().indexOf(r)>0?Number(s.toString().substring(s.toString().indexOf(r)+1,s.toString().length)):0,a=h.toString().indexOf(r)>0?Number(h.toString().substring(h.toString().indexOf(r)+1,h.toString().length)):0;var it=Number(o.substring(0,o.indexOf(r))),rt=Number(s.toString().substring(0,s.toString().indexOf(r))),ut=Number(h.toString().substring(0,h.toString().indexOf(r)));y=this._validateValue(k,l,a,!0,it,rt,ut)?!1:!0}else y=this._validateValue(k,l,a,!1)?!1:!0;if(y)return this.model.value=e.length==0?parseFloat(u+f):parseFloat(u.substring(0,u.length-e.length)+f),this._keypressFlag=!1,this._cancelEvent(t),!1}this._raiseChangeEvent()}if(t.keyCode==38&&this._allowkeyboard&&(this._incrementValue(t),this._cancelEvent(t)),t.keyCode==40&&this._allowkeyboard&&(this._decrementValue(t),this._cancelEvent(t)),t.keyCode==8&&(c=this._caretPosition(),u=this._textBox.value.substring(0,c),f=this._textBox.value.substring(c),e=this._getSelection(this._textBox.value),this.model.value=e.length==0?u.substring(0,u.length-1)+f:u.substring(0,u.length-e.length)+f,this._raiseChangeEvent()),(t.keyCode==46||t.keyCode==127)&&(c=this._caretPosition(),u=this._textBox.value.substring(0,c),f=this._textBox.value.substring(c),e=this._getSelection(this._textBox.value),this.model.value=e.length==0?u+f.substring(1,f.length):u.substring(0,u.length-e.length)+f.substring(0,f.length),this._raiseChangeEvent()),this._validateDecimal(t)&&this.model.decimals!=0&&t.keyCode!=46){if(v=Globalize.culture(this.model.localize).numberFormat["."],b=this._textBox.value.split(v),b[1]==i){var d=this._caretPosition(),g=b[0].substring(0,d),nt=b[0].substring(d);if((this.model.minValue.toString().indexOf("e")>0||this.model.maxValue.toString().indexOf("e")>0)&&(w=!0),this._validateOnType&&!w)if(this.model.minValue.toString().match(new RegExp(".","g"))&&(l=this.model.minValue.toString().replace(/["."]/g,v)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(a=this.model.maxValue.toString().replace(/["."]/g,v)),l=l.indexOf(v)>0?Number(l.substring(0,l.indexOf(v))):Number(l),a=a.indexOf(v)>0?Number(a.substring(0,a.indexOf(v))):Number(a),this._validateValue(this.model.value,l,a,"DecimalKeyPressed"))this.model.value=g+v+nt;else return this._keypressFlag=!1,this._cancelEvent(t),!1;else this.model.value=g+v+nt;this._setSelectionRange(this.model.value.length,this.model.value.length),this._textBox.value=this.model.value}else this.model.value=this._textBox.value;this._cancelEvent(t)}else(t.keyCode==190||t.keyCode==110)&&this._cancelEvent(t);(t.keyCode==109||t.keyCode==189||t.keyCode==173)&&(this._caretPosition()!=0&&this._getSelection(this._removeFormats(this._textBox.value))!=this.model.value||this.model.minValue>=0||this._textBox.value.toString().match(new RegExp("-","g"))&&this._getSelection(this._textBox.value)==""?this._cancelEvent(t):this._getSelection()==this.model.value&&(this.model.value=null))}else(t.keyCode!=27&&!t.ctrlKey||t.ctrlKey&&t.keyCode==90&&n.trim(this._textBox.value)=="")&&(this._keypressFlag=!1,this._cancelEvent(t))}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejMaskEdit","ej.MaskEdit",{element:null,model:null,validTags:["input"],defaults:{mask:"",value:"",waterMarkText:"",height:"",width:"",error:!1,cssClass:"",customChar:null,inputMode:"text",readOnly:!1,textAlign:t.textAlign.Left,hidePromptOnLeave:!1,onKeyDown:null,roundedCorner:!1,persist:!1,enabled:!0,keyUp:null,keyPress:null,change:null,mouseOver:null,mouseOut:null,focusIn:null,focusOut:null},dataTypes:{mask:"string",error:"boolean",enabled:"boolean",customChar:"string",cssClass:"string",waterMarkText:"string",roundedCorner:"boolean",inputMode:"enum",textAlign:"enum",hidePromptOnLeave:"boolean",readOnly:"boolean"},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(var i in n)switch(i){case"value":this._setValue(n[i]),n[i]=this.get_StrippedValue();break;case"width":this._setWidth(n[i]);break;case"height":this._setHeight(n[i]);break;case"waterMarkText":this.model.waterMarkText=n[i],this._setWaterMark();break;case"roundedCorner":this._roundedCorner(n[i]);break;case"textAlign":this._setTextAlign(n[i]);break;case"inputMode":this._setInputMode(n[i]);break;case"mask":this._setMask(n[i]);break;case"cssClass":this._setSkin(n[i]);break;case"readOnly":this._setReadOnly(n[i]);break;case"enabled":this.model.enabled=n[i],this._controlStatus(n[i])}},_destroy:function(){this.model.name&&this.element.removeAttr("name"),this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.model.textAlign&&this.element.css("text-align",""),this.element.val("").removeClass(" e-mask e-input e-corner-all e-disable e-watermark").empty()},_init:function(){if(this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type")))this._setValues(),this._renderControl(),this._initObjects(),this._wireEvents();else return this._destroy(),!1},_controlStatus:function(n){n!=!0?this.disable():this.enable()},_setValues:function(){this._tempMask=null,this._unStrippedMask=null,this._charMap={"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]",A:"[A-Za-z]",N:"[0-9]","<":"",">":"",C:"","?":"(.)",$:"[A-Za-z ]"}},_renderControl:function(){this.model.name=this.model.name!=null?this.model.name:this.element[0].id,this.wrapper=t.buildTag("span.e-mask e-widget "+this.model.cssClass),this.innerWrapper=t.buildTag("span.e-in-wrap e-box"),this.element.attr("name",this.model.name).addClass("e-input "),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this._setInputMode(this.model.inputMode),this._setWidth(this.model.width),this._setHeight(this.model.height),this._roundedCorner(this.model.roundedCorner),this._setTextAlign(this.model.textAlign),this._setReadOnly(this.model.readOnly),this._controlStatus(this.model.enabled),this.previousValue=this.model.value},_initObjects:function(){this._textbox=this.element[0],this._keypressFlag=0,this._selectedTextKeyDown=0,this._keydownFlag=0,this._maskLength=this.model.mask.length,this._maskModel=this.model.mask.replace(/[9?$CANa*]/g,"_"),this._validatedValue=this._maskModel,this.model.inputMode!="password"&&(this._setValue(this.model.value),this._setWaterMark()),this.model.error&&this.element.addClass("e-error")},_setWidth:function(n){this.wrapper.width(n)},_setHeight:function(n){this.wrapper.height(n)},_roundedCorner:function(n){n?this.wrapper.removeClass("e-corner-all").addClass("e-corner-all"):this.wrapper.hasClass("e-corner-all")&&this.wrapper.removeClass("e-corner-all")},_setTextAlign:function(n){n=="right"?this.element.css("padding-right","2px"):this.element.css("padding-right",""),this.element.css("text-align",n)},_setInputMode:function(n){this.element.attr("type",n)},_setReadOnly:function(n){n?this.element.attr("readonly",!0):this.element.removeAttr("readonly")},_setSkin:function(n){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(n)},_setWaterMark:function(){this._maskModel=this.model.mask.replace(/[9?$CANa*]/g,"_"),this.model.waterMarkText&&(this.model.value==""||this.model.value==this._maskModel)?(this._textbox.value=this.model.waterMarkText,this.element.addClass("e-watermark")):this.model.value==""&&this._maskModel!=""&&(this._textbox.value=this._maskModel)},_removeWaterMark:function(){this.element.hasClass("e-watermark")&&(this._textbox.value=this._maskModel,this.element.removeClass("e-watermark"))},_showAlert:function(){var t=this;this.element.addClass("e-error").animate({Opacity:1},700,null,function(){n(t._textbox).removeClass("e-error")})},_validateValue:function(){var i=this.model.value,t=this._maskModel,r=-1,n,f,e,u;if(this._maskLength==0)return this.element.hasClass("e-watermark")&&this.element.removeClass("e-watermark"),this._textbox.value=i,!0;for(i=this.model.value=this.model.value.replace(/[-]/g,""),n=0;n<this._maskLength;n++)this._charMap[this.model.mask.charAt(n)]&&(r++,f=i.charCodeAt(r),this._validateChars(f,n)&&(e=t.substring(0,n),u=t.substring(n),t=e+i.charAt(r)+u.substr(1,u.length)));this.element.hasClass("e-watermark")?this.model.value?(this.element.removeClass("e-watermark"),this._textbox.value=t):this._setWaterMark():this._textbox.value=this.model.value?t:this.model.mask.replace(/[9?$CANa*]/g,"_")},_selectionText:function(n,t){var i=this._maskModel.substring(n,t);return(this._textbox.value=this._textbox.value.substring(0,n)+i+this._textbox.value.substring(t),this._keydownFlag==1)?(this._setCaretPosition(n),n):this._keydownFlag==2?(this._setCaretPosition(t),t):n},_caretPosition:function(n){var t=0,i,r;return document.selection?(i=document.selection.createRange(),r=i.text.length,i.moveStart("character",-n.value.length),t=i.text.length-r,r!=0&&(t=this._selectionText(t,i.text.length),this._selectedTextKeyDown=1)):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionStart,n.selectionStart!=n.selectionEnd&&(this._keydownFlag&&(t=this._selectionText(n.selectionStart,n.selectionEnd)),this._selectedTextKeyDown=1)),t},_setCaretPosition:function(n){var t=this._textbox,i;window.navigator.appName=="Microsoft Internet Explorer"?t.createTextRange&&(i=t.createTextRange(),i.move("character",n),i.select()):t.selectionStart||t.selectionStart=="0"?(t.focus(),t.setSelectionRange(n,n)):t.focus()},_validateChars:function(t,i){var f=this._charMap,r=!1,e=this.model.mask.substr(i,1),u=this.model.customChar,o=String.fromCharCode(t);return n.each(f,function(n,t){e==n&&(u!=null&&(n=="C"?t="["+u+"]":(n=="A"||n=="N")&&(t=t.replace("]","")+u+"]")),r=o.match(new RegExp(t))?!0:!1)}),r},_seekNext:function(){for(var n=this._caretPosition(this._textbox),t=n,i=!0;i;){if(n>=0&&n<this._maskLength&&(this.model.mask.charAt(n)!="C"&&(this._charMap[this.model.mask.charAt(n)]||(this._setCaretPosition(n),n++)),n!=t)){t=n;continue}i=!1}return n},_seekBefore:function(){var n=this._caretPosition(this._textbox),i=--n,t=!0;for(this._selectedTextKeyDown==1&&(t=!1);t;){if(n>=0&&n<this._maskLength&&(this._charMap[this.model.mask.charAt(n)]||this._setCaretPosition(--n),n!=i)){i=n;continue}t=!1}return n},_writeBuffer:function(n,t){var r,u,e,f;t<=this._maskLength&&(r=this._textbox.value,this._tempMask!=null&&(u=this._updateCasing(n,t)),n=u==i?n:u,e=r.substring(0,t),f=r.substring(t),this._textbox.value=e+n+f.substr(1,f.length),this._setCaretPosition(t+1),this._raiseEvents("change"))},_updateCasing:function(n,t){for(var r,i=0;i<t+1;i++)(this._tempMask.substr(i,1)=="<"||this._tempMask.substr(i,1)==">")&&t++;for(r=t;r>-1;r--){if(this._tempMask.substr(r,1)=="<")return n.toLowerCase();if(this._tempMask.substr(r,1)==">")return n.toUpperCase()}},get_StrippedValue:function(){var i,r,u=this.model.mask,f="",n,t;if(r=this.element.hasClass("e-watermark")?this._maskModel:this._textbox.value,u.length==0)return r;for(i in u)n=u[i],t=null,"9?$a*".indexOf(n)!=-1?t=this._charMap[n]:n=="A"||n=="N"?t=this._charMap[n].replace("]","")+this.model.customChar+"]":n=="C"&&(t="["+this.model.customChar+"]"),t&&r[i]&&r[i].match(new RegExp(t))&&(f+=r[i]);return f},get_UnstrippedValue:function(){var n=this.element.hasClass("e-watermark")?this._maskModel:this._textbox.value,t="";return this.model.mask.length==0?n:(n!=i&&(t=n.replace(/[_]/g," ")),t)},_setValue:function(n){t.isNullOrUndefined(n)&&(n=""),this.model.value=n,t.isNullOrUndefined(this.model.mask)||this.model.mask==""?this._textbox.value=n:this._validateValue(),this.model.value=this.get_StrippedValue()},_setMask:function(n){this._maskLength=n.length,this.model.mask=n,this._maskModel=n.replace(/[9?$CANa*]/g,"_"),this._validateValue()},enable:function(){this.element.disabled=!1,this.element.removeAttr("disabled").removeClass("e-disable"),this.model.enabled=!0},disable:function(){this.element.disabled=!0,this.element.attr("disabled","disabled").addClass("e-disable"),this.model.enabled=!1},clear:function(){this.model.enabled&&(this._textbox.value=this.model.mask.replace(/[9?$aCAN*]/g,"_"))},_wireEvents:function(){this._on(this.element,"focus",this._OnFocusHandler),this._on(this.element,"blur",this._OnBlurHandler),this._on(this.element,"keydown",this._OnKeyDownHandler),this._on(this.element,"keypress",this._OnKeyPressHandler),this._on(this.element,"keyup",this._OnKeyUpHandler),this._on(this.element,"mouseover",this._OnMouseOverHandler),this._on(this.element,"mouseout",this._OnMouseOutHandler),this._on(this.element,"paste",this._OnPasteHandler)},_OnPasteHandler:function(){var t=this;return setTimeout(function(){var i=n(t._textbox).val();t._setValue(i),t._raiseEvents("change")},0),!0},_OnFocusHandler:function(){(this.element.addClass("e-focus"),this._removeWaterMark(),this.model.readOnly)||((this._textbox.value.indexOf("<")>=0||this._textbox.value.indexOf(">")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._maskModel=this._textbox.value,this._tempMask=this.model.mask,this.model.mask=this.model.mask.replace(/[<>]/g,"")),this._textbox.value!=this._maskModel&&this._unStrippedMask!=null&&this.model.hidePromptOnLeave&&(this._textbox.value=this._unStrippedMask),n.fn.selectRange=function(n,t){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(n,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select()}})},this.model.mask&&this.element.selectRange(0,0),this._raiseEvents("focusIn"))},_OnBlurHandler:function(){this.element.removeClass("e-focus"),this.model.value=this.get_StrippedValue(),this._textbox.value!=i&&this.model.hidePromptOnLeave&&(this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()),this.model.inputMode!="password"&&this._setWaterMark(),this._raiseEvents("focusOut")},_OnKeyDownHandler:function(n){var i,r,t;if(!this.model.readOnly){if(this._keypressFlag=0,this._raiseEvents("onKeyDown"),this.element.removeClass("error"),this._maskLength==0)return!0;if(i=n.keyCode?n.keyCode:n.charCode,r=String.fromCharCode(i),i>=35&&i<=41&&(window.navigator.appCodeName=="Mozilla"||window.navigator.appCodeName=="opera")&&(this._keypressFlag=1),n.shiftKey&&(n.keyCode==35||n.keyCode==36||n.keyCode==37||n.keyCode==39||n.keyCode==46||n.keyCode==127)||n.ctrlKey&&(n.keyCode==86||n.keyCode==65||n.keyCode==67||n.keyCode==88)){this._keypressFlag=1;return}return i==8?this.model.inputMode!="password"?(this._keydownFlag=1,t=this._seekBefore(),this._raiseEvents("change"),this._selectedTextKeyDown||(t>=0&&t<this._maskLength&&this._writeBuffer("_",t),this._setCaretPosition(t)),this._keydownFlag=0,this._selectedTextKeyDown=0,n.preventDefault(),!1):(this._keypressFlag=1,!0):n.keyCode==46||n.keyCode==127?this.model.inputMode!="password"?(this._keydownFlag=2,t=this._seekNext(),this._raiseEvents("change"),this._selectedTextKeyDown||t>=0&&t<this._maskLength&&this._writeBuffer("_",t),this._keydownFlag=0,this._selectedTextKeyDown=0,n.preventDefault(),!1):(this._keypressFlag=1,!0):void 0}},_OnKeyPressHandler:function(n){if(!this.model.readOnly){if(this._raiseEvents("keyPress"),this._maskLength==0)return!0;var i=n.keyCode?n.keyCode:n.charCode,f=String.fromCharCode(i),u=this._seekNext(),r=t.browserInfo().name;if(this._validateChars(i,u)?(r=="mozilla"||r=="opera")&&(n.keyCode==35||n.keyCode==36||n.keyCode==37||n.keyCode==39)||(r=="mozilla"||r=="opera")&&n.ctrlKey&&(i==97||i==99||i==118||i==120)||this._writeBuffer(f,u):(r=="mozilla"||r=="opera")&&(n.keyCode==35||n.keyCode==36||n.keyCode==37||n.keyCode==39)||(r=="mozilla"||r=="opera")&&n.ctrlKey&&(i==97||i==99||i==118||i==120)||this._showAlert(),!this._keypressFlag&&i!=9)return this._keypressFlag=0,n.preventDefault(),!1;this._keypressFlag=0}},_OnKeyUpHandler:function(){this._maskLength==0&&this._raiseEvents("change"),this._raiseEvents("keyUp")},_OnMouseOverHandler:function(){this._raiseEvents("mouseOver")},_OnMouseOutHandler:function(){this._raiseEvents("mouseOut")},_raiseEvents:function(n){var t,i=this.get_StrippedValue();if(this.model.value=i,n=="change")if(this.previousValue!=this.model.value)this.previousValue=this.model.value;else return!1;this.model[n]&&(t={value:i,unStrippedValue:this.get_UnstrippedValue()},this._trigger(n,t))},_OnValueChange:function(){this._textbox.value==""&&this._maskModel!=""&&(this._textbox.value=this._maskModel),this._setValue(this._textbox.value)}}),t.inputMode={Password:"password",Text:"text"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejMenu","ej.Menu",{element:null,model:null,validTags:["ul"],_rootCss:"e-menu",defaults:{height:"",width:"",orientation:t.orientation.Horizontal,menuType:"NormalMenu",contextTargetId:null,cssClass:"",openOnClick:!1,subMenuDirection:"Right",centerAlign:!1,showTopLevelArrows:!0,showBottomLevelArrows:!0,enableSeparator:!0,enabled:!0,fields:{dataSource:null,query:null,tableName:null,id:null,parentId:null,text:null,spriteCssClass:null,linkAttribute:null,imageAttribute:null,htmlAttribute:null,imageUrl:null},rtl:!1,beforeContextOpen:null,contextOpen:null,contextClose:null,mouseOver:null,mouseOut:null,click:null,keyDown:null},dataTypes:{cssClass:"string",openOnClick:"boolean",enabled:"boolean",centerAlign:"boolean",showArrow:"boolean",showTopLevelArrows:"boolean",showBottomLevelArrows:"boolean",enableSeparator:"boolean",rtl:"boolean"},observables:["fields.dataSource"],observables:["fields.dataSource"],_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(var i in n)switch(i){case"menuType":this.model.menuType=n[i],this.element.removeClass("e-menu"+this.model.cssClass),this._renderControl(),n[i]=="ContextMenu"&&this._contextMenuEvents();break;case"orientation":this._setOrientation(n[i]);break;case"showTopLevelArrow":this._addArrow(n[i],this.model.showBottomLevelArrow);break;case"showBottomLevelArrow":this._addArrow(this.model.showTopLevelArrows,n[i]);break;case"enableSeparator":this._setSeparator(n[i]);break;case"height":this._setHeight(n[i]);break;case"width":this._setWidth(n[i]);break;case"cssClass":this._setSkin(n[i]);break;case"rtl":this._setRTL(n[i]);break;case"centerAlign":this._centerAlign(n[i]);break;case"enabled":this.model.enabled=n[i],this._controlStatus(n[i])}},_destroy:function(){this._cloneElement.insertBefore(this.element),this._cloneElement.removeClass("e-menu"),this.element.remove()},_init:function(){this.element.css("visibility","hidden"),this._cloneElement=this.element.clone(),this._setValues(),t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null||this._generateTemplate(this.model.fields.dataSource),this._renderControl(),this._addArrow(this.model.showTopLevelArrows,this.model.showBottomLevelArrows),this._intializeMenu(),this._wireEvents(),this.element.css("visibility","visible")},_setValues:function(){this._mouseOver=!0,this._hoverOpen=!0,this._hoverClose=!0,this._isMenuOpen=!1,this._hideSpeed=100,this._showSpeed=100,this._isSubMenuOpen=!1,this._isContextMenuOpen=!1,this._disabledMenuItems=[],this._delayMenuHover=0,this._delaySubMenuHover=0,this._delaySubMenuShow=0,this._preventContextOpen=!0,this._showAnim="slideDown",this._hideAnim="slideUp"},_renderControl:function(){this.element.addClass("e-menu e-widget").attr("tabindex",0),this.model.rtl&&this._setRTL(this.model.rtl),this.model.menuType=="NormalMenu"?this.model.orientation=="horizontal"?this.element.addClass(this.model.cssClass+"e-horizontal"):this.element.addClass(this.model.cssClass+"e-vertical"):this._contextMenu_Template(),this.element.find('li:has("> ul")').find("> a,> span").addClass("aschild"),this.model.centerAlign&&this._centerAlign(this.model.centerAlign),this.model.enableSeparator&&this._setSeparator(!0),this._controlStatus(this.model.enabled)},_generateTemplate:function(n){var i=this,r;n instanceof t.DataManager?(r=n.executeQuery(this._columnToSelect(this.model.fields)),r.done(function(n){i._generateItemTemplate(n.result)})):this._generateItemTemplate(i.model.fields.dataSource)},_generateItemTemplate:function(n){for(var i,t=0;t<n.length;t++)n[t][this.model.fields.parentId]==null&&(i=this._menuTemplate(n[t],n,this.model.fields),this.element.append(i))},_menuTemplate:function(i,r,u){var o,h,a,y,s,v,p,f,c,e,l;if(o=n(document.createElement("li")),i[u.htmlAttribute]&&this._setAttributes(i[u.htmlAttribute],o),i[u.text]&&i[u.text]!=""&&(h=n(document.createElement("a")),i[u.imageUrl]&&i[u.imageUrl]!=""?(a=n(document.createElement("img")),a.attr("src",i[u.imageUrl]),i[u.imageAttribute]&&this._setAttributes(i[u.imageAttribute],a),h.append(a)):i[u.spriteCssClass]&&i[u.spriteCssClass]!=""&&(y=n(document.createElement("span")),y.addClass(i[u.spriteCssClass]),h.append(y)),h.append(i[u.text]),i[u.linkAttribute]?h.attr("href",i[u.linkAttribute]):h.attr("href","#"),o.append(h)),i[u.id]&&o.prop("id",i[u.id]),t.isNullOrUndefined(u.child)){if(!this._odataFlag&&(f=t.DataManager(u.dataSource).executeLocal(t.Query().where(u.parentId,t.FilterOperators.equal,i[u.id])),f&&f.length>0)){for(c=t.buildTag("ul"),e=0;e<f.length;e++)l=this._menuTemplate(f[e],u.dataSource,u),c.append(l);o.append(c)}}else if(this._odataFlag=!0,u.child.dataSource instanceof t.DataManager)s=this,v=t.Query(),v=this._columnToSelect(u.child),v.where(u.child.parentId,t.FilterOperators.equal,i[u.id]),p=u.child.dataSource.executeQuery(v),p.done(function(t){var i=t.result,f,r,e;if(i&&i.length>0){for(f=n(document.createElement("ul")),r=0;r<i.length;r++)e=s._menuTemplate(i[r],u.child.dataSource,u.child),f.append(e);o.append(f)}s.element.find('>li:has("> ul")').find("> a, > span").addClass("aschild"),s.element.find('>li > ul > li:has("ul")').find("> a, >span").addClass("aschild"),s._addArrow(s.model.showTopLevelArrows,s.model.showBottomLevelArrows),s._wireEvents()});else if(f=t.DataManager(u.child.dataSource).executeLocal(t.Query().where(u.child.parentId,t.FilterOperators.equal,i[u.id])),f&&f.length>0){for(c=n(document.createElement("ul")),e=0;e<f.length;e++)l=this._menuTemplate(f[e],u.child.dataSource,u.child),c.append(l);o.append(c)}return o},_setAttributes:function(n,t){for(var i in n)t.attr(i,n[i])},_addArrow:function(t,i){t?this.element.find('>li:has("> ul")').children("a,span").append(n("<span>").addClass("e-icon e-arrows")).addClass("e-arrow-space"):this.element.find('>li:has("> ul")').children("a,span").removeClass("e-arrow-space").children("span").remove(),i?this.element.find(">li > ul >li:has(>ul)").children("a,span").append(n("<span>").addClass("e-icon e-arrows")).addClass("e-arrow-space"):this.element.find(">li > ul >li:has(>ul)").children("a,span").removeClass("e-arrow-space").children("span").remove()},_intializeMenu:function(){this.model.height!=0&&this._setHeight(this.model.height),this.model.width!=0&&this._setWidth(this.model.width),this.model.menuType=="ContextMenu"&&(this.model.openOnClick=!1),this.model.openOnClick&&(this._hoverOpen=!1,this._hoverClose=!1)},_setOrientation:function(n){n=="horizontal"?this.element.removeClass("e-vertical e-horizontal").addClass("e-horizontal"):this.element.removeClass("e-horizontal e-vertical").addClass("e-vertical")},_setHeight:function(n){this.element.height(n)},_setWidth:function(n){this.element.width(n)},_setRTL:function(n){n?(this.element.removeClass("rtl").addClass("rtl"),this.model.subMenuDirection="Left"):(this.element.removeClass("rtl"),this.model.subMenuDirection="Right")},_controlStatus:function(n){n!=!0?this.disable():this.enable()},_centerAlign:function(n){this.model.orientation=="horizontal"&&n?this.element.css("text-align","center"):this.model.orientation=="horizontal"&&this.element.css("text-align","inherit")},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="child"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u),this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_max_zindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_recursiveFunction:function(t,i){var r=this,u=!1;n.each(t,function(n,t){return t.Text==i?(r.selectedItem=t,u=!0,!1):(t.ChildItems!=null&&r._recursiveFunction(t.ChildItems,i),u?!1:void 0)})},_contextMenu_Template:function(){this.model.orientation="vertical",this._hideAnimation(this.element,this._hideAnim),this.element.addClass(this.model.cssClass+"e-context"),n("body").append(this.element)},_closeMenu:function(){this._hideAnimation(this.element.find('li:has("> ul")').find("> ul:visible"),this._hideAnim)},_onMenuIntent:function(n,t,i){t._delayMenuHover=window.setTimeout(function(){if(t._mouseOver==!0&&i){var r=t._showAnim,u=t._hideAnim,f=t._showSpeed,e=t._hideSpeed;t._show(n,r,u)}},this._showSpeed)},_onHide:function(n,t,i){t._delaySubMenuHover=window.setTimeout(function(){if(t._mouseOver==!1&&i){var n=t._id,r=t._hideAnim,u=t._hideSpeed;t._closeAll()}},t._hideSpeed)},_subMenuPos:function(t,r){var e=n(t).offset(),f=n("ul:first",t),u,o,s;if(e==null||e==i)return!1;u=f.outerWidth(),o=document.documentElement.clientWidth+n(document).scrollLeft(),this.model.menuType=="NormalMenu"?n(t.parentNode).is(this.element)?this.model.orientation=="horizontal"?f.css("top",n(t).outerHeight()+"px"):r=="Left"&&e.left>u&&f.css("left",-(u+4)+"px"):r=="Left"&&e.left>u&&f.css("left",-(u+4)+"px"):(o-=e.left+2*u+4,o<0?(s=u==null?"-206.5px":"-"+(u+5)+"px",f.css("left",s)):f.parent("li").parent("ul").width()&&r=="Right"?f.css("left",f.parent("li").parent("ul").width()+4+"px"):e.left>u&&f.css("left",-(u+4)+"px"))},_setSkin:function(n){this.model.menuType=="NormalMenu"?this.model.orientation=="horizontal"?(this.element.removeClass(this.model.cssClass+"e-horizontal"),this.element.addClass(n+" e-horizontal")):(this.element.removeClass(this.model.cssClass+"e-vertical"),this.element.addClass(n+" e-vertical")):(this.element.removeClass(this.model.cssClass+"e-context"),this.element.addClass(n+" e-context"))},_setSeparator:function(n){n?this.element.addClass("e-separator"):this.element.removeClass("e-separator")},_contextMenuEvents:function(){this._on(n(document.getElementById(this.model.contextTargetId)),"mouseup",this._ContextMenuHandler),this._on(this.element,"contextmenu",this._onDefaultPreventer),this._on(n(document.getElementById(this.model.contextTargetId)),"contextmenu",this._onDefaultPreventer),this._on(n(document),"click",this._onContextClose)},_show:function(t,i,r){var u=n("> ul",t);this._hideAnimation(n(t).siblings().find(" > ul:visible"),r),n.inArray(this._disabledMenuItems,t)>-1||(u.css("display")!="none"?this._hideAnimation(u.children().find("> ul"),r):n("> ul",t).children().find("> ul").hide(),this._subMenuPos(t,this.model.subMenuDirection),u.css({"z-index":this._max_zindex()+1}),n("> ul",t).css("display")!="block"&&this._showAnimation(u,i))},_closeAll:function(){this._hideAnimation(this.element.find('li:has("> ul")').find("> ul:visible"),this._hideAnim),this._hideAnimation(this.element.find("> ul:visible"),this._hideAnim)},_showAnimation:function(n,t){switch(t){case"slideDown":n.slideDown(200,"easeOutQuad")}},_hideAnimation:function(n,t){switch(t){case"slideUp":n.slideUp(100,"easeOutQuad")}},showContextMenu:function(n,t,r,u){return(this._closeMenu(),this._eventArgs=u,u!=i&&u.stopPropagation&&u.stopPropagation(),this._trigger("beforeContextOpen",{target:r}))?!1:(this._preventContextOpen&&(this.element.css({left:n,top:t}),this._showAnimation(this.element,this._showAnim),this._isContextMenuOpen=!0,this.model.contextOpen&&this._trigger("contextOpen",{target:r})),!1)},hideContextMenu:function(n){this._closeMenu(),this._hideAnimation(this.element,this._hideAnim),this._isContextMenuOpen=!1,this.model.contextClose&&this._trigger("contextClose",{Events:n})},disableMenuItem:function(t){var i=n(this.element.find(" >li >a ,>li >span, >ul >li >a,ul >li >span")).filter(function(){return n(this).text()===t});i.length>0&&!(n.inArray(t,this._disabledMenuItems)>-1)&&(i.parent().addClass("e-disable-item"),this._disabledMenuItems.push(i.text()))},disableMenuItembyID:function(t){if(t&&t!=""){var r=this.element.find("#"+t)?this.element.find("#"+t)[0]:i;!r||n.inArray(r,this._disabledMenuItems)>-1||(n(r).addClass("e-disable-item"),this._disabledMenuItems.push(r))}},enableMenuItem:function(t){var i=n(this.element.find("> li >a ,> li >span, >ul >li >a,>ul >li >span")).filter(function(){return n(this).text()===t});i.length>0&&n.inArray(t,this._disabledMenuItems)>-1&&(i.parent().removeClass("e-disable-item"),this._disabledMenuItems.pop(i.text()))},enableMenuItembyID:function(t){if(t&&t!=""){var i=this.element.find("#"+t)[0];i&&n.inArray(i,this._disabledMenuItems)>-1&&(n(i).removeClass("e-disable-item"),this._disabledMenuItems.pop(i))}},disable:function(){this.model.enabled=!1;var t=this.element.find(">li[class!=e-separator]"),i=this;n.each(t,function(t,r){n(r).addClass("e-disable-item"),i._disabledMenuItems.push(r)})},enable:function(){this.model.enabled=!0;var t=this.element.find("li.e-disable-item");n.each(t,function(t,i){n(i).removeClass("e-disable-item")}),this._disabledMenuItems.pop(this._disabledMenuItems)},ShowContextMenu:function(n,t,r,u){return(this._closeMenu(),this._eventArgs=u,u!=i&&u.stopPropagation&&u.stopPropagation(),this._trigger("beforeContextOpen",{target:r}))?!1:(this._preventContextOpen&&(this.element.css({left:n,top:t}),this._showAnimation(this.element,this._showAnim),this._isContextMenuOpen=!0,this.model.contextOpen&&this._trigger("contextOpen",{target:r})),!1)},HideContextMenu:function(n){this._closeMenu(),this._hideAnimation(this.element,this._hideAnim),this._isContextMenuOpen=!1,this.model.contextClose&&this._trigger("contextClose",{Events:n})},DisableMenuItem:function(t){var i=this.element.find(" >li >a ,>li >span, >ul >li >a,>ul >li >span").filter(function(){return n(this).text()===t});i.length>0&&!(n.inArray(t,this._disabledMenuItems)>-1)&&(i.parent().addClass("e-disable-item"),this._disabledMenuItems.push(i[0].text))},DisableMenuItembyID:function(t){if(t&&t!=""){var r=this.element.find("#"+t)?this.element.find("#"+t)[0]:i;!r||n.inArray(r,this._disabledMenuItems)>-1||(n(r).addClass("e-disable-item"),this._disabledMenuItems.push(r))}},EnableMenuItem:function(t){var i=this.element.find("> li >a ,> li >span, >ul >li >a,>ul >li >span").filter(function(){return n(this).text()===t});i&&n.inArray(t,this._disabledMenuItems)>-1&&(i.parent().removeClass("e-disable-item"),this._disabledMenuItems.pop(i[0].text))},EnableMenuItembyID:function(t){if(t&&t!=""){var i=this.element.find("#"+t)[0];i&&n.inArray(i,this._disabledMenuItems)>-1&&(n(i).removeClass("e-disable-item"),this._disabledMenuItems.pop(i))}},_wireEvents:function(){this._on(this.element.find("> li"),"mouseout",this._mouseOutHandler),this._on(this.element.find("> li"),"mouseover",this._mouseOverHandler),this._on(this.element.find("> li > ul >li"),"mouseout",this._mouseOutHandler),this._on(this.element.find("> li > ul >li"),"mouseover",this._mouseOverHandler),this._on(this.element.find("> li"),"click",this._onClickHandler),this._on(this.element.find("> li > ul >li"),"click",this._onClickHandler),this._on(this.element,"keydown",this._onKeyDownHandler),this._on(n(document),"keydown",this._onDocumentKeyDown),this._on(this.element,"focus",this._OnFocusHandler),this._on(this.element,"blur",this._OnFocusOutHandler),this.model.menuType=="ContextMenu"&&n("#"+this.model.contextTargetId)[0]!=null?this._contextMenuEvents():this.model.openOnClick&&this._on(n(document),"click",this._onDocumentClick)},_onDocumentKeyDown:function(){this._isFocused=!0},_mouseOverHandler:function(t){var i,r,u;if(this.element.find(".e-mhover").removeClass("e-mhover e-mfocused"),n(t.currentTarget).hasClass("e-disable-item"))return this._closeAll(),t.preventDefault(),!1;if(t.stopPropagation&&t.stopPropagation(),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delaySubMenuHover),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delayMenuHover),this._mouseOver=!0,this._isMenuOpen=!0,this._isSubMenuOpen=n(t.currentTarget.parentNode.parentNode).is(this.element)?!1:!0,t.currentTarget.nodeName!="LI"||n(t.currentTarget).hasClass("e-separator"))if(t.currentTarget.parentNode){if(t.currentTarget.parentNode.nodeName!="LI"||n(t.currentTarget.parentNode).hasClass("e-separator"))return!1;i=t.currentTarget.parentNode}else return t.preventDefault(),!1;else i=t.currentTarget;this._onMenuIntent(i,this,this._hoverOpen),n.inArray(i,this._disabledMenuItems)>-1||(r=n(i).children("a,span").text(),u={menuId:this.element[0].id,menuText:r,element:i,event:t},this.model.mouseOver&&this._trigger("mouseOver",{Events:u}))},_mouseOutHandler:function(t){var i,r,u;if(n(t.currentTarget).hasClass("e-disable-item"))return this._closeAll(),t.preventDefault(),!1;if(t.stopPropagation&&t.stopPropagation(),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delaySubMenuHover),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delayMenuHover),this._mouseOver=!1,this._isMenuOpen=!1,t.currentTarget.nodeName!="LI"||n(t.currentTarget).hasClass("e-separator"))if(t.currentTarget.parentNode){if(t.currentTarget.parentNode.nodeName!="LI"||n(t.currentTarget.parentNode).hasClass("e-separator"))return!1;i=t.currentTarget.parentNode}else return t.preventDefault(),!1;else i=t.currentTarget;this._onHide(i,this,this._hoverClose),n.inArray(i,this._disabledMenuItems)>-1||(r=n(i).children("a,span").text(),u={menuId:this.element[0].id,menuText:r,element:i,event:t},this.model.mouseOut&&this._trigger("mouseOut",{Events:u}))},_onClickHandler:function(t){var i,r,u,f;if(t.stopPropagation(),this._isFocused=!1,r=!1,t.target.nodeName!="LI"||n(t.target).hasClass("e-separator")||n(t.target).hasClass("e-disable-item"))if(!t.target.parentNode||t.target.parentNode.nodeName!="LI"||n(t.target.parentNode).hasClass("e-separator")||n(t.target.parentNode).hasClass("e-disable-item"))if(n(t.target).hasClass("e-arrows")&&!n(t.target.parentNode.parentNode).hasClass("e-disable-item"))i=t.target.parentNode.parentNode;else return t.preventDefault(),!1;else i=t.target.parentNode;else i=t.target;!this._hoverOpen&&n(i).find(">a,>span").hasClass("aschild")&&(this._show(i,this._showAnim,this._hideAnim),this._hoverOpen=!1,r=!0),n.inArray(i,this._disabledMenuItems)>-1||(this.model.menuType=="ContextMenu"&&this._isContextMenuOpen&&(this._hideAnimation(this.element,this._hideAnim),this._isContextMenuOpen=!1,this.model.contextClose&&this._trigger("contextClose",{Events:t})),r||this.element.find('li:has("> ul")').find("> a,> span").hasClass("aschild")&&(this._closeMenu(),this.model.openOnClick&&(this._hoverOpen=!1)),u=n(i).children("a,span").text(),f={menuId:this.element[0].id,menuText:u,element:i,event:t,selectedItem:this.selectedItem},this.model.click&&this._trigger("click",{Events:f}),this.selectedItem=null)},_onKeyDownHandler:function(t){var u,i,r,f,e;if(t.preventDefault(),i=this.element.find(".e-mhover"),r=this.element.find(".e-mfocused"),t.keyCode==40&&(this.model.orientation!="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0&&(r.removeClass("e-mfocused"),i.next().hasClass("e-separator")?i.next().next().addClass("e-mfocused"):i.is(":last-child")&&i.siblings().first().addClass("e-mfocused")),this.model.orientation=="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0?(this._show(i[0],this._showAnim,this._hideAnim),i.removeClass("e-mhover").children("ul:first").find("li:first").addClass("e-mhover")):i.is(":last-child")?i.removeClass("e-mhover").siblings().first().addClass("e-mhover"):i.next().hasClass("e-separator")?i.removeClass("e-mhover").next().next().addClass("e-mhover"):i.removeClass("e-mhover").next().addClass("e-mhover")),t.keyCode==39&&(this.model.orientation=="horizontal"&&this.element.find(">li").hasClass("e-mhover")?i.is(":last-child")?(i.removeClass("e-mhover e-mfocused"),this.element.find("li").first().hasClass("e-separator")?this.element.find("li").first().next().addClass("e-mhover e-mfocused"):this.element.find("li").first().addClass("e-mhover e-mfocused")):i.next().hasClass("e-separator")?i.removeClass("e-mhover e-mfocused").next().next().addClass("e-mhover e-mfocused"):i.removeClass("e-mhover e-mfocused").next().addClass("e-mhover e-mfocused"):this.element.find("li.e-mhover").children("ul").length>0?(this._show(i[0],this._showAnim,this._hideAnim),i.removeClass("e-mhover").children("ul:first").find("li:first").addClass("e-mhover")):i.children("ul").length<=0&&(this.element.find(".e-mfocused >ul , .e-mfocused >ul >li >ul").hide(),i.removeClass("e-mhover"),r.next().hasClass("e-separator")?r.removeClass("e-mfocused").next().next().addClass("e-mhover e-mfocused"):r.next().length<=0?r.removeClass("e-mfocused").siblings().first().addClass("e-mhover e-mfocused"):r.removeClass("e-mfocused").next().addClass("e-mhover e-mfocused"))),t.keyCode==38&&(this.model.orientation!="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0&&(i.children("ul").hide(),r.removeClass("e-mfocused"),i.prev().hasClass("e-separator")?i.prev().prev().addClass("e-mfocused"):i.is(":first-child")&&i.siblings().last().addClass("e-mfocused")),i.is(":first-child")?i.removeClass("e-mhover").siblings().last().addClass("e-mhover"):i.prev().hasClass("e-separator")?i.removeClass("e-mhover").prev().prev().addClass("e-mhover"):i.removeClass("e-mhover").prev().addClass("e-mhover")),t.keyCode==37&&(this.model.orientation=="horizontal"&&this.element.find(">li").hasClass("e-mhover")?i.is(":first-child")?(i.removeClass("e-mhover e-mfocused"),this.element.find(">li").last().hasClass("e-separator")?this.element.find(">li").last().prev().addClass("e-mhover e-mfocused"):this.element.find(">li").last().addClass("e-mhover e-mfocused")):i.prev().hasClass("e-separator")?i.removeClass("e-mhover e-mfocused").prev().prev().addClass("e-mhover e-mfocused"):i.removeClass("e-mhover e-mfocused").prev().addClass("e-mhover e-mfocused"):this.element.find("li.e-mhover")?(this._hideAnimation(i.parent(),this._hideAnim),i.parent().closest("li").addClass("e-mhover"),i.removeClass("e-mhover")):(this._hideAnimation(i,this._showAnim,this._hideAnim),i.removeClass("e-mhover").parent().addClass("e-mhover"))),t.keyCode==13&&(this.element.find(".e-mhover >a,.e-mhover >span ").focus(),this.element.find(">li , >li >ul >li").removeClass("e-mhover e-mfocused"),this._closeAll()),t.keyCode==27&&this._closeAll(),t.target.nodeName=="DIV"&&n(t.target).children().is(this.element))u=n(t.target).children()[0];else if(t.target.nodeName!="LI"||n(t.target).hasClass("e-separator"))if(t.target.parentNode)t.target.parentNode.nodeName!="LI"||n(t.target.parentNode).hasClass("e-separator")||(u=t.target.parentNode);else return!1;else u=t.target;n.inArray(u,this._disabledMenuItems)>-1||(f=n(u).children("a,span").text(),e={menuId:this.element[0].id,menuText:f,element:u,event:t},this.model.keyDown&&this._trigger("keyDown",{Events:e}))},_OnFocusHandler:function(){this._isFocused?this.element.find(">li:first").addClass("e-mhover e-mfocused"):this._isFocused=!1},_OnFocusOutHandler:function(){this._isFocused||(this.element.find(">li , >li >ul >li").removeClass("e-mhover e-mfocused"),this._closeAll())},_onDocumentClick:function(t){n(t.target).parents("ul.e-menu").is(this.element)||(this._hoverOpen=!1,this._closeMenu())},_ContextMenuHandler:function(t){var i=!1,r,u,f;if(t.button?i=t.button==2:t.which&&(i=t.which==3),r=t.target,i){var e=t.clientX+this.element.width()<n(window).width()?t.pageX:t.pageX-this.element.width(),o=t.clientY+this.element.height()<n(window).height()?t.pageY:t.pageY-this.element.height(),s=this._showSpeed;this.showContextMenu(e,o,r,t)}else this._isContextMenuOpen&&(u=this._hideAnim,f=this._hideSpeed,this.hideContextMenu(u,f,t))},_onDefaultPreventer:function(n){return n.preventDefault(),n.stopPropagation(),!1},_onContextClose:function(t){var e=this,i,r,u,f;if(this._isContextMenuOpen&&(i=!1,t.button?i=t.button==2:t.which&&(i=t.which==3),!i)){if(t.target.id==this.model.contextTargetId)return;r=this._hideAnim,u=this._hideSpeed,this.hideContextMenu(r,u,t),f=n(t.target).parents(),n.each(f,function(n,t){t.id==e._ContextTargetId})}}}),t.menuType={NormalMenu:"NormalMenu",ContextMenu:"ContextMenu"},t.direction={Left:"Left",Right:"Right"}}(jQuery,Syncfusion),function(n,t,i){function u(t,i){var r,f,u;for(t=t||"",typeof t=="object"&&(t=t.nodeValue),r=n.extend({translateX:0,translateY:0,scaleX:0,scaleY:0},i||{}),r.order="",f=/([a-zA-Z]+)\(\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*[\s,]\s*([+-]?[\d\.]+)\s*[\s,]\s*([+-]?[\d\.]+)\s*)?)?)?\)/g,u=f.exec(t);u;){switch(u[1]){case"translate":r.order+="t",r.translateX=parseFloat(u[2]),r.translateY=u[3]?parseFloat(u[3]):0;break;case"scale":r.order+="s",r.scaleX=parseFloat(u[2]),r.scaleY=u[3]?parseFloat(u[3]):r.scaleX}u=f.exec(t)}return r}t.widget({ejMap:"ej.Map"},{validTags:["div"],_initPrivateProperties:function(){this._rootgroup=null,this._transformX=0,this._transformY=0,this._scale=1,this._prevDistance=0,this._prevPoint=null,this._prevScale=0,this._containerWidth=500,this._containerHeight=400,this._baseTransX=0,this._baseTransY=0,this._baseScale=0,this._svgns="http://www.w3.org/2000/svg",this._ispanning=!1,this._dragStartX=0,this._isPolygonSelected=!1,this._dragStartY=0,this._width=500,this._height=500,this._svgDocument=null,this._tooltipElement=null,this._templateDiv=null,this._mapContainer=null},defaults:{mapBackground:"white",minZoom:1,maxZoom:100,zoomFactor:1,zoomLevel:1,needResize:!0,enableAnimation:!1,enableLayerChangeAnimation:!1,enablePan:!0,enableZoom:!0,baseMapIndex:0,shapeSelected:"",zoomedIn:"",onRenderComplete:"",panning:"",panned:"",zoomedOut:"",layers:[]},observables:["dataSource"],dataTypes:{layers:"array"},_destroy:function(){this._unWireEvents()},_setModel:function(t){var i,r;for(i in t)switch(i){case"zoomLevel":this.model.enableZoom&&(this.model.zoomLevel=t[i],this.zoom(this.model.zoomLevel));break;case"baseMapIndex":this.model.baseMapIndex=t[i],r=this,this.model.enableAnimation?(this.model.enableLayerChangeAnimation=!0,n(this._mapContainer).animate({opacity:0},500,function(){r.refresh()})):this.refresh();break;case"minZoom":this.model.minZoom=t[i],this.model.zoomLevel<this.model.minZoom&&(this.model.zoomLevel=this.model.minZoom,this.zoom(this.model.zoomLevel));break;case"maxZoom":this.model.maxZoom=t[i],this.model.zoomLevel>this.model.maxZoom&&(this.model.zoomLevel=this.model.maxZoom,this.zoom(this.model.zoomLevel));break;case"mapBackground":this.model.background=t[i],n(this._mapContainer).css("background-image",this.model.background)}},_defaultAnnotationValues:function(){return{annotationLabel:"Annotation",annotationLabelFontSize:"12",annotationLabelForeground:"black",latitude:"0",longitude:"0"}},_init:function(){var t=this;this._initPrivateProperties(),n.each(this.model.layers,function(n){t._layerInitialize(n)}),this._mapContainer=this.element,this.refresh(),this._trigger("onRenderComplete"),n(this._svgDocument).pinchZoom(this._rootgroup,this)},_layerInitialize:function(t){var i=this;this.model.layers[t]!=null?n.each(this.model.layers[t],function(t,u){u=i._checkArrayObject(u,t);var f=new r;n.extend(f,u),n.extend(u,f),n.each(u.subshapeFileLayers,function(t,u){u=i._checkArrayObject(u,t);var f=new r;n.extend(f,u),n.extend(u,f)})}):this.layers.shapeFileLayer=new r},_checkArrayObject:function(t,i){var u=this;return n.each(t,function(n,t){if(t instanceof Array)u._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var f=new r;u._loadIndividualDefaultValues(t,f,typeof n=="number"?i:n)}}),t},_loadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._loadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},_refreshWithAnimation:function(){this.model.layers[this.model.baseMapIndex].shapeFileLayer._setMapItemsPositionWithAnimation(this);for(var n=0;n<this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers.length;n++)this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers[n]._setMapItemsPositionWithAnimation(this)},_refrshLayers:function(){this.model.layers[this.model.baseMapIndex].shapeFileLayer._setMapItemsPosition(this);for(var n=0;n<this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers.length;n++)this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers[n]._setMapItemsPosition(this)},_generatePath:function(){var t=this.model.layers[this.model.baseMapIndex].shapeFileLayer,u,r,f;for(t!=i&&(u=this._getPathCollection(t)),r=0;r<t.subshapeFileLayers.length;r++)u+=this._getPathCollection(t.subshapeFileLayers[r]);f='<svg xmlns="http://www.w3.org/2000/svg" style= "overflow:hidden;position:absolute;z-index:0;float:left;left:0,top:0"id="svgDocument"> <g id="rootGroup">'+u+"<\/g><\/svg>",this._mapContainer.html(f),this._svgDocument=this.element.find("#svgDocument")[0],n(this._svgDocument).css({height:this._height,width:this._width}),this._rootgroup=this.element.find("#rootGroup")[0]},_getPathCollection:function(t){var i=n("<div><path stroke="+t.shapeSetting.shapeStroke+" stroke-width="+t.shapeSetting.shapeStrokeThickness+" fill= "+t.shapeSetting.shapeFill+" d={{:Data}}><\/path><\/div>"),r=n.templates(i.html());return r.render(t.path)},_renderLayers:function(i,r){var ht=this._rootgroup,tt=this._svgDocument,f=this,u=i,v,l,y,it,s,w,h,c,rt,b,g,ft,a,nt;u._generateLegends(this),u.shapeSetting.colorMappings!=null&&u.shapeSetting.colorMappings.rangeColorMapping!=null&&u.shapeSetting.colorMappings.rangeColorMapping.sort(this._orderByNameAscending),u.bubbleSetting.colorMappings!=null&&u.bubbleSetting.colorMappings.rangeColorMapping!=null&&u.bubbleSetting.colorMappings.rangeColorMapping.sort(this._orderByNameAscending);var k=0,d=0;if(u.dataSource!=null&&u.bubbleSetting!=null)for(u.bubbleSetting.bubbleColorValuepath==null&&(u.bubbleSetting.bubbleColorValuepath=u.bubbleSetting.bubbleValuepath),v=0;v<u.dataSource.length;v++)l=parseFloat(this._reflection(u.dataSource[v],u.bubbleSetting.bubbleValuepath)),v!=0?l>d?d=l:l<k&&(k=l):k=d=l;if(this._generateTooltipForLayers(u),u.path!=null)for(y=0;y<u.path.length;y++){var et=u.path[y],ot=f._reflection(et,u.shapeIdTableField),e=this._rootgroup.childNodes[y+r],p={};for(it in u.dataSource)if(s=u.dataSource[it],w=f._reflection(s,u.shapeIdPath),ot==w){if(h=f._findMidPointofPoylgon(e),i._bounds.push(h),u.mapItemsVisibility&&u.mapItemsTemplate!=null?(c=n(".itemTemplateDiv"),c=n("<div style='display:block;position:absolute;pointer-events: none;'><\/div>"),c[0].className=w,f._templateDiv.append(c),n(c).css({left:h.x,top:h.y}),rt=n("#"+u.mapItemsTemplate).render(s),n(c).html(rt),i._mapItems.push(c)):u.mapItemsVisibility&&w!=null&&(b=document.createElementNS(f._svgns,"text"),n(b).attr({fill:"black",style:"pointer-events: none;position:absolute",x:h.x,y:h.y}),b.textContent=w,tt.appendChild(b),i._mapItems.push(b)),u.shapeSetting.colorMappings!=null&&(u.shapeSetting.shapeColorValuepath==null&&(u.shapeSetting.shapeColorValuepath=u.shapeSetting.shapeValuepath),g=f._reflection(s,u.shapeSetting.shapeColorValuepath),g!=null&&u._fillColors(g,u.shapeSetting.colorMappings,e)),u.bubbleSetting!=null&&u.bubbleSetting.bubbleValuepath!=null){var o=document.createElementNS(f._svgns,"circle"),ut=f._reflection(s,u.bubbleSetting.bubbleValuepath),st=f._reflection(s,u.bubbleSetting.bubbleColorValuepath);u.bubbleSetting.colorMappings!=null?u._fillColors(st,u.bubbleSetting.colorMappings,o):o.setAttribute("fill",u.bubbleSetting.bubbleColor),ft=f._getRatioOfBubble(u.bubbleSetting.minSize,u.bubbleSetting.maxSize,ut,k,d),n(o).attr({cx:h.x,cy:h.y,"fill-opacity":"0.9",r:ft}),f.model.enableAnimation&&n(o).css("display","none"),u.bubbleSetting.tooltipVisibility==!0?(a=n(".tooltipTemplateDiv"),a=n("<div style='position:absolute;display:none;z-index:9999'/>"),nt=null,u.bubbleSetting.tooltipTemplate!=null?nt=u.bubbleSetting.tooltipTemplate:n(a).append(" <div><label>"+ut+"<\/label>"),n(o).mouseenter({htmlobj:a,templateID:nt,itemsrc:s},f._bubbleEnterFunction),n(o).mousemove({htmlobj:a},f._bubbleOverFunction),n(o).mouseleave({htmlobj:a},f._bubbleleaveFunction)):n(o).css("pointer-events","none"),tt.appendChild(o),i._bubbles.push(o)}p.data=s;break}p.shape=e,e.setAttribute("nodeValue",e.getAttribute("fill")),i._mapShapes.push(p),n(e).mouseenter({Param1:u,Param2:p,Param3:u._tooltipElement},f._polyEnterFunction),this._on(n(e),t.eventType.mouseDown,{Param1:p,Param2:u,Param3:e},f._polyClickFunction),this._on(n(e),t.eventType.mouseMove,{Param1:u._tooltipElement},f._polyMoveFunction),this._on(n(e),t.eventType.mouseLeave,{Param1:u},f._polyLeaveFunction)}},_zooming:function(n,t){var i=this._getCurrentPoint(t);n>=120?this._zoomingIn(i.x,i.y,t):this._zoomingOut(i.x,i.y,t)},_zoomingIn:function(n,t,i){this.model.enableZoom&&(this.model.zoomLevel+=1,this.model.zoomLevel<=this.model.maxZoom?(this._transformX-=(this._width/this._scale-this._width/(this._scale+this.model.zoomFactor))/(this._width/n),this._transformY-=(this._height/this._scale-this._height/(this._scale+this.model.zoomFactor))/(this._height/t),this._scale=this._scale+this.model.zoomFactor,this._applyTransform(this._scale,this._transformX,this._transformY),this._refrshLayers(),this._trigger("zoomedIn",{originalEvent:i,zoomLevel:this.model.zoomLevel})):(this.model.zoomLevel=this.model.maxZoom,this.zoom(this.model.zoomLevel)))},_zoomingOut:function(n,t,i){this.model.enableZoom&&(this.model.zoomLevel-=1,this.model.zoomLevel>=this.model.minZoom?(this._transformX+=(this._width/(this._scale-this.model.zoomFactor)-this._width/this._scale)/(this._width/n),this._transformY+=(this._height/(this._scale-this.model.zoomFactor)-this._height/this._scale)/(this._height/t),this._scale=this._scale-this.model.zoomFactor,this._applyTransform(this._scale,this._transformX,this._transformY),this._refrshLayers(),this._trigger("zoomedOut",{originalEvent:i,zoomLevel:this.model.zoomLevel})):(this.model.zoomLevel=this.model.minZoom,this.zoom(this.model.zoomLevel)))},_getRatioOfBubble:function(n,t,i,r,u){var f=100/(u-r)*(i-r);return(parseFloat(t)-parseFloat(n))/100*f+parseFloat(n)},_reflection:function(t,r){var f=t,e,u,o;if(r!=null&&t!=null){for(e=r.split("."),u=0;u<e.length;u++)t!=i&&(o=f.hasOwnProperty(e[u]),o&&n.each(f,function(n,t){if(n==e[u])return f=t,!1}));return f}return null},_generateAnnotations:function(){var t=this.model.baseMapIndex,n;for(this.model.layers[t].shapeFileLayer._generateAnnotationForLayers(this),n=0;n<this.model.layers[t].shapeFileLayer.subshapeFileLayers.length;n++)this.model.layers[t].shapeFileLayer.subshapeFileLayers[n]._generateAnnotationForLayers(this)},_generateTooltipForLayers:function(t){var i,r;t.tooltipVisibility&&(i=n(".tooltipTemplateDiv"),i=n("<div style='display:none;position:absolute;pointer-events:none;'><\/div>"),n(document.body).append(i),t._tooltipElement=i,t.tooltipTemplate==null&&(r=t.shapeSetting.shapeValuepath,r!=null&&(t.tooltipTemplate="defaultTooltip",this._mapContainer.append(n("<div id='defaultTooltip' style='display:none'><label>${{:"+r+"}}<\/label><\/div>")))))},_orderByNameAscending:function(n,t){return n.Range==t.Range?0:n.Range>t.Range?1:-1},_resizingContainer:function(){var t=1,n=1;n=this._width/this._height>this._containerWidth/this._containerHeight?this._height/this._containerHeight:this._width/this._containerWidth,this._scale*=n/t,this._scale=this._scale+(this.model.minZoom-1)*this.model.zoomFactor,this.model.zoomLevel=this.model.minZoom,this._transformX*=n/t,this._transformY*=n/t,this._applyTransform(this._scale,this._transformX,this._transformY),this._baseTransX=this._transformX,this._baseTransY=this._transformY,this._baseScale=this._scale},_calculateMarginConditions:function(){var n=this._calculateMinMax();this._transformY>n.maxY?this._transformY=n.maxY:this._transformY<n.minY&&(this._transformY=n.minY),this._transformX>n.maxX?this._transformX=n.maxX:this._transformX<n.minX&&(this._transformX=n.minX)},_calculateMinMax:function(){var n,t,i,r;return this._containerHeight*this._scale<=this._height?(t=(this._height-this._containerHeight*this._scale)/(2*this._scale),r=(this._height-this._containerHeight*this._scale)/(2*this._scale)):(t=0,r=(this._height-this._containerHeight*this._scale)/this._scale),this._containerWidth*this._scale<=this._width?(n=(this._width-this._containerWidth*this._scale)/(2*this._scale),i=(this._width-this._containerWidth*this._scale)/(2*this._scale)):(n=0,i=(this._width-this._containerWidth*this._scale)/this._scale),{minX:i,maxX:n,minY:r,maxY:t}},_findMidPointofPoylgon:function(n){var a=0,h=n.getTotalLength(),u,c,l;h>1500&&(h=1500,a=0);var t=0,f=0,e=0,i=0,r=0,o=0,s=0,v=n.getPointAtLength(0);for(u=a;u<=h-1;u++)c=n.getPointAtLength(u),f=c.x,e=c.y,u==h-1?(i=v.x,r=v.y):(l=n.getPointAtLength(u+1),i=l.x,r=l.y),t=t+Math.abs(f*r-i*e),o=o+Math.abs((f+i)*(f*r-i*e)),s=s+Math.abs((e+r)*(f*r-i*e));return t=.5*t,o=1/(4*t)*o,s=1/(4*t)*s,{x:o,y:s}},_convertLatLongtoPoint:function(n,t,i,r){var u=(parseFloat(t)+165)*((this._containerWidth+i)/360),f=(parseFloat(n)*-1+135)*((this._containerHeight+r)/180);return{x:u,y:f}},_animate:function(t){this._calculateMarginConditions();var r=t,i=this;n(this._rootgroup).animate({svgTransform:"scale("+i._scale+") translate("+i._transformX+" "+i._transformY+")"},{step:function(){i._refrshLayers()}},r)},_applyTransform:function(n,t,i){this._scale=n,this._transformX=t,this._transformY=i,this._calculateMarginConditions(),this._rootgroup.setAttribute("transform","scale("+this._scale+") translate("+this._transformX+", "+this._transformY+")")},_mouseMove:function(n){var t,i,r,u;n.type=="touchmove"&&n.originalEvent.touches.length>1||(t=this,t.ispanning&&t.model.enablePan&&(n.preventDefault(),n.type=="mousemove"?i={x:n.pageX,y:n.pageY}:n.type=="touchmove"?i={x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}:n.type=="MSPointerMove"&&(i={x:n.originalEvent.pageX,y:n.originalEvent.pageY}),r=t._transformX-(t._dragStartX-i.x)/t._scale,u=t._transformY-(t._dragStartY-i.y)/t._scale,t._transformX=r,t._transformY=u,t._applyTransform(t._scale,t._transformX,t._transformY),t._dragStartX=i.x,t._dragStartY=i.y,t._refrshLayers(),t._trigger("panning",{originalEvent:n})))},_svgMouseLeave:function(){var n=this;n.ispanning=!1},_mouseWheel:function(t){this.model.enableAnimation&&n(this._rootgroup).stop(!0,!1);var i=t.originalEvent,r=t;i.preventDefault?i.preventDefault():r.preventDefault(),this._zooming(t.originalEvent.wheelDelta,t.originalEvent)},_mouseButtonUp:function(n){var t=this;t.ispanning&&t._trigger("panned",{originalEvent:n}),t.ispanning=!1},_mouseLeave:function(){},_mouseUp:function(){this.ispanning=!1},_mouseButtonDown:function(t){var i,r;this.model.enableAnimation&&n(this._rootgroup).stop(!0,!1),t.type=="touchstart"&&t.originalEvent.touches.length>1||(t.preventDefault(),t.type=="mousedown"?i={x:t.pageX,y:t.pageY}:t.type=="touchstart"?i={x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}:t.type=="MSPointerDown"&&(i={x:t.originalEvent.pageX,y:t.originalEvent.pageY}),r=this,r.ispanning=!0,r._dragStartX=i.x,r._dragStartY=i.y)},_pinchZoom:function(){},_getCurrentPoint:function(n){var t=this._mapContainer,i=n.pageX-t[0].offsetLeft,r=n.pageY-t[0].offsetTop;return{x:i,y:r}},_doubleClick:function(n){var t=this,r=this._getCurrentPoint(n),i;t.model.enableZoom&&t.model.zoomLevel>=t.model.minZoom&&t.model.zoomLevel<=t.model.maxZoom&&(i=t._scale,t._prevScale=i,t._prevPoint={x:t._transformX,y:t._transformY},t._transformX-=(t._width/t._scale-t._width/(t._scale+t.model.zoomFactor))/(t._width/r.x),t._transformY-=(t._height/t._scale-t._height/(t._scale+t.model.zoomFactor))/(t._height/r.y),t._scale=i+t.model.zoomFactor,t.model.enableAnimation?t._animate(600):t._applyTransform(t._scale,t._transformX,t._transformY),t.model.zoomLevel+=1,t._refrshLayers(),t._trigger("zoomedIn",{originalEvent:n,zoomLevel:t.model.zoomLevel}))},_bubbleEnterFunction:function(t){if(t.data.templateID!=null){var i=n("#"+t.data.templateID).render(t.data.itemsrc);n(t.data.htmlobj).html(i)}return n(document.body).append(t.data.htmlobj),n(t.data.htmlobj).css("display","block").css({left:t.pageX+8+"px",top:t.pageY+6+"px"})},_bubbleleaveFunction:function(t){return n(t.data.htmlobj).remove(),n(t.data.htmlobj).css("display","none")},_bubbleOverFunction:function(t){return n(t.data.htmlobj).css("display","block").css({left:t.pageX+8+"px",top:t.pageY+6+"px"})},_polyEnterFunction:function(t){var i=t.data.Param1,u,r,f,e;i.enableMouseHover&&(i._clearShapeWidth(),this.setAttribute("stroke-width",i.shapeSetting.mouseHoverWidth),i.shapeSetting.mouseHoverColor!=null&&this.setAttribute("fill",i.shapeSetting.mouseHoverColor),i._prevHoveredShape=this),u=t.data.Param2,u.hasOwnProperty("data")&&(r=t.data.Param3,f=i.tooltipTemplate,r!=null&&f!=null&&(n(r).css({left:t.pageX,top:t.pageY,display:"block"}),e=n("#"+f).render(u.data),n(r).html(e)))},_polyClickFunction:function(n){var t=n.data.Param2,i=this,r=n.data.Param3;i._isPolygonSelected=!0,t._prevSelectedShape!=null&&t._prevSelectedShape.setAttribute("fill",t._prevSelectedShape.getAttribute("nodeValue")),t._prevSelectedShape=r,t.enableSelection&&r.setAttribute("fill",t.shapeSetting.shapeSelectionColor),i._trigger("shapeSelected",{originalEvent:n.data.Param1})},_polyMoveFunction:function(t){var i=t.data.Param1;i!=null&&n(i).css({display:"block",left:t.pageX+10,top:t.pageY+10,display:"block"})},_polyLeaveFunction:function(t){var i=t.data.Param1,r=i._tooltipElement;r!=null&&n(r).css("display","none"),i._clearShapeWidth()},_wireEvents:function(){function e(t){i.model.enableAnimation&&n(i._rootgroup).stop(!0,!1),t.preventDefault(t),i._zooming(-40*t.detail,t)}var u=jQuery.uaMatch(navigator.userAgent),f=u.browser.toLowerCase(),i,r;this._on(n(this._mapContainer),t.eventType.mouseDown,this._mouseButtonDown),this._on(n(this._mapContainer),t.eventType.mouseMove,this._mouseMove),this._on(n(this._mapContainer),t.eventType.mouseLeave,this._mouseLeave),this._on(n(document),t.eventType.mouseUp,this._mouseUp),window.navigator.msPointerEnabled?(this._on(n(this._mapContainer),"MSPointerUp",this._mouseButtonUp),n(this._mapContainer).css("-ms-touch-action","none")):this._on(n(this._mapContainer),"mouseup",this._mouseButtonUp),i=this,f!="mozilla"?this._on(n(this._mapContainer),"mousewheel",this._mouseWheel):(r=this._svgDocument,r.addEventListener&&r.addEventListener("DOMMouseScroll",e,!1)),this._on(n(this._mapContainer),"dblclick",this._doubleClick),this.model.needResize&&(this.isDevice()?this._on(n(window),"orientationchange",this.mapResize):this._on(n(window),"resize",this.mapResize))},mapResize:function(n){n.preventDefault(),n.stopPropagation();var t=this;this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){t.refresh()},500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_unWireEvents:function(){var r=jQuery.uaMatch(navigator.userAgent),i=r.browser.toLowerCase();this._on(n(document),t.eventType.mouseUp,this._mouseUp),window.navigator.msPointerEnabled?(this._off(n(this._mapContainer),"MSPointerDown",this._mouseButtonDown),this._off(n(this._mapContainer),"MSPointerMove",this._mouseMove),this._off(n(this._mapContainer),"MSPointerUp",this._mouseButtonUp),n(this._mapContainer).css("-ms-touch-action","none")):i=="webkit"||i=="chrome"||i=="mozilla"?(this._off(n(this._mapContainer),"mousedown",this._mouseButtonDown),this._off(n(this._mapContainer),"mousemove",this._mouseMove),this._off(n(this._mapContainer),"mouseup",this._mouseButtonUp)):(this._off(n(this._mapContainer),"mousedown",this._mouseButtonDown),this._off(n(this._mapContainer),"mousemove",this._mouseMove),this._off(n(this._mapContainer),"mouseup",this._mouseButtonUp)),this._off(n(this._mapContainer),"dblclick",this._doubleClick)},pan:function(n){var t=this,i=0,r=0,u,f;if(this.model.zoomLevel!=1){switch(n){case"right":i=this._width/7,r=0;break;case"top":i=0,r=-(this._height/7);break;case"left":i=-(this._width/7),r=0;break;case"bottom":i=0,r=this._height/7}t.model.enablePan&&(u=t._transformX-i/t._scale,f=t._transformY-r/t._scale,t._transformX=u,t._transformY=f,t.model.enableAnimation?t._animate(600):t._applyTransform(t._scale,t._transformX,t._transformY),t._refrshLayers(),t._trigger("panning",null))}},zoom:function(){var n=this,t;this.model.zoomLevel<=this.model.maxZoom&&this.model.zoomLevel>=this.model.minZoom?(t=n._baseScale+n.model.zoomLevel*n.model.zoomFactor-1,n._transformX-=(n._width/n._scale-n._width/t)/2,n._transformY-=(n._height/n._scale-n._height/t)/2,n._scale=t,this._applyTransform(n._scale,n._transformX,n._transformY),this._refrshLayers()):(this.model.zoomLevel=this.model.minZoom,this.zoom())},refresh:function(){this._unWireEvents(),n(this._svgDocument).empty(),this._svgDocument!=null&&(this._svgDocument=null),n(this._mapContainer).empty(),this._scale=1,this._transformX=0,this._transformY=0,this.model.zoomLevel=1,this._height=this._mapContainer.height(),this._width=this._mapContainer.width(),this._height==0&&(this._height=n(this._mapContainer).parent().height()),this._width==0&&(this._width=n(this._mapContainer).parent().width()),this.model.baseMapIndex>=this.model.layers.length&&(this.model.baseMapIndex=0),this._generatePath();var t=this._rootgroup.getBBox();this._containerHeight=t.height,this._containerWidth=t.width,this._resizingContainer(),this._renderMapElements(),this.model.enableLayerChangeAnimation&&n(this._mapContainer).animate({opacity:1},500)},_renderMapElements:function(){var i,t;for(n(this._mapContainer).css("background-color",this.model.mapBackground),this._templateDiv=n("<div class='TemplateDiv'/>"),this._templateDiv.appendTo(this._mapContainer),this._templateDiv.css({"pointer-events":"none",overflow:"hidden",position:"absolute","z-index":"1",height:this._height,width:this._width}),i=0,this._renderLayers(this.model.layers[this.model.baseMapIndex].shapeFileLayer,i),i=this.model.layers[this.model.baseMapIndex].shapeFileLayer.path.length,t=0;t<this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers.length;t++)this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers[t]._isBaseLayer=!1,this._renderLayers(this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers[t],i),i+=this.model.layers[this.model.baseMapIndex].shapeFileLayer.subshapeFileLayers[t].path;this._generateAnnotations(),this.model.enableAnimation?this._refreshWithAnimation():this._refrshLayers(),this._wireEvents()},drillDown:function(n,t,r){var u=this._convertLatLongtoPoint(n,t,0,0);u.x=u.x*(this._width/this._containerWidth),u.y=u.y*(this._height/this._containerHeight),this._prevScale=this._scale,r!=i&&r!=this.model.zoomLevel&&(this._scale=this._baseScale+(r-1)*this.model.zoomFactor);var f=this._width/this._scale/(this._width/(this._width-u.x)),e=this._height/this._scale/(this._height/(this._height-u.y)),o=this._width/this._baseScale/(this._width/u.x),s=this._height/this._baseScale/(this._height/u.y);this._prevPoint={x:this._transformX,y:this._transformY},this._transformX=-(o-f),this._transformY=-(s-e),r>this.model.minZoom&&r<this.model.maxZoom&&(this.model.zoomLevel=r),this.model.enableAnimation?this._animate(1200):this._applyTransform(this._scale,this._transformX,this._transformY),this._refrshLayers()}});var r=function(){this._svgns="http://www.w3.org/2000/svg",this._bounds=[],this._prevSelectedShape=null,this._isBaseLayer=!0,this._prevHoveredShape=null,this._mapShapes=[],this._bubbles=[],this._bubbleCount=0,this._mapItems=[],this._annotationBounds=[],this._mapannotations=[],this.enableSelection=!0,this.enableMouseHover=!1,this.path=null,this.annotations=[],this.dataSource=null,this.tooltipVisibility=!1,this.tooltipTemplate=null,this.mapItemsTemplate=null,this.legendVisibility=!1,this.enableAnimation=!1,this.legendPositionX=0,this.legendWidth=20,this.legendHeight=20,this.legendPositionY=0,this.legendIcon="Rectangle",this.legendType="Layers",this.annotationTemplate=null,this.customDataSource=null,this.mapItemsVisibility=!0,this.subshapeFileLayers=[],this.shapeSetting={mouseHoverColor:"gray",mouseHoverWidth:1,shapeSelectionColor:"gray",shapeFill:"#E5E5E5",shapeStrokeThickness:"0.2",shapeStroke:"#C1C1C1",shapeColorValuepath:null,shapeValuepath:null,colorMappings:null},this.bubbleSetting={minSize:"10",maxSize:"20",bubbleColor:"gray",bubbleColorValuepath:null,bubbleValuepath:null,colorMappings:null,tooltipVisibility:!1,tooltipTemplate:null}};r.prototype={dataTypes:{dataSource:"data",annotations:"array",subshapeFileLayers:"array",shapeSetting:{colorMappings:"array"},bubbleSetting:{colorMappings:"array"}},_generateAnnotationForLayers:function(t){for(var s=t._rootgroup.getBoundingClientRect().top,h=t._rootgroup.getBoundingClientRect().left,i,e,r,o,f,u=0;u<this.annotations.length;u++)i=this.annotations[u],e=t._convertLatLongtoPoint(i.latitude,i.longitude,0,0),this._annotationBounds.push(e),this.annotationTemplate!=null?(r=n(".annotationTemplateDiv"),r=n("<div style='display:block;position:absolute;pointer-events: none;'><\/div>"),r[0].className=u,t._templateDiv.append(r),o=n("#"+this.annotationTemplate).render(i),n(r).html(o),this._mapannotations.push(r)):(f=document.createElementNS(this._svgns,"text"),f.textContent=i.annotationLabel,n(f).attr({fill:i.annotationLabelForeground,style:"pointer-events: none;",x:e.x,y:e.y}),t._svgDocument.appendChild(f),this._mapannotations.push(f));if(this.customDataSource!=null)for(u=0;u<this.customDataSource.length;u++)i=this.customDataSource[u],e=t._convertLatLongtoPoint(i.latitude,i.longitude,0,0),this._annotationBounds.push(e),this.annotationTemplate!=null?(r=n(".annotationTemplateDiv"),r=n("<div style='display:none;position:absolute;pointer-events: none;'><\/div>"),r[0].className=u,t._templateDiv.append(r),o=n("#"+this.annotationTemplate).render(i),n(r).html(o),this._mapannotations.push(r)):(f=document.createElementNS(this._svgns,"text"),f.textContent=i.annotationLabel,n(f).attr({fill:i.annotationLabelForeground,style:"pointer-events: none;",x:e.x,y:e.y}),t._svgDocument.appendChild(f),this._mapannotations.push(f))},_clearShapeWidth:function(){for(var t,i,n=0;n<this._mapShapes.length;n++)t=this._mapShapes[n],i=t.shape.getAttribute("nodeValue"),t.shape.setAttribute("fill",i),t.shape.setAttribute("stroke-width",this.shapeSetting.shapeStrokeThickness);this._prevSelectedShape!=null&&this.enableSelection&&this._prevSelectedShape.setAttribute("fill",this.shapeSetting.shapeSelectionColor)},_generateLegends:function(t){var u,c,l,e,r,h,o;if(this.legendVisibility&&(u=document.createElementNS(this._svgns,"g"),t._svgDocument.appendChild(u),c=t._width*this.legendPositionX/100,l=t._height*this.legendPositionY/100,u.setAttribute("transform","translate("+c+", "+l+")"),this.legendType=="Layers"&&this.shapeSetting.colorMappings!=null)){var s=0,a=!0,f=null;for(this.shapeSetting.colorMappings.rangeColorMapping!=i?f=this.shapeSetting.colorMappings.rangeColorMapping:this.shapeSetting.colorMappings.equalColorMapping!=i&&(f=this.shapeSetting.colorMappings.equalColorMapping,a=!1),e=0;e<f.length;e++)r=f[e],r.hideLegend||(h=document.createElementNS(this._svgns,"rect"),n(h).attr({y:s,height:this.legendHeight,width:this.legendWidth,fill:r.color}),o=document.createElementNS(this._svgns,"text"),n(o).attr({fill:"gray",style:"pointer-events: none;text-align:center;",x:this.legendWidth+5,y:s+this.legendHeight/2+5}),o.textContent=r.legendLabel!=null?r.legendLabel:a?r.from:r.value,u.appendChild(h),u.appendChild(o),s+=this.legendHeight+5)}},animateBubble:function(t,i){var e=t.getAttribute("r"),f,u=n(t),r=this;u.delay(i).each(function(){}).animate({r:e},{duration:700,step:function(n){f=n,u.attr("style","display:block;pointer-events:stroke;"),u[0].setAttribute("r",f)},complete:function(){r._bubbleCount++,r._bubbleCount==r._bubbles.length&&r._setMapElements()}})},_setMapElements:function(){for(var i,t=0;t<this._mapItems.length;t++)i=this._mapItems[t],this.mapItemsTemplate!=null&&n(i).css({display:"block"})},_setMapItemsPositionWithAnimation:function(t){for(var f,r,o,e,u,i=0;i<this._bubbles.length;i++){var s=this._bubbles[i],r=this._bounds[i],e=(r.x+t._transformX)*t._scale,u=(r.y+t._transformY)*t._scale,h=0,c=Math.floor(Math.random()*(20-h)+h),l=parseInt(c*50);n(s).attr({cx:e,cy:u}),this.animateBubble(s,l)}for(i=0;i<this._mapannotations.length;i++){var f=this._mapannotations[i],r=this._annotationBounds[i],e=(r.x+t._transformX)*t._scale,u=(r.y+t._transformY)*t._scale;this.annotationTemplate!=null?(n(f).css({display:"block",left:e,top:u-100}),n(f).delay(500).each(function(){}).animate({top:u},500)):n(f).attr({x:e,y:u})}for(i=0;i<this._mapItems.length;i++)f=this._mapItems[i],r=this._bounds[i],o=this.mapItemsTemplate!=null?f[0].getBoundingClientRect():f.getBoundingClientRect(),e=(r.x+t._transformX)*t._scale-o.width/2,u=(r.y+t._transformY)*t._scale-o.height/4,this.mapItemsTemplate!=null?n(f).css({left:e,top:u,display:"none"}):n(f).attr({x:e,y:u})},_setMapItemsPosition:function(t){var o=t._rootgroup.getCTM(),u,r,s,f,e,i;for(t._scale=o.a,t._transformX=o.e/o.a,t._transformY=o.f/o.a,i=0;i<this._mapItems.length;i++)u=this._mapItems[i],r=this._bounds[i],s=this.mapItemsTemplate!=null?u[0].getBoundingClientRect():u.getBoundingClientRect(),f=(r.x+t._transformX)*t._scale-s.width/2,e=(r.y+t._transformY)*t._scale-s.height/4,this.mapItemsTemplate!=null?n(u).css({left:f,top:e}):n(u).attr({x:f,y:e});for(i=0;i<this._bubbles.length;i++){var h=this._bubbles[i],r=this._bounds[i],f=(r.x+t._transformX)*t._scale,e=(r.y+t._transformY)*t._scale;n(h).attr({cx:f,cy:e})}for(i=0;i<this._mapannotations.length;i++){var u=this._mapannotations[i],r=this._annotationBounds[i],f=(r.x+t._transformX)*t._scale,e=(r.y+t._transformY)*t._scale;this.annotationTemplate!=null?n(u).css({left:f,top:e}):n(u).attr({x:f,y:e})}},_fillColors:function(n,t,i){t.rangeColorMapping!=null?this._fillRangeColors(n,t.rangeColorMapping,i):t.equalColorMapping!=null?this._fillEqualColors(n,t,i):t.desaturationColorMapping!=null&&this._fillDesaturationColor(n,t.desaturationColorMapping,i)},_fillDesaturationColor:function(t,i,r){var u=this._getColorRatio(i.from,i.to,t,i.rangeMinimum,i.rangeMaximum);r.setAttribute("fill",i.color),n(r).css({opacity:u})},_fillEqualColors:function(t,i,r){n.each(i.equalColorMapping,function(n,i){i.value==t&&r.setAttribute("fill",i.color)})},_fillRangeColors:function(t,i,r){for(var u,e,f=0;f<i.length;f++)u=i[f],t>u.from&&t<u.to&&(e=this._getColorRatio(.7,1,t,u.from,u.to),r.setAttribute("fill",u.color),n(r).css({opacity:e}))},_getColorRatio:function(n,t,i,r,u){var f=100/(u-r)*(i-r);return(parseFloat(t)-parseFloat(n))/100*f+parseFloat(n)}},n.fn.pinchZoom=function(t,i){var f,u,e=this[0],r=[],o=function(n){var t=e.createSVGPoint(),r=n.targetTouches,u,f,i;return r.length&&(i=r[0],u=i.pageX,f=i.pageY),t.x=u,t.y=f,t};handleTouchStart=function(i){var y=t,e,s,c,l,h,a,v;if(u=y.getCTM().inverse(),f=o(i).matrixTransform(u),e=i.touches,e.length>=2)for(s=0;s<e.length;s++){for(c=e[s],l=!1,h=0;h<r.length;h++)if(a=r[h],c.identifier===a.identifier){l=!0;break}l||(v=n.extend({},c),r.push(v))}i.preventDefault()},getDistance=function(n,t){var i=t.pageX-n.pageX,r=t.pageY-n.pageY;return Math.sqrt(i*i+r*r)},setCTM=function(n,t){var r=null,u="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";t.a>i._baseScale&&i.model.enableZoom&&i.model.enablePan&&(t.a>i._scale?r=!0:t.a<i._scale&&(r=!1),i._scale=t.a,i._transformX=t.e/t.a,i._transformY=t.f/t.a,i._applyTransform(i._scale,i._transformX,i._transformY),i.model.zoomLevel=i._scale-i._baseScale+1,r!=null&&r?i._trigger("zoomedIn",{originalEvent:null,zoomLevel:i.model.zoomLevel}):r!=null&&i._trigger("zoomedOut",{originalEvent:null,zoomLevel:i.model.zoomLevel}),i._refrshLayers())},handleTouchEnd=function(n){for(var f=n.changedTouches,e,i,u,o,t=0;t<f.length;t++)for(e=f[t],i=0;i<r.length;i++)u=r[i],u.identifier===e.identifier&&(o=r.indexOf(u),r.splice(o,1));n.preventDefault()},updateTouch=function(n,t){n.pageX=t.pageX,n.pageY=t.pageY},handleTouchMove=function(n){var s,h,v,i,a;if(n.preventDefault(),s=t,h=n.touches,h.length>=2){var c=h[0],l=h[1],y=r[0],p=r[1];v=getDistance(c,l)/getDistance(y,p),i=e.createSVGPoint(),i.x=(c.pageX+l.pageX)/2,i.y=(c.pageY+l.pageY)/2,i=i.matrixTransform(s.getCTM().inverse()),a=e.createSVGMatrix().translate(i.x,i.y).scale(v).translate(-i.x,-i.y),setCTM(s,s.getCTM().multiply(a)),typeof u=="undefined"&&(u=s.getCTM().inverse()),u=u.multiply(a.inverse()),updateTouch(y,c),updateTouch(p,l)}else r.length||(i=o(n).matrixTransform(u),setCTM(s,u.inverse().translate(i.x-f.x,i.y-f.y)))},this[0].addEventListener("touchstart",handleTouchStart,!1),this[0].addEventListener("touchend",handleTouchEnd,!1),this[0].addEventListener("touchmove",handleTouchMove,!1)},jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},n.fx.step.svgTransform=n.fx.step["svg-transform"]=function(n){var i=n.elem.attributes.getNamedItem("transform"),t,r;for(n.set||(n.start=u(i?i.nodeValue:""),n.end=u(n.end,n.start),n.set=!0),t="",r=0;r<n.end.order.length;r++)switch(n.end.order.charAt(r)){case"t":t+=" translate("+(n.pos*(n.end.translateX-n.start.translateX)+n.start.translateX)+","+(n.pos*(n.end.translateY-n.start.translateY)+n.start.translateY)+")";break;case"s":t+=" scale("+(n.pos*(n.end.scaleX-n.start.scaleX)+n.start.scaleX)+","+(n.pos*(n.end.scaleY-n.start.scaleY)+n.start.scaleY)+")"}i?i.nodeValue=t:n.elem.setAttribute("transform",t)}}(jQuery,Syncfusion),function(n,t,i){var r,u;t.widget({ejTreeMap:"ej.TreeMap"},{validTags:["div"],defaults:{dataSource:null,colorValuePath:null,weightValuePath:null,treeMapItems:[],legendVisibility:!1,borderBrush:"white",borderThickness:1,itemsLayoutMode:"Squarified",levels:[],treeMapLegend:null,colorMappings:null,highlightOnSelection:!1,tooltipVisibility:!1,tooltipTemplate:null,highlightBorderThickness:5,highlightBorderBrush:"gray"},dataTypes:{dataSource:"data",treeMapItems:"array",levels:"array"},observables:["dataSource"],_initPrivateProperties:function(){this._svgDocument=null,this._templateDiv=null,this._height=500,this._initDiv=null,this._width=500,this._svgns="http://www.w3.org/2000/svg",this._prevSelectedItem=null,this.treeMapItemSelected=null,this._toolTipElement=null,this._rootTreeMapItems=[],this._treeMapHeaders=[],this._treeMapLabels=[],this._labelTemplateElements=[],this._itemGroups=[]},_setModel:function(n){for(var t in n)switch(t){case"itemsLayoutMode":this.model.itemsLayoutMode=n[t],this.refresh()}},_init:function(){this._initPrivateProperties(),this._levelInitialize(),this.refresh()},_destroy:function(){},_levelInitialize:function(){var t=this;this.model.levels!=null?n.each(this.model.levels,function(i,u){u=t._checkArrayObject(u,i);var f=new r;n.extend(f,u),n.extend(u,f)}):this.levels.treeMapLevel=new r},_checkArrayObject:function(t,i){var u=this;return n.each(t,function(n,t){if(t instanceof Array)u._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var f=new r;u._loadIndividualDefaultValues(t,f,typeof n=="number"?i:n)}}),t},_loadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._loadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},refresh:function(){this._initPrivateProperties(),n(this.element).empty(),this._svgDocument!=null&&n(this._svgDocument).empty(),this._height=this.element.height(),this._width=this.element.width(),this._svgDocument=document.createElementNS(this._svgns,"svg"),this._templateDiv=n("<div class='_templateDiv' style=';'><\/div>"),this._templateDiv.css({"pointer-events":"none",overflow:"hidden",position:"absolute","z-index":"1",height:this._height,width:this._width}),this._groupLevels(),this.model.legendVisibility&&this._generateLegend(),this._generateToolTip(),this._renderLabels()},_groupLevels:function(){for(var t=null,n,u,f,r,i=0;i<this.model.levels.length;i++)n=this.model.levels[i],n.groupPath!=null&&(t!=null?(u=t,t=[],f=this.model.levels[i-1],this._generateSubItems(u,n,t,f),this._rootTreeMapItems=t,i==this.model.levels.length-1&&(this._generateTreeMapItems(t,"gray",n.DisplayPath),(n.showLabels||n.itemVisibility)&&this._generateLabels(t,n.labelTemplate,n.itemVisibility))):(r=this._getGroupitem(n.groupPath,this.model.dataSource,n.headerHeight),this._rootTreeMapItems=r,this._getTopLevels(r,n),t=r,i==this.model.levels.length-1&&this._generateTreeMapItems(r,"gray",n.DisplayPath),(n.showLabels||n.itemVisibility)&&this._generateLabels(r,n.labelTemplate,n.itemVisibility)))},_getTopLevels:function(n,t){var r=this.model.itemsLayoutMode,i=0;this.model.legendVisibility&&this.model.treeMapLegend!=null&&(i=this.model.treeMapLegend.legendIconHeight+20),r=="SliceAndDiceHorizontal"?this._calculateSliceAndDiceItemSize(n,0,i,this._width,this._height,t.groupGap,0,!0):r=="SliceAndDiceVertical"?this._calculateSliceAndDiceItemSize(n,0,i,this._width,this._height,t.groupGap,0,!1):r=="SliceAndDiceAuto"?this._calculateSliceAndDiceItemSize(n,0,i,this._width,this._height,t.groupGap,0):this._calculateSquarifiedItemSize(n,0,i,this._width,this._height,t.groupGap,0)},_generateSubItems:function(n,t,i,r){for(var s=this.model.itemsLayoutMode,c=n.length,h=0,f,e,o,u=0;u<c;u++)for(f=this._getGroupitem(t.groupPath,n[u].Data,t.headerHeight),s=="SliceAndDiceHorizontal"?this._calculateSliceAndDiceItemSize(f,n[u].LeftPosition,n[u].TopPosition,n[u].ItemWidth,n[u].ItemHeight,t.groupGap,r.headerHeight,!0):s=="SliceAndDiceVertical"?this._calculateSliceAndDiceItemSize(f,n[u].LeftPosition,n[u].TopPosition,n[u].ItemWidth,n[u].ItemHeight,t.groupGap,r.headerHeight,!1):s=="SliceAndDiceAuto"?this._calculateSliceAndDiceItemSize(f,n[u].LeftPosition,n[u].TopPosition,n[u].ItemWidth,n[u].ItemHeight,t.groupGap,r.headerHeight):this._calculateSquarifiedItemSize(f,n[u].LeftPosition,n[u].TopPosition,n[u].ItemWidth,n[u].ItemHeight,t.groupGap,r.headerHeight),e=this._rootTreeMapItems[u],e.headerHeight=r.headerHeight,e.headerWidth=n[u].ItemWidth,e.headerTemplate=r.headerTemplate,e.headerLeftPosition=n[u].LeftPosition,e.headerTopPosition=n[u].TopPosition,this._generateHeaders(e),(t.showLabels||t.itemVisibility)&&this._generateLabels(f,t.labelTemplate,!1),n[u].ChildtreeMapItems=f,n[u].GroupingLevel=this.model.levels.indexOf(r)+1,o=0;o<f.length;o++)i[h]=f[o],h++},_generateLabels:function(t,i,r){for(var u,e,s,f,h,c,o=0;o<t.length;o++)u=t[o],r&&(e=n("<label><\/label>"),n(e).css({"font-family":"Segoe UI","font-size":"14px;",color:"white",position:"absolute",overflow:"hidden",width:u.ItemWidth-10+"px",left:u.LeftPosition+10+"px",top:u.TopPosition+5+"px",height:u.ItemHeight-10,"font-weight":"normal"}),e[0].innerHTML=u.label,this._treeMapLabels.push(e),this._templateDiv.append(e)),i!=null&&(s=n("#"+i),f=n("<div style='overflow:hidden;display:block;position:absolute;pointer-events: none;'><\/div>"),f[0].data=u,h=n.templates(s.html()),c=h.render(u),n(f).html(c),n(f).css({left:u.LeftPosition+u.ItemWidth/2,top:u.TopPosition+u.ItemHeight/2}),this._templateDiv.append(f),this._labelTemplateElements.push(f))},_generateToolTip:function(){var t,i;this.model.tooltipVisibility&&(t=n("<div class='tooltipelement' style='display:none;position:absolute;z-index:1000;'><\/div>"),n(document.body).append(t),this._toolTipElement=t,this.model.tooltipTemplate==null&&(i=this.model.levels[this.model.levels.length-1].groupPath,i!=null&&(this.model.tooltipTemplate="defaultTooltip",this.element.append(n("<div id='defaultTooltip' style='display:none'><label>{{:"+i+"}}<\/label><\/div>")))))},_generateLegend:function(){var i,o,r,s;if(this.model.colorMappings!=null&&this.model.colorMappings.rangeColorMapping!=null){var f=this.model.colorMappings.rangeColorMapping,t=0,e=0,u=this.model.treeMapLegend,h=u.LegendTemplate;for(i=0;i<f.length;i++)o=h=="Ellipse"?this._getEllipseLegend(u,t,e):this._getRectLegend(u,t,e),o.setAttribute("fill",f[i].Color),this._svgDocument.appendChild(o),t+=u.legendIconWidth+5,r=document.createElementNS(this._svgns,"text"),n(r).attr({"font-size":"15",fill:"gray",x:t,y:e+13}),r.textContent=f[i].Legendlabel,this._svgDocument.appendChild(r),s=r.getBBox(),t+=s.width+18}},_getEllipseLegend:function(t,i,r){var u=document.createElementNS(this._svgns,"circle");return n(u).attr({cx:i+t.legendIconWidth/2,cy:r+t.legendIconHeight/2,r:t.legendIconHeight/2}),u},_getRectLegend:function(t,i,r){var u=document.createElementNS(this._svgns,"rect");return n(u).attr({x:i,y:r,height:this.model.treeMapLegend.legendIconHeight,width:this.model.treeMapLegend.legendIconWidth}),u},_getPositionFromParent:function(n,t){var i=n.getBoundingClientRect(),r=t.getBoundingClientRect();return{left:i.left-r.left,top:i.top-r.top,height:i.height,width:i.width}},_renderLabels:function(){for(var i=0;i<this._labelTemplateElements.length;i++){var t=this._labelTemplateElements[i],r=this._getPositionFromParent(t[0],this._templateDiv[0]),e=t[0].data,u=n(t).css("left"),f=n(t).css("top");n(t).css({left:parseInt(u)-r.width/2,top:parseInt(f)-r.height/2})}},_generateHeaders:function(t){var u,r,f;t.headerHeight!=i&&t.headerHeight!=0&&t.headerTemplate==null?(u=document.createElementNS(this._svgns,"text"),n(u).attr({fill:"black",x:t.headerLeftPosition,y:t.headerTopPosition+15,textContent:t.header}),this._svgDocument.appendChild(u)):t.headerHeight!=i&&t.headerHeight!=0&&(r=n("<div style='display:block;position:absolute;pointer-events: none;overflow: hidden;'><\/div>"),this._templateDiv.append(r),n(r).css({left:t.headerLeftPosition,width:t.headerWidth,top:t.headerTopPosition,height:t.headerHeight}),f=n("#"+t.headerTemplate).render(t),n(r).html(f))},_generateTreeMapItems:function(t){var u;if(this._getTreeMapItemTemplate(t),t!=null){for(u=0;u<t.length;u++){var i=t[u],r=this._svgDocument.childNodes[u],f=i._generateColorMappings(this.model.colorMappings);f!=null?r.setAttributeNS(null,"fill",f):r.setAttributeNS(null,"fill","gray"),i.Data!=null&&(i.Data=i.Data[0]),i.Rectangle=r,n(r).mouseenter({Param1:i.Data,Param2:this,Param3:this.model.tooltipTemplate},this._rectMouseEnter),n(r).mousemove({Param1:i.Data,Param2:this,Param3:this.model.tooltipTemplate},this._rectMouseMove),n(r).mouseleave({Param1:this},this._rectMouseLeave),n(r).mousedown({Param1:i.Data,Param2:this},this._rectClickFunction)}this.model.colorMappings!=null&&this.model.colorMappings.desaturationColorMapping!=null?this._setDesaturationColor(t,this.model.colorMappings.desaturationColorMapping):this.model.colorMappings!=null&&this.model.colorMappings.PaletteColorMapping!=null&&this._setPaletteColor(t,this.model.colorMappings.PaletteColorMapping)}},_getTreeMapItemTemplate:function(t){var i=n("<div><rect x={{:LeftPosition}} y={{:TopPosition}} height= {{:ItemHeight}} width= {{:ItemWidth}} stroke="+this.model.borderBrush+' stroke-width="1" /><\/div>'),r=n.templates(i.html()),u=r.render(t),f='<svg xmlns="http://www.w3.org/2000/svg" style= "overflow:hidden;z-index:0;float:left;left:0,top:0"id="svgDocument">'+u+"<\/svg>";this.element.html(f),this._svgDocument=this.element.find("#svgDocument")[0],n(this._svgDocument).attr({height:this._height,width:this._width,style:"overflow:hidden;position:absolute;z-index:0;"}),this._templateDiv.appendTo(this.element)},_rectClickFunction:function(n){var t=n.data.Param2;t.model.highlightOnSelection&&(t._prevSelectedItem!=null&&t._prevSelectedItem!=this?(t._prevSelectedItem.setAttribute("stroke-width",t.model.borderThickness),t._prevSelectedItem.setAttribute("stroke",t.model.borderBrush),this.setAttribute("stroke-width",t.model.highlightBorderThickness),this.setAttribute("stroke",t.model.highlightBorderBrush)):t._prevSelectedItem==this?(this.setAttribute("stroke-width",t.model.borderThickness),this.setAttribute("stroke",t.model.borderBrush)):(this.setAttribute("stroke-width",t.model.highlightBorderThickness),this.setAttribute("stroke",t.model.highlightBorderBrush)),t._prevSelectedItem=this),t._trigger("treeMapItemSelected",n.data.Param1)},_rectMouseEnter:function(t){var u=t.data.Param1,i,r,f;u!=null&&(i=t.data.Param2._toolTipElement,r=t.data.Param3,i!=null&&r!=null&&(n(i).css({left:t.pageX,top:t.pageY,display:"block"}),f=n("#"+r).render(u),n(i).html(f)))},_rectMouseMove:function(t){var i=t.data.Param2._toolTipElement;i!=null&&n(i).css({left:t.pageX+10,top:t.pageY+10,display:"block"})},_rectMouseLeave:function(t){var i=t.data.Param1._toolTipElement;i!=null&&n(i).css("display","none")},_setDesaturationColor:function(n,t){var i,u,f,r;for(n=n.sort(this._orderBycolorWeight),i=t.From,u=t.To,(i<0||i>1)&&(i=1),(u>1||u<0)&&(u=0),f=(i-u)/n.length,r=0;r<n.length;r++)n[r].Rectangle.setAttribute("fill",t.Color),n[r].colorWeight>=t.RangeMinimum&&n[r].colorWeight<=t.RangeMaximum&&(n[r].Rectangle.setAttribute("opacity",i),i=i-f)},_setPaletteColor:function(n,t){n=n.sort(this._orderBycolorWeight);for(var i=0;i<n.length;i++)t.Colors.length>0&&n[i].Rectangle.setAttribute("fill",t.Colors[i%t.Colors.length])},_orderBycolorWeight:function(n,t){return n.colorWeight==t.colorWeight?0:n.colorWeight<t.colorWeight?1:-1},_orderByAreaWight:function(n,t){return n.AreaByWeight==t.AreaByWeight?0:n.AreaByWeight<t.AreaByWeight?1:-1},_calculateSliceAndDiceItemSize:function(n,t,r,u,f,e,o,s){var y=e,nt=this._getTotalWeight(n),c,p,d,b,a,g,k,h,l,v;s==i&&(s=u>f?!0:!1),c={Width:u,Height:f},p=o<c.Height?o:0,c.Height=c.Height-p;var it={X:t,Y:r+p,Width:c.Width,Height:c.Height},tt=c.Height*c.Width,w=n.length;if(s)for(d=c.Height,b=0,h=0;h<w;h++)l=tt/nt*n[h].weight,a=l/d,e=a>y?y:0,b<=c.Width&&(n[h].ItemWidth=h!=w-1?a-e:a,n[h].ItemHeight=d,n[h].LeftPosition=b+t,n[h].TopPosition=r+o,b+=a);else for(g=c.Width,k=0,h=0;h<w;h++)l=tt/nt*n[h].weight,v=l/g,e=v>y?y:0,k<=c.Height&&(n[h].ItemWidth=g,n[h].ItemHeight=h!=w-1?v-e:v,n[h].LeftPosition=t,n[h].TopPosition=k+r+p,k+=v)},_calculateSquarifiedItemSize:function(n,t,i,r,u,f,e){var it=this._getTotalWeight(n),y={Width:r,Height:u},g=e<y.Height?e:0,l,nt,tt,o,a,v,s,d,c;for(y.Height=y.Height-g,l=n.length-1;l>=0;l--)s=n[l],s.AreaByWeight=y.Height*y.Width*s.weight/it,s.headerTopPosition=i;var h={X:t,Y:i+g,Width:y.Width,Height:y.Height},w=n.sort(this._orderByAreaWight),b=0,k=0,p=0;for(l=0;l<n.length;l=p)for(nt=w[l],weightObject=this._getGroupTotalWeight(nt,w,h,l),tt=weightObject.totalWeight,p=weightObject.index,o={},a=h.Width>h.Height?!0:!1,v=l;v<p;v++)s=w[v],d=tt,v==l&&(o.X=h.X,o.Y=h.Y,a?(o.Width=d/h.Height,o.Height=h.Height,h.X+=o.Width,h.Width=Math.max(0,h.Width-o.Width)):(o.Width=h.Width,o.Height=d/h.Width,h.Y+=o.Height,h.Height=Math.max(0,h.Height-o.Height)),b=o.X,k=o.Y),c={},w.indexOf(s)!=w.length-1?(c.X=0,c.Y=0,c.Width=a?o.Width-f:s.AreaByWeight/o.Height,c.Height=a?s.AreaByWeight/o.Width:o.Height-f,p-v!=1&&(a?c.Height-=f:c.Width-=f)):(c.Width=a?o.Width:s.AreaByWeight/o.Height,c.Height=a?s.AreaByWeight/o.Width:o.Height),s.ItemWidth=c.Width,s.ItemHeight=c.Height,s.LeftPosition=b,s.TopPosition=k,a?k+=p-v!=1?c.Height+f:c.Height:b+=p-v!=1?c.Width+f:c.Width},_getGroupTotalWeight:function(n,t,i,r){for(var f=0,o=0,s,e,h;r<t.length;r++){s=this._getShortersideLength(i.Width,i.Height),e=t[r],f+=e.AreaByWeight;var u=f/s,c=n.AreaByWeight/u,l=e.AreaByWeight/u;if(r==0&&(o=this._aspectRatio(u,s)),h=Math.max(this._aspectRatio(c,u),this._aspectRatio(l,u)),f==e.AreaByWeight||h<o)o=h;else{f-=e.AreaByWeight,u=f/s,o=Math.max(this._aspectRatio(c,u),this._aspectRatio(l,u));break}}return{totalWeight:f,index:r}},_aspectRatio:function(n,t){return n>t?n/t:t/n},_getShortersideLength:function(n,t){return n>t?t:n},_getTotalWeight:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t].weight;return i},_getGroupitem:function(t,i,r){var h=[],c,e,k,f,o,a,v,d;if(i!=null&&t!=null&&this.model.weightValuePath!=null){for(e in i)f=i[e],f.hasOwnProperty(t)&&(o=this._reflection(f,t),n.inArray(o,h)==-1&&h.push(o));for(c=[],e=0;e<h.length;e++){var s={},y={},p=h[e],w=0,l=0,b=0;for(k in this.model.dataSource)f=this.model.dataSource[k],o=this._reflection(f,t),o==p&&(a=this._reflection(f,this.model.weightValuePath),v=this._reflection(f,this.model.colorValuePath),y[b]=f,b++,a!=null&&(l+=a),v!=null&&(w+=v));s.header=p,s.data=y,s.weight=l,s.colorWeight=w,s.headerHeight=r,l>0&&(d=new u(s),c.push(d))}return c}return null},_reflection:function(t,i){var u=t,f,r,e;if(i!=null&&t!=null){for(f=i.split("."),r=0;r<f.length;r++)e=u.hasOwnProperty(f[r]),e&&n.each(u,function(n,t){if(n==f[r])return u=t,!1});return u}return null}}),r=function(){groupPath=null;n:!1;groupGap=0,headerHeight=0,showLabels=!1,headerTemplate=null,labelTemplate=null,treeMapItems=[]},r.prototype={},u=function(n){this.weight=n.weight,this.colorWeight=n.colorWeight,this.Data=n.data,this.headerHeight=n.headerHeight,this.header=n.header,this.label=n.header,this.headerLeftPosition=0,this.headerTopPosition=0,this.headerWidth=0,this.headerTemplate=null},u.prototype={_generateColorMappings:function(n){return n!=null&&n.rangeColorMapping!=null?this._getRangeBrushColor(n.rangeColorMapping):n!=null&&n.uniColorMapping!=null?this._getUniColor(n.uniColorMapping):void 0},_getUniColor:function(n){return n.Color},_getRangeBrushColor:function(n){for(var i,t=0;t<n.length;t++)if(i=n[t],this.colorWeight>=i.From&&this.colorWeight<=i.To)return i.Color}}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejPager","ej.Pager",{_rootCSS:"e-pager",validTags:["div"],defaults:{pageSize:12,pageCount:10,currentPage:1,enableExternalMessage:!1,externalMessage:"",enableQueryString:!1,localization:"en-US",masterObject:null,click:null,totalRecordsCount:null,totalPages:null},_init:function(){this._initPrivateProperties(),this.model.enableQueryString&&this._queryStringValue(),this.renderPager(),this._wireEvents()},_initPrivateProperties:function(){this._links=[],this._$prev=null,this._$first=null,this._$PP=null,this._$NP=null,this._lastNP=!1,this._lastpageCount=null,this._$last=null,this._$next=null,this._prevPageNo=null},_wireEvents:function(){this.model.click!=i&&this._on(this.element,"click",this._pagerClickHandler)},renderPager:function(){var n=t.buildTag("div.e-pagercontainer","",{},{unselectable:"on"}),i=t.buildTag("div.e-parentmsgbar");this._renderPagerContainer(n),this._renderMsgBar(i),this.element.append(n).append(i).addClass(this.model.masterObject.model.rtl?"e-pager e-rtl":"e-pager"),this.model.enableExternalMessage&&this._renderPagerMessage()},_queryStringValue:function(){var n=new RegExp("[\\?&]page=([^&#]*)").exec(window.location.href);this.model.currentPage=n?parseInt(n[1]||1):1},_renderPagerMessage:function(){var n=t.buildTag("div.e-pagermessage");this.model.externalMessage.toString().length?n.html(this.model.externalMessage):n.hide(),this.element.append(n)},_renderPagerContainer:function(n){this._renderBackwardButton(n),this._renderpreviousPager(n),this._renderNumericItem(n),this._renderForwardPager(n),this._renderForwardButton(n)},_renderMsgBar:function(n){var i=t.buildTag("span",String.format(this._getLocalizedLabels("pagerInfo"),this.model.currentPage,this.model.totalPages||0,this.model.totalRecordsCount||0));n.append(i),n.css("text-align",t.textAlign.Right)},_renderpreviousPager:function(n){this._$PP=t.buildTag("a.e-link e-nextprevitemdisabled e-disable e-spacing e-PP","...",{},{title:this._getLocalizedLabels("previousPagerTooltip")}),n.append(this._$PP)},_renderForwardPager:function(n){this._$NP=t.buildTag("a.e-link e-NP e-numericitem e-spacing e-default","...",{},{title:this._getLocalizedLabels("nextPagerTooltip")}),n.append(this._$NP)},_renderBackwardButton:function(n){this._$first=t.buildTag("div.e-first e-icon e-gprevmedia e-firstpagedisabled e-disable","",{},{unselectable:"on",title:this._getLocalizedLabels("firstPageTooltip")}),this._$prev=t.buildTag("div.e-prev e-icon e-gprev e-prevpagedisabled e-disable","",{},{unselectable:"on",title:this._getLocalizedLabels("previousPageTooltip")}),n.append(this._$first),n.append(this._$prev)},_renderNumericItem:function(n){var i=t.buildTag("div.e-numericcontainer e-default","",{},{unselectable:"on",id:"NumericContainer"});this._renderNumericLinks(i,this.model.pageCount),n.append(i)},_renderNumericLinks:function(n){var i,r;for(n.empty(),i=1;i<=this.model.pageCount;i++)r=t.buildTag("a.e-link",i).addClass("e-numericitem e-spacing e-default"),i==this.model.currentPage&&r.removeClass("e-default").addClass("e-currentitem e-active"),n.append(r);this._links=n.children()},_renderForwardButton:function(n){this._$next=t.buildTag("div.e-nextpage e-icon e-gnext e-default","",{},{unselectable:"on",title:this._getLocalizedLabels("nextPageTooltip")}),this._$last=t.buildTag("div.e-lastpage e-icon e-gnextmedia e-default","",{},{unselectable:"on",title:this._getLocalizedLabels("lastPageTooltip")}),n.append(this._$next),n.append(this._$last)},_applyCss:function(){this.model.currentPage>1?(this._$prev.removeClass("e-prevpagedisabled").removeClass("e-disable").addClass("e-prevpage e-default"),this._$first.removeClass("e-firstpagedisabled").removeClass("e-disable").addClass("e-firstpage e-default")):(this._$prev.addClass("e-prevpagedisabled e-disable").removeClass("e-prevpage").removeClass("e-default"),this._$first.addClass("e-firstpagedisabled e-disable").removeClass("e-firstpage").removeClass("e-default")),this.model.currentPage>this.model.pageCount?this._$PP.removeClass("e-nextprevitemdisabled").removeClass("e-disable").addClass("e-numericitem e-default"):this._$PP.addClass("e-nextprevitemdisabled e-disable").removeClass("e-numericitem").removeClass("e-default"),this._lastNP=parseInt(this._links[0].innerHTML,10)+this.model.pageCount>this.model.totalPages?!0:!1,this._lastNP==!1?this._$NP.removeClass("e-nextprevitemdisabled").removeClass("e-disable").addClass("e-numericitem e-default"):this._$NP.addClass("e-nextprevitemdisabled e-disable").removeClass("e-numericitem").removeClass("e-default"),this._lastpageCount=this.model.totalPages%this.model.pageCount,this._lastpageCount==0&&(this._lastpageCount=this.model.pageCount),this.model.currentPage>this.model.totalPages-this._LastpageCount&&(this._$PP.removeClass("e-nextprevitemdisabled").removeClass("e-disable").addClass("e-numericitem e-default"),this._$NP.addClass("e-nextprevitemdisabled e-disable").removeClass("e-numericitem").removeClass("e-default")),this.model.currentPage==this.model.totalPages||this.model.totalRecordsCount==0?(this._$last.addClass("e-lastpagedisabled e-disable").removeClass("e-lastpage").removeClass("e-default"),this._$next.addClass("e-nextpagedisabled e-disable").removeClass("e-nextpage").removeClass("e-default"),this._$NP.addClass("e-nextprevitemdisabled e-disable").removeClass("e-numericitem").removeClass("e-default")):(this._$last.addClass("e-lastpage e-default").removeClass("e-lastpagedisabled").removeClass("e-disable"),this._$next.addClass("e-nextpage e-default").removeClass("e-nextpagedisabled").removeClass("e-disable")),this._links.length&&(this._links.removeClass("e-currentitem").removeClass("e-active").addClass("e-default"),n(this._links[(this.model.currentPage-1)%this.model.pageCount]).removeClass("e-default").addClass("e-currentitem e-active"),n(this._links[(this._prevPageNo-1)%this.model.pageCount]).removeClass("e-default").addClass("e-numericitem e-active")),this.model.pageSize>=this.model.totalRecordsCount/this.model.pageCount&&this._$PP!=null&&this._$PP.length!=0&&(this._$PP.addClass("e-nextprevitemdisabled e-disable").removeClass("e-numericitem").removeClass("e-default"),this._$NP.addClass("e-nextprevitemdisabled e-disable").removeClass("e-numericitem").removeClass("e-default"))},_SetTotalPages:function(){this.model.totalPages=this.model.totalRecordsCount%this.model.pageSize==0?this.model.totalRecordsCount/this.model.pageSize:parseInt(this.model.totalRecordsCount/this.model.pageSize,10)+1},_refreshNumericItem:function(){var t,n,i;if(this._links.length!=0&&this._links!=null)for(this.model.currentPage=this.model.totalPages==1?1:this.model.currentPage,this.model.currentPage>this.model.totalPages&&this.model.totalPages!=0&&(this.model.currentPage=this.model.totalPages),t=parseInt(this.model.currentPage/this.model.pageCount,10),this.model.currentPage%this.model.pageCount==0&&t>0&&(t=t-1),this._links.css("display","none"),n=0;n<this.model.pageCount;n++)i=t*this.model.pageCount+1+n,i<=this.model.totalPages&&(this._links[n].style.display="",this._links[n].innerHTML=i)},_refreshPagerInfo:function(){this.model.totalRecordsCount==0&&(this.model.currentPage=0),this.element.find("span").text(String.format(this._getLocalizedLabels("pagerInfo"),this.model.currentPage,this.model.totalPages||0,this.model.totalRecordsCount||0))},_refreshExternalMessage:function(){this.model.externalMessage.toString().length?this.element.find(".e-pagermessage").empty().html(this.model.externalMessage).show():this.element.find(".e-pagermessage").hide()},refreshPager:function(){this._SetTotalPages(),this._refreshNumericItem(),this._refreshPagerInfo(),this._applyCss(),this.model.enableExternalMessage&&this._refreshExternalMessage()},_kDownHandler:function(n){var t;if(t=n.keyCode?n.keyCode:n.which?n.which:n.charCode,n.target=null,this.model.masterObject.checkKey("firstPage",t,n))n.target=this._$first;else if(this.model.masterObject.checkKey("previousPager",t,n))n.target=this._$PP;else if(this.model.masterObject.checkKey("previousPage",t,n))n.target=this._$prev;else if(this.model.masterObject.checkKey("lastPage",t,n))n.target=this._$last;else if(this.model.masterObject.checkKey("nextPager",t,n))n.target=this._$NP;else if(this.model.masterObject.checkKey("nextPage",t,n))n.target=this._$next;else return!1;this._pagerClickHandler(n)},_pagerClickHandler:function(t){this._prevPageNo=this.model.currentPage;var r=n(t.target);return n.inArray(t.target,this._links)!=-1?this.model.currentPage=parseInt(t.target.innerHTML,10):r.hasClass("e-nextpage")&&r.hasClass("e-nextpagedisabled")!=!0?this.model.currentPage%this.model.pageCount==0?(this.model.currentPage++,this._links!=i&&this._links.length!=0&&(this.model.currentPage=parseInt(this._links[0].innerHTML,10)+this.model.pageCount),parseInt(this._links[this.model.pageCount-1].innerHTML,10)+this.model.pageCount>=this.model.totalPages&&(this._lastNP=!0)):this.model.currentPage++:r.hasClass("e-prevpage")&&r.hasClass("e-prevpagedisabled")!=!0?(this.model.currentPage%this.model.pageCount==1&&(this._lastNP=!1),this.model.currentPage--,this.model.currentPage<0&&(this.model.currentPage=0)):r.hasClass("e-lastpage")&&r.hasClass("e-lastpagedisabled")!=!0?(this._LastpageCount=this.model.totalPages%this.model.pageCount,this._LastpageCount==0?this._LastpageCount=this.model.pageCount:null,this.model.currentPage=this.model.totalPages,this._lastNP=!0):r.hasClass("e-firstpage")&&r.hasClass("e-firstpagedisabled")!=!0?(this.model.currentPage=1,this._lastNP=!1):r.hasClass("e-NP")&&r.hasClass("e-nextprevitemdisabled")!=!0?(this._links!=i&&(this.model.currentPage=parseInt(this._links[0].innerHTML,10)+this.model.pageCount),parseInt(this._links[this.model.pageCount-1].innerHTML,10)+this.model.pageCount>=this.model.totalPages&&(this._lastNP=!0,this._LastpageCount=this.model.totalRecordsCount-this.model.pageSize<this.model.pageSize?this.model.totalRecordsCount-this.model.pageSize:this.model.totalRecordsCount/this.model.pageSize%this.model.pageCount,this._LastpageCount==0?this._LastpageCount=this.model.pageCount:null,this._links!=i&&(this.model.currentPage=parseInt(this._links[this.model.pageCount-1].innerHTML,10)+1))):r.hasClass("e-PP")&&r.hasClass("e-nextprevitemdisabled")!=!0&&(this._links!=i&&(this.model.currentPage=parseInt(this._links[0].innerHTML,10)-this.model.pageCount),this._lastNP=!1),this.goToPage(this.model.currentPage),!1},goToPage:function(n){n!=this.model.currentPage&&(this._prevPageNo=this.model.currentPage),this._prevPageNo!==n&&n>=1&&n<=this.model.totalPages&&(this.model.currentPage=n,this.model.enableQueryString&&this._updateQueryString(this.model.currentPage),this._trigger("click",{currentPage:n}))},_updateQueryString:function(n){var t=this._getUpdatedURL(window.location.href,"page",n);history.pushState?window.history.pushState({path:t},"",t):window.location.href=t},_getUpdatedURL:function(n,t,i){var u=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i"),r,f;return n.match(u)?n.replace(u,"$1"+t+"="+i+"$2"):(r="",f=n.indexOf("?")!==-1?"&":"?",n.indexOf("#")!==-1&&(r=n.replace(/.*#/,"#"),n=n.replace(/#.*/,"")),n+f+t+"="+i+r)},_getLocalizedLabels:function(n){return t.Pager.localization[this.model.localization][n]===i?t.Pager.localization["en-US"][n]:t.Pager.localization[this.model.localization][n]},_setFirst:!0,_setModel:function(n){for(var t in n)switch(t){case"pageCount":this._renderNumericLinks(this.element.find("#NumericContainer"))}this.refreshPager()},_destroy:function(){this.element.empty().removeClass("e-pager")}}),t.Pager.localization={},t.Pager.localization["en-US"]={pagerInfo:"{0} of {1} pages ({2} items)",firstPageTooltip:"Go to first page",lastPageTooltip:"Go to last page",nextPageTooltip:"Go to next page",previousPageTooltip:"Go to next page",nextPagerTooltip:"Go to next Pager",previousPagerTooltip:"Go to previous Pager"}}(jQuery,Syncfusion),function(n,t,i,r){"use strict";t.widget("ejScroller","ej.Scroller",{defaults:{height:250,width:0,oneStep:57,buttonSize:18,scrollLeft:0,scrollTop:0,scrollerSize:18,persist:!1,rtl:r},validTags:["div"],dataTypes:{buttonSize:"number",oneStep:"number"},keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children("div").first().addClass("e-content")),this._content},_setFirst:!0,_init:function(){this.element.addClass("e-widget"),this.content(),this._ensureScrollers(),this.model.rtl===r&&(this.model.rtl=this.element.css("direction")==="rtl"),this.model.rtl&&this.element.addClass("e-rtl"),this.model.scrollLeft&&this.content().scrollLeft(this.model.scrollLeft),this.model.scrollTop&&this.content().scrollTop(this.model.scrollTop),this._on(this.content(),"scroll",this._scroll)},_ensureScrollers:function(){var t,i,n;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this.isVScroll()?this._v||(t=this.createScroller("Height","Y","Top","e-v",this.isHScroll()),this._on(this.content(),"mousedown touchstart",{d:t},this._mouseDownOnContent)):(this._v=null,this.element.find(".e-vscroll").remove()),this.isHScroll()?this._h||(i=this.createScroller("Width","X","Left","e-h",this.isVScroll()),this._on(this.content(),"mousedown touchstart",{d:i},this._mouseDownOnContent)):(this.element.find(".e-hscroll").remove(),this._h=null),this.element.find(".e-hscroll").length>0?this.element.hasClass("e-hscrollbar")||this.element.addClass("e-hscrollbar"):this.element.hasClass("e-hscrollbar")&&(this.element.removeClass("e-hscrollbar"),n=this.element.find(".e-content"),n.outerHeight(n.outerHeight()-1)),this.isHScroll()||this.isVScroll()?(this.content().addClass("e-content"),this.content().outerHeight(this.element.outerHeight()-(this.isHScroll()?this.model.scrollerSize:0)),this.content().outerWidth(this.element.outerWidth()-(this.isVScroll()?this.model.scrollerSize:0))):this.content().removeClass("e-content")},isHScroll:function(){return this.model.width>0&&this.content()[0].scrollWidth>this.model.width},isVScroll:function(){return this.model.height>0&&this.content()[0].scrollHeight>this.model.height},_setModel:function(n){for(var t in n)if(t==="rtl")n[t]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");else if(t==="scrollLeft")this.content().scrollLeft(this.model.scrollLeft);else if(t==="scrollTop")this.content().scrollTop(this.model.scrollTop);else{this.model.scrollTop=0,this.model.scrollLeft=0,this.refresh();break}},createScroller:function(n,t,i,r,u){var s=r=="e-v"?"v":"h",f=this["_"+s]={},e,o;return f.dimension=n,f.xy=t,f.position=i,f.css=r,f.isOtherScroll=u,f.uDimension=n,e=n==="Width"?"Height":"Width",this.content()["outer"+e](this.element["outer"+e]()-(this.isVScroll()?this.model.scrollerSize:0)),this._calculateLayout(f),this._createLayout(f),o=this[f.main].find(".e-button"),this._off(o,"mousedown")._on(o,"mousedown",{d:f,step:1},this._spaceMouseDown),this._off(r==="e-v"?this.element:this[f.scroll],"mousewheel DOMMouseScroll")._on(r==="e-v"?this.element:this[f.scroll],"mousewheel DOMMouseScroll",{d:f},this._mouseWheel),this._off(this[f.scroll],"mousedown")._on(this[f.scroll],"mousedown",{d:f},this._spaceMouseDown),this._off(this[f.handler],"mousedown touchstart")._on(this[f.handler],"mousedown touchstart",{d:f},this._mouseDown),f},_createLayout:function(i){var r="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}<\/div>",f={},u;f[i.dimension]=i.modelDim,u=t.buildTag("div."+i.css+"scroll",[String.format(r,"up e-button",i.buttonSize),String.format(r,"handlespace",i.handleSpace,String.format(r,"handle",i.handle)),String.format(r,"down e-button",i.buttonSize)],f),i.css=="e-v"&&n(this.element.find(".e-content")).length>0?n(this.element.find(".e-content")).after(u):this.element.append(u),this[i.handler]=this.element.find("."+i.handler)["outer"+i.uDimension](i.handle),this[i.scroll]=this[i.handler].parent(),this[i.main]=this[i.scroll].parent(),this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize)},_calculateLayout:function(n){n.rtl=this.model.rtl===r?this.element.css("direction")==="rtl":this.model.rtl,n.rtl=n.css==="e-h"?n.rtl:!1,n.scrollDim="scroll"+n.dimension,n.lPosition=n.position.toLowerCase(),n.clientXy="page"+n.xy,n.scrollVal="scroll"+n.position,n.oneStep=this.model.oneStep,n.modelDim=this.model[n.dimension=n.dimension.toLowerCase()]-(n.isOtherScroll?this.model.scrollerSize:0),n.handler=n.css+"handle",n.buttonSize=this.model.buttonSize,n.main=n.css+"scroll",n.scroll=n.css+"ScrollSpace",n.handleSpace=n.modelDim-2*n.buttonSize,n.sScrollDim=this.content()[0][n.scrollDim],n.scrollable=n.sScrollDim-n.modelDim,n.tolStep=(n.scrollable+n.buttonSize*2)/n.oneStep,n.tolStep=n.tolStep>1.35*.6+1.35?n.tolStep*.6:n.tolStep,n.handle=Math.ceil(n.handleSpace/(n.tolStep<1.35?n.tolStep<=1?1:1.35:n.tolStep)),n.handle<20&&(n.handle=20),n.onePx=n.scrollable/(n.handleSpace-n.handle),n.fromScroller=!1,n.up=!0,n.vInterval=r,n.scrollable*=n.rtl?-1:1},_updateLayout:function(n){this.element.find("."+n.css+"scroll").css(n.dimension,n.modelDim+"px").find(".e-button").css(n.dimension,this.model.buttonSize).end().find("."+n.css+"handlespace").css(n.dimension,n.handleSpace+"px").find("."+n.css+"handle").css(n.dimension,n.handle+"px")},refresh:function(){this._ensureScrollers(),this.model.scrollLeft&&this.content().scrollLeft(this.model.scrollLeft),this.model.scrollTop&&this.content().scrollTop(this.model.scrollTop),this._v&&(this._v.dimension="Height",this.isVScroll()&&!this._calculateLayout(this._v)&&this._updateLayout(this._v)),this._h&&(this._h.dimension="Width",this.isHScroll()&&!this._calculateLayout(this._h)&&this._updateLayout(this._h))},_keyPressed:function(n,t){if(["input","select","textarea"].indexOf(t.tagName.toLowerCase())!==-1)return!0;var i,r;if(["up","down","pageUp","pageDown"].indexOf(n)!==-1)i=this._v,r="o";else if(["left","right","pageLeft","pageRight"].indexOf(n)!==-1)i=this._h,r="i";else return!0;return i?!this._changeTop(i,(n.indexOf(r)<0?-1:1)*(n[0]!=="p"?1:3)*i.oneStep,"key"):!0},scrollY:function(n,t,i){if(t){this.content().scrollTop(n),this.model.scrollTop=n,this._trigger("scroll",{source:i||"custom",scrollData:this._h});return}this.content().stop().animate({scrollTop:n},100,"linear")},scrollX:function(n,t,i){if(t){this.content().scrollLeft(n),this.model.scrollLeft=n,this._trigger("scroll",{source:i||"custom",scrollData:this._v});return}this.content().stop().animate({scrollLeft:n},100,"linear")},_changeTop:function(n,t,i){var u=this.content()[n.scrollVal](),r=u+t;return(n.rtl?r<n.scrollable:r>n.scrollable)&&(r=n.scrollable),(n.rtl?r>0:r<0)&&(r=0),r!==u&&this["scroll"+n.xy](r,!0,i),r!==u},_mouseWheel:function(n){if(n.data){var t=0,r=n.data.d,u=n;(n=n.originalEvent,n.wheelDelta?(t=-n.wheelDelta/120,i.opera&&parseFloat(i.opera.version,10)<10&&(t=-t)):n.detail&&(t=n.detail/3),t)&&this._changeTop(r,t*r.oneStep,"wheel")&&(n.preventDefault?n.preventDefault():u.preventDefault(),r.css==="e-h"&&(u.stopImmediatePropagation(),u.stopPropagation()))}},_mouseUp:function(i){if(i.data){var r=i.data.d;i.type==="mouseup"&&this[r.handler].removeClass("e-active"),i.type!=="mouseup"&&i.type!=="touchend"&&(i.toElement||i.relatedTarget)||(this._off(n(document),"mousemove touchmove"),n(document).off("mouseout mouseup touchend",t.proxy(this._mouseUp,this)),r.fromScroller=!1,this[r.scroll].off("mousemove"),this[r.handler].off("mousemove").css("transition",""),i.data.source==="thumb"&&n.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:r})},this))),r.up=!0}},_mouseDownOnContent:function(i){var r=i.data.d;r.fromScroller=!0,this[r.handler].css("transition","none");var u=null,f=1,e=5,o;this._on(n(document),"mousemove touchmove",function(n){var t,s,i;n.preventDefault(),t=n.type=="mousemove"?n[r.clientXy]:n.originalEvent.changedTouches[0][r.clientXy],u&&t!==u&&(s=t-u,i=this.model[r.scrollVal]-s*r.onePx/e,f==1&&Math.abs(s)>e&&(o=r.position,f=0),f==0&&(u=t),i>=0&&i<=r.scrollable&&o===r.position&&(this["scroll"+r.xy](i,!0,"thumb"),this[r.handler].css(r.position.toLowerCase(),i/r.onePx+"px"),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:n,scrollData:r}))),u==null&&(u=t)}),this._trigger("thumbStart",{originalEvent:i,scrollData:r});n(document).one("mouseup touchend",{d:r,source:"thumb"},t.proxy(this._mouseUp,this));n(document).mouseout({d:r,source:"thumb"},t.proxy(this._mouseUp,this))},_mouseDown:function(i){var r=i.data.d,f,u;r.fromScroller=!0,this[r.handler].css("transition","none"),u=parseInt(this[r.handler].css(r.lPosition))||0,this._on(n(document),"mousemove touchmove",function(n){n.preventDefault();var t=1,i=n.type=="mousemove"?n[r.clientXy]:n.originalEvent.changedTouches[0][r.clientXy];f&&i!==f&&(u+=i-f,(r.rtl?u>0:u<0)&&(t=u=0),u*(r.rtl?-1:1)+r.handle>=r.handleSpace&&(t=u=(r.handleSpace-r.handle)*(r.rtl?-1:1)),this["scroll"+r.xy](Math.ceil(u*r.onePx),!0,"thumb"),this[r.handler].css(r.position.toLowerCase(),u+"px"),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:n,scrollData:r})),t===1&&(f=i)}),this._trigger("thumbStart",{originalEvent:i,scrollData:r});n(document).one("mouseup touchend",{d:r,source:"thumb"},t.proxy(this._mouseUp,this));n(document).mouseout({d:r,source:"thumb"},t.proxy(this._mouseUp,this))},_spaceMouseDown:function(i){var r,u,f;if(i.data&&(r=i.data.d,i.which===1&&i.target!==this[r.handler][0])){u=(i.data.step||3)*r.oneStep,f=i.data.top||this[r.handler].offset()[r.lPosition],i[r.clientXy]=i[r.clientXy]||0,i[r.clientXy]<f&&(u*=-1),this._changeTop(r,u,u===3?"track":"button"),i.data.step!==1&&this[r.scroll].mousemove(function(){r.up=!0}),r.up=!1,r.vInterval=setInterval(t.proxy(function(){if((u<0?f+u/r.onePx<i[r.clientXy]:f+r.handle+u/r.onePx>i[r.clientXy])&&(r.up=!0),r.up){clearInterval(r.vInterval);return}this._changeTop(r,u,u===3?"track":"button"),f=i.data.top||this[r.handler].offset()[r.lPosition]},this),150);n(document).one("mouseup",{d:r},t.proxy(this._mouseUp,this));n(document).mouseout({d:r},t.proxy(this._mouseUp,this))}},_scroll:function(n){for(var r=[this._v,this._h],t,i=0;i<2;i++)if(t=r[i],t){if(t.sTop=n.target[t.scrollVal],this.model[t.scrollVal]=t.sTop,t.fromScroller)return;this[t.handler].css(t.lPosition,t.sTop/t.onePx+"px")}},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscroll,.e-hscroll").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window),function(n,t,i){t.widget("ejSlider","ej.Slider",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-slider",defaults:{orientation:"horizontal",animate:!0,animationSpeed:500,showTooltip:!0,cssClass:"",roundedCorner:!1,readOnly:!1,rtl:!1,startValue:0,endValue:100,sliderType:"default",value:null,values:null,step:1,height:null,width:null,enabled:!0,showScale:!1,largeStep:10,smallStep:1,showSmallTicks:!0,persist:!1,start:null,stop:null,slide:null,change:null},dataTypes:{orientation:"enum",animate:"boolean",animationSpeed:"number",cssClass:"string",roundedCorner:"boolean",readOnly:"boolean",rtl:"boolean",startValue:"number",endValue:"number",sliderType:"enum",step:"number",enabled:"boolean",showScale:"boolean",largeStep:"number",smallStep:"number",showSmallTicks:"boolean",persist:"boolean"},enable:function(){this.model.enabled||(this.model.enabled=!0,this.wrapper?this.wrapper.removeClass("e-disable"):this.element.removeClass("e-disable"),this._wireEvents())},disable:function(){this.model.enabled&&(this.model.enabled=!1,this.wrapper?this.wrapper.addClass("e-disable"):this.element.addClass("e-disable"),this._unWireEvents())},_validateValue:function(n){n==null?n=this.model.startValue:typeof n=="string"&&(n=parseFloat(n)),this._isNumber(n)?this.model.value=n:this._isNumber(this.model.value)||(this.model.value=this.model.startValue),this.model.sliderType!="range"&&this._setValue()},_validateRangeValue:function(n){if(n==null)n=[this.model.startValue,this.model.endValue];else if(typeof n=="string"){var t=n.split(",");t.length>1&&(n=[parseFloat(t[0]),parseFloat(t[1])])}typeof n=="object"&&this._isNumber(n[0])&&this._isNumber(n[1])?this.model.values=[n[0],n[1]]:typeof this.model.values=="object"&&this._isNumber(this.model.values[0])&&this._isNumber(this.model.values[1])||(this.model.values=[this.model.startValue,this.model.endValue]),this.model.sliderType=="range"&&this._setRangeValue()},_validateStartEnd:function(){isNaN(this.model.startValue)&&(this.model.startValue=0),isNaN(this.model.endValue)&&(this.model.endValue=100)},_isNumber:function(n){return typeof n=="number"&&!isNaN(n)},_outerCorner:function(n){n?this._roundedCorner():this._sharpedCorner()},_changeSkin:function(n){this.element.removeClass(this.model.cssClass).addClass(n),this.model.showScale&&this.ul.removeClass(this.model.cssClass).addClass(n)},getValue:function(){return this._getHandleValue()},_init:function(){this._initialize(),this._render()},_setModel:function(n){var r,u;if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;t.isNullOrUndefined(n.startValue)&&t.isNullOrUndefined(n.endValue)||(this._isNumber(n.startValue)?this.model.startValue=n.startValue:n.startValue=this.model.startValue,this._isNumber(n.endValue)?this.model.endValue=n.endValue:n.endValue=this.model.endValue,this.model.sliderType=="range"&&n.values==i?this._setRangeValue():this.model.sliderType!="range"&&n.value==i&&this._setValue());for(r in n)switch(r){case"value":this._validateValue(n[r]),n[r]=this.model.value;break;case"values":this._validateRangeValue(n[r]),n[r]=this.model.values;break;case"height":this.model.height=n[r],this._setDimension();break;case"width":this.model.width=n[r],this._setDimension();break;case"enabled":this._disabled(!n[r]);break;case"roundedCorner":this._outerCorner(n[r]);break;case"rtl":this.model.rtl=n[r],this._checkRTL();break;case"cssClass":this._changeSkin(n[r]);break;case"showScale":this._renderScale(n[r]);break;case"orientation":u=this.model.height,this.model.height=this.model.width,this.model.width=u;case"sliderType":this._sliderOptions(r,n[r]);break;case"smallStep":case"largeStep":case"showSmallTicks":this._scaleOptions(r,n[r])}},_destroy:function(){this.model.showScale&&this._destroyScale(),this.element.empty(),this.element.removeClass("e-widget "+this.model.cssClass+" e-slider-"+this.model.orientation)},_initialize:function(){this.target=this.element[0],this.horDir="left",this.verDir="bottom",this._isFocused=!1},_render:function(){this.element.addClass("e-widget "+this.model.cssClass),this.model.sliderType!="default"&&(this.header=t.buildTag("div.e-range"),this.element.append(this.header),this.model.sliderType=="range"&&(this.secondHandle=this._createHandle())),this.firstHandle=this._createHandle(),this._setOrientation(),this._setDimension(),this._insertHiddenField(),this._checkProperties(),this._setSliderValue()},_renderScale:function(n){var f,h,r,b,a,v,c;if(n){var y=12,l=20,u="height",e="width",o="top",i="h";this.model.orientation=="vertical"&&(u="width",o="right",e="height",i="v"),this.model.showSmallTicks?this.model.smallStep<=0&&(this.model.smallStep=this.model.step):this.model.smallStep=this.model.largeStep>0?this.model.largeStep:this.model.endValue-this.model.startValue,this.wrapper=t.buildTag("div.e-slider-wrap e-widget #"+this.target.id+"_wrapper"),this.wrapper.insertAfter(this.element),f=u=="height"?this.element.height():this.element.width(),this.wrapper.css(u,f+l);var k=this.model.endValue-this.model.startValue,p=Math.abs(k)/this.model.smallStep,w=u=="height"?this.element.outerWidth():this.element.outerHeight(),s=w/p;for(this.ul=t.buildTag("ul.e-scale e-"+i+"-scale "+this.model.cssClass),r=this.model.startValue,b=0,i=="v"&&(r=this.model.endValue),a=0;a<=p;a++)h=t.buildTag("li.e-tick","",{},{title:r}),h.css(e,s),r%this.model.largeStep==0&&(v=t.buildTag("span.e-tick-value",""+r),i=="v"&&v.css("right",f+l+4),h.addClass("e-large").append(v)),this.ul.append(h),i=="h"?r+=this.model.smallStep:r-=this.model.smallStep,b+=this.model.smallStep;this.ul.children().first().addClass("e-first-tick").css(e,s/2),this.ul.children().last().addClass("e-last-tick").css(e,s/2),this.wrapper.append(this.ul),this.wrapper.append(this.element),this.element.css(o,-(f+11)),i=="v"&&this.element.css("top",-w).css(o,-9),this.model.rtl&&this.ul.addClass("e-rtl"),this._tickValuePosition(s),c=-(l-y)/2,this.model.largeStep==null&&i!="v"&&(c=-c),this.ul.find(".e-tick:not(.e-large)").css(u,f+y).css(o,c)}else this._destroyScale()},_destroyScale:function(){this.element.insertAfter(this.wrapper).css({top:0,right:0}),this.wrapper.remove(),this.wrapper=null},_tickValuePosition:function(n){var t=this.ul.find(".e-tick.e-first-tick .e-tick-value"),i=this.ul.find(".e-tick:not(.e-first-tick) .e-tick-value");this.model.orientation=="horizontal"?(t.css("left",-t.width()/2),i.css("left",(n-i.width())/2)):(t.css("top",-t.height()/2),i.css("top",(n-i.height())/2))},_createHandle:function(){var n=t.buildTag("a.e-handle e-select","",{},{tabindex:0});return this.element.append(n),n},_setDimension:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._setHandleSize(),this._handleAlignment(this.model.rtl)},_insertHiddenField:function(){this._hidden=t.buildTag("input","",{},{type:"hidden",name:this.element[0].id}).val(this._getHandleValue()),this.element.append(this._hidden)},_checkProperties:function(){this.model.showScale&&this._renderScale(!0),this.model.rtl&&this._checkRTL(),this.model.roundedCorner&&this._roundedCorner(),this.model.enabled?this._wireEvents():this.wrapper?this.wrapper.addClass("e-disable"):this.element.addClass("e-disable")},_roundedCorner:function(){this.element.addClass("e-corner-all"),this.element.children(".e-handle").addClass("e-corner-all")},_sharpedCorner:function(){this.element.removeClass("e-corner-all"),this.element.children(".e-handle").removeClass("e-corner-all")},_handleAlignment:function(n){var t=-(this.firstHandle.outerWidth()/2)+"px",i;i=this.model.orientation!="vertical"?n?"0 "+t+" 0 0":"0 0 0 "+t:n?t+" 0 0 0":"0 0 "+t+" 0",this.element.children(".e-handle").css("margin",i)},_checkRTL:function(){var i=this.model.rtl,n=this.model.orientation!="vertical"?this.horDir:this.verDir,t;i?(this.element.addClass("e-rtl"),this.model.showScale&&this.ul.addClass("e-rtl"),this.horDir="right",this.verDir="top"):(this.element.removeClass("e-rtl"),this.model.showScale&&this.ul.removeClass("e-rtl"),this.horDir="left",this.verDir="bottom"),t=this.model.orientation!="vertical"?this.horDir:this.verDir,this.firstHandle.css(t,this.firstHandle.css(n)).css(n,"auto"),this.model.sliderType!="default"&&(this.header.css(t,this.header.css(n)).css(n,"auto"),this.model.sliderType=="range"&&this.secondHandle.css(t,this.secondHandle.css(n)).css(n,"auto")),this._handleAlignment(i)},_setOrientation:function(){this.model.orientation!="vertical"?this.element.addClass("e-horizontal"):(this.element.addClass("e-vertical"),this.firstHandle.css(this.verDir,"0"))},_setHandleSize:function(){var n;n=this.model.orientation!="vertical"?this.element.height()+4:this.element.width()+4,this.element.find(".e-handle").height(n).width(n)},_disabled:function(n){n?this.disable():this.enable()},_sliderOptions:function(n,t){this._unWireEvents(),this._destroy(),this.model[n]=t,this._init()},_scaleOptions:function(n,t){this.model.showScale&&(this._destroyScale(),this.model[n]=t,this._renderScale(!0))},_showTooltip:function(){this.model.showTooltip&&(n("body .e-tooltip").remove(),this.tooltip=t.buildTag("div.e-tooltip "+this.model.cssClass+" e-corner-all"),n("body").append(this.tooltip),this._setTooltipPosition())},_hideTooltip:function(){this.model.showTooltip&&this.tooltip.fadeOut(800)},_showhideTooltip:function(n){this.model.showTooltip&&n&&(this._showTooltip(),this._hideTooltip())},_setTooltipPosition:function(){if(this.model.showTooltip){this._updateTooltipValue();var r,u,t,i,n,f=5;n=this._getHandle(),this.model.orientation=="vertical"?(i=(this.tooltip.outerHeight()-n.outerHeight())/2,t=n.outerWidth()+f,r=n.offset().top-i,u=n.offset().left+t):(t=(this.tooltip.outerWidth()-n.outerWidth())/2,i=this.tooltip.outerHeight()+f,r=n.offset().top-i,u=n.offset().left-t),this.tooltip.css({top:r,left:u})}},_updateTooltipValue:function(){var t=0,i=1,n;this.model.rtl&&(t=1,i=0),n=this._getHandleValue(),this.tooltip[0].innerHTML=this.model.sliderType!="range"?n:n[t]+" - "+n[i]},_increaseHeaderWidth:function(n){if(this.model.sliderType!="default"){var i="width",r=this.horDir,t={};this.model.orientation=="vertical"&&(i="height",r=this.verDir),this.model.sliderType=="range"?(t[i]=this.handlePos-this.handlePos2+"%",t[r]=this.handlePos2+"%"):(t[i]=this.handlePos+"%",t[r]=0),n?this.header.animate(t,this.model.animationSpeed):this.header.css(t)}},_setSliderValue:function(){this._validateStartEnd(),this.model.sliderType=="range"?this._validateRangeValue(this.model.values):this._validateValue(this.model.value)},_hoverOnHandle:function(t){n(t.target).addClass("e-hover")},_leaveFromHandle:function(t){n(t.target).removeClass("e-hover")},_firstHandleClick:function(i){if(i.preventDefault(),this.firstHandle.focus(),this._raiseEvent("start"))return!1;this.mouseDownPos=this.handlePos,this.model.readOnly||n(document).bind(t.eventType.mouseMove,n.proxy(this._firstHandleMove,this)),n(document).bind(t.eventType.mouseUp,n.proxy(this._firstHandleUp,this)),n(document).bind("mouseleave",n.proxy(this._firstHandleUp,this)),this._showTooltip()},_firstHandleMove:function(n){n.preventDefault(),n=n.type=="touchmove"?n.originalEvent.changedTouches[0]:n;var t={x:n.pageX,y:n.pageY};this.handlePos=this._xyToPosition(t),this.model.sliderType=="range"&&this.handlePos<this.handlePos2&&(this.handlePos=this.handlePos2),this.handlePos!=this.preHandlePos&&(this.preHandlePos=this.handlePos,this.handleVal=this._positionToValue(this.handlePos),this._increaseHeaderWidth(!1),this._setHandlePosition(!1,!1,!1),this._setTooltipPosition(),this._raiseEvent("slide"))},_firstHandleUp:function(i){i.preventDefault(),n(document).unbind(t.eventType.mouseMove,n.proxy(this._firstHandleMove,this)),n(document).unbind(t.eventType.mouseUp,n.proxy(this._firstHandleUp,this)),n(document).unbind("mouseleave",n.proxy(this._firstHandleUp,this)),this._hideTooltip(),this.mouseDownPos!=this.handlePos&&this._raiseChangeEvent(),this._raiseEvent("stop")},_secondHandleClick:function(i){if(i.preventDefault(),this.secondHandle.focus(),this._raiseEvent("start"))return!1;this.mouseDownPos2=this.handlePos2,this.model.readOnly||n(document).bind(t.eventType.mouseMove,n.proxy(this._secondHandleMove,this)),n(document).bind(t.eventType.mouseUp,n.proxy(this._secondHandleUp,this)),n(document).bind("mouseleave",n.proxy(this._secondHandleUp,this)),this._showTooltip()},_secondHandleMove:function(n){n.preventDefault(),n=n.type=="touchmove"?n.originalEvent.changedTouches[0]:n;var t={x:n.pageX,y:n.pageY};this.handlePos2=this._xyToPosition(t),this.handlePos2>this.handlePos&&(this.handlePos2=this.handlePos),this.handlePos2!=this.preHandlePos2&&(this.preHandlePos2=this.handlePos2,this.handleVal2=this._positionToValue(this.handlePos2),this._increaseHeaderWidth(!1),this._setHandlePosition(!1,!1,!1),this._setTooltipPosition(),this._raiseEvent("slide"))},_secondHandleUp:function(i){i.preventDefault(),n(document).unbind(t.eventType.mouseMove,n.proxy(this._secondHandleMove,this)),n(document).unbind(t.eventType.mouseUp,n.proxy(this._secondHandleUp,this)),n(document).unbind("mouseleave",n.proxy(this._secondHandleUp,this)),this._hideTooltip(),this.mouseDownPos2!=this.handlePos2&&this._raiseChangeEvent(),this._raiseEvent("stop")},_focusInHandle:function(t){this._isFocused||(this._isFocused=!0,n(t.target).addClass("e-focus"),this.model.readOnly||n(document).bind("keydown",n.proxy(this._moveHandle,this)),this.activeHandle=n(t.target).is(this.firstHandle)?1:2,this._setZindex())},_focusOutHandle:function(t){this._isFocused=!1,n(t.target).removeClass("e-focus"),n(document).unbind("keydown",n.proxy(this._moveHandle,this))},_moveHandle:function(n){var i,t,r,u,f;r=this._getHandleIndex(this.activeHandle)-1;switch(n.keyCode){case 37:case 40:n.preventDefault(),i="sub";break;case 38:case 39:n.preventDefault(),i="add";break;case 36:if(n.preventDefault(),this._raiseEvent("start"))return!1;this.model.sliderType!="range"&&this.model.value!=this.model.startValue?this._changeHandleValue(this.model.startValue,this.model.animate):this.model.sliderType=="range"&&(t=this.activeHandle==2?this.model.startValue:this.handleVal2,this.model.values[r]!=t&&this._changeHandleValue(t,this.model.animate));break;case 35:if(n.preventDefault(),this._raiseEvent("start"))return!1;this.model.sliderType!="range"&&this.model.value!=this.model.endValue?this._changeHandleValue(this.model.endValue,this.model.animate):this.model.sliderType=="range"&&(t=this.activeHandle==1?this.model.endValue:this.handleVal,this.model.values[r]!=t&&this._changeHandleValue(t,this.model.animate));break;case 27:n.preventDefault(),this._getHandle().focusout()}if(i=="add"||i=="sub"){if(this._raiseEvent("start"))return!1;u=this.activeHandle==1?this.handleVal:this.handleVal2,f=i=="add"?this._add(u,this.model.step,!0):this._add(u,this.model.step,!1),this._changeHandleValue(f,!1)}},_changeHandleValue:function(n,t){var i=null;this.activeHandle==1?(this.handleVal=this._checkHandleValue(n),this.handlePos=this._checkHandlePosition(this.handleVal),this.model.sliderType=="range"&&this.handlePos<this.handlePos2&&(this.handlePos=this.handlePos2,this.handleVal=this.handleVal2),this.handlePos!=this.preHandlePos&&(i=this.preHandlePos=this.handlePos)):(this.handleVal2=this._checkHandleValue(n),this.handlePos2=this._checkHandlePosition(this.handleVal2),this.model.sliderType=="range"&&this.handlePos<this.handlePos2&&(this.handlePos2=this.handlePos,this.handleVal2=this.handleVal),this.handlePos2!=this.preHandlePos2&&(i=this.preHandlePos2=this.handlePos2)),i!=null&&(this._increaseHeaderWidth(t),this._setHandlePosition(t,!0,!0))},_sliderBarClick:function(n){if(this.model.readOnly)return!1;if(n.target==this.target||this.model.sliderType!="default"&&n.target==this.header[0]){if(n.preventDefault(),this._raiseEvent("start"))return!1;var r={x:n.pageX,y:n.pageY},t=this._xyToPosition(r),i=this._positionToValue(t);this.model.sliderType=="range"&&this.handlePos-t>t-this.handlePos2?(this.handlePos2=this.preHandlePos2=t,this.handleVal2=i,this.activeHandle=2):(this.handlePos=this.preHandlePos=t,this.handleVal=i,this.activeHandle=1),this._getHandle().focus(),this.model.sliderType!="default"&&this._increaseHeaderWidth(this.model.animate),this._setHandlePosition(this.model.animate,!0,!0)}},_setHandlePosition:function(n,t,i){var u=this._getHandle(),f=this,r={},e,o;e=this.activeHandle==1?this.handlePos:this.handlePos2,o=this.model.orientation=="vertical"?this.verDir:this.horDir,r[o]=e+"%",n?u.animate(r,this.model.animationSpeed,function(){f._showhideTooltip(t),i&&f._raiseChangeEvent()}):(u.css(r),this._showhideTooltip(t),i&&this._raiseChangeEvent())},_xyToPosition:function(n){if(this.model.startValue==this.model.endValue)return 100;if(this.model.orientation!="vertical")var r=n.x-this.element.offset().left,i=this.element.width()/100,t=r/i;else var u=n.y-this.element.offset().top,i=this.element.height()/100,t=100-u/i;return(t=this._stepValueCalculation(t),t<0?t=0:t>100&&(t=100),this.model.rtl)?100-t:t},_updateValue:function(){this.handleVal=this._checkHandleValue(this.model.value),this.handlePos=this._checkHandlePosition(this.handleVal),this.preHandlePos=this.handlePos,this.activeHandle=1},_setValue:function(){this._updateValue(),this._increaseHeaderWidth(this.model.animate),this._setHandlePosition(this.model.animate,!1,!0)},_updateRangeValue:function(){var n=this.model.values;this.handleVal=this._checkHandleValue(n[1]),this.handleVal2=this._checkHandleValue(n[0]),this.handlePos=this._checkHandlePosition(this.handleVal),this.handlePos2=this._checkHandlePosition(this.handleVal2),this.handlePos<this.handlePos2&&(this.handlePos=this.handlePos2,this.handleVal=this.handleVal2),this.preHandlePos=this.handlePos,this.preHandlePos2=this.handlePos2},_setRangeValue:function(){this._updateRangeValue(),this._increaseHeaderWidth(this.model.animate),this.activeHandle=1,this._setHandlePosition(this.model.animate,!1,!1),this.activeHandle=2,this._setHandlePosition(this.model.animate,!1,!0)},_checkHandlePosition:function(n){if(this.model.startValue==this.model.endValue)return 100;var t=this._tempStartEnd();return n>=t.start&&n<=t.end?100*(n-this.model.startValue)/(this.model.endValue-this.model.startValue):n<t.start?0:100},_checkHandleValue:function(n){if(this.model.startValue==this.model.endValue)return this.model.startValue;var t=this._tempStartEnd();return n<t.start?n=t.start:n>t.end&&(n=t.end),n},_tempStartEnd:function(){return this.model.startValue>this.model.endValue?{start:this.model.endValue,end:this.model.startValue}:{start:this.model.startValue,end:this.model.endValue}},_positionToValue:function(n){var t=this.model.endValue-this.model.startValue,i=this._round(t*n/100);return this._add(i,this.model.startValue,!0)},_getHandle:function(){return this.activeHandle==1?this.firstHandle:this.secondHandle},_getHandleIndex:function(n){return this.model.sliderType=="range"&&n==1?2:1},_getHandleValue:function(){return this.model.sliderType=="range"?[this.handleVal2,this.handleVal]:this.handleVal},_getModelValue:function(){return this.model.sliderType=="range"?this.model.values:this.model.value},_updateModelValue:function(n){this.model.sliderType=="range"?this.model.values=n:this.model.value=n},_add:function(n,t,i,r){var u=Math.pow(10,r||3);return i?(Math.round(n*u)+Math.round(t*u))/u:(Math.round(n*u)-Math.round(t*u))/u},_round:function(n){var t=this.model.step.toString().split(".");return t[1]?parseFloat(n.toFixed(t[1].length)):Math.round(n)},_raiseChangeEvent:function(){var n=this._getHandleValue(),t=this._getModelValue();this._updateModelValue(n),this._hidden.val(n),this._raiseEvent("change")},_raiseEvent:function(n){return this.model[n]?this._trigger(n,{id:this.target.id,value:this._getHandleValue(),handleNo:this._getHandleIndex(this.activeHandle)}):!1},_setZindex:function(){this.model.sliderType=="range"&&(this.activeHandle==1?(this.firstHandle.css("z-index",2),this.secondHandle.css("z-index",1)):(this.firstHandle.css("z-index",1),this.secondHandle.css("z-index",2)))},_stepValueCalculation:function(n){this.model.step==0&&(this.model.step=1);var i=this.model.step/((this.model.endValue-this.model.startValue)/100),t=n%Math.abs(i);return t!=0&&(i/2>t?n-=t:n+=Math.abs(i)-t),n},_wireEvents:function(){this._on(this.element,"mousedown",this._sliderBarClick),this._on(this.firstHandle,t.eventType.mouseDown,this._firstHandleClick),this._on(this.firstHandle,"mouseenter",this._hoverOnHandle),this._on(this.firstHandle,"mouseleave",this._leaveFromHandle),this._on(this.firstHandle,"focus",this._focusInHandle),this._on(this.firstHandle,"focusout",this._focusOutHandle),this.model.sliderType=="range"&&(this._on(this.secondHandle,t.eventType.mouseDown,this._secondHandleClick),this._on(this.secondHandle,"mouseenter",this._hoverOnHandle),this._on(this.secondHandle,"mouseleave",this._leaveFromHandle),this._on(this.secondHandle,"focus",this._focusInHandle),this._on(this.secondHandle,"focusout",this._focusOutHandle))},_unWireEvents:function(){this._off(this.element,"mousedown"),this._off(this.firstHandle,t.eventType.mouseDown),this._off(this.firstHandle,"mouseenter"),this._off(this.firstHandle,"mouseleave"),this._off(this.firstHandle,"focus"),this._off(this.firstHandle,"focusout"),this.model.sliderType=="range"&&(this._off(this.secondHandle,t.eventType.mouseDown),this._off(this.secondHandle,"mouseenter"),this._off(this.secondHandle,"mouseleave"),this._off(this.secondHandle,"focus"),this._off(this.secondHandle,"focusout"))}}),t.sliderType={Default:"default",Range:"range",MinRange:"minrange"}}(jQuery,Syncfusion),function(n,t){t.widget("ejSplitButton","ej.SplitButton",{element:null,model:null,validTags:["button"],_rootCSS:"e-splitbutton",defaults:{size:"normal",width:"",height:"",enabled:!0,text:null,contentType:"textonly",imagePosition:"imageleft",targetId:null,roundedCorner:!1,prefixIcon:null,suffixIcon:null,cssClass:"",rtl:!1,create:null,click:null,itemMouseOver:null,itemMouseOut:null,itemSelected:null,destroy:null},dataTypes:{size:"string",height:"string",width:"string",enabled:"boolean",roundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",targetId:"string",prefixIcon:"string",suffixIcon:"string",cssClass:"string",rtl:"boolean"},disable:function(){this.element.addClass("e-disable"),this.dropbutton.addClass("e-disable"),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable"),this.dropbutton.removeClass("e-disable"),this.model.enabled=!0},_init:function(){this._initialize(),this._controlStatus(this.model.enabled),this._wireEvents()},_destroy:function(){this.element.removeClass(this.model.cssClass+" e-select e-corner-left e-btn e-disable e-split-btn"),this.dropbutton.remove(),n("#"+this.model.targetId).ejMenu("destroy"),n("#"+this.model.targetId).insertAfter(this.element),n("#"+this.model.targetId).show()},_setModel:function(i){if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;var r;for(r in i)switch(r){case"size":this._setSize(i[r]);break;case"width":this._splitbtnWidth(i[r]);break;case"height":this._splitbtnHeight(i[r]);break;case"contentType":this._setContentType(i[r]);break;case"imagePosition":this._setImagePosition(i[r]);break;case"text":this._setText(i[r]);break;case"prefixIcon":this._setMajorIcon(i[r]);break;case"suffixIcon":this._setMinorIcon(i[r]);break;case"enabled":this._controlStatus(i[r]);break;case"targetId":this._setTargetId(i[r]);break;case"roundedCorner":this._roundedCorner(i[r]);break;case"cssClass":this._setSkin(i[r]);break;case"rtl":this._setRTL(i[r]),n("#"+this.model.targetId).ejMenu({rtl:i[r]});break;case"itemMouseOver":n("#"+this.model.targetId).ejMenu({mouseOver:i[r]});break;case"itemMouseOut":n("#"+this.model.targetId).ejMenu({mouseOut:i[r]});break;case"itemSelected":n("#"+this.model.targetId).ejMenu({click:i[r]})}},_setText:function(n){this.model.contentType==t.contents.textOnly?this.element.html(n):this.textspan.html(n)},_setMajorIcon:function(n){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(n)},_setMinorIcon:function(n){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(n)},_setTargetId:function(n){this.model.targetId=n,this._renderContxtMenu()},_setContentType:function(n){n!=this.model.contentType&&(this.element.empty(),this.model.contentType=n,this._renderButtonContent())},_setImagePosition:function(n){this.model.contentType==t.contents.textAndImage&&n!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=n,this._renderButtonContent())},_setRTL:function(n){n?(this.splitwrap.addClass("e-rtl e-btnrtl"),this.dropbutton.css("border-right","medium none"),this.dropbutton.css("border-left-style","")):(this.splitwrap.removeClass("e-rtl e-btnrtl"),this.dropbutton.css("border-left","medium none"),this.dropbutton.css("border-right-style","")),this.model.rtl=n,this._roundedCorner(this.model.roundedCorner)},_roundedCorner:function(n){n?this.model.rtl?(this.element.addClass("e-corner-right"),this.dropbutton.addClass("e-corner-left"),this.element.removeClass("e-corner-left"),this.dropbutton.removeClass("e-corner-right")):(this.element.addClass("e-corner-left"),this.dropbutton.addClass("e-corner-right"),this.element.removeClass("e-corner-right"),this.dropbutton.removeClass("e-corner-left")):this.model.rtl?(this.element.removeClass("e-corner-right"),this.dropbutton.removeClass("e-corner-left")):(this.element.removeClass("e-corner-left"),this.dropbutton.removeClass("e-corner-right"))},_controlStatus:function(n){n?this.enable():this.disable()},_setSkin:function(t){this.element.removeClass(this.model.cssClass),this.dropbutton.removeClass(this.model.cssClass),this.element.addClass(t),this.dropbutton.addClass(t),n("#"+this.model.targetId).ejMenu("option","skin",t)},_initialize:function(){this.element.is("button")?this._render():this.element.removeClass("e-splitbutton"),this._timeout=null},_render:function(){this.element.addClass(this.model.cssClass+"e-btn e-select e-split-btn"),(this.model.text==null||this.model.text=="")&&(this.model.text=this.element.text()),this.element.empty(),this.splitwrap=t.buildTag("span.e-split e-widget"),this.splitwrap.insertBefore(this.element),this.innerWrap=t.buildTag("span.e-in-wrap e-box e-padding"),this.splitwrap.append(this.innerWrap),this.wrapper=this.splitwrap,this.dropbutton=t.buildTag("button.e-split-btn e-btn e-select "+this.model.cssClass+" e-drp-btn#"+this.element[0].id+"drpbtn"),this.dropdownimg=t.buildTag("span.e-icon e-down-arrow"),this.btnimgwrap=t.buildTag("div.e-split-btn-div"),this.btnimgwrap.append(this.dropdownimg),this.dropbutton.append(this.btnimgwrap),this.dropbutton.insertAfter(this.element),this.model.contentType==t.contents.textOnly?this.dropbutton.addClass("e-btn-txt"):this.dropbutton.addClass("e-rht-btn"),this._setSize(this.model.size),this.element.addClass("e-left-btn"),this._renderButtonContent(),this.innerWrap.append(this.element,this.dropbutton),this._renderContxtMenu(),this._roundedCorner(this.model.roundedCorner),this._setRTL(this.model.rtl)},_renderButtonContent:function(){this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.majorimgtag=t.buildTag("span.e-icon "+this.model.prefixIcon),this.minorimgtag=t.buildTag("span.e-icon "+this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div"),this.model.contentType==t.contents.textAndImage?this.model.imagePosition==t.imagePositions.imageRight?(this.imgtxtwrap.append(this.textspan,this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.imgtxtwrap.append(this.majorimgtag,this.textspan),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.text(this.model.text))},_setSize:function(n){var t=this.model.height,i=this.model.width;switch(n){case"mini":t==""&&(t="28px"),i==""&&(i="63px"),this._splitbtnHeight(t),this._splitbtnWidth(i),this.element.css("font-size","12px");break;case"small":t==""&&(t="32px"),i==""&&(i="89px"),this._splitbtnHeight(t),this._splitbtnWidth(i),this.element.css("font-size","13px");break;case"medium":t==""&&(t="36px"),i==""&&(i="113px"),this._splitbtnHeight(t),this._splitbtnWidth(i),this.element.css("font-size","14px");break;case"large":t==""&&(t="40px"),i==""&&(i="130px"),this.element.css("font-size","15px"),this._splitbtnHeight(t),this._splitbtnWidth(i);break;default:this._splitbtnHeight(t),this._splitbtnWidth(i)}},_splitbtnHeight:function(n){(n==""||n==null)&&(n="30px"),this.splitwrap.css("height",n)},_splitbtnWidth:function(n){this.splitwrap.css("width",n)},_renderContxtMenu:function(){n("#"+this.model.targetId).ejMenu({menuType:t.menuType.ContextMenu,openOnClick:!1,contextTargetId:"",showArrow:!0,cssClass:this.model.cssClass,rtl:this.model.rtl,mouseOver:n.proxy(this._itemMouseOver,this),mouseOut:n.proxy(this._itemMouseOut,this),click:n.proxy(this._itemClick,this)})},_itemClick:function(n){this._trigger("itemSelected",n)},_itemMouseOver:function(n){this._trigger("itemMouseOver",n)},_itemMouseOut:function(n){this._trigger("itemMouseOut",n)},_wireEvents:function(){this._on(this.element,"click",this._btnMouseClick),this._on(this.element,"mousedown",this._btnMouseDown),this._on(this.dropbutton,"click",this._btnMouseClick),this._on(n(document),"mousedown",this._documentClick),this._on(n(document),"mousedown",this._docrhtclk)},_btnMouseClick:function(t){var e,i,r,u,f,o=1;n(t.currentTarget).hasClass("e-disable")||(t.currentTarget.id!=this.element[0].id+"drpbtn"?(e={status:this.model.enabled},this._trigger("click",e)):(f=this.dropbutton,i=this.dropbutton.offset(),r=i.left-o,u=i.top+this.dropbutton.outerHeight()-o,this.contstatus?this._hidecontext(t):(this.model.rtl?(n("#"+this.model.targetId).ejMenu("ShowContextMenu",r-(n("#"+this.model.targetId).width()-this.dropbutton.width()),u,f,t),this.contstatus=!0):(n("#"+this.model.targetId).ejMenu("ShowContextMenu",r,u,f,t),this.contstatus=!0),this.element.bind("click",n.proxy(this._hidecontext,this)))))},_btnMouseDown:function(t){n(t.currentTarget).hasClass("e-disable")||this._docrhtclk(t)},_hidecontext:function(t){n(t.target).is(this.element)||n(t.target).is(this.textspan)||n(t.target).is(this.imgtxtwrap)||n(t.target).is(this.splitwrap)||n(t.target).parents().is(n("#"+this.model.targetId))||(n("#"+this.model.targetId).ejMenu("HideContextMenu",t),this.contstatus=!1,this.element.unbind("click",n.proxy(this._hidecontext,this)))},_documentClick:function(t){n(t.target).is(this.element)||n(t.target).is(this.textspan)||n(t.target).is(this.imgtxtwrap)||n(t.target).is(this.splitwrap)||n(t.target).parents().is(n("#"+this.model.targetId))||(n("#"+this.model.targetId).ejMenu("HideContextMenu",t),this.contstatus=!1)},_docrhtclk:function(n){var t,i;t=!1,n.button?t=n.button==2:n.which&&(t=n.which==3),i=n.target,t&&n.preventDefault()}}),t.contents={textOnly:"textonly",imageOnly:"imageonly",imageBoth:"imageboth",textAndImage:"textandimage",imageTextImage:"imagetextimage"},t.imagePositions={imageRight:"imageright",imageLeft:"imageleft"},t.buttonSize={mini:"mini",small:"small",medium:"medium",large:"large"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTimePicker","ej.TimePicker",{element:null,model:null,validTags:["input"],_rootCSS:"e-timepicker",defaults:{cssClass:"",timeFormat:"",value:null,localize:"en-US",readOnly:!1,showButton:!0,interval:30,hourInterval:1,minInterval:1,secInterval:1,height:"",width:"",minTime:"12:00:00 AM",maxTime:"11:59:59 PM",roundedCorner:!1,rtl:!1,popupHeight:"191px",popupWidth:"auto",enabled:!0,persist:!1,focusIn:null,focusOut:null,change:null,select:null},dataTypes:{timeFormat:"string",minTime:"string",maxTime:"string",readOnly:"boolean",interval:"number",showButton:"boolean",localize:"string",hourInterval:"number",minInterval:"number",secInterval:"number",enabled:"boolean",persist:"boolean"},enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.model.enabled=!0,this.element.removeClass("e-disable"),this.model.showButton&&(this.timeIcon.removeClass("e-disable"),this.popupList.removeClass("e-disable")))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.addClass("e-disable"),this.model.showButton&&(this.timeIcon.addClass("e-disable"),this.popupList.addClass("e-disable")),this._hideResult())},getTime:function(){return this.element.val()},updateCurrentTime:function(){this.model.enabled&&!this.model.readOnly&&this._setMask()},_timeFormat:function(n){var t=this._validateTimeFormat(n);return t&&(this.model.timeFormat=t,this.model.value=this._localizeTime(this.getTime()),this.element.val(this.model.value)),t},_getTimeFormat:function(){this.model.timeFormat=Globalize.culture(this.model.localize).calendar.patterns.t||"h:mm tt",this.seperator=this._getSeperator()},_changeSkin:function(n){this.wrapper.removeClass(this.model.cssClass).addClass(n),this.popupList&&this.popupList.removeClass(this.model.cssClass).addClass(n)},_localize:function(n){var t=this._createObject(this.element.val());this.model.localize=n,this._getTimeFormat(),this.model.value=this._localizeTime(t),this.element.val(this.model.value),this._getAmPm()},_init:function(){if(!this.element.is("input")||this.element.attr("type")&&this.element.attr("type")!="text")return!1;this._initialize(),this._render(),this._wireEvents()},_setModel:function(r){var f,e,u,o;if(!this.model.enabled&&t.isNullOrUndefined(r.enabled))return!1;f=!1,e=this.model.value,t.isNullOrUndefined(r.minTime)&&t.isNullOrUndefined(r.maxTime)||(!t.isNullOrUndefined(r.minTime)&&n.trim(r.minTime)&&this._isValid(r.minTime)&&(this.model.minTime=r.minTime),!t.isNullOrUndefined(r.maxTime)&&n.trim(r.maxTime)&&this._isValid(r.maxTime)&&(this.model.maxTime=r.maxTime),this._validateMinMax(),t.isNullOrUndefined(r.minTime)||(r.minTime=this.model.minTime),t.isNullOrUndefined(r.maxTime)||(r.maxTime=this.model.maxTime),this.model.showButton&&this._reRenderDropdown(),r.value==i&&this._enableMask(),f=!0);for(u in r)switch(u){case"timeFormat":o=this._timeFormat(r[u]),r[u]=this.model.timeFormat,o&&(this.seperator=this._getSeperator(),this.model.showButton&&this._reRenderDropdown());break;case"localize":this._localize(r[u]),this.model.showButton&&this._reRenderDropdown();break;case"interval":this.model.interval=r[u],this.model.showButton&&this._reRenderDropdown();break;case"showButton":this._showButton(r[u]);break;case"cssClass":this._changeSkin(r[u]);break;case"roundedCorner":this._setRoundedCorner(r[u]);break;case"rtl":this._setRtl(r[u]);break;case"height":this._setHeight(r[u]);break;case"width":this.wrapper.width(r[u]),this._setListWidth();break;case"value":this._isValid(r[u])&&(this.model.value=r[u],this._enableMask()),r[u]=this.model.value,f=!0;break;case"popupHeight":this.model.popupHeight=r[u],this._setListHeight();break;case"popupWidth":this.model.popupWidth=r[u],this._setListWidth();break;case"enabled":r[u]?this.enable():this.disable()}f&&this._raiseChangeEvent(e)},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-input").removeAttr("ondragstart draggable").val(""),this.popupList&&this.popupList.remove()},_initialize:function(){this.target=this.element[0],this.timeIcon=null,this.popupList=null,this.focused=!1,this.start=0,this.end=0,this.min=null,this.max=null,this.incomplete=!1,this.downPosition=0,this._getAmPm(),this.showDropdown=!1,this._activeItem=0,this._manualFocus=!1,this._isIE7=this._checkIE7(),this._getInternalEvents=!1,this.model.timeFormat?this.seperator=this._getSeperator():this._getTimeFormat()},_render:function(){this._renderWrapper(),this._setDimentions(),this._renderTimeIcon(),this._validateTimes(),this._renderDropdown(),this._checkProperties(),this._enableMask()},_renderWrapper:function(){this.element.addClass("e-input"),this.wrapper=t.buildTag("span.e-timewidget e-widget "+this.model.cssClass+"#"+this.target.id+"_timewidget").insertAfter(this.element),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container)},_renderTimeIcon:function(){if(this.model.showButton){this.timeIcon=t.buildTag("span.e-select");var n=t.buildTag("span.e-icon e-time");this.timeIcon.append(n),this.container.append(this.timeIcon).addClass("e-padding"),this._on(this.timeIcon,"mousedown",this._timeIconClick)}},_renderDropdown:function(){if(!this.model.showButton||this.popupList)return!1;this.popupList=t.buildTag("div.e-time-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_popup"),this.popup=this.popupList,this.ul=t.buildTag("ul.e-ul");var i=t.buildTag("div").append(this.ul);n("body").append(this.popupList.append(i)),this._renderLiTags(),this._setListHeight(),this._setListWidth(),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css("display","none"),this._listSize=this.ul.find("li").size()},_renderLiTags:function(){var i,u,f,e,r;if(this.model.interval<1)return!1;for(e=this.model.interval*6e4,i=this.model.minTime?this._createObject(this.model.minTime):this._createObject("12:00:00 AM"),u=this.model.maxTime?this._createObject(this.model.maxTime):this._createObject("11:59:59 PM");this._compareTime(u,i,!0);)f=this._localizeTime(i),this.ul.append(t.buildTag("li",f)),i=this._createObject(i).getTime()+e;r=this.ul.find("li"),this._on(r,"mouseenter",n.proxy(this._OnMouseEnter,this)),this._on(r,"mouseleave",n.proxy(this._OnMouseLeave,this)),this._on(r,"click",n.proxy(this._OnMouseClick,this))},_reRenderDropdown:function(){this.ul.empty(),this._renderLiTags(),this._refreshScroller(),this._changeActiveEle()},_refreshScroller:function(){var n=this.popupList.css("display")=="none"?!0:!1;this.popupList.css("height","auto"),this.popupList.find(".e-content, .e-vscroll").removeAttr("style"),this.popupList.find(".e-vscroll div").removeAttr("style"),n&&this.popupList.css("display","block"),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),n&&this.popupList.css("display","none")},_setListWidth:function(){if(this.popupList){var n=this.model.popupWidth;n&&n!="auto"?this.popupList.css({width:n}):this.popupList.css({width:this.wrapper.width()})}},_setListHeight:function(){this.popupList&&this.popupList.css({"max-height":this.model.popupHeight||"191px"}),this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_updateScrollTop:function(){this.scrollerObj.setModel({scrollTop:this._calcScrollTop()})},_refreshPopup:function(){this.model.popupWidth=="auto"&&this.popupList.css({width:this.wrapper.width()}),this._setListPosition(),this._refreshScroller()},_setListPosition:function(){var n=this.wrapper.offset(),t=n.left,i=this.wrapper.outerHeight(),r=(i-this.wrapper.height())/2,u=this._getZindexPartial();this.model.rtl&&(t-=this.popupList.outerWidth()-this.wrapper.outerWidth()),this.popupList.css({left:t+"px",top:n.top+i-r+3+"px","z-index":u})},_getZindexPartial:function(){var u=this.element.parents(),r,t;return r=n("body").children(),index=r.index(this.popup),r.splice(index,1),n(r).each(function(n,t){u.push(t)}),t=Math.max.apply(t,n.map(u,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),t==i||t==null||t<1e4?t=1e4:t+=1,t},_enableMask:function(){if(this.model.value){var n=!1;this.model.minTime&&this._compareTime(this.model.minTime,this.model.value)?(this.model.value=this.model.minTime,n=!0):this.model.maxTime&&this._compareTime(this.model.value,this.model.maxTime)&&(this.model.value=this.model.maxTime,n=!0),this._setTime(this.model.value),this._getInternalEvents&&n&&this._trigger("outOfRange")}else this._setMask();this._changeActiveEle(),this._preVal=this.element.val()},_setTime:function(n){var t=this._localizeTime(n);this.element.val(t),this.model.value=t},_setMask:function(){this.model.value=new Date,this._enableMask()},_validateTimes:function(){var n=this._validateTimeFormat(this.model.timeFormat);this.model.timeFormat=n?n:"h:mm tt",this._isValid(this.model.minTime)||(this.model.minTime="12:00:00 AM"),this._isValid(this.model.maxTime)||(this.model.maxTime="11:59:59 PM"),this._isValid(this.model.value)||(this.model.value=null),this._validateMinMax()},_validateMinMax:function(){this.model.minTime&&this.model.maxTime&&this._compareTime(this.model.minTime,this.model.maxTime)&&(this.model.minTime=this.model.maxTime)},_checkProperties:function(){this.model.enabled||(this.model.enabled=!0,this.disable()),this._addProperty(),this._checkAttributes()},_addProperty:function(){this._setRtl(this.model.rtl),this._setRoundedCorner(this.model.roundedCorner)},_setRtl:function(n){n?(this.wrapper.addClass("e-rtl"),this.popupList&&this.popupList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popupList&&this.popupList.removeClass("e-rtl"))},_setRoundedCorner:function(n){n?(this.container.addClass("e-corner-all"),this.popupList&&this.popupList.addClass("e-corner-all")):(this.container.removeClass("e-corner-all"),this.popupList&&this.popupList.removeClass("e-corner-all"))},_showButton:function(n){this.model.showButton=n,n?(this.container.addClass("e-padding"),this._renderTimeIcon(),this._renderDropdown(),this._addProperty()):(this.container.removeClass("e-padding"),this.timeIcon.remove(),this.popupList.remove(),this.timeIcon=this.popupList=null)},_checkAttributes:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id}),"ondragstart"in document.createElement("input")&&this.element.attr({ondragstart:"return false"}),"draggable"in document.createElement("input")&&this.element.attr({draggable:"false"})},_getAmPm:function(){this.ttAM=n.trim(this._localizeMeridian("00:00")),this.ttPM=n.trim(this._localizeMeridian("23:00"))},_setDimentions:function(){this._setHeight(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_setHeight:function(n){n&&this.wrapper.height(n),this._isIE7&&this.element.height(this.container.height())},_validateTimeFormat:function(t){var i=t.split(" "),r="";return i.length==1||i.length==2?(n(i).each(function(t,i){r+=n.trim(i)+" "}),n.trim(r)):null},_getSeperator:function(){for(var i=this._getElePlace(),t=this.model.timeFormat.split(" ")[i.time],r=new RegExp("^[a-zA-Z0-9]+$"),n=0;n<t.length;n++)if(!r.test(t.charAt(n)))return t.charAt(n)},_checkInComplete:function(){var i=this._getCaretSelection(),r=this._getStartEnd(i),u="00",t=this._getSelectedValue(r),n=this._getCategory(r);i.end-i.start==this.element.val().length&&this._checkAll(),n&&n!="tt"&&(this._findCategoryPosition(n),t=="__"?((n=="h"||n=="hh")&&(u="12"),this._changeToDefault(u)):n.length!=1&&t.length==1&&(t=this._changeWhole(t),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t))))},_checkAll:function(){for(var r=this._getElePlace(),i=this.model.timeFormat.split(" ")[r.time].split(this.seperator),t,n=0;n<i.length;n++)this._findCategoryPosition(i[n]),t=this._getSelectedValue({start:this.start,end:this.end}),i[n].length!=1&&t.length==1&&(t=this._changeWhole(t),this.element.val(this._replaceAt(this.element.val(),this.start,this.end,t)))},_changeToDefault:function(n){this.incomplete=!0,this.element[0].value=this._replaceAt(this.target.value,this.start,this.end,n),this._setSelection(this.start,this.end),this._raiseChangeEvent()},_setSelection:function(n,t){var i=this.element[0];i.setSelectionRange?i.setSelectionRange(n,t):i.createTextRange&&(i=i.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select())},_getSelectedValue:function(n){return this.target.value.substring(n.start,n.end)},_getMinMax:function(n,t){n=="hh"||n=="h"?(this.min=1,this.max=11,t&&(this.max=12)):n=="HH"||n=="H"?(this.min=0,this.max=23):(n=="mm"||n=="m"||n=="ss"||n=="s")&&(this.min=0,this.max=59)},_focusElement:function(){this._manualFocus=!0,this.element.focus()},_targetFocus:function(t){t.preventDefault(),this.focused=!0,this.element.bind("mousewheel DOMMouseScroll",n.proxy(this._mouseWheel,this)),this.focusVal=this.target.value,this.wrapper.addClass("e-focus"),this._manualFocus||(this._findCategoryPosition(this._getLeast(!1)),this._setSelection(this.start,this.end)),this._manualFocus=!1,this._raiseEvent("focusIn")},_targetBlur:function(){this.focused=!1,this.element.unbind("mousewheel DOMMouseScroll",n.proxy(this._mouseWheel,this)),this.wrapper.removeClass("e-focus"),this._checkInComplete(),this._checkMinMax(this.target.value)||(this.element.val(this.focusVal),this._raiseChangeEvent()),this._raiseEvent("focusOut")},_getCaretSelection:function(){var n=this.element[0],u=0,f=0,e,t,i,r,o;return isNaN(n.selectionStart)?(e=document.selection.createRange().getBookmark(),t=n.createTextRange(),t.moveToBookmark(e),i=n.createTextRange(),i.collapse(!0),i.setEndPoint("EndToStart",t),r=i.text.length,o=t.text.length,{start:r,end:r+o}):(u=n.selectionStart,f=n.selectionEnd,{start:Math.abs(u),end:Math.abs(f)})},_mouseDownOnInput:function(){this.focused||this._focusElement(),this.downPosition=this._getCaretSelection(),this._checkInComplete(),n(document).bind("mouseup",n.proxy(this._mouseUpOnInput,this))},_mouseUpOnInput:function(t){var i,r;t.preventDefault(),n(document).unbind("mouseup",n.proxy(this._mouseUpOnInput,this)),i=this._getCaretSelection(),this.incomplete&&(this.incomplete=!1,i=this.downPosition),r=this._getStartEnd(i),this._setSelection(r.start,r.end)},_getCategoryPosition:function(n){var i=0,r=0,u=this.target.value.split(" "),t=this._getElePlace(),h=this.seperator,e=!1,o=this.model.timeFormat.split(" ")[t.time].split(h),c=u[t.time].split(h),s,f;if(o.length>c.length)return{start:i,end:r,isValid:e};if(n=="tt")(u[t.tt]==this.ttAM||u[t.tt]==this.ttPM)&&(i=t.tt==0?0:u[t.time].length+1,r=i+u[t.tt].length,e=!0);else if(i=t.time==0?0:u[t.tt].length+1,s=o.indexOf(n),s!=-1){for(f=0;f<o.length;f++)if(r=c[f].length+1,f==s)break;else i+=r;r+=i-1,e=!0}return{start:i,end:r,isValid:e}},_getCategory:function(n){var t=this.model.timeFormat.split(" "),r=this.seperator,i=this._getElePlace();return n.isTT?t[i.tt]:t[i.time].split(r)[n.index]},_getStartEnd:function(n){for(var s=this.seperator,h=this.element.val(),i=h.split(" "),r=0,f=0,e=tt=null,u,t=0;t<i.length;t++)if(i[t]!=this.ttAM&&i[t]!=this.ttPM){var o=i[t].split(s),c=r,l=r+o[0].length;for(u=0;u<o.length;u++)if(f=o[u].length+r,n.start<=f){e=u,tt=!1,t=i.length;break}else r+=o[u].length+1}else if(n.start<=r+i[t].length){f=i[t].length+r,e=0,tt=!0,t=i.length;break}else r+=i[t].length+1;return e==null&&(r=c,f=l,e=0,tt=!1),{start:r,end:f,index:e,isTT:tt}},_modifyValue:function(n){var i,t,r,u;this._checkInComplete(),i=this._getCaretSelection(),i.start==i.end?(r=this._getLeast(!0),u=this._getCategoryPosition(r),t=this._getStartEnd(u)):t=this._getStartEnd(i),this.start=t.start,this.end=t.end,this._changeValue(t,n)},_keyUpOnInput:function(n){n.preventDefault(),this._preVal!=this.element.val()&&(this._preVal=this.element.val(),this._raiseChangeEvent())},_getNextCategory:function(t,i){var r=[],e=this.seperator,o=this.model.timeFormat.split(" "),u,f;return(n(o).each(function(n,t){if(t=="tt")r.push(t);else{var i=t.split(e);r=i.concat(r)}}),u=r.indexOf(t),u!=-1)?(f=i?u==0?r.length-1:u-1:u==r.length-1?0:u+1,r[f]):t},_getElePlace:function(){var i=this.model.timeFormat.split(" "),n,t;return i[0]=="tt"?(n=1,t=0):(n=0,t=1),{time:n,tt:t}},_movePosition:function(n,t){var i=this._getStartEnd(n),r=this._getCategory(i),u;r||(r=this._getLeast(t)),u=this._getNextCategory(r,t),i=this._getCategoryPosition(u),i.isValid&&this._setSelection(i.start,i.end)},_keyDownOnInput:function(n){var t,a,r,i,b,o,k,s,f,v,y,d,h,e,g,c,p,u,w,l;if(this.model.readOnly&&!this._readOnlyKeys(n)||(i=n.keyCode,this._getInternalEvents&&i!=38&&i!=40&&i!=36&&i!=35&&i!=9)||this.showDropdown&&i!=38&&i!=40&&i!=27&&!this._readOnlyKeys(n))return!1;this.showDropdown&&(i==37||i==39)&&(n.keyCode=i==37?38:40),t=this._getCaretSelection(),a=this._getStartEnd(t),r=this._getCategory(a);switch(n.keyCode){case 38:n.preventDefault(),this.showDropdown?(this._activeItem>1&&(this._activeItem-=1),this._addListHover(),this._selectTimeItem(this._getActiveItem())):this._modifyValue(!0);break;case 40:n.preventDefault(),n.altKey&&this.model.showButton?this._showhidePopup():this.showDropdown?(this._activeItem<this._listSize&&(this._activeItem+=1),this._addListHover(),this._selectTimeItem(this._getActiveItem())):this._modifyValue(!1);break;case 37:n.preventDefault(),this._checkInComplete(),t.start==t.end?this._setSelection(t.start-1,t.start-1):this._movePosition(t,!0);break;case 39:n.preventDefault(),this._checkInComplete(),t.start==t.end?this._setSelection(t.start+1,t.start+1):this._movePosition(t,!1);break;case 36:n.preventDefault(),this.showDropdown?(this._activeItem=1,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(b=this._firstlastVal(!0),o=this._getCategoryPosition(b),o.isValid&&this._setSelection(o.start,o.end));break;case 35:n.preventDefault(),this.showDropdown?(this._activeItem=this._listSize,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(k=this._firstlastVal(!1),s=this._getCategoryPosition(k),s.isValid&&this._setSelection(s.start,s.end));break;case 9:if(this._getInternalEvents)break;this._hideResult(),f=null,n.shiftKey&&t.start>0?f=!0:!n.shiftKey&&t.end<this.element.val().length&&(f=!1),f!=null&&(n.preventDefault(),this._checkInComplete(),this._movePosition(t,f));break;case 27:case 13:this._hideResult();break;case 8:case 46:n.preventDefault(),r&&r!="tt"&&(this._findCategoryPosition(r),v=i==8&&t.start!=this.start,y=i==46&&t.end!=this.end,d=this.end-this.start,(t.start!=t.end||d==1)&&(v||y||t.start!=t.end)?(h=this.start,e=this.end,this.element[0].value=this._replaceAt(this.target.value,h,e,"__"),g=e-h!=2?e+1:e,this._setSelection(h,g)):v?(this.element[0].value=this._replaceAt(this.target.value,t.start-1,t.start,""),this._setSelection(t.start-1,t.start-1)):y&&(this.element[0].value=this._replaceAt(this.target.value,t.end,t.end+1,""),this._setSelection(t.end,t.end)))}c=this._getSelectedValue(a),p=n.keyCode?n.keyCode:n.charCode,n.keyCode>47&&n.keyCode<58?u=String.fromCharCode(p):n.keyCode>95&&n.keyCode<106&&(u=String.fromCharCode(p-48)),r=="tt"&&(!n.shiftKey&&!n.ctrlKey&&!n.altKey&&n.keyCode>64&&n.keyCode<91||n.keyCode>47&&n.keyCode<58||n.keyCode>95&&n.keyCode<106)&&(n.preventDefault(),w=this._getCategoryPosition(r),this.start=w.start,this.end=w.end,this._changeAmPm(c),this._raiseChangeEvent()),!n.shiftKey&&!n.ctrlKey&&!n.altKey&&n.keyCode>47&&n.keyCode<58||n.keyCode>95&&n.keyCode<106?r!="tt"&&(this._getMinMax(r,!0),t.start==t.end?(this._findCategoryPosition(r),l=t.start==this.start?u+c:c+u,(l.length>2||!(Number(l)>=this.min&&this.max>=Number(l)))&&n.preventDefault()):Number(u)>=this.min&&this.max>=Number(u)||n.preventDefault()):this._allowKeyCodes(n)||n.preventDefault()},_allowKeyCodes:function(n){return n.ctrlKey&&(n.keyCode==65||n.keyCode==67||n.keyCode==90||n.keyCode==89)||n.keyCode==9||n.keyCode==116||n.keyCode==13?!0:!1},_readOnlyKeys:function(n){return n.keyCode==35||n.keyCode==36||n.keyCode==37||n.keyCode==39||this._allowKeyCodes(n)?!0:!1},_firstlastVal:function(n){var t=this.model.timeFormat.split(" "),i=this.seperator;return n?t[0]!="tt"?t[0].split(i)[0]:"tt":t[0]!="tt"?"tt":t[1]?t[1].split(i).lastItem():"tt"},_mouseWheel:function(n){if(n.preventDefault(),this.model.readOnly)return!1;var t,i=n.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._modifyValue(!0):t<0&&this._modifyValue(!1)},_addListHover:function(){this._addSelected(),this._updateScrollTop()},_addSelected:function(){this.ul.find("li").removeClass("e-active");var n=this._getActiveItem();n.addClass("e-active"),n.focus()},_getActiveItem:function(){return n(this.ul.find("li")[this._activeItem-1])},_timeIconClick:function(n){if(n.preventDefault(),!this.model.enabled||this.model.readOnly||this.ul.find("li").length<1)return!1;this._showhidePopup();var t=this.element.val().length;this._setSelection(t,t)},_showhidePopup:function(){if(this._getInternalEvents)return!1;this.showDropdown?this._hideResult():this._showResult()},_showResult:function(){this._refreshPopup(),this.focused||this._focusElement(),this._changeActiveEle();var t=this,i=this._vissibleAndCalculateTop();this.popupList.slideDown(200,"easeOutQuad",function(){n(document).bind("mousedown",n.proxy(t._OnDocumentClick,t))}),this.scrollerObj.setModel({scrollTop:i}),this.showDropdown=!0,this._listSize=this.ul.find("li").size(),n(window).bind("resize",n.proxy(this._OnWindowResize,this))},_hideResult:function(){this.showDropdown&&!this._getInternalEvents&&(this.showDropdown=!1,this.popupList.slideUp(100,"easeOutQuad"),n(document).unbind("mousedown",n.proxy(this._OnDocumentClick,this)),n(window).unbind("resize",n.proxy(this._OnWindowResize,this)))},_vissibleAndCalculateTop:function(){this.popupList.css({display:"block"});var n=this._calcScrollTop();return this.popupList.css({display:"none"}),n},_calcScrollTop:function(){var i=this.ul.outerHeight(),n=this.ul.find("li").outerHeight(),t;return t=this.ul.find("li.e-active").index(),n*t-(this.popupList.outerHeight()-n)/2},_changeActiveEle:function(){var t=this.ul.find("li"),i=this.element.val(),r=t.first().html(),n;n=(this._parse(i)-this._parse(r))/(this.model.interval*6e4),n=Math.round(n),this._activeItem=n==t.length?n:n+1,(this._activeItem<0||this._activeItem>t.length||isNaN(this._activeItem))&&(this._activeItem=1),this._addListHover()},_OnDocumentClick:function(t){n(t.target).is(this.popupList)||n(t.target).parents(".e-time-popup").is(this.popupList)||n(t.target).is(this.wrapper)||n(t.target).parents(".e-timewidget").is(this.wrapper)?(n(t.target).is(this.popupList)||n(t.target).parents(".e-time-popup").is(this.popupList))&&t.preventDefault():this._hideResult()},_OnWindowResize:function(){this._refreshPopup()},_OnMouseEnter:function(t){var i=t.target;this.ul.find("li").removeClass("e-hover"),n(i).addClass("e-hover")},_OnMouseLeave:function(){this.ul.find("li").removeClass("e-hover")},_OnMouseClick:function(t){t.preventDefault(),this.model.enabled&&!this.model.readOnly&&(this._activeItem=n(t.target).index()+1,this._addSelected(),this._selectTimeItem(n(t.target))),this._showhidePopup()},_selectTimeItem:function(n){this.element.val(n.text());var t=this._raiseChangeEvent();this.model.select&&t&&this._trigger("select",{value:this.model.value})},_findCategoryPosition:function(n){n=="least"&&(n=this._getLeast(!0));var t=this._getCategoryPosition(n);this.start=t.start,this.end=t.end},_getLeast:function(t){var r=this.model.timeFormat.split(" "),u=this.seperator,i=null;return n(r).each(function(n,r){if(r!="tt"){var f=r.split(u);i=t?f[f.length-1]:f[0]}}),i},_changeValue:function(n,t){var u=this.target.value,i,r=this._getCategory(n);if(!r)return!1;this._setSelection(this.start,this.end),i=this.target.value.substring(this.start,this.end),i!=this.ttAM&&i!=this.ttPM?(i=this._changeCurrentValue(i,r,t),r.length!=1&&(i=this._changeWhole(i)),this._findCategoryPosition(r),this.element.val(this._replaceAt(this.target.value,this.start,this.end,i)),this.end=this.start+i.toString().length,this._setSelection(this.start,this.end)):this._changeAmPm(i),this._checkMinMax(this.target.value)?this._raiseChangeEvent():(this.element.val(u),this._setSelection(this.start,this.end))},_checkMinMax:function(n){var t=r2=!0;return(this.model.minTime&&!this._compareTime(n,this.model.minTime,!0)&&(t=!1),this.model.maxTime&&!this._compareTime(this.model.maxTime,n,!0)&&(r2=!1),t&&r2)?!0:!1},_changeWhole:function(n){return n>9?""+n:"0"+n},_changeAmPm:function(n){n=n==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)),this._setSelection(this.start,this.end)},_changeMinute:function(n){var i=this._getExactFormat(["mm","m"]),t;i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),n?t==this.max?(t=this.min,this._changeHour()):t+=1:t==this.min?(t=this.max,this._changeHour()):t-=1,this._findCategoryPosition(i),i.length!=1&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_changeHour:function(n){var i=this._getExactFormat(["hh","h","HH","H"]),t;i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),n?t==this.max?(t+=1,this._changeMeridian()):t>this.max?t=this.min:t+=1:t==this.min?t=this.max+1:t>this.max?(t=this.max,this._changeMeridian()):t-=1,this._findCategoryPosition(i),i.length!=1&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_getExactFormat:function(n){for(var i=this.model.timeFormat,t=0;t<n.length;t++)if(i.indexOf(n[t])!=-1)return n[t];return null},_changeMeridian:function(){var t=this.model.timeFormat.indexOf("tt"),n;t!=-1&&(this._findCategoryPosition("tt"),n=this.target.value.substring(this.start,this.end),n=n==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)))},_changeCurrentValue:function(n,t,i){n=Number(n);var r=t,u=1,f=!0;return(this._getMinMax(r),r=="hh"||r=="h"||r=="HH"||r=="H"?u=this.model.hourInterval:r=="mm"||r=="m"?u=this.model.minInterval:(r=="ss"||r=="s")&&(u=this.model.secInterval),u<=0)?n:(i?((r=="hh"||r=="h")&&n>this.max?n=this.min-1+u:n<this.max?n+=u:(f=!1,r!="hh"&&r!="h"?n=this.min-1+u:n+=u,this._changeAdjacent(r,i)),(r=="hh"||r=="h")&&n==this.max+1?f&&this._changeAdjacent(r,i):n>this.max+1&&(n=n-(this.max+1),f&&this._changeAdjacent(r,i)),r!="hh"&&r!="h"&&n==this.max+1&&(n=this.min,f&&this._changeAdjacent(r,i))):(r!="hh"&&r!="h"&&n>this.min?n-=u:(r=="hh"||r=="h")&&n>this.min&&n<=this.max?n-=u:(r=="hh"||r=="h")&&n==this.min?n=this.max+2-u:(f=!1,n=this.max+1-u,this._changeAdjacent(r,i)),n<this.min&&(n=n+(this.max+1),f&&this._changeAdjacent(r,i))),n)},_changeAdjacent:function(n,t){n=="ss"||n=="s"?this._changeMinute(t):n=="mm"||n=="m"?this._changeHour(t):(n=="hh"||n=="h"||n=="HH"||n=="H")&&this._changeMeridian()},_valueChange:function(){this._raiseChangeEvent()},_raiseChangeEvent:function(n){var t=n==i?this.model.value:n;return n==this.target.value?!1:this._checkMinMax(this.target.value)?(this.focusVal=this.target.value,this.model.value=this.target.value,this._raiseEvent("change"),!0):void 0},_raiseEvent:function(n){this.model[n]&&this._trigger(n,{value:this.model.value})},_checkIE7:function(){if(navigator.appName=="Microsoft Internet Explorer"){var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),n=-1;if(t.exec(navigator.userAgent)!=null&&(n=parseFloat(RegExp.$1)),n>=7&&n<8)return!0}return!1},_replaceAt:function(n,t,i,r){return n.substring(0,t)+r+n.substring(i)},_localizeTime:function(t){return n.trim(Globalize.format(this._createObject(t),this.model.timeFormat,this.model.localize))},_localizeMeridian:function(t){return n.trim(Globalize.format(this._createObject(t),"tt",this.model.localize))},_compareTime:function(n,t,i){return i=i?!0:!1,i?this._parse(n)>=this._parse(t):this._parse(n)>this._parse(t)},_isValid:function(n){return n=this._createObject(n),n&&typeof n.getTime=="function"&&isFinite(n.getTime())},_parse:function(n){return Date.parse(this._createObject(n))},_setEmptyDate:function(n){var t=new Date(n);return t.setDate(1),t.setMonth(0),t.setFullYear(2e3),t},_createObject:function(n){if(typeof n=="string"||n==null){var t=Globalize.parseDate("1/1/2000 "+n,"d/M/yyyy "+this.model.timeFormat);return t||(t=new Date("1/1/2000 "+n)),t}return typeof n=="number"?new Date(n):n instanceof Date?this._setEmptyDate(n):void 0},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"mousedown",this._mouseDownOnInput),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._keyUpOnInput)}})}(jQuery,Syncfusion),function(n,t){t.widget("ejToggleButton","ej.ToggleButton",{element:null,model:null,validTags:["input"],_rootCSS:"e-togglebutton",defaults:{size:"normal",height:"",width:"",enabled:!0,checkedStatus:!1,defaultText:null,activeText:null,contentType:"textonly",imagePosition:"imageleft",roundedCorner:!1,persist:!1,cssClass:"",defaultPrefixIcon:null,defaultSuffixIcon:null,activePrefixIcon:null,activeSuffixIcon:null,rtl:!1,create:null,click:null,change:null,destroy:null},dataTypes:{size:"string",height:"string",weight:"string",enabled:"boolean",roundedCorner:"boolean",checkedStatus:"boolean",defaultText:"string",activeText:"string",contentType:"enum",imagePosition:"enum",defaultPrefixIcon:"string",defaultSuffixIcon:"string",activePrefixIcon:"string",activeSuffixIcon:"string",cssClass:"string",rtl:"boolean",persist:"boolean"},disable:function(){this.buttontag.addClass("e-disable"),this.model.enabled=!1},enable:function(){this.buttontag.hasClass("e-disable")&&(this.buttontag.removeClass("e-disable"),this.model.enabled=!0)},_init:function(){this._initialize(),this._controlStatus(this.model.enabled),this._wireEvents()},_destroy:function(){this.element.unwrap(),this.element.removeClass("e-chkbx-hidden"),this.labelFinder.empty(),this.labelFinder.text(this.model.defaultText)},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i;for(i in n)switch(i){case"size":this._setSize(n[i]);break;case"height":this._setHeight(n[i]);break;case"width":this._setWidth(n[i]);break;case"contentType":this._setContentType(n[i]);break;case"imagePosition":this._setImagePosition(n[i]);break;case"defaultText":this._setDefaultText(n[i]);break;case"activeText":this._setActiveText(n[i]);break;case"defaultPrefixIcon":this._setDefaultMajorIcon(n[i]);break;case"defaultSuffixIcon":this._setDefaultMinorIcon(n[i]);break;case"activePrefixIcon":this._setActiveMajorIcon(n[i]);break;case"activeSuffixIcon":this._setActiveMinorIcon(n[i]);break;case"enabled":this._controlStatus(n[i]);break;case"checkedStatus":this._tglevaluestatus(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]);break;case"cssClass":this._setSkin(n[i]);break;case"rtl":this._setRTL(n[i])}},_setSize:function(n){switch(n){case"mini":this.buttontag.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-mini");break;case"small":this.buttontag.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-small");break;case"medium":this.buttontag.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-medium");break;case"large":this.buttontag.removeClass("e-btn-mini").removeClass("e-btn-small").removeClass("e-btn-medium").removeClass("e-btn-large").addClass("e-btn-large")}},_setHeight:function(n){this.buttontag.css("height",n)},_setWidth:function(n){this.buttontag.css("width",n)},_setDefaultText:function(n){this.model.contentType==t.contents.textOnly?this.buttontag.html(n):this.defaulttxtspan.html(n)},_setActiveText:function(n){this.model.checkedStatus&&(this.model.contentType==t.contents.textOnly?this.buttontag.html(n):this.defaulttxtspan.html(n))},_setDefaultMajorIcon:function(n){this.defMainIcon.removeClass(this.model.defaultPrefixIcon),this.defMainIcon.addClass(n)},_setDefaultMinorIcon:function(n){this.defMiniIcon.removeClass(this.model.defaultSuffixIcon),this.defMiniIcon.addClass(n)},_setActiveMajorIcon:function(n){this.model.checkedStatus&&(this.defMainIcon.removeClass(this.model.activePrefixIcon),this.defMainIcon.addClass(n))},_setActiveMinorIcon:function(n){this.model.checkedStatus&&(this.defMiniIcon.removeClass(this.model.activeSuffixIcon),this.defMiniIcon.addClass(n))},_setContentType:function(n){n!=this.model.contentType&&(this.buttontag.empty(),this.model.contentType=n,this._renderButtonContent())},_setImagePosition:function(n){this.model.contentType==t.contents.textAndImage&&n!=this.model.imagePosition&&(this.buttontag.empty(),this.model.imagePosition=n,this._renderButtonContent())},_setRTL:function(n){n?this.buttontag.addClass("e-rtl"):this.buttontag.removeClass("e-rtl")},_controlStatus:function(n){n?this.enable():this.disable()},_setSkin:function(n){this.model.cssClass!=n&&(this.buttontag.removeClass(this.model.cssClass),this.buttontag.addClass(n))},_initialize:function(){this.element.is('[type = "checkbox"]')?this._render():this.element.removeClass("e-togglebutton"),this._timeout=null},_render:function(){var i,r;this.element.addClass("e-chkbx-hidden e-tbtn"),i=this.element.parents().last(),r="label[for='"+this.element[0].id+"']",this.labelFinder=i.find(r),this.labelFinder.length||(this.labelFinder=t.buildTag("label","Button",{},{"for":this.element[0].id}),this.labelFinder.insertAfter(this.element)),(this.model.defaultText==null||this.model.defaultText=="")&&(this.model.defaultText=this.labelFinder.text()),this.labelFinder.empty(),this.wrapper=n('<span id="'+this.element[0].id+'-wrapper" class="e-tbtn-wrap e-widget"><\/span>'),n(this.element).wrap(this.wrapper),this.labelFinder.insertAfter(this.element),this.buttontag=t.buildTag("button.e-togglebutton e-btn e-tbtn "+this.model.cssClass+" e-select","",{}),this.labelFinder.append(this.buttontag),t.util.isNullOrUndefined(this.model.activeText)&&(this.model.activeText=this.model.defaultText),t.util.isNullOrUndefined(this.model.activePrefixIcon)&&(this.model.activePrefixIcon=this.model.defaultPrefixIcon),t.util.isNullOrUndefined(this.model.activeSuffixIcon)&&(this.model.activeSuffixIcon=this.model.defaultSuffixIcon),this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.rtl),this._renderButtonContent(),this._tglevaluestatus(this.model.checkedStatus),this._roundedCorner(this.model.roundedCorner)},_renderButtonContent:function(){this.imgtxtwrap=t.buildTag("div"),this.defaulttxtspan=t.buildTag("span.e-btntxt#"+this.element[0].id+"textstatic",this.model.defaultText),this.model.contentType.indexOf("image")>-1&&(this.defMainIcon=t.buildTag("span.e-icon "+this.model.defaultPrefixIcon+"#"+this.element[0].id+"mainiconstatic"),this.defMiniIcon=t.buildTag("span.e-icon "+this.model.defaultSuffixIcon+"#"+this.element[0].id+"miniconstatic")),this.model.contentType==t.contents.textAndImage?this.model.imagePosition==t.imagePositions.imageRight?(this.imgtxtwrap.append(this.defaulttxtspan,this.defMainIcon),this.buttontag.append(this.imgtxtwrap)):(this.imgtxtwrap.append(this.defMainIcon,this.defaulttxtspan),this.buttontag.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageTextImage?(this.imgtxtwrap.append(this.defMainIcon,this.defaulttxtspan,this.defMiniIcon),this.buttontag.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageOnly?(this.imgtxtwrap.append(this.defMainIcon),this.buttontag.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageBoth?(this.imgtxtwrap.append(this.defMainIcon,this.defMiniIcon),this.buttontag.append(this.imgtxtwrap)):(this.buttontag.addClass("e-txt"),this.buttontag.text(this.model.defaultText))},_tglevaluestatus:function(n){n?(this._toggleButtonStatus(n),this.element.attr("checked","checked")):(this._toggleButtonStatus(n),this.element.removeAttr("checked"))},_roundedCorner:function(n){n==!0?this.buttontag.addClass("e-corner-all"):this.buttontag.removeClass("e-corner-all")},_wireEvents:function(){this._on(this.buttontag,"click",this._tglebtnclicked)},_tglebtnclicked:function(){var t,i,n=0;navigator.userAgent.search("MSIE")>0&&(t=navigator.userAgent.search("MSIE")+5,i=navigator.userAgent.search("; Windows"),n=navigator.userAgent.substring(t,i)),this.buttontag.hasClass("e-disable")||(this.model.checkedStatus?(this.model.checkedStatus=!1,window.navigator.appName=="Microsoft Internet Explorer"&&n=="8.0"?this._tglevaluestatus(this.model.checkedStatus):this._toggleButtonStatus(this.model.checkedStatus)):(this.model.checkedStatus=!0,window.navigator.appName=="Microsoft Internet Explorer"&&n=="8.0"?this._tglevaluestatus(this.model.checkedStatus):this._toggleButtonStatus(this.model.checkedStatus))),this._trigger("click",{isChecked:this.model.checkedStatus,status:this.model.enabled})},_toggleButtonStatus:function(n){n?(this.model.contentType==t.contents.textOnly?this.buttontag.html(this.model.activeText):(this.defaulttxtspan.html(this.model.activeText),this.defMainIcon.removeClass(this.model.defaultPrefixIcon).addClass(this.model.activePrefixIcon),this.defMiniIcon.removeClass(this.model.defaultSuffixIcon).addClass(this.model.activeSuffixIcon)),this.buttontag.addClass("e-active")):(this.model.contentType==t.contents.textOnly?this.buttontag.html(this.model.defaultText):(this.defaulttxtspan.html(this.model.defaultText),this.defMainIcon.removeClass(this.model.activePrefixIcon).addClass(this.model.defaultPrefixIcon),this.defMiniIcon.removeClass(this.model.activeSuffixIcon).addClass(this.model.defaultSuffixIcon)),this.buttontag.removeClass("e-active")),this._trigger("change",{isChecked:this.model.checkedStatus})}}),t.contents={textOnly:"textonly",imageOnly:"imageonly",imageBoth:"imageboth",textAndImage:"textandimage",imageTextImage:"imagetextimage"},t.imagePositions={imageRight:"imageright",imageLeft:"imageleft"},t.buttonSize={mini:"mini",small:"small",medium:"medium",large:"large"}}(jQuery,Syncfusion),function(n,t){t.widget("ejToolbar","ej.Toolbar",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-toolbar",defaults:{height:"",width:"",enabled:!0,hide:!1,itemSeparator:!0,orientation:"horizontal",rtl:!1,roundedCorner:!1,dataSource:null,query:null,fields:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:null,imageAttributes:"imageAttributes",spriteCSS:"spriteCSS",htmlAttributes:"htmlAttributes"},cssClass:"",create:null,click:null,itemHover:null,itemLeave:null,destroy:null},dataTypes:{height:"string",width:"string",enabled:"boolean",hide:"boolean",itemSeparator:"boolean",orientation:"enum",rtl:"boolean",roundedCorner:"boolean",cssClass:"string"},observables:["dataSource"],hide:function(){if(!this.model.enabled)return!1;this.element.css("display","none")},show:function(){if(!this.model.enabled)return!1;this.element.css("display","inline-block")},_init:function(){this.model.dataSource!=null&&this._generateTemplate(),this._initialize()},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i;for(i in n)switch(i){case"height":this._setHeight(n[i]);break;case"width":this._setWidth(n[i]);break;case"enabled":this._controlStatus(n[i]);break;case"hide":this._controlVisibleOptions(n[i]);break;case"orientation":this._setOrientation(n[i]);break;case"rtl":this._enableRTL(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]);break;case"cssClass":this._setSkin(n[i])}},_setHeight:function(n){this.element.css("height",n)},_setWidth:function(n){this.element.css("width",n)},_setOrientation:function(n){n!=t.orientation.Vertical?(this.element.removeClass(this.model.cssClass),this.element.addClass("e-toolbarspan "+this.model.cssClass),this.itemsContainer.removeClass("e-ul e-vertical"),this.itemsContainer.addClass("e-ul e-horizontal")):(this.element.removeClass("e-toolbarspan "+this.model.cssClass),this.element.addClass(this.model.cssClass),this.itemsContainer.removeClass("e-ul e-horizontal"),this.itemsContainer.addClass("e-ul e-vertical")),this.items.children("img").addClass("e-align e-spriteimg"),this.items.children("span").addClass("e-align e-spriteimg"),this.items.children("div").addClass("e-align e-spriteimg"),this.items.addClass("e-tooltxt")},_setSkin:function(n){this.element.removeClass(this.model.cssClass),this.itemsContainer.removeClass(this.model.cssClass),this.items.removeClass(this.model.cssClass),this.element.addClass(n),this.itemsContainer.addClass(n),this.items.addClass(n)},_destroy:function(){this.element.removeClass("e-widget e-horizontal "+this.model.cssClass),this.element.removeClass("e-vertical "+this.model.cssClass),this.itemsContainer.removeClass("e-horizontal "+this.model.cssClass),this.itemsContainer.removeClass("e-vertical "+this.model.cssClass),this.items.removeClass("e-horizontal "+this.model.cssClass),this.items.removeClass("e-vertical "+this.model.cssClass)},_initialize:function(){this._focusEnable=!0,this._renderControl(),this._roundedCorner(this.model.roundedCorner),this._wireEvents(),this._controlVisibleOptions(this.model.hide),this._enableRTL(this.model.rtl),this._controlStatus(this.model.enabled)},_controlVisibleOptions:function(n){n!=!1?this.hide():this.show()},_controlStatus:function(n){n!=!0?this.disableAll():this.enableAll()},_roundedCorner:function(n){n!=!1?this.element.addClass("e-corner-all"):this.element.removeClass("e-corner-all")},_generateTemplate:function(){var n=this,i;this.element.css("visibility","hidden"),this.model.dataSource instanceof t.DataManager?(i=this.model.dataSource.executeQuery(this.model.query),i.done(function(t){n.itemsSource=t.result,n.element.append(n._generateTagitems()),n._initialize(),n.element.css("visibility","visible")})):(n.itemsSource=n.model.dataSource,n.element.append(n._generateTagitems()),n.element.css("visibility","visible"))},_renderControl:function(){this.element.addClass("e-widget"),this._renderToolbarItems(),this._setOrientation(this.model.orientation),this._renderToolbarSeparator(),this._setHeight(this.model.height),this._setWidth(this.model.width)},_renderToolbarItems:function(){this.target=this.element[0],this.itemsContainer=this.element.children("ol,ul"),this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),this._liCount=this.items.length},_generateTagitems:function(){var i,n;for(i=this.itemsSource,this.ultag=t.buildTag("ul"),n=0;n<i.length;n++)this.ultag.append(this._generateLi(i[n]));return this.ultag},_generateLi:function(i){var r,f,e,u;if(r=t.buildTag("li"),i[this.model.fields.id]&&r.attr("id",i[this.model.fields.id]),i[this.model.fields.tooltipText]&&r.attr("title",i[this.model.fields.tooltipText]),i[this.model.fields.imageUrl]&&i[this.model.fields.imageUrl]!=""){if(f=t.buildTag("img.e-align","",{},{src:i[this.model.fields.imageUrl],alt:i[this.model.fields.text]}),i[this.model.fields.imageAttributes]&&i[this.model.fields.imageAttributes]!="")for(u=0;u<i[this.model.fields.imageAttributes].length;u++)n.each(i[this.model.fields.imageAttributes][u],function(n,t){f.attr(n,t)});r.append(f)}if(i[this.model.fields.spriteCSS]&&i[this.model.fields.spriteCSS]!=""&&(e=t.buildTag("div.e-align "+i[this.model.fields.spriteCSS]+" e-spriteimg"),r.append(e)),i[this.model.fields.text]&&i[this.model.fields.text]!=""&&r.append(i[this.model.fields.text]),i[this.model.fields.htmlAttributes]&&i[this.model.fields.htmlAttributes]!="")for(u=0;u<i[this.model.fields.htmlAttributes].length;u++)n.each(i[this.model.fields.htmlAttributes][u],function(n,t){r.attr(n,t)});return r},_renderToolbarSeparator:function(){var t;if(this.model.itemSeparator)for(t=0;t<this.itemsContainer.length-1;t++)n(this.itemsContainer[t]).addClass("e-separator")},_enableRTL:function(n){n?(this.element.addClass("e-rtl"),this.items.addClass("e-comnrtl"),this.model.orientation==t.orientation.Horizontal&&this.itemsContainer.addClass("e-comnrtl")):(this.element.removeClass("e-rtl"),this.items.removeClass("e-comnrtl"),this.model.orientation==t.orientation.Horizontal&&this.itemsContainer.removeClass("e-comnrtl")),this.model.rtl=n,this._renderToolbarSeparator()},disableItem:function(t){var i=n(t);i==null||i.length<=0||i.hasClass("e-disable")||i.addClass("e-disable")},enableItem:function(t){var i=n(t);i==null||i.length<=0||i.removeClass("e-disable")},disableItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.disableItem(t)},enableItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.enableItem(t)},disableAll:function(){this.items.addClass("e-disable"),this.model.enabled=!1},enableAll:function(){this.items.removeClass("e-disable"),this.model.enabled=!0},selectItem:function(t){var i=n(t);i==null||i.length<=0||i.hasClass("e-disable")||(i.removeClass("e-active"),i.addClass("e-active"))},deselectItem:function(t){var i=n(t);i==null||i.length<=0||i.hasClass("e-disable")||i.removeClass("e-active")},selectItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.selectItem(t)},deselectItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.deselectItem(t)},removeItem:function(t){if(!this.model.enabled)return!1;var i=n(t);i==null||i.length<=0||i.remove()},removeItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.removeItem(t)},_wireEvents:function(){this._on(this.element,"focus",this._focusElement),this._on(this.element,"blur",this._targetBlur),this._on(this.items,"mouseenter",this._onItemHover),this._on(this.items,"mousedown",this._onItemClick),this._on(this.items,"mouseup",this._onItemClick),this._on(this.items,"mouseleave",this._onItemLeave),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"keydown",this._OnKeyDown)},_onItemHover:function(t){var i=t.currentTarget,r=t.target;n(i).hasClass("e-disable")||(this.items.removeClass("e-hover"),n(i).addClass("e-hover"),args={currentTarget:i,target:r,status:this.model.enabled},this._trigger("itemHover",args))},_onItemClick:function(t){var i=t.currentTarget,r=t.target;t.type=="mousedown"?this._focusEnable=!1:t.type=="mouseup"&&(n(i).hasClass("e-disable")||(args={currentTarget:i,target:r,status:this.model.enabled},this._activeItem=n(t.currentTarget).index(),this._trigger("click",args)))},_onItemLeave:function(t){var i=t.currentTarget,r=t.target;n(i).hasClass("e-disable")||(n(i).removeClass("e-hover"),args={currentTarget:i,target:r,status:this.model.enabled},this._trigger("itemLeave",args))},_OnKeyDown:function(n){this._focusEnable=!0,this.e=n;var i=this.items.length-1,t;switch(n.keyCode){case 38:n.preventDefault(),this._removeListHover(),this._activeItem<0||this._activeItem==null||this._activeItem>i?this._activeItem=0:this._activeItem==0?this._activeItem=i:this._activeItem-=1,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover();break;case 40:n.preventDefault(),this._removeListHover(),this._activeItem>i||this._activeItem==null||this._activeItem<0?this._activeItem=i:this._activeItem==i?this._activeItem=0:this._activeItem+=1,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover();break;case 37:n.preventDefault(),this._removeListHover(),this._activeItem<0||this._activeItem==null||this._activeItem>i?this._activeItem=0:this._activeItem==0?this._activeItem=i:this._activeItem-=1,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover();break;case 39:n.preventDefault(),this._removeListHover(),this._activeItem>i||this._activeItem==null||this._activeItem<0?this._activeItem=i:this._activeItem==i?this._activeItem=0:this._activeItem+=1,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover();break;case 33:n.preventDefault(),this._removeListHover(),this._activeItem=0,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover();break;case 34:n.preventDefault(),this._removeListHover(),this._activeItem=i,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover();break;case 35:n.preventDefault(),this._removeListHover(),this._activeItem=i,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover();break;case 36:n.preventDefault(),this._removeListHover(),this._activeItem=0,t=this._getActiveItem(),t.hasClass("e-disable")||this._addListHover()}},_OnKeyUp:function(t){var f,u,i,r;this.e=t,f=this.items.length;switch(t.keyCode){case 13:u=this._getActiveItem(),n(t.target).is("div")?(i=this._getTargetItem(),r=this._getTargetItem()):(i=n(t.target).closest("li")[0],r=t.target),n(i).hasClass("e-disable")||(args={currentTarget:i,target:r,status:this.model.enabled,event:this.e},this._trigger("click",args),this._removeListHover());break;case 32:u=this._getActiveItem(),n(t.target).is("div")?(i=this._getTargetItem(),r=this._getTargetItem()):(i=n(t.target).closest("li")[0],r=t.target),u.hasClass("e-disable")||(args={currentTarget:i,target:r,status:this.model.enabled,event:this.e},this._trigger("click",args),this._removeListHover());break;case 27:this.element.focusout(),this._removeListHover()}},_removeListHover:function(){n(this.items).removeClass("e-hover")},_addListHover:function(){var n=this._getActiveItem();n.addClass("e-hover"),n[0].scrollIntoView(!1),n.focus()},_getActiveItem:function(){return n(n(this.items)[this._activeItem])},_getTargetItem:function(){return n(this.items)[this._activeItem]},_targetBlur:function(n){n.preventDefault(),this.element.focusout(),this._removeListHover(),this.model.focusOut&&this._trigger("focusOut")},_focusElement:function(){if(!this._focusEnable){this._focusEnable=!0;return}this._removeListHover(),this._activeItem=0,activeItem=this._getActiveItem(),activeItem.hasClass("e-disable")||this._addListHover()}})}(jQuery,Syncfusion),function(n,t){t.widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-waitingpopup",defaults:{autoDisplay:!1,showImage:!0,cssClass:"",text:null,template:null},dataTypes:{autoDisplay:"boolean",showImage:"boolean",cssClass:"string"},show:function(){this._refreshPanel(),this.maindiv.css("display","block"),this.model.autoDisplay=!0},hide:function(){this.maindiv.css("display","none"),this.model.autoDisplay=!1},refresh:function(){this._refreshPanel()},_setText:function(n){n?this.popupText?this.popupText.html(n):(this._generateTextTag(n),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(n){n?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var n=this.model.template;this.templateObj=typeof n=="object"&&typeof n.css=="function"?n:t.buildTag("div","",{"text-align":"center"}).append(n),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(n){this.maindiv.removeClass(this.model.cssClass).addClass(n)},_init:function(){this._initialize(),this._render()},_setModel:function(n){var t;for(t in n)switch(t){case"text":this._setText(n[t]);break;case"cssClass":this._setTheme(n[t]);break;case"autoDisplay":this._setVisibility(n[t]);break;case"showImage":this._showImage(n[t]),this._setContentPosition();break;case"template":this.maindiv.empty(),n[t]?(this.model.template=n[t],this._setTemplate()):(this.model.template=n[t]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_destroy:function(){this.maindiv.remove()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null},_render:function(){this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),n("body").append(this.maindiv),this._setVisibility(this.model.autoDisplay)},_refreshPanel:function(){this.maindiv.width(this.element.outerWidth()),this.maindiv.height(this.element.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_setPanelPosition:function(){var n=this.element.offset();this.maindiv.css({left:Math.ceil(n.left)+"px",top:Math.ceil(n.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(this.model.template==null){var t=0,r=0,i,n=null;i=this.element.outerHeight(),this.popupText&&(t=this.popupText.outerHeight()),this.popupImage&&(r=this.popupImage.outerHeight()),this.popupImage&&(n=Math.ceil((i-(r+t))/2),this.popupImage.css("top",n+"px")),this.popupText&&(n||(n=Math.ceil((i-t)/2)),this.popupText.css("top",n+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.element.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.element.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(n){this.popupText=t.buildTag("div.e-text",n),this.maindiv.append(this.popupText)},_setVisibility:function(n){n?this.show():this.hide()},_maxZindex:function(){for(var r=document.getElementsByTagName("div"),t=0,i,n=0;n<r.length-1;n++)i=parseInt(r[n].style.zIndex,10),i>t&&(t=i);return t}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejCheckBox","ej.CheckBox",{_rootCSS:"e-checkbox",element:null,model:null,validTags:["input"],defaults:{id:null,name:null,value:null,check:null,enabled:!0,indeterminate:!1,indeterminateState:!1,roundedCorner:!1,persist:!1,cssClass:"",text:"",rtl:!1,idPrefix:"ej",size:"",beforeChange:null,change:null},dataTypes:{id:"string",name:"string",check:"boolean",persist:"boolean",indeterminate:"boolean",size:"enum",enabled:"boolean",idPrefix:"string"},_init:function(){this._setValue(),this._renderControl(),this.model.enabled&&this._wireEvents(),this._setEnabled(this.model.enabled)},_setModel:function(i){if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;for(var r in i)switch(r){case"check":this.isChecked=i[r],this.isChecked?this._checked():this._unChecked();break;case"indeterminate":i[r]&&this._setIndeterminate(this.model.indeterminateState);break;case"indeterminateState":this.model.indeterminate&&this._setIndeterminate(i[r]);break;case"cssClass":this._changeSkin(i[r]);break;case"rtl":i[r]?n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"):n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass("e-rtl");break;case"text":this._setText(i[r]);break;case"id":this._setIdAttr(i[r]);break;case"name":this.chkbx.attr("name",i[r]);break;case"value":this.chkbx.attr("value",i[r]);break;case"size":this._setSize(i[r]);break;case"roundedCorner":this._setRoundedCorner(i[r]);break;case"enabled":this._setEnabled(i[r])}},_destroy:function(){this.chkbx.removeClass("e-checkbox e-input"),this.chkbx.insertBefore(this.element),this.element.remove(),this.element=this.chkbx},_changeSkin:function(t){this.model.cssClass!=t&&(this.element.removeClass(this.model.cssClass).addClass(t),n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this.model.id==null&&(this.model.id=this.element.attr("id")),this.model.id||(this.model.id=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.isChecked=this.element.attr("checked")=="checked"?!0:!1,this.isChecked=this.model.check==null?this.isChecked:this.model.check},_setSize:function(n){n==t.checkboxSize.medium?this.innerdiv.removeClass("e-chkbox-small").addClass("e-chkbox-medium"):this.innerdiv.removeClass("e-chkbox-medium").addClass("e-chkbox-small")},_setRoundedCorner:function(n){n?this.span.addClass("e-corner-all"):this.span.removeClass("e-corner-all")},_setEnabled:function(n){n?this.enable():this.disable()},_renderControl:function(){this.maindiv=t.buildTag("span.e-chkbox-wrap e-widget "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id),this.innerdiv=n("<div><\/div>"),this._setSize(this.model.size),this.span=n("<span><\/span>"),this.spanImg=n('<span class="e-chk-image"><\/span>'),this.element.addClass("e-input"),this.element.attr("id",this.model.id),this._setRoundedCorner(this.model.roundedCorner),this.isChecked?(this.spanImg.addClass("e-chk-activeicon"),this.span.addClass("e-chk-act")):this.span.addClass("e-chk-inact"),this.span.append(this.spanImg),this.innerdiv.append(this.span),this.maindiv.insertBefore(this.element),this.maindiv.append(this.element),this.maindiv.append(this.innerdiv),this._setTextWrapper(this.model.text),this.chkbx=this.element,this.element=this.maindiv,this.model.indeterminate==!0&&this.model.indeterminateState==!0&&this._setIndeterminate(this.model.indeterminateState)},_setIndeterminate:function(n){n?(this.spanImg.removeClass("e-chk-activeicon").addClass("e-chk-indetericon"),this.span.removeClass("e-chk-act").removeClass("e-chk-inact").addClass("e-chk-indeter"),this.element.find("input").prop("indeterminate",!0)):(this.element.find(".e-chk-indeter").removeClass("e-chk-indeter"),this.element.find(".e-chk-image").removeClass("e-chk-indetericon"),this.element.find("input").removeAttr("indeterminate"),this.element.find("input").prop("indeterminate",!1),this.model.check?this._checked():this._unChecked())},_setTextWrapper:function(i){i!=""&&(this.txtSpan=t.buildTag("div.e-text",i),this.maindiv.append(this.txtSpan),this.model.rtl&&n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"))},_setText:function(n){this.model.text==""&&n!=""?this._setTextWrapper(n):this.txtSpan.html(n)},_setIdAttr:function(t){n("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper"),this.chkbx.attr("id",t)},_wireEvents:function(){this._on(this.element,"click",this._checkedHandler)},_unWireEvents:function(){this.element.unbind("click")},_checkedHandler:function(){var n={isChecked:this.isChecked};return!0==this._trigger("beforeChange",n)?!1:(this.element.find("span:first").hasClass("e-chk-inact")?(this._checked(),this.isChecked=this.model.check=!0,this.model.indeterminate&&(this.model.indeterminateState=!0)):this.element.find("span:first").hasClass("e-chk-act")?this.model.indeterminate==!0&&this.model.indeterminateState==!0?(this._setIndeterminate(!0),this.isChecked=this.model.check=!0):(this._unChecked(),this.isChecked=this.model.check=!1):this.element.find("span:first").hasClass("e-chk-indeter")&&(this.isChecked=this.model.check=!1,this._setIndeterminate(!1),this.model.indeterminateState=!1),n={isChecked:this.isChecked},this._trigger("change",n),!0)},_checked:function(){this.element.find("span:first").removeClass("e-chk-inact").addClass("e-chk-act"),this.element.find(".e-chk-image").addClass("e-chk-activeicon"),this.element.find("input[type=checkbox]").prop("checked",!0)},_unChecked:function(){this.element.find("span:first").removeClass("e-chk-act").addClass("e-chk-inact"),this.element.find(".e-chk-image").removeClass("e-chk-activeicon").removeClass("e-chk-indetericon"),this.element.find("input[type=checkbox]").removeAttr("checked")},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable"),this._unWireEvents(),this.model.enabled=!1)},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable"),this._wireEvents(),this.model.enabled=!0)},isChecked:function(){if(this.isChecked!=null&&this.isChecked!=i)return this.isChecked}}),t.checkboxSize={small:"small",medium:"medium"}}(jQuery,Syncfusion),function(n,t){t.widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,model:null,validTags:["input"],defaults:{id:null,name:null,value:null,check:null,cssClass:"",text:"",rtl:!1,persist:!1,idPrefix:"ej",size:"smaller",enabled:!0,beforeChange:null,change:null},dataTypes:{id:"string",name:"string",check:"boolean",persist:"boolean",size:"enum",enabled:"boolean",idPrefix:"string"},_init:function(){this._setValue(),this._renderControl(),this._setEnabled(this.model.enabled),this._wireEvents(),this.isChecked&&this._checkedHandler()},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(var i in n)switch(i){case"cssClass":this._changeSkin(n[i]);break;case"rtl":n[i]?this.textWrapDiv.addClass("e-rtl"):this.textWrapDiv.removeClass("e-rtl");break;case"text":this._setText(n[i]);break;case"size":this._setSize(n[i]);break;case"check":this.model.checked=n[i],this._checkedChange(this.model.checked);break;case"enabled":this._setEnabled(n[i])}},_destroy:function(){this.radbtn.removeClass("e-radiobtn e-input"),this.radbtn.insertBefore(this.element),this.element.remove(),this.element=this.radbtn},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.textWrapDiv.removeClass(this.model.cssClass).addClass(n))},_setValue:function(){this.model.id=this.element.attr("id"),this.model.id||(this.model.id=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.isChecked=this.element.attr("checked")=="checked"?!0:!1,this.isChecked=this.model.check==null?this.isChecked:this.model.check},_setSize:function(n){n==t.radiobuttonSize.medium?this.span.removeClass("e-radsmaller").addClass("e-radmedium"):this.span.removeClass("e-radmedium").addClass("e-radsmaller")},_setEnabled:function(n){n?this.enable():this.disable()},_renderControl:function(){this.div=n('<div class="e-radiobtn-wrap e-widget" ><\/div>'),this.div.attr("id",this.model.idPrefix+this.model.id),this.span=n("<span><\/span>"),this.span.addClass("e-spanicon"),this._setSize(this.model.size),this.spanImg=n('<span class="e-rad-icon e-rad-select"><\/span>'),this.element.addClass("e-input"),this.element.attr("id",this.model.id),this.div.addClass(this.model.cssClass),this.span.append(this.spanImg),this.div.insertBefore(this.element),this.div.append(this.element),this.div.append(this.span),this._setTextWrapper(this.model.text),this.radbtn=this.element,this.element=this.div,this.isChecked&&this.element.find(".e-input").attr("checked",!0)},_setTextWrapper:function(n){n!=""&&(this.textWrapDiv=t.buildTag("div.e-radiobtn-wrap "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id+"_wrapper"),this.div.wrap(this.textWrapDiv),this.txtSpan=t.buildTag("div.e-text",this.model.text),this.textWrapDiv.append(this.txtSpan),this.model.rtl&&this.textWrapDiv.addClass("e-rtl"))},_setText:function(n){this.model.text==""&&n!=""?this._setTextWrapper(n):this.txtSpan.html(n)},_wireEvents:function(){this._on(this.element,"click",this._checkedHandler)},_checkedHandler:function(){this.element.hasClass("e-disable")||(this.isChecked=this.element.find("input.e-radiobtn:radio").attr("checked")=="checked"?!0:!1,this._changeEvent())},_checkedChange:function(n){this.isChecked=n,this.isChecked&&this.model.enabled&&this._changeEvent()},_changeEvent:function(){var t={isChecked:this.isChecked};if(!0==this._trigger("beforeChange",t))return!1;if(!n(this.element).find(".e-rad-icon").hasClass("e-rad-active")){var r=this.element.find(".e-input").attr("name"),u=n("input.e-radiobtn[name="+r+"]:radio"),e=this,f=this.element.find(".e-input"),i=n(f).data("ejRadioButton");t.isChecked&&this.spanImg.addClass("e-rad-active").removeClass("e-rad-select"),n.each(u,function(t,i){n(i).parent().parent().find(".e-rad-icon").removeClass("e-rad-active").addClass("e-rad-select");var r=n(i).data("ejRadioButton");r!=null&&(r.model.check=!1)}),i!=null&&(i.model.check=!0),this.element.find(".e-rad-icon").addClass("e-rad-active").removeClass("e-rad-select"),this.element.find(".e-input").click(),this.isChecked=!0}t={isChecked:this.isChecked},this._trigger("change",t)},disable:function(){this.element.hasClass("e-disable")||this.element.addClass("e-disable"),this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&this.element.removeClass("e-disable"),this.model.enabled=!0}}),t.radiobuttonSize={small:"small",medium:"medium"}}(jQuery,Syncfusion),function(n,t){t.widget("ejAccordion","ej.Accordion",{_rootCSS:"e-acrdn",element:null,model:null,validTags:["div","span"],defaults:{collapsible:!1,ajaxOptions:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},events:"click",iconCSS:{header:"e-collaps",selectedHeader:"e-expand"},heightStyle:"content",selectedItemIndex:0,cssClass:"",rtl:!1,roundedCorner:!1,allowKeyboardNavigation:!0,multipleOpen:!1,selectedItems:[0],disabledItems:[],persist:!1,enabled:!0,ajaxLoad:null,ajaxBeforeLoad:null,active:null,beforeActive:null,ajaxSuccess:null,ajaxError:null},dataTypes:{cssClass:"string",collapsible:"boolean",enabled:"boolean",events:"string",heightStyle:"enum",ajaxOptions:"data",iconCSS:"data",selectedItems:"data",disabledItems:"data"},_setModel:function(n){var i,r,u;if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(i in n)switch(i){case"events":this._off(this._headers,this.model.events),this._on(this._headers,n[i],this._headerEventHandler);break;case"disabledItems":this.disableItems(n[i]);break;case"enabled":this._enabledAction(n[i]);break;case"selectedItemIndex":this._activeTab(n[i]);break;case"heightStyle":this._setHeightStyle(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]);break;case"iconCSS":r=this.model.iconCSS,u=n[i],this._headers.find("span."+r.header).removeClass(r.header).addClass(u.header),this._headers.find("span."+r.selectedHeader).removeClass(r.selectedHeader).addClass(u.selectedHeader);break;case"allowKeyboardNavigation":n[i]?(this._off(this.element,"keydown"),this._on(this.element,"keydown",this._keyPress)):this._off(this.element,"keydown");break;case"rtl":n[i]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");break;case"selectedItems":this._selectedItemsAction(n[i])}},_destroy:function(){this._removeBaseClass(),this.element.removeClass("e-acrdn"),this._headers.removeClass("e-active  e-state-disabled"),this._contentPanels.removeClass("e-content-active e-disable"),n(this._headers.find(".e-icon")).remove()},_init:function(){this._renderControl()},_renderControl:function(){this._headers=this.element.find("> :even"),this.element.attr("tabindex",0),this._contentPanels=this._headers.next(),this._nagativeIndexCheck(this.model.selectedItemIndex),this._addBaseClass(),this._setHeightStyle(this.model.heightStyle),this._renderHeaderIcon(),this._wireEvents(),this._roundedCorner(this.model.roundedCorner),this._selectedItemsAction(this.model.selectedItems),this._enabledAction(this.model.enabled)},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_selectedItemsAction:function(n){if(this.model.multipleOpen)for(var t=0;t<n.length;t++)this._activeTab(n[t]);else this._activeTab(this.model.selectedItemIndex)},_enabledAction:function(n){n?this.element.removeClass("e-disable"):this.element.addClass("e-disable")},_addBaseClass:function(){this.element.addClass(this.model.cssClass+"e-widget"),this.model.rtl&&this.element.addClass("e-rtl"),this._headers.addClass(" e-select"),this._contentPanels.addClass("e-content").hide(),n(this._contentPanels[this.model.selectedItemIndex]).show()},_removeBaseClass:function(){this._headers.removeClass(" e-select"),this._contentPanels.removeClass("e-content").show()},_roundedCorner:function(n){n?(this._headers.addClass("e-corner-all"),this.element.find(".e-active").removeClass("e-corner-all").addClass("e-corner-top"),this.element.find(".e-acrdn-content-active").addClass("e-corner-bottom")):this._headers.hasClass("e-corner-all")&&(this._headers.removeClass("e-corner-all"),this.element.find(".e-active").removeClass("e-corner-top"),this.element.find(".e-acrdn-content-active").addClass("e-corner-bottom"))},_nagativeIndexCheck:function(n){(n<0||n>=this._headers.length)&&(this.model.selectedItemIndex=0)},_activeTab:function(t){var i,r,u;if(n.inArray(t,this.model.disabledItems)<0){if(i={activeIndex:t},!0===this._trigger("beforeActive",i))return!1;this.model.multipleOpen||this._hideTab(this.model.selectedItemIndex),this.model.selectedItemIndex=t,r=this.model.iconCSS,this._activeHeader=this._headers.eq(t).addClass("e-active "),this._activeHeader.find(".e-icon").removeClass(r.header).addClass(r.selectedHeader),this._addSelectedItems(t),this._ajaxLoad(),this._roundedCorner(this.model.roundedCorner),i={activeHeader:this._activeHeader,activePanel:this._activeContent,activeIndex:this.model.selectedItemIndex},u=this,this._activeContent=this._activeHeader.next().addClass("e-acrdn-content-active").slideDown(300,"easeOutQuad",function(){u._trigger("active",i)})}},_hideTab:function(n){var t=this.model.iconCSS;n>=0&&(this._activeHeader=this._headers.eq(n).removeClass("e-active "),this._activeHeader.find(".e-icon").removeClass(t.selectedHeader).addClass(t.header),this._activeHeader.next().removeClass("e-acrdn-content-active").slideUp(200,"easeOutQuad"),this._deleteSelectedItems(n))},_renderHeaderIcon:function(){var n,i;this._headers.find(".e-icon").length<=0&&(n=this.model.iconCSS,n&&(i=t.buildTag("span.e-icon "+n.header).prependTo(this._headers),this._headers.eq(this.model.selectedItemIndex).find(".e-icon").removeClass(n.header).addClass(n.selectedHeader)))},_ajaxLoad:function(){var t=this._activeHeader.find("a[href]"),r,i;t.length>0&&(r=n(this._contentPanels[this.model.selectedItemIndex]),i=n(t).attr("href"),i&&i!=="#"&&this._sendAjaxOptions(r,t[0]))},_sendAjaxOptions:function(t,i){if(!0===this._trigger("ajaxBeforeLoad",{url:i}))return!1;t.addClass("e-load");var r=this,u=n(i).html(),f=i.href.replace("#",""),e={type:this.model.ajaxOptions.type,cache:this.model.ajaxOptions.cache,url:f,data:this.model.ajaxOptions.data,dataType:this.model.ajaxOptions.dataType,contentType:this.model.ajaxOptions.contentType,async:this.model.ajaxOptions.async,success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(){try{r._ajaxErrorHandler(data,i,r.model.selectedItemIndex,u)}catch(n){}}};this._sendAjaxRequest(e)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,i,r,u){u!=null&&n(r).html(u),i.removeClass("e-load"),i.html(t).addClass("e-acrdn-loaded");var f={data:t,url:r,content:i};this._trigger("ajaxSuccess",f),this._trigger("ajaxLoad")},_ajaxErrorHandler:function(n,t){this._trigger("ajaxError",{data:n,url:t}),this._trigger("ajaxLoad")},_setHeightStyle:function(i){var u=this,r,f;t.Accordion.heightStyle.Fill==i?(r=this._getDimension(n(this.element).parent(),"height"),n(this.element).parent().css({overflow:"auto"}),u._headers.each(function(){r-=u._getDimension(n(this),"outerHeight")}),f=0,u._headers.next().each(function(){f=Math.max(f,u._getDimension(n(this),"innerHeight")-u._getDimension(n(this),"height"))}).height(r-f).css({overflow:"auto"})):t.Accordion.heightStyle.Auto==i&&(r=0,u._headers.next().each(function(){r=Math.max(r,u._getDimension(n(this),"outerHeight"))}).height(r),this.maxAutoHeight=r)},_getDimension:function(t,i){var u,f=n(t).parents().andSelf().filter(":hidden"),r={visibility:"hidden",display:"block"},e=[];return f.each(function(){var t={},n;for(n in r)t[n]=this.style[n],this.style[n]=r[n];e.push(t)}),u=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),f.each(function(n){var i=e[n],t;for(t in r)this.style[t]=i[t]}),u},_headerEventHandler:function(t){if(this.model.enabled){t.preventDefault();var r=n(t.currentTarget),i=this._headers.index(r);this.model.multipleOpen&&this._headers.eq(i).hasClass("e-active")?this._hideTab(i):this.model.selectedItemIndex==i&&this.model.collapsible?(this._hideTab(this.model.selectedItemIndex),this.model.selectedItemIndex=-1):this._headers.eq(i).hasClass("e-active")||this._activeTab(i)}},_addSelectedItems:function(t){n.inArray(t,this.model.selectedItems)<0&&this.model.selectedItems.push(t)},_deleteSelectedItems:function(t){n.inArray(t,this.model.selectedItems)>-1&&(position=n.inArray(t,this.model.selectedItems),this.model.selectedItems.splice(position,1))},_deleteDisabledItems:function(t){n.inArray(t,this.model.disabledItems)>-1&&(position=n.inArray(t,this.model.disabledItems),this.model.disabledItems.splice(position,1))},_keyPress:function(n){if(this.model.enabled){n.preventDefault(),code=n.keyCode?n.keyCode:n.which?n.which:n.charCode;switch(code){case 39:case 40:this.model.selectedItemIndex!=this.panelCount()-1?this._activeTab(this.model.selectedItemIndex+1):this.model.selectedItemIndex==this.panelCount()-1&&this._activeTab(0);break;case 38:case 37:this.model.selectedItemIndex!=0?this._activeTab(this.model.selectedItemIndex-1):this.model.selectedItemIndex==0&&this._activeTab(this.panelCount()-1);break;case 35:this.model.selectedItemIndex!=this.panelCount()-1&&this._activeTab(this.panelCount()-1);break;case 36:this.model.selectedItemIndex!=0&&this._activeTab(0)}}},_wireEvents:function(){this._on(this._headers,this.model.events,this._headerEventHandler),this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._keyPress)},_unWireEvents:function(){this._off(this._headers,this.model.events),this.model.allowKeyboardNavigation&&this._off(this.element,"keydown")},enableItems:function(t){if(!this.model.enabled)return!1;if(n.isArray(t))for(var i=0;i<t.length;i++)n(this._headers[t[i]]).removeClass("e-disable"),n(this._contentPanels[t[i]]).removeClass("e-disable"),this._on(n(this._headers[t[i]]),this.model.events,this._headerEventHandler),this._deleteDisabledItems(t[i]);else n(this._headers[t]).removeClass("e-disable"),n(this._contentPanels[t]).removeClass("e-disable"),this._on(n(this._headers[t]),this.model.events,this._headerEventHandler),this._deleteDisabledItems(t)},disableItems:function(t){if(!this.model.enabled)return!1;if(n.isArray(t))for(var i=0;i<t.length;i++)n(this._headers[t[i]]).addClass("e-disable"),n(this._contentPanels[t[i]]).addClass("e-disable"),n(this._headers[t[i]]).unbind(this.model.events),this.model.disabledItems.push(t[i]);else n(this._headers[t]).addClass("e-disable"),n(this._contentPanels[t]).addClass("e-disable"),n(this._headers[t]).unbind(this.model.events),this.model.disabledItems.push(t)},enable:function(n){this.enableItems(n)},disable:function(n){this.disableItems(n)},disableAll:function(){for(var t=0;t<this._headers.length;t++)n(this._headers[t]).addClass("e-disable"),n(this._contentPanels[t]).addClass("e-disable"),this.model.disabledItems.push(t);this._unWireEvents()},enableAll:function(){for(var t=0;t<this._headers.length;t++)n(this._headers[t]).removeClass("e-disable"),n(this._contentPanels[t]).removeClass("e-disable");this.model.disabledItems=[],this._unWireEvents(),this._wireEvents()},selected:function(n){if(!this.model.enabled)return!1;n!=null&&this.model.selectedItemIndex!=n&&this._activeTab(n)},show:function(){if(!this.model.enabled)return!1;this.element.css("visibility","visible")},hide:function(){if(!this.model.enabled)return!1;this.element.css("visibility","hidden")},showAccordion:function(){this.show()},hideAccordion:function(){this.hide()},panelCount:function(){if(this._headers)return this._headers.length}}),t.Accordion.heightStyle={Content:"content",Auto:"auto",Fill:"fill"}}(jQuery,Syncfusion),function(n,t){t.widget("ejProgressBar","ej.ProgressBar",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-progressbar",defaults:{text:"",cssClass:"",min:0,max:100,value:0,percentage:0,height:null,width:null,enabled:!0,rtl:!1,persist:!1,start:null,complete:null,change:null},dataTypes:{cssClass:"string",min:"number",max:"number",enabled:"boolean",rtl:"boolean"},_setValue:function(n){n==null?n=this.model.min:typeof n=="string"&&(n=parseFloat(n)),this._isNumber(n)?this.model.value=n:this._isNumber(this.model.value)||(this.model.value=this.model.min),this.model.value=this._validateRange(this.model.value,this.model.min,this.model.max),this._setProgressValue()},_setPercent:function(n){this.initial=this.model.percentage,n==null?n=0:typeof n=="string"&&(n=parseFloat(n)),this._isNumber(n)?this.model.percentage=n:this._isNumber(this.model.percentage)||(this.model.percentage=0),this.model.percentage=this._validateRange(this.model.percentage,0,100),this.model.value=this._percentToValue(this.model.percentage),this._increaseProgressWidth()},_validateMinMax:function(){isNaN(this.model.min)&&(this.model.min=0),isNaN(this.model.max)&&(this.model.max=100)},_setText:function(n){n?this.text?this.text.html(n):(this.text=t.buildTag("div.e-progress-txt",n),this.element.append(this.text),this._setTop()):this.text&&(this.text.remove(),this.text=null)},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},enable:function(){this.model.enabled||(this.element.removeClass("e-disable"),this.model.enabled=!0)},disable:function(){this.model.enabled&&(this.element.addClass("e-disable"),this.model.enabled=!1)},getValue:function(){return this.model.value},getPercent:function(){return this.model.percentage},_init:function(){this._initialize(),this._render()},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i;for(i in n)switch(i){case"value":this._setValue(n[i]),n[i]=this.model.value;break;case"percentage":this._setPercent(n[i]),n[i]=this.model.percentage;break;case"min":isNaN(n[i])||this._minValidation(n[i]),n[i]=this.model.min;case"max":isNaN(n[i])||this._maxValidation(n[i]),n[i]=this.model.max;case"text":this._setText(n[i]);break;case"height":this._setHeight(n[i]),this.text&&this._setTop();break;case"width":this._setWidth(n[i]);break;case"enabled":this._disabled(!n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"rtl":this._rtl(n[i])}},_destroy:function(){this.element.empty(),this.element.removeClass("e-widget "+this.model.cssClass)},_initialize:function(){this.text=null,this.header=null,this._preVal=null},_render:function(){this.element.addClass("e-widget "+this.model.cssClass),this._setDimention(),this.header=t.buildTag("div.e-progress"),this.element.append(this.header),this._setText(this.model.text),this._setInitialValue(),this._checkProperties()},_setDimention:function(){this._setHeight(this.model.height),this._setWidth(this.model.width)},_setHeight:function(n){n&&this.element.height(n)},_setWidth:function(n){n&&this.element.width(n)},_setInitialValue:function(){this._validateMinMax(),this.model.percentage?this._setPercent(this.model.percentage):this._setValue(this.model.value)},_disabled:function(n){n?this.disable():this.enable()},_checkProperties:function(){this.model.rtl&&this._rtl(this.model.rtl),this._minValidation(this.model.min),this._maxValidation(this.model.max),this.model.enabled||this._disabled(!0)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_minValidation:function(n){this.model.max&&this.model.max<n&&(this.model.max=n),this.model.value<n&&(this.model.value=n),this.model.min=n,this._setProgressValue()},_maxValidation:function(n){this.model.min&&this.model.min>n&&(this.model.min=n),this.model.value>n&&(this.model.value=n),this.model.max=n,this._setProgressValue()},_setTop:function(){var n=(this.element.height()-this.text.height())/2;this.text.css("top",Math.floor(n))},_increaseProgressWidth:function(){this.header.css("width",this.model.percentage+"%"),this.initial==0&&this.model.percentage!=this.initial&&this._raiseEvent("start"),this._preVal!=this.model.value&&(this._preVal=this.model.value,this._raiseEvent("change"),this.model.percentage==100&&this._raiseEvent("complete"))},_raiseEvent:function(n){this.model[n]&&this._trigger(n,{value:this.model.value,percentage:this.model.percentage})},_setProgressValue:function(){this.initial=this.model.percentage,this.model.percentage=this._valueToPercent(this.model.value),this._increaseProgressWidth()},_isNumber:function(n){return typeof n=="number"&&!isNaN(n)},_validateRange:function(n,t,i){return n<t?t:n>i?i:n},_valueToPercent:function(n){return this.model.max<=this.model.min?100:(n=this._validateRange(n,this.model.min,this.model.max),100*(n-this.model.min)/(this.model.max-this.model.min))},_percentToValue:function(n){if(this.model.max<=this.model.min)return this.model.min;if(n>=0&&n<=100){var t=this.model.max-this.model.min,i=t*n/100;n=i+this.model.min}else n<0?n=this.model.min:n>100&&(n=this.model.max);return n}})}(jQuery,Syncfusion),function(n,t){t.widget("ejRating","ej.Rating",{_rootCSS:"e-rating",element:null,model:null,validTags:["input"],defaults:{maxValue:5,minValue:0,currentValue:1,allowReset:!0,shapeWidth:23,shapeHeight:23,orientation:"horizontal",incrementStep:1,readOnly:!1,enabled:!0,showTooltip:!0,precision:"full",cssClass:"",width:null,height:null,persist:!1,click:null,mouseOver:null,mouseOut:null,valueChanged:null},dataTypes:{maxValue:"number",minValue:"number",allowReset:"boolean",shapeWidth:"number",shapeHeight:"number",orientation:"enum",incrementStep:"number",readOnly:"boolean",precision:"enum",enabled:"boolean"},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(var i in n)switch(i){case"allowReset":n[i]?this.showResetButton():this.hideResetButton();break;case"currentValue":this.setCurrentValue(n[i]);break;case"enabled":this._enabledAction(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"height":this._mainDiv.height(n[i]);break;case"width":this._mainDiv.width(n[i]);break;case"readOnly":this._unWireEvents();break;case"orientation":this.model.orientation=n[i],this.refresh();break;case"maxValue":this.model.maxValue=n[i],this.refresh();break;case"minValue":this.model.minValue=n[i],this.refresh();break;case"incrementStep":this.model.incrementStep=n[i],this.refresh();break;case"shapeWidth":this.model.shapeWidth=n[i],this.refresh();break;case"shapeHeight":this.model.shapeHeight=n[i],this.refresh()}},_destroy:function(){this.element.show(),this._unWireEvents(),this._mainDiv.remove()},_init:function(){this._initialize()},_initialize:function(){this.element.hide(),this._mainDiv=t.buildTag("div.e-rating e-widget "+this.model.cssClass),t.isNullOrUndefined(this.model.width)||this._mainDiv.width(this.model.width),t.isNullOrUndefined(this.model.height)||this._mainDiv.height(this.model.height),this._mainDiv.insertBefore(this.element),this.model.orientation==t.orientation.Horizontal?this._mainDiv.addClass("e-horizontal"):this._mainDiv.addClass("e-vertical"),this.model.allowReset&&!this.model.readOnly&&this._createReset(),this._validation(),this._renderShape(),this._shapes=this._mainDiv.find("div.e-shape"),this._wireEvents(),this._CurrentIndex=0,this._initCurrentValue(),this._enabledAction(this.model.enabled)},_changeSkin:function(n){this.model.cssClass!=n&&this._mainDiv.removeClass(this.model.cssClass).addClass(n)},_enabledAction:function(n){n?this._mainDiv.removeClass("e-disable"):this._mainDiv.addClass("e-disable")},_validation:function(){this.model.incrementStep<1?this.model.incrementStep=1:this.model.incrementStep>this.model.maxValue&&(this.model.incrementStep=this.model.maxValue)},_createReset:function(){this._mainDiv.find("div.e-reset").length<=0?t.buildTag("div.e-reset","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight}).appendTo(this._mainDiv):this._mainDiv.find("div.e-reset").show()},_renderShape:function(){var n=Math.round(this.model.maxValue/this.model.incrementStep),o=Math.round(this.model.minValue/this.model.incrementStep),i,r,u,f,e;if(this.model.orientation==t.orientation.Horizontal?(i=(n+1)*this.model.shapeWidth,r=this.model.shapeHeight):this.model.orientation==t.orientation.Vertical&&(i=this.model.shapeWidth,r=this.model.shapeHeight*n),n>0){for(u=t.buildTag("ul.e-ul","",{width:i+"px",height:r}),f=o;f<n;f++)e=t.buildTag("li.e-shape-list","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight}),t.buildTag("div.e-shape inactive","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight}).appendTo(e),e.appendTo(u);u.appendTo(this._mainDiv)}},_initCurrentValue:function(){var r,i;if(t.isNullOrUndefined(this.model.currentValue)||this.model.currentValue=="")this._CurrentIndex=0;else if(this.model.currentValue>this.model.minValue)for(r=this.model.currentValue/this.model.incrementStep-this.model.minValue/this.model.incrementStep,this._CurrentIndex=r,this._valueRefresh(this._CurrentIndex),i=0;i<r;i++)this._shapes[i]&&n(this._shapes[i]).removeClass("inactive").removeClass("active").addClass("selected")},_valueRefresh:function(i){var r,u;if(i=Math.round(i),r=(this.model.currentValue/this.model.incrementStep).toFixed(1),this.model.orientation==t.orientation.Horizontal){for(r=((r%1).toFixed(1)!=0?(r%1).toFixed(1):r/this._CurrentIndex)*this.model.shapeWidth,u=0;u<i;u++)n(this._shapes[u]).css({width:this.model.shapeWidth+"px"});this._shapes!=null&&n(this._shapes[i-1]).css({width:r+"px"})}else{for(r=((r%1).toFixed(1)!=0?(r%1).toFixed(1):r/this._CurrentIndex)*this.model.shapeHeight,u=0;u<i;u++)n(this._shapes[u]).css({height:this.model.shapeHeight+"px"});this._shapes!=null&&n(this._shapes[i-1]).css({height:r+"px"})}},_reset:function(){if(!this.model.enabled)return!1;n(this._shapes).removeClass("active").removeClass("selected").addClass("inactive"),this.model.currentValue=0,this._CurrentIndex=0,this.element.value=this._CurrValue,this._valueChanged()},_fillExactPrecision:function(i,r){var e=this._shapes.index(i)+this.model.minValue/this.model.incrementStep+1,f=this.model,u;if(f.orientation==t.orientation.Horizontal){for(u=0;u<this._shapes.length;u++)u<e?n(this._shapes[u]).css({width:f.shapeWidth+"px"}):n(this._shapes[u]).css({width:"0px"});n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*f.incrementStep+r/f.shapeWidth*f.incrementStep).toFixed(1)}else{for(u=0;u<e;u++)n(this._shapes[u]).css({height:f.shapeHeight+"px"});for(u=e;u<this._shapes.length;u++)n(this._shapes[u]).css({height:"0px"});n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*f.incrementStep+r/f.shapeHeight*f.incrementStep).toFixed(1)}},_fillHalfPrecision:function(i,r){var e=this._shapes.index(i)+this.model.minValue/this.model.incrementStep+1,u=this.model,f;if(u.orientation==t.orientation.Horizontal){for(f=0;f<this._shapes.length;f++)f<e?n(this._shapes[f]).css({width:u.shapeWidth+"px"}):n(this._shapes[f]).css({width:"0px"});(r+1)%2==0?(r=u.shapeWidth/2,n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeWidth*u.incrementStep).toFixed(1)):(r=u.shapeWidth,n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeWidth*u.incrementStep).toFixed(1))}else{for(f=0;f<this._shapes.length;f++)f<e?n(this._shapes[f]).css({height:this._starHeight+"px"}):n(this._shapes[f]).css({height:"0px"});r<=u.shapeHeight/2?(r=u.shapeHeight/2,n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeHeight*u.incrementStep).toFixed(1)):(r=u.shapeHeight,n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeHeight*u.incrementStep).toFixed(1))}},_ClickHandler:function(i){var u,r,f,e,o;if(this.model.enabled){if(i.target.tagName=="LI"?u=i.target.firstChild:i.target.parentNode.tagName=="LI"&&(u=i.target),u){for(r=this._shapes.index(u)+1,f=0;f<r;f++)this._shapes[f]&&n(this._shapes[f]).removeClass("inactive").removeClass("active").addClass("selected");this._CurrentIndex=r,r=r+this.model.minValue/this.model.incrementStep,e=this.model.incrementStep,o=this.model.orientation==t.orientation.Horizontal?((r-1)*e+u.clientWidth/this.model.shapeWidth*e).toFixed(1):((r-1)*e+u.clientHeight/this.model.shapeHeight*e).toFixed(1),this.element.value=o,this.model.currentValue=o,this.model.click&&this._trigger("click",{event:i,Value:this.model.currentValue}),this._valueChanged()}n(i.target).hasClass("e-reset")&&this._reset()}},_MouseOverHandler:function(t){var u,r,f,e,i;if(this.model.enabled){if(r=t.target,t.type=="touchmove"&&(f=t.originalEvent.changedTouches[0],r=document.elementFromPoint(f.pageX,f.pageY)),r.tagName=="LI")u=r.firstChild;else if(r.parentNode.tagName=="LI")u=r;else return!1;for(e=this._shapes.index(u)+1,i=0;i<=this._shapes.length;i++)this._shapes[i]&&(i<e?n(this._shapes[i]).removeClass("inactive").removeClass("selected").addClass("active"):n(this._shapes[i]).removeClass("active").removeClass("selected").addClass("inactive"));this.model.mouseOver&&this._trigger("mouseOver",{event:t,index:e,Value:this.model.currentValue})}},_MouseOutHandler:function(i){var u,r;if(!this.model.readOnly&&this.model.enabled){if(u=this._CurrentIndex,u!=0)for(r=0;r<this._shapes.length;r++)this._shapes[r]&&(r<u?n(this._shapes[r]).removeClass("active").removeClass("inactive").addClass("selected"):n(this._shapes[r]).removeClass("active").addClass("inactive"));else n(this._shapes).removeClass("active").addClass("inactive");this.model.precision!==t.Rating.Precision.Full&&this._valueRefresh(u),this.model.mouseOut&&this._trigger("mouseOut",{event:i,Value:this.model.currentValue})}this._hideTooltip(1e3)},_MouseMoveHandler:function(i){var u,f,r,e;if(!this.model.readOnly&&this.model.enabled){if(r=i.target,i.type=="touchmove"&&(e=i.originalEvent.changedTouches[0],r=document.elementFromPoint(e.pageX,e.pageY)),r.tagName=="LI")u=r.firstChild;else if(r.parentNode.tagName=="LI")u=r;else return!1;f=this.model.orientation==t.orientation.Horizontal?t.isNullOrUndefined(i.offsetX)?i.pageX-n(r).offset().left:i.offsetX+1:t.isNullOrUndefined(i.offsetY)?i.pageY-n(r).offset().top:i.offsetY+1,this.toolTipValue=(this.model.minValue+(this._shapes.index(u)+1))*this.model.incrementStep,this.model.precision==t.Rating.Precision.Exact?this._fillExactPrecision(u,f):this.model.precision==t.Rating.Precision.Half&&this._fillHalfPrecision(u,Math.round(f))}else this.toolTipValue=(this.model.currentValue==null||this.model.currentValue==""?0:this.model.currentValue)+" / "+this.model.maxValue;this._showhideTooltip(i.target)},_showTooltip:function(i){this.model.showTooltip&&(n(".e-tooltip").remove(),this.tooltip=t.buildTag("div.e-tooltip "+this.model.cssClass+" e-corner-all"),n("body").append(this.tooltip),this._isTooltip=!0,this._setTooltipPosition(i))},_hideTooltip:function(t){this.model.showTooltip&&(n(this.tooltip).fadeOut(t,function(){n(".e-tooltip").remove()}),this._isTooltip=!1)},_showhideTooltip:function(n){this.model.showTooltip&&this._showTooltip(n)},_setTooltipPosition:function(t){if(this.model.showTooltip){this._updateTooltipValue();var f,e,r,u,i,o=5;i=n(t),this.model.orientation=="vertical"?(u=(this.tooltip.outerHeight()-i.outerHeight())/2,r=i.outerWidth()+o,f=i.offset().top-u,e=i.offset().left+r):(r=(this.tooltip.outerWidth()-i.outerWidth())/2,u=this.tooltip.outerHeight()+o,f=i.offset().top-u,e=i.offset().left-r),this.tooltip.css({top:f,left:e})}},_updateTooltipValue:function(){this.tooltip[0].innerHTML=this.toolTipValue},_wireEvents:function(){this.model.readOnly||(this._on(this._mainDiv,"mousedown",this._ClickHandler),this._on(this._mainDiv.find("li"),"mouseenter touchmove",this._MouseOverHandler)),this._on(this._mainDiv.find("li"),"mouseleave touchend",this._MouseOutHandler),this._on(this._mainDiv.find("li"),t.eventType.mouseMove,this._MouseMoveHandler)},_unWireEvents:function(){this._mainDiv.find("li").unbind("mouseenter touchmove"),this._mainDiv.find("li").unbind("mouseleave touchend"),this._mainDiv.unbind("mousedown"),this.model.precision!==t.Rating.Precision.Full&&this._mainDiv.find("li").unbind(t.eventType.mouseMove)},_valueChanged:function(){this.model.valueChanged&&this._trigger("valueChanged",{Value:this.model.currentValue})},reset:function(){this._reset()},show:function(){this._mainDiv.css("visibility","visible")},hide:function(){this._mainDiv.css("visibility","hidden")},showRating:function(){if(!this.model.enabled)return!1;this.show()},hideRating:function(){if(!this.model.enabled)return!1;this.hide()},showResetButton:function(){if(!this.model.enabled)return!1;this._createReset()},hideResetButton:function(){if(!this.model.enabled)return!1;this._mainDiv.find("div.e-reset").hide()},getCurrentValue:function(){return this.model.currentValue==null||this.model.currentValue==""?"":this.model.currentValue},setCurrentValue:function(t){if(!this.model.enabled)return!1;t!=null&&(this.model.currentValue=t,n(this._shapes).removeClass("selected").addClass("inactive"),this._initCurrentValue())},refresh:function(){this._destroy(),this._unWireEvents(),this._initialize()}}),t.Rating.Precision={Full:"full",Half:"half",Exact:"exact"}}(jQuery,Syncfusion),function(n,t){t.widget("ejRotator","ej.Rotator",{element:null,model:null,defaults:{cssClass:"",dataSource:null,query:null,fields:{text:"text",url:"url"},enabled:!0,itemDisplay:"1",itemMove:"1",speed:600,startIndex:"0",autoPlay:!1,slideButton:!0,slideWidth:"",slideHeight:"",frameSpace:"",allowResize:!1,orientation:"horizontal",pagerPosition:"outside",thumbItem:!1,pager:!0,thumbSource:null,caption:!1,allowKeyboardNavigation:!0,rtl:!0,animation:"slide",create:null,change:null,start:null,stop:null,thumbClick:null,pagerClick:null},dataTypes:{cssClass:"string",fields:"object",enabled:"boolean",itemDisplay:"",itemMove:"",speed:"",transitionDelay:"",startIndex:"",autoPlay:"boolean",slideWidth:"",slideHeight:"",frameSpace:"",allowResize:"boolean",orientation:"enum",pagerPosition:"enum",thumbItem:"boolean",thumbSource:"",pager:"boolean",caption:"boolean",rtl:"boolean",allowKeyboardNavigation:"boolean",animation:"string"},observables:["dataSource"],_init:function(){this._initialize(),this.model.dataSource==null&&this._setValues(),this._render(),this._wireEvent()},_initialize:function(){this.element.attr("tabindex",0),this._liCount=null,this.transitionDelay=null,this._animating=!1,this._interval=null,this._thumbCount=null,this._liSize=null,this._containerSize=null,this.containerCss=this.model.orientation==t.orientation.Horizontal?"outerWidth":"outerHeight",this.displayCss=this.model.orientation==t.orientation.Horizontal?"left":"top",n.extend(jQuery.easing,{slowSlide:function(n,t,i,r,u){var f=(t/=u)*t;return i+r*f*f},fastSlide:function(n,t,i,r,u){var f=(t/=u)*t,e=f*t;return i+r*(e*f+-5*f*f+10*e+-10*f+5*t)},slide:function(n,t,i,r,u){var f=(t/=u)*t,e=f*t;return i+r*(6*e*f+-15*f*f+10*e)}})},_setValues:function(){this._setLicount(),this._setSpeed(this.model.speed),this._setVisibleItemCount(this.model.itemDisplay),this._setItemMove(this.model.itemMove),this._setFrameSpace(this.model.frameSpace),this._setSlideWidth(this.model.slideWidth),this._setSlideHeight(this.model.slideHeight),this._changeProperty(),this._setInitial()},_refresh:function(){this._setValues(),this._setDimension(),this._changeSkin()},_refreshControl:function(){this.model.pager?(this._bulletWrapper.remove(),this._createBulletControl()):this.element.parents(".e-in-wrap").siblings().hasClass("e-pager-wrap")&&this._bulletWrapper.remove(),this.model.caption?(this.element.siblings().hasClass("e-caption")&&this._caption.remove(),this._createCaption()):this.element.siblings().hasClass("e-caption")&&this._caption.remove(),this.model.thumbItem?(this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb")&&(this._thumb.remove(),this._thumbControl.remove()),this._createThumb()):this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb")&&(this._thumb.remove(),this._thumbControl.remove()),this._changeSkin()},_checkDataBinding:function(){var n=this.model.dataSource;n!=null&&(this.element.addClass("onloading"),t.DataManager&&n instanceof t.DataManager?this._initDataSource(n):this._renderItems(n)),this._setValues()},_initDataSource:function(n){var t=this,i;i=n.executeQuery(this._getQuery()),i.done(function(n){t._renderItems(n.result)}).fail(function(){t.element.removeClass("onloading")})},_getQuery:function(){var n;if(t.isNullOrUndefined(this.model.query)){n=[],queryManager=t.Query(),mapper=this.model.fields,col;for(col in mapper)col!=="tableName"&&n.push(mapper[col]);n.length>0&&queryManager.select(n),this.model.dataSource.dataSource.url.match(mapper.tableName+"$")||t.isNullOrUndefined(mapper.tableName)||queryManager.from(mapper.tableName)}else queryManager=this.model.query;return queryManager},_renderItems:function(n){this._generateTagItems(n),this.element.removeClass("onloading")},_generateTagItems:function(n){for(var i=this._getMapper(),t=0;t<n.length;t++)this.element.append(this._generateLi(n[t],i))},_getMapper:function(){var n=this.model.fields,t={_text:null,_url:null};return t._text=n&&n.text?n.text:"text",t._url=n&&n.url?n.url:"url",t._attr=n&&n.htmlAttr?n.htmlAttr:"htmlAttr",t},_generateLi:function(i,r){var f=t.buildTag("li"),u;return u=n('<img  src="'+i[r._url]+'"title="'+i[r._text]+'"/>'),this._setAttributes(i[r._attr],u),f.append(u),f},_setAttributes:function(n,t){if(n)for(var i in n)t.attr(i,n[i])},_createWrapper:function(){this._wrapper=t.buildTag("div.e-inner e-"+this.model.orientation).insertBefore(this.element),this.model.dataSource!=null&&this._checkDataBinding(),this._wrapper.append(this.element),this._innerWrapper=t.buildTag("div.e-in-wrap").insertBefore(this._wrapper),this._innerWrapper.append(this._wrapper),this._outerWrapper=t.buildTag("div.e-rotator-wrap e-widget "+this.model.cssClass).insertBefore(this._innerWrapper),this._outerWrapper.append(this._innerWrapper),this.model.enabled||this._outerWrapper.addClass("e-disable")},_refreshTagItems:function(n,t){this.model[n]=t,this.element.children("li").remove(),this._checkDataBinding(),this._cloneItem(),this._refreshControl()},_createButtonControl:function(){this._buttonWrapper=t.buildTag("div.e-nav").insertAfter(this._wrapper),this._prevButton=t.buildTag("span.e-nav-btn e-icon e-previous").appendTo(this._buttonWrapper),this._nextButton=t.buildTag("span.e-nav-btn e-icon e-next").appendTo(this._buttonWrapper),this._buttonWrapper.appendTo(this._wrapper),this._createAutoPlay(),this.model.enabled&&this._wireBtnEvents()},_createAutoPlay:function(){if(!this.model.autoPlay)return!1;this._autoButton=t.buildTag("span.e-nav-btn e-icon play").appendTo(this._buttonWrapper),this.model.enabled&&this._wireAutoPlayEvents()},_createBulletControl:function(){var n;for(this._bulletWrapper=t.buildTag("div.e-pager-wrap").insertAfter(this._innerWrapper),this._bullet=t.buildTag("ul.e-bullet e-default"),n=(this._liCount-this.model.itemDisplay*2)/this.model.itemMove,(this._liCount-this.model.itemDisplay*2)%this.model.itemMove!=0&&n++,i=1;i<=n;i++)t.buildTag("li.e-icon").appendTo(this._bullet);this._bullet.appendTo(this._bulletWrapper),this._setActiveBullet(),this._setPagerposition(this.model.pagerPosition),this.model.enabled&&this._wireBulletEvents()},_createCaption:function(){var i;if(!this.model.caption)return!1;this._caption=t.buildTag("div.e-caption").append(n("<span>")).insertAfter(this._buttonWrapper),i=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize),i--,this._setCaptionText(i)},_createThumb:function(){var r,i;if(this.model.thumbSource!=null){for(this._thumb=this.model.pager?t.buildTag("div.e-thumb").insertAfter(this._bulletWrapper):t.buildTag("div.e-thumb").insertAfter(this._innerWrapper),this._thumbItems=t.buildTag("ul.e-thumb-items e-ul"),i=0;i<n("#"+this.model.thumbSource).children("li").length;i++)r=n("#"+this.model.thumbSource).children("li").eq(i).clone(),r.addClass("e-thumb-ele").removeAttr("style").appendTo(this._thumbItems);this._thumbItems.appendTo(this._thumb),n("#"+this.model.thumbSource).css("display","none"),this._setThumbProperty(),this._setActiveThumb()}},_createThumbControl:function(){this._thumbControl=t.buildTag("div.e-thumb-nav").insertAfter(this._thumb),this._previous=t.buildTag("span.e-thumb-btn e-icon e-previous e-disable").appendTo(this._thumbControl),this._next=t.buildTag("span.e-thumb-btn e-icon e-next e-enable").appendTo(this._thumbControl),this._thumbControl.appendTo(this._outerWrapper),this.model.enabled&&this._wireThumbEvents()},_setSkin:function(n){this._outerWrapper.removeClass(this.model.cssClass).addClass(n)},_cloneItem:function(){for(var n=0,i=t.buildTag("ul"),n=0;n<this.model.itemDisplay;n++)this.element.children("li").eq(n).clone().addClass("clone").appendTo(this.element);for(n=this._liCount-this.model.itemDisplay;n<this._liCount;n++)this.element.children("li").eq(n).clone().addClass("clone").prependTo(i);for(n=0;n<i.children("li").length;n++)i.children("li").eq(n).clone().prependTo(this.element);this._setDimension()},_undoClone:function(){for(i=0;i<this._liCount;i++)this.element.children("li").eq(i).hasClass("clone")&&(this.element.children("li").eq(i).remove(),this._setLicount(),i--)},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i,u=!1,r=!1;for(i in n)switch(i){case"fields":case"query":case"dataSource":this._refreshTagItems(i,n[i]);break;case"enabled":this._changeState(n[i]);break;case"slideWidth":this._setSlideWidth(n[i]),u=!0,r=!0;break;case"slideHeight":this._setSlideHeight(n[i]),u=!0,r=!0;break;case"itemDisplay":this._undoClone(),this._setVisibleItemCount(n[i]),this._cloneItem(),u=!0,r=!0;break;case"itemMove":n[i]=this._validateItemMove(n[i]),this.model.itemMove=n[i],u=!0,r=!0;break;case"pagerPosition":this._setPagerposition(n[i]);break;case"pager":this.model.pager=n[i],r=!0;break;case"thumbItem":this.model.thumbItem=n[i],u=!0,r=!0;break;case"thumbSource":this.model.thumbSource=n[i],u=!0,r=!0;break;case"caption":this.model.caption=n[i],u=!0,r=!0;break;case"allowResize":this.model.allowResize=n[i],this._wireResizeEvents();break;case"orientation":this.model.orientation=n[i],this._setOrientation(n[i]);break;case"speed":this._setSpeed(n[i]);break;case"frameSpace":this._setFrameSpace(n[i]),u=!0,r=!0;break;case"autoPlay":this.model.autoPlay=n[i],this._setAutoplay(n[i]),this._changeSkin();break;case"startIndex":this.model.startIndex=n[i],u=!0,r=!0;break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=n[i],this._wireKeyboardEvents();break;case"slideButton":this.model.slideButton=n[i],this._setSlideButton(n[i]),this._changeSkin();break;case"animation":this.model.animation=n[i],this._setSpeed(this.model.speed);break;case"cssClass":this._setSkin(n[i]);break;case"rtl":this.model.rtl=n[i]}u&&this._refresh(),r&&this._refreshControl()},_setDimension:function(){this._setLicount(),this._setUlInitial(),this._setWidth(),this._setHeight(),this._setContainerPercent(),this._changeProperty()},_render:function(){this._createWrapper(),this._cloneItem(),this.model.slideButton&&this._createButtonControl(),this._createCaption(),this.model.pager&&this._createBulletControl(),this.model.thumbItem&&this._createThumb(),this._outerWrapper.find(this.element).addClass("e-ul"),this._changeSkin()},_setWidth:function(){this._containerWidth=this.model.orientation=="horizontal"?parseInt(this.model.slideWidth)*this.model.itemDisplay+parseInt(this.model.frameSpace)*(parseInt(this.model.itemDisplay)-1):this.model.slideWidth,this.element.parent().css("width",this._containerWidth),this.element.parents(".e-in-wrap").css("width",this._containerWidth),this.element.parents(".e-rotator-wrap").css("width",this._containerWidth),this._changeProperty()},_setHeight:function(){this._containerHeight=this.model.orientation=="vertical"?parseInt(this.model.slideHeight)*this.model.itemDisplay+parseInt(this.model.frameSpace)*(parseInt(this.model.itemDisplay)-1):this.model.slideHeight,this.element.parent().css("height",this._containerHeight),this._changeProperty()},_setUlInitial:function(){this.model.orientation==t.orientation.Horizontal?this.element.css({width:this._liCount*this._liWidth,height:this._liHeight}):this.element.css({height:this._liCount*this._liHeight,width:this._liWidth})},_setInitial:function(){this.element.css(this.displayCss,-(this._liSize*this.model.itemDisplay)-this.model.startIndex*this.model.itemMove*this._liSize)},_setBegin:function(){this.element.css(this.displayCss,-(this._liSize*this.model.itemDisplay))},_setSlideWidth:function(n){isNaN(parseInt(n))?this.model.slideWidth=this._getMaxSize("width"):(n=n.toString(),this.model.slideWidth=this._checkValue(n,"width")),this.element.children("li").css("width",this.model.slideWidth),this._liWidth=this.element.children("li").outerWidth(!0)},_setSlideHeight:function(n){isNaN(parseInt(n))?this.model.slideHeight=this._getMaxSize("height"):(n=n.toString(),this.model.slideHeight=this._checkValue(n,"height")),this.element.children("li").css("height",this.model.slideHeight),this._liHeight=this.element.children("li").outerHeight(!0)},_setPagerposition:function(n){this.model.pager&&(this._bullet.removeClass("e-default e-thumb-pos e-topleft e-topright e-bottomleft e-bottomright e-topCenter e-outside"),this._bullet.addClass("e-"+n),(n=="bottomleft"||n=="bottomright")&&this.model.thumbItem&&this.model.thumbSource!=null&&this._bullet.addClass("e-thumb-pos"))},_setCaptionText:function(n){this.model.caption&&this._caption.children().html(this.element.children("li").eq(++n).children("img").attr("title"))},_setAutoplay:function(n){n?this._createAutoPlay():this._autoButton!=null&&(this._setPause(),this._autoButton.remove())},_setSlideButton:function(n){n?this._createButtonControl():(this._prevButton.remove(),this._nextButton.remove())},_setOrientation:function(n){this._wrapper.removeClass("e-"+this.model.orientation).addClass("e-"+n),this._setFrameSpace(this.model.frameSpace),this._refresh(),this.model.orientation==t.orientation.Horizontal?this.element.css({left:-(Math.round(-this.element.position().top/this._liHeight)*this._liSize),top:0}):this.element.css({top:-(Math.round(-this.element.position().left/this._liWidth)*this._liSize),left:0})},_setActiveBullet:function(){var n=Math.round(-Math.round(this.element.position()[this.displayCss])/(this._liSize*this.model.itemDisplay));this.model.itemMove<this.model.itemDisplay&&(n=-(Math.round(this.element.position()[this.displayCss])+this._liSize*this.model.itemDisplay)/(this._liSize*this.model.itemMove)),n=this.model.itemMove==this.model.itemDisplay?n-1:n,this._bullet.children().eq(n).addClass("e-active")},_setActiveThumb:function(){var n=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize);n--,this._thumbItems.children().eq(n).addClass("e-active"),this._transferThumb(n)},_checkValue:function(t,i){return t.indexOf("%")>0&&(Math.round(parseInt(t))=="100"&&(this.model.itemDisplay=1,this._setVisibleItemCount(this.model.itemDisplay)),t=this._convertPercentageToPixel(n(this.element[0]).parent()[i](),parseInt(t))),t},_convertPercentageToPixel:function(n,t){return Math.round(t*n/100)},_convertPixelToPercentage:function(n,t){return Math.round(t/n*100)},_changeProperty:function(){this.containerCss=this.model.orientation==t.orientation.Horizontal?"outerWidth":"outerHeight",this.displayCss=this.model.orientation==t.orientation.Horizontal?"left":"top",this.model.orientation==t.orientation.Horizontal?(this._liSize=this._liWidth,this._containerSize=this._containerWidth):(this._liSize=this._liHeight,this._containerSize=this._containerHeight)},_setFrameSpace:function(n){isNaN(parseInt(n))?this.model.frameSpace="0px":(this.model.frameSpace=n,this.model.orientation==t.orientation.Horizontal?this.element.children("li").css({"margin-right":n,"margin-bottom":0}):this.element.children("li").css({"margin-bottom":n,"margin-right":0}))},_setLicount:function(){this._liCount=this.element.children("li").length},_setVisibleItemCount:function(n){this.model.itemDisplay=n,this.model.itemMove=this.model.itemMove<=this.model.itemDisplay?this.model.itemMove:this.model.itemDisplay,this._checkAndSet()},_checkAndSet:function(){(this.model.itemDisplay>1||this.model.itemMove>1)&&(this.model.thumbItem&&(this.model.thumbItem=!1),this.model.caption&&(this.model.caption=!1))},_changeSkin:function(){var n;this.model.itemDisplay>1||this.model.itemMove>1?(this._innerWrapper.addClass("e-multiple"),this._wrapper.removeClass("e-single")):(this._innerWrapper.removeClass("e-multiple"),this._wrapper.addClass("e-single")),this.model.autoPlay&&this._autoButton.css({left:(this._innerWrapper.outerWidth(!0)/2-this._autoButton.width()/2)/this._innerWrapper.outerWidth(!0)*100+"%",top:(this._innerWrapper.outerHeight(!0)/2-this._autoButton.height()/2)/this._innerWrapper.outerHeight(!0)*100+"%"}),this.model.slideButton&&(n=(this._innerWrapper.outerHeight(!0)/2-this._prevButton.height()/2)/this._innerWrapper.outerHeight(!0)*100+"%",this._prevButton.css("top",n),this._nextButton.css("top",n)),this.model.thumbItem&&this.model.thumbSource!=null&&this._previous!=null&&this._next!=null&&(n=this._outerWrapper.outerHeight(!0)+this._thumbItems.children("li").outerHeight(!0)/2-this._thumbItems.children("li").outerHeight(!0)-this._previous.height()/2,n=n/this._outerWrapper.outerHeight(!0)*100+"%",this._previous.css("top",n),this._next.css("top",n))},_setItemMove:function(n){this.model.itemMove=this._validateItemMove(n),this._checkAndSet()},_validateItemMove:function(n){return n<=this.model.itemDisplay?n:this.model.itemDisplay},_setPlay:function(){this._autoButton.hasClass("play")&&(this._autoButton.removeClass("play").addClass("pause"),this._raiseEvent("start"))},_setPause:function(){this._autoButton.hasClass("pause")&&(this._autoButton.removeClass("pause").addClass("play"),clearInterval(this._interval),this._raiseEvent("stop"))},_setContainerPercent:function(){this._containerPercent=this._convertPixelToPercentage(this.element.parents(".e-rotator-wrap").parent().width(),this.element.parent().width())},_setSpeed:function(n){var t=500;this.transitionDelay=this.model.animation!="slideshow"?n+t:n*2+t},_setThumbProperty:function(){var t,n,i;n=this._thumbItems.children("li").outerWidth(!0),t=this.element.parent().outerWidth(!0)-this.element.parent().outerWidth(!0)*12/100,this._thumb.css("width",t),this._thumbCount=Math.floor(this._thumb.innerWidth()/n),i=Math.round(this.element.parent().outerWidth(!0)*6/100)+Math.floor((t-this._thumbCount*n)/2),this._thumb.css({"margin-left":i,"margin-right":i,width:this._thumbCount*n}),this._thumbItems.css({width:this._thumbItems.children("li").length*n,height:this._thumbItems.children("li").outerHeight(!0)}),this._checkState()},_checkState:function(){this._thumbCount<this._liCount-this.model.itemDisplay*2?this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb-nav")||this._createThumbControl():this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb-nav")&&this._thumbControl.remove()},_removeActiveItem:function(){this.model.pager&&this._bullet.children().removeClass("e-active"),this.model.thumbItem&&this._thumbItems.children().removeClass("e-active")},_setActiveItem:function(n){if(this.model.pager&&this._bullet.children().eq(n).addClass("e-active"),this.model.thumbItem)for(this._thumbItems.children().eq(n).addClass("e-active"),this._transferThumb(n),i=0;i<this._thumbItems.children("li").length;i++)this._thumbItems.children("li").eq(i).hasClass("e-thumbhover")&&this._thumbItems.children("li").eq(i).removeClass("e-thumbhover")},_transferThumb:function(n){var t,i;this.model.thumbItem&&(t=n*this._thumbItems.children("li").outerWidth(!0)- -this._thumbItems.position().left,i=-this._thumbItems.position().left+this._thumb.width(),this._thumbItems.width()-i>t?this._thumbMove(t):this._thumbMove(this._thumbItems.width()-i))},_changeThumbControl:function(t){var i;this.model.thumbItem&&this.model.thumbSource!=null&&(i=n("#"+this.model.thumbSource).children("li").length,t*this._thumbItems.children("li").outerWidth(!0)>0?this._previous.hasClass("e-disable")&&this._previous.removeClass("e-disable").addClass("e-enable"):this._previous.hasClass("e-enable")&&this._previous.removeClass("e-enable").addClass("e-disable"),t*this._thumbItems.children("li").outerWidth(!0)<(i-this._thumbCount)*this._thumbItems.children("li").outerWidth(!0)?this._next.hasClass("e-disable")&&this._next.removeClass("e-disable").addClass("e-enable"):this._next.hasClass("e-enable")&&this._next.removeClass("e-enable").addClass("e-disable"))},_getMaxSize:function(n){for(var t=0,r=0,i=0,u=this,i=0;i<this._liCount;i++)r=this.element.children("li").eq(i)[n](),t=r>t?r:t;return t},_calculateValue:function(){return this._convertPercentageToPixel(this._containerWidth-(this.model.itemDisplay-1)*parseInt(this.model.frameSpace),100/this.model.itemDisplay)},_changeState:function(n){n?this.enable():this.disable()},_findActive:function(){var t,n;if(this.model.pager){for(n=0;n<this._bullet.children("li").length;n++)if(this._bullet.children("li").eq(n).hasClass("e-active"))return n}else if(this.model.thumbItem){for(n=0;n<this._thumbItems.children("li").length;n++)if(this._thumbItems.children("li").eq(n).hasClass("e-active"))return n}else this.model.pager||this.model.thumbItem||(t=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize));return t--,t},_wireEvent:function(){if(!this.model.enabled)return!1;this._wrapper.bind("mouseenter",n.proxy(this._showControl,this)),this._wrapper.bind("mouseleave",n.proxy(this._hideControl,this)),this._wireKeyboardEvents(),this._wireResizeEvents(),this._on(this._wrapper,"swiperight swipeleft swipedown swipeup",{control:!0},this._touchOperations),this.model.thumbSource&&this._on(this._thumb,"swiperight swipeleft",{control:!1},this._touchOperations)},_wireKeyboardEvents:function(){this.model.allowKeyboardNavigation?(this._outerWrapper.bind("focusin",n.proxy(this._onFocusIn,this)),this._outerWrapper.bind("focusout",n.proxy(this._onFocusOut,this))):(this._outerWrapper.unbind("focusin",n.proxy(this._onFocusIn,this)),this._outerWrapper.unbind("focusout",n.proxy(this._onFocusOut,this)))},_wireBtnEvents:function(){this.model.slideButton?(this._prevButton.bind("click",n.proxy(this._prevAction,this)),this._nextButton.bind("click",n.proxy(this._nextAction,this))):(this._prevButton.unbind("click",n.proxy(this._prevAction,this)),this._nextButton.unbind("click",n.proxy(this._nextAction,this)))},_wireAutoPlayEvents:function(){this.model.autoPlay?this._on(this._autoButton,"click",this._autoPlay):this._off(this._autoButton,"click",this._autoPlay)},_wireResizeEvents:function(){this.model.allowResize?n(window).bind("resize",n.proxy(this._resizeEvent,this)):n(window).unbind("resize",n.proxy(this._resizeEvent,this))},_wireThumbEvents:function(){this.model.thumbItem?(this._on(this._thumbItems.children(),"click",this._thumbClick),this._on(this._next,"click",this._thumbNext),this._on(this._previous,"click",this._thumbPrev)):(this._off(this._thumbItems.children(),"click",this._thumbClick),this._off(this._next,"click",this._thumbNext),this._off(this._previous,"click",this._thumbPrev))},_wireBulletEvents:function(){this.model.pager?this._on(this._bullet.children(),"click",this._bulletClick):this._off(this._bullet.children(),"click",this._bulletClick)},_thumbNext:function(){var t=this,n;if(!this.model.enabled)return!1;this._previous.hasClass("e-disable")&&this._previous.removeClass("e-disable").addClass("e-enable"),n=-Math.round(this._thumbItems.position().left)+this._thumb.width(),this._thumbItems.width()-n>=this._thumbItems.children("li").outerWidth(!0)&&this._thumbMove(this._thumbItems.children("li").outerWidth(!0)),this._thumbItems.width()-n<=this._thumbItems.children("li").outerWidth(!0)&&this._next.removeClass("e-enable").addClass("e-disable")},_thumbMove:function(n){var t=this;t._thumbItems.animate({left:"-="+n+"px"},600,function(){t._thumbItems.stop(!0,!0)})},_thumbPrev:function(){var i=this,t,n;if(!this.model.enabled)return!1;this._next.hasClass("e-disable")&&this._next.removeClass("e-disable").addClass("e-enable"),t=Math.round(this._thumbItems.position().left),n=this._thumbItems.children("li").outerWidth(!0),-t>=n&&this._thumbMove(-n),-t<=n&&this._previous.removeClass("e-enable").addClass("e-disable")},_findLength:function(){var t=this,n;return this.model.thumbItem&&(n=t._thumbItems.children("li").length-1),this.model.pager&&(n=t._bullet.children("li").length-1),this.model.pager||this.model.thumbItem||(n=this.element[this.containerCss]()/this._liSize-this.model.itemDisplay*2),n},_changeActiveState:function(n){var t=this,i,r;i=t._findActive(),r=t._findLength(),t._removeActiveItem(),n=="prev"?i>0&&this.model.animation!="slideshow"?(t._setActiveItem(i-1),this.model.animation!="slideshow"&&this._setCaptionText(i-1)):(t._setActiveItem(r),this.model.animation!="slideshow"&&this._setCaptionText(r)):i<r?(t._setActiveItem(i+1),this.model.animation!="slideshow"&&this._setCaptionText(i+1)):(t._setActiveItem(0),this.model.animation!="slideshow"&&this._setCaptionText(0))},_moveSlide:function(n,t){var i=this,e,o,r,u,f={};e=this.model.animation!="slideshow"?this.model.animation:"slideshow",o=this.model.animation!="slideshow"?i.model.speed:0,r=i._findActive(),u=i._findLength(),f[this.displayCss]=i.element.position()[i.displayCss],f[this.displayCss]-=n,r=t=="next"?r<u?r+1:0:t=="prev"?r>0?r-1:u:0,this.model.animation=="slideshow"&&(i.element.fadeOut(i.model.speed/2),i.model.caption&&i._caption.fadeOut(i.model.speed/2)),i.element.animate(f,o,e,function(){t=="end"&&i._setBegin(),i._animating=!1,i._setCaptionText(r)}),this.model.animation=="slideshow"&&(i.element.fadeIn(i.model.speed/2),i.model.caption&&i._caption.fadeIn(i.model.speed/2))},_moveNext:function(){var n=this,i,r,t,u;return(n._animating=!0,i=Math.round(n.element.position()[n.displayCss]),r=n.model.itemDisplay*n._liSize-n._liCount*n._liSize,t=Math.round(n.element.position()[n.displayCss])+n.element[n.containerCss](),n._calculateItemMove(),i>r&&t-n._containerSize>n._move+parseInt(n.model.frameSpace))?{move:n._move,action:"next"}:t-n._containerSize<=n._move+parseInt(n.model.frameSpace)?(u=t-n._containerSize-parseInt(n.model.frameSpace),{move:u,action:"end"}):void 0},_movePrev:function(){var n=this,i,u,f,r;return i=Math.round(n.element.position()[n.displayCss]),u=n.element.position()[n.displayCss],+n.element[n.containerCss](),f=n.element[n.containerCss](),n._calculateItemMove(),u<f&&-i>n.model.itemDisplay*n._liSize?{move:-n._move,action:"prev"}:(r=n.model.itemDisplay*n._liSize*2+i-n._liCount*n._liSize,n._move=(n._liCount-n.model.itemDisplay*2)%n.model.itemMove*n._liSize,n._move==0&&n._calculateItemMove(),n.model.orientation==t.orientation.Horizontal?n.element.css("left",r):n.element.css("top",r),{move:-n._move,action:"prev"})},_autoPlay:function(){if(!this.model.enabled)return!1;var n=this,t,i;if(this._autoButton.hasClass("play")){this._setPlay(),i=function(){n._animating=!0,t=n.model.rtl?n._moveNext():n._movePrev(),n._moveSlide(t.move,t.action),n._changeActiveState(t.action),n._changeThumbControl(n._findActive()),n._raiseEvent("change")};function r(n,t){return n(),setInterval(n,t)}this._animating||(this._interval=r(i,this.transitionDelay))}else this._setPause()},_nextAction:function(){if(!this.model.enabled)return!1;var n=this,i,r,t;r=function(){t=n._moveNext(),n._moveSlide(t.move,t.action),clearInterval(i),n._changeActiveState("next"),n._changeThumbControl(n._findActive()),n._raiseEvent("change")},this.model.autoPlay&&this._autoButton.hasClass("pause")&&this._setPause(),this._animating||(this._animating=!0,i=setInterval(r,""))},_prevAction:function(){if(!this.model.enabled)return!1;var n=this,i,r,t;r=function(){t=n._movePrev(),n._moveSlide(t.move,t.action),clearInterval(i),n._changeActiveState("prev"),n._changeThumbControl(n._findActive()),n._raiseEvent("change")},this.model.autoPlay&&this._autoButton.hasClass("pause")&&this._setPause(),this._animating||(this._animating=!0,i=setInterval(r,""))},_touchOperations:function(n){var r=!n.data.control,t,i=this.model.orientation;r?t=n.type=="swipeleft"?"left":"right":i=="horizontal"&&n.type=="swipeleft"||i=="vertical"&&n.type=="swipeup"?t="left":(i=="horizontal"&&n.type=="swiperight"||i=="vertical"&&n.type=="swipedown")&&(t="right"),t=="left"?r?this._thumbNext():this.nextSlide():t=="right"&&(r?this._thumbPrev():this.previousSlide())},_resizeEvent:function(){var n,t;if(!this.model.enabled)return!1;n=Math.round(-Math.round(this.element.position().left)/this._liSize),t=Math.round(this.element.parents(".e-rotator-wrap").parent().width()),this._containerWidth=this._convertPercentageToPixel(t,this._containerPercent),this._setSlideWidth(this._calculateValue().toString()),this._setWidth(),this.element.css("left",-(n*this._liSize)),this._setUlInitial(),this.model.thumbItem&&this.model.thumbSource!=null&&this._setThumbProperty()},_calculateItemMove:function(){isNaN(this.model.itemMove)?(this.model.itemMove=1,this._move=this._liSize*this.model.itemMove):this._move=this._liSize*this.model.itemMove},_thumbClick:function(t){var i;if(!this.model.enabled)return!1;this.model.autoPlay&&this._autoButton.hasClass("pause")&&this._setPause(),this._removeActiveItem(),i=t.target.className=="e-thumb-ele e-thumbhover"||t.target.className=="e-thumb-ele"?this._thumbItems.children("li").index(n(t.target)):this._thumbItems.children("li").index(n(t.target).parents(".e-thumb-ele")),this._changeThumbControl(i),this._raiseEvent("thumbClick"),this._setActiveItem(i),this._moveSlideContent(this.element.position()[this.displayCss],-(this.model.itemDisplay*this._liSize+i*this.model.itemMove*this._liSize),i)},_bulletClick:function(n){var t;if(!this.model.enabled)return!1;this.model.autoPlay&&this._autoButton.hasClass("pause")&&this._setPause(),this._removeActiveItem(),t=this._bullet.children("").index(n.target),this._changeThumbControl(t),this._setActiveItem(t),this._moveSlideContent(this.element.position()[this.displayCss],-(this.model.itemDisplay*this._liSize+t*this.model.itemMove*this._liSize),t),this._raiseEvent("pagerClick")},_moveSlideContent:function(n,t,i){var r=this,f,e,u={};e=this.model.animation!="slideshow"?this.model.animation:"slideshow",f=this.model.animation!="slideshow"?r.model.speed:0,u[this.displayCss]=r.element.position()[r.displayCss],u[this.displayCss]+=t-n,this.model.animation=="slideshow"&&(r.element.fadeOut(r.model.speed/2),r.model.caption&&r._caption.fadeOut(r.model.speed/2)),r.element.animate(u,f,e,function(){r._setCaptionText(i)}),this.model.animation=="slideshow"&&(r.element.fadeIn(r.model.speed/2),r.model.caption&&r._caption.fadeIn(r.model.speed/2)),r._raiseEvent("change")},_destroy:function(){this._undoClone(),this.element.removeAttr("style").insertAfter(this._outerWrapper),this.element.children().removeAttr("style"),this._outerWrapper.remove()},_raiseEvent:function(n){return this.model[n]?this._trigger(n,{index:this._findActive(),id:this.element.attr("id")}):!1},_showControl:function(n){if(!this.model.enabled)return!1;this.model.slideButton&&(this._prevButton.stop(!0,!0).fadeIn("slow"),this._nextButton.stop(!0,!0).fadeIn("slow")),this.model.autoPlay&&this._autoButton.stop(!0,!0).fadeIn("slow"),this.model.caption&&this._caption!=null&&this._caption.stop(!0,!0).fadeIn("slow"),n.stopPropagation()},_hideControl:function(n){if(!this.model.enabled)return!1;this.model.slideButton&&(this._prevButton.stop(!0,!0).fadeOut("slow"),this._nextButton.stop(!0,!0).fadeOut("slow")),this.model.autoPlay&&this._autoButton.stop(!0,!0).fadeOut("slow"),this.model.caption&&this._caption!=null&&this._caption.stop(!0,!0).fadeOut("slow"),n.stopPropagation()},_onFocusIn:function(){if(!this.model.enabled)return!1;this._outerWrapper.addClass("e-Focused"),n(this._outerWrapper).bind("keydown",n.proxy(this._focuseHandle,this))},_onFocusOut:function(){this._outerWrapper.removeClass("e-Focused"),n(this._outerWrapper).unbind("keydown",n.proxy(this._focuseHandle,this))},_focuseHandle:function(n){if(!this.model.enabled)return!1;if(this._outerWrapper.hasClass("e-Focused")){n.keyCode=n.altKey&&(n.keyCode==37||n.keyCode==40)?1e3:n.keyCode,n.keyCode=n.altKey&&(n.keyCode==38||n.keyCode==39)?1001:n.keyCode;switch(n.keyCode){case 37:case 40:n.preventDefault(),this._prevAction();break;case 38:case 39:n.preventDefault(),this._nextAction();break;case 32:n.preventDefault(),this._autoPlay();break;case 1e3:n.preventDefault(),this._thumbPrev(),this._thumbHover("prev");break;case 1001:n.preventDefault(),this._thumbNext(),this._thumbHover("next");break;case 13:for(n.preventDefault(),i=0;i<this._thumbItems.children("li").length;i++)this._thumbItems.children("li").eq(i).hasClass("e-thumbhover")&&this.gotoIndex(i)}}},_thumbHover:function(n){var u=this,t=null,r;for(i=0;i<this._thumbItems.children("li").length;i++)if(this._thumbItems.children("li").eq(i).hasClass("e-thumbhover")){t=i,this._thumbItems.children("li").eq(i).removeClass("e-thumbhover");break}t==null&&(t=this._findActive()),r=u._findLength(),n=="prev"?t>0?this._thumbItems.children().eq(--t).addClass("e-thumbhover"):this._thumbItems.children().eq(0).addClass("e-thumbhover"):t<r?this._thumbItems.children().eq(++t).addClass("e-thumbhover"):this._thumbItems.children().eq(r).addClass("e-thumbhover")},enable:function(){this.model.enabled||(this.model.enabled=!0,this._outerWrapper.removeClass("e-disable"))},disable:function(){this.model.enabled&&(this.model.enabled=!1,this._outerWrapper.addClass("e-disable"),this.model.autoPlay&&this._setPause())},nextSlide:function(){this.model.enabled&&this._nextAction()},previousSlide:function(){this.model.enabled&&this._prevAction()},play:function(){this.model.enabled&&this.model.autoPlay&&this._autoPlay()},pause:function(){this.model.enabled&&this.model.autoPlay&&this._setPause()},getIndex:function(){var n,i,r="",t;if(this.model.itemDisplay>1){for(n=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize),n--,i=this._liCount-this.model.itemDisplay*2,n=n-(this.model.itemDisplay-1),t=0;t<this.model.itemDisplay;t++)n<i?(r+="  "+n.toString(),0,n++):(n=0,t--);return r}return this._findActive()},gotoIndex:function(n){this.model.autoPlay&&this._autoButton.hasClass("pause")&&this._setPause(),this._removeActiveItem(),this.model.thumbItem&&this._changeThumbControl(n),this._setActiveItem(n),this._moveSlideContent(this.element.position()[this.displayCss],-(this.model.itemDisplay*this._liSize+n*this.model.itemMove*this._liSize),n)}}),t.Rotator.pagerPosition={TopLeft:"topleft",TopRight:"topright",BottomLeft:"bottomleft",BottomRight:"bottomright",TopCenter:"topCenter",Outside:"outside"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejSplitter","ej.Splitter",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-splitter",defaults:{cssClass:"",orientation:"horizontal",properties:[],height:null,width:null,windowResizing:!1,rtl:!1,animationSpeed:300,beforeExpandCollapse:null,expandCollapse:null,resize:null},dataTypes:{cssClass:"string",orientation:"enum",properties:"data",windowResizing:"boolean",rtl:"boolean",animationSpeed:"number"},_init:function(){this._initialize(),this._render(),this._wireEvents(this.model.windowResizing)},_setModel:function(n){var t;for(t in n)switch(t){case"cssClass":this._changeSkin(n[t]);break;case"windowResizing":this._windowResizing(n[t]);break;case"rtl":this._rtl(n[t]);break;case"orientation":this._setOrientation(n[t])}},refresh:function(){this._setPanesSize(),this._getPanesPercent()},collapse:function(n){this._clickArrow(n,!0,!0)},expand:function(n){this._clickArrow(n,!1,!0)},_clickArrow:function(t,i,r){if(this._inMovement||t<0||t>this.panes.length)return!1;var u,e=i?"e-collapse":"e-expand",f=this.element.children(".e-splitbar");if(u=t==f.length?this._clickArrow(t-1,!i,!1):n(f[t]).children("."+e),r)u.css("display")!="none"&&u.mousedown();else return u},addPane:function(i,r,u){var o=this.panes.length,r,f,d,c,b,h,k,nt;if(u=this._getNumber(u),t.isNullOrUndefined(u)&&(u=o),u<0||u>o)return"";r=this._getPaneProperty(r),f=t.buildTag("div.e-pane e-"+this.model.orientation.substr(0,1)+"-pane"),this.element.append(f[this.containerCss](r.paneSize)),d=r.paneSize=f[this.containerCss](),f.remove();var l=u,g=o,e,a,v,y,s={},p=0,w=!1;for(c=d+this._bar,a=0;a<2;a++){for(e=l;e<g;e++)if(b=n(this.panes[e])[this.containerCss](),h=b-this.model.properties[e].minSize,h>=c-p){s[e]=b-(c-p),w=!0;break}else h>0&&(s[e]=this.model.properties[e].minSize,p+=h);if(w)break;else g=l,l=0}if(!w)return"";for(k in s)n(this.panes[k])[this.containerCss](s[k]);return u==o?(v="insertBefore",y=1,f.insertAfter(n(this.panes[u-1]))):(v="insertAfter",y=0,f.insertBefore(n(this.panes[u]))),this.model.properties.splice(u,0,r),this.panes.splice(u,0,f),nt=this._createSplitBar(u-y),nt[v](f),f.append(i),this._updateModel(),f},removePane:function(i){var u=this.panes.length-1,f,r,e,o;if(i=this._getNumber(i),t.isNullOrUndefined(i)&&(i=u),i<0||i>u)return null;f=n(this.panes[i]),o=f[this.containerCss]()+this._bar,f.remove(),e=this.element.children(".e-splitbar:not(.e-shadowbar)"),i==u?(r=n(this.panes[i-1]),n(e[i-1]).remove()):(r=n(this.panes[i+1]),n(e[i]).remove()),r[this.containerCss](r[this.containerCss]()+o),this._removeArrays(i),this._updateModel()},_removeArrays:function(n){this.model.properties.splice(n,1),this.panes.splice(n,1),this.oldPaneSize.splice(n,1),this.oldPanePercent.splice(n,1),this._sizePercent.splice(n,1)},_getNumber:function(n){return n=parseFloat(n),isNaN(n)?null:n},_updateModel:function(){for(var t=0;t<this.panes.length;t++)this.model.properties[t].paneSize=n(this.panes[t])[this.containerCss]();this._getPanesPercent()},_getPaneProperty:function(t){return n.extend({paneSize:10,minSize:10,maxSize:null,collapsible:!0,resizable:!0},t)},_changeSkin:function(n){this.element.removeClass(this.model.cssClass).addClass(n)},_windowResizing:function(n){n?this._wireEvents(n):this._unWireEvents()},_setOrientation:function(n){this._unWireEvents(),this._destroy(),this.model.orientation=n,this._init()},_destroy:function(){this.element.removeClass("e-widget "+this.model.cssClass+" e-"+this.model.orientation),this.element.children(".e-splitbar").remove(),this.element.children(".e-pane").removeClass("e-pane e-"+this.model.orientation.substr(0,1)+"-pane").height("").width("")},_initialize:function(){this.panes=[],this.oldPaneSize=[],this.oldPanePercent=[],this.shadowBar=null,this._inMovement=!1,this.containerCss=this.model.orientation=="horizontal"?"width":"height",this.displayCss=this.model.orientation=="horizontal"?"left":"top",this._bar=7},_render:function(){this.element.addClass("e-widget "+this.model.cssClass+" e-"+this.model.orientation);for(var i=this.element[0],t=0,r=0;t<i.children.length;t++)n(i.children[t]).addClass("e-pane e-"+this.model.orientation.substr(0,1)+"-pane"),this.panes.push(i.children[t]);this._setPanesProperty(),this._insertSplitBar(),this._setDimentions(),this._setPanesSize(),this._getPanesPercent(),this._checkProperties()},_setPanesProperty:function(){for(var n=0;n<this.panes.length;n++)this.model.properties[n]!=i?(this.model.properties[n].paneSize=this.model.properties[n].paneSize==i?"0px":this.model.properties[n].paneSize,this.model.properties[n].minSize=isNaN(parseFloat(this.model.properties[n].minSize))?10:parseFloat(this.model.properties[n].minSize),this.model.properties[n].maxSize=isNaN(parseFloat(this.model.properties[n].maxSize))?null:parseFloat(this.model.properties[n].maxSize),this.model.properties[n].collapsible=this.model.properties[n].collapsible!=!1?!0:!1,this.model.properties[n].resizable=this.model.properties[n].resizable!=!1?!0:!1):this.model.properties.push({paneSize:"0px",minSize:10,maxSize:null,collapsible:!0,resizable:!0})},_insertSplitBar:function(){if(this.panes.length>1)for(var t,n=0;n<this.panes.length-1;n++)t=this._createSplitBar(n),t.insertAfter(this.panes[n])},_createSplitBar:function(n){var r=this.model.orientation.substr(0,1),u,f,i;return i=t.buildTag("span.e-splitbar e-"+r+"-bar"),this.model.properties[n].collapsible&&this.model.properties[n+1].collapsible&&(u=t.buildTag("span.e-collapse e-"+r+"-arrow "+r+"-backward"),i.append(u),f=t.buildTag("span.e-expand e-"+r+"-arrow "+r+"-forward"),i.append(f),this._on(u,"mousedown",this._collapseArrowClick),this._on(f,"mousedown",this._expandArrowClick)),this.model.properties[n].resizable&&this.model.properties[n+1].resizable&&(i.addClass("e-resize"),this._on(i,t.eventType.mouseDown,this._mouseDownOnDivider)),i},_getPanesPercent:function(){this._sizePercent=[];for(var r=this.element[this.containerCss](),i=r-(this.panes.length-1)*this._bar,t=0;t<this.panes.length;t++)n(this.panes[t]).hasClass("collapsed")||(this.oldPaneSize[t]=n(this.panes[t])[this.containerCss]()),this.oldPanePercent[t]=this._convertToPercent(i,this.oldPaneSize[t]),this._sizePercent.push(this._convertToPercent(i,n(this.panes[t])[this.containerCss]()))},_setDimentions:function(){this.model.height&&this.element.css("height",this.model.height),this.model.width&&this.element.css("width",this.model.width)},_checkProperties:function(){this.model.rtl&&this._rtl(this.model.rtl),this._prevSize=this.element[this.containerCss]()},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setPanesSize:function(){var r=this.containerCss,l=0,t=0,f=this.element[r](),p=!1,e=this._bar,v=[],o,i,u=this.panes.length,a,w,s,h,c,y;if(u>1)for(i=0;i<u;i++)n(this.panes[i]).css(r,this.model.properties[i].paneSize),e=i==u-1?0:e,o=Math.round(n(this.panes[i])[r]()),o<=0?(l++,v.push(i),t+=e):p?(n(this.panes[i]).css(r,0),t+=o+e,this.model.properties[i].paneSize=0):(t+=o+e,t>f&&(t-=o-e,a=f-t,w=u-i-1,a-=w*e,n(this.panes[i]).css(r,a),p=!0,t+=a+e),this.model.properties[i].paneSize=o);else u==1&&(n(this.panes[0]).css(r,"100%"),t=f);if(u>1&&t!=f)if(h=n(this.panes[u-1]),t>f)s=t-f,h.css(r,s);else if(t<f)if(s=f-t,l>0)for(y=Math.round(s/l),c=0;c<l;c++)n(this.panes[v[c]]).css(r,y),this.model.properties[v[c]].paneSize=y;else h.css(r,Math.round(h[r]()+s)),this.model.properties[u-1].paneSize=h[r]();u>1&&this._checkPaneSize()},_getUnit:function(n){return n=="px"?"px":n=="pt"?"pt":n.substr(1)=="%"?"%":"px"},_getNormalValue:function(n){var i,t,r,u;return this.model.orientation=="vertical"?(i=n.y-this.element.offset().top,t=i/this.element.outerHeight(),r=this.element.height()):(i=n.x-this.element.offset().left,t=i/this.element.outerWidth(),r=this.element.width()),t>1&&(t=1),t<0&&(t=0),u=t*r,this._trimValue(u)},_trimValue:function(n){var t,i,r;return t=1,i=n%t,r=n-i,Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_getSplitbarIndex:function(){return this.element.children(".e-splitbar:not(.e-shadowbar)").index(this.currentSplitBar)},_paneResize:function(){var t,i,r,u,f,e,o,s;if(this.shadowBar==null)return!1;this.currentSplitBar=this.shadowBar.next(),e=this._getSplitbarIndex(),i=this.shadowBar.prev(),r=this.currentSplitBar.next(),u=e,f=e+1,t=this.shadowBar.offset()[this.displayCss],t=t-this.currentSplitBar.offset()[this.displayCss],n(i).css(this.containerCss,t+n(i)[this.containerCss]()+"px"),n(r).css(this.containerCss,n(r)[this.containerCss]()-t+"px"),this.oldPaneSize[u]=n(i)[this.containerCss](),this.oldPaneSize[f]=n(r)[this.containerCss](),this.shadowBar.remove(),this._checkPaneSize(),o={paneObj:i,paneIndex:u,paneSize:this.oldPaneSize[u]},s={paneObj:r,paneIndex:f,paneSize:this.oldPaneSize[f]},this._updateModelValue(o,s),this.model.resize&&this._trigger("resize",{prevPane:o,nextPane:s,splitbarIndex:e,splitterId:this.element[0].id})},_checkPaneSize:function(){for(var t=0,f,r,u=this.panes.length,e,o,i=0;i<u;i++)f=n(this.panes[i])[this.containerCss](),t+=f+this._bar;t-=this._bar,r=this.element[this.containerCss](),t!=r&&(e=r-t,o=n(this.panes[u-1])[this.containerCss](),n(this.panes[u-1]).css(this.containerCss,o+e))},_maxminDraggableRange:function(n){var l,a,v,y,o,r,u,f,e,t,i,s,h,c;l=this.shadowBar.prev(),this.currentSplitBar=this.shadowBar.next(),a=this.currentSplitBar.next(),v=l[this.containerCss](),y=a[this.containerCss](),o=this.displayCss=="left"?this.currentSplitBar[0].offsetLeft:this.currentSplitBar[0].offsetTop,r=o-v,u=y+o,c=this._getSplitbarIndex(),f=c,e=c+1,t=this.model.properties[f].maxSize,i=this.model.properties[e].maxSize,t=t!=null?parseInt(t,10):null,i=i!=null?parseInt(i,10):null,this.model.properties[f].minSize=parseInt(this.model.properties[f].minSize,10),this.model.properties[e].minSize=parseInt(this.model.properties[e].minSize,10),s=this.model.properties[f].minSize,h=this.model.properties[e].minSize,this.shadowBar.removeClass("e-end-indicaton"),n>u-h?(this.resizedPosition=u-h,this.shadowBar.addClass("e-end-indicaton")):n<r+s&&(this.resizedPosition=r+s,this.shadowBar.addClass("e-end-indicaton")),t!=null&&n>r+t&&(this.resizedPosition=r+t,this.shadowBar.addClass("e-end-indicaton")),i!=null&&n<u-i&&(this.resizedPosition=u-i,this.shadowBar.addClass("e-end-indicaton"))},_collapseArrowClick:function(t){var f=n(t.target),e,u,i,h,o,s,v,r,w,y,c,l,p,a;if(this._inMovement=!0,this.currentSplitBar=f.parent(),r={},w=this.panes.length,e=this._getSplitbarIndex(),u=this.currentSplitBar.prev(),i=this.currentSplitBar.next(),h=e,o=e+1,s=u[this.containerCss](),v=i[this.containerCss](),y=this,c={paneObj:u,paneIndex:h,prevSize:s},l={paneObj:i,paneIndex:o,prevSize:v},this._raiseEvent("beforeExpandCollapse",c,l,e))return!1;if(i.hasClass("collapsed")){if(s<this.oldPaneSize[o])return f.addClass("e-end-indicaton"),this._inMovement=!1,n(document).bind("mouseup",n.proxy(this._mouseUpOnArrow,this)),!1;u.removeClass("expanded"),i.removeClass("collapsed"),f.parent().addClass("e-resize"),f.siblings().css("display","block"),o!=w-1&&(a=i.next(),a.find(".e-collapse").css("display","block"),a.next().hasClass("collapsed")||a.addClass("e-resize")),r[this.containerCss]=this.oldPaneSize[o],i.animate(r,this.model.animationSpeed),r[this.containerCss]=s-this.oldPaneSize[o],u.animate(r,this.model.animationSpeed,function(){y._raiseEvent("expandCollapse",c,l,e)})}else this.oldPaneSize[h]=s,u.addClass("collapsed"),i.addClass("expanded"),f.parent().removeClass("e-resize"),f.css("display","none"),h!=0&&(p=u.prev(),p.find(".e-expand").css("display","none"),p.removeClass("e-resize")),r[this.containerCss]=0,u.animate(r,this.model.animationSpeed),r[this.containerCss]=s+v,i.animate(r,this.model.animationSpeed,function(){y._raiseEvent("expandCollapse",c,l,e)})},_expandArrowClick:function(t){var f=n(t.target),e,i,u,o,h,v,s,r,w,y,c,l,p,a;if(this._inMovement=!0,this.currentSplitBar=f.parent(),r={},w=this.panes.length,e=this._getSplitbarIndex(),i=this.currentSplitBar.prev(),u=this.currentSplitBar.next(),o=e,h=e+1,v=i[this.containerCss](),s=u[this.containerCss](),y=this,c={paneObj:u,paneIndex:h,prevSize:s},l={paneObj:i,paneIndex:o,prevSize:v},this._raiseEvent("beforeExpandCollapse",c,l,e))return!1;if(i.hasClass("collapsed")){if(s<this.oldPaneSize[o])return f.addClass("e-end-indicaton"),this._inMovement=!1,n(document).bind("mouseup",n.proxy(this._mouseUpOnArrow,this)),!1;i.removeClass("collapsed"),u.removeClass("expanded"),f.parent().addClass("e-resize"),f.siblings().css("display","block"),o!=0&&(a=i.prev(),a.find(".e-expand").css("display","block"),a.prev().hasClass("collapsed")||a.addClass("e-resize")),r[this.containerCss]=this.oldPaneSize[o],i.animate(r,this.model.animationSpeed),r[this.containerCss]=s-this.oldPaneSize[o],u.animate(r,this.model.animationSpeed,function(){y._raiseEvent("expandCollapse",c,l,e)})}else this.oldPaneSize[h]=s,i.addClass("expanded"),u.addClass("collapsed"),f.parent().removeClass("e-resize"),f.css("display","none"),h!=w-1&&(p=u.next(),p.find(".e-collapse").css("display","none"),p.removeClass("e-resize")),r[this.containerCss]=v+s,i.animate(r,this.model.animationSpeed),r[this.containerCss]=0,u.animate(r,this.model.animationSpeed,function(){y._raiseEvent("expandCollapse",c,l,e)})},_raiseEvent:function(n,t,i,r){return(n=="expandCollapse"&&(this._inMovement=!1,this._updateModelValue(t,i)),this.model[n])?this._trigger(n,{collapsed:t,expanded:i,splitbarIndex:r,splitterId:this.element[0].id}):!1},_updateModelValue:function(n,t){this.model.properties[n.paneIndex].paneSize=n.paneObj[this.containerCss](),this.model.properties[t.paneIndex].paneSize=t.paneObj[this.containerCss](),this._getPanesPercent()},_mouseUpOnArrow:function(){this.element.find(".e-end-indicaton").removeClass("e-end-indicaton"),n(document).unbind("mouseup",n.proxy(this._mouseUpOnArrow,this))},_mouseDownOnDivider:function(i){if(i.preventDefault(),n(i.target).hasClass("e-splitbar")&&n(i.target).hasClass("e-resize")){var r=this.displayCss=="left"?i.target.offsetLeft:i.target.offsetTop;this.shadowBar=n(i.target).clone().addClass("e-shadowbar").insertBefore(i.target).css(this.displayCss,r),this.shadowBar.children().remove(),n(document).bind(t.eventType.mouseMove,n.proxy(this._mouseMoveOnDivider,this)),n(document).bind(t.eventType.mouseUp,n.proxy(this._mouseUpOnDivider,this)),n(document).bind("mouseleave",n.proxy(this._mouseUpOnDivider,this))}},_mouseMoveOnDivider:function(n){n=n.type=="touchmove"?n.originalEvent.changedTouches[0]:n;var t={x:n.pageX,y:n.pageY};this.resizedPosition=this._getNormalValue(t),this._maxminDraggableRange(this.resizedPosition),this.shadowBar.css(this.displayCss,this.resizedPosition)},_mouseUpOnDivider:function(){this._paneResize(),n(document).unbind(t.eventType.mouseMove,n.proxy(this._mouseMoveOnDivider,this)),n(document).unbind(t.eventType.mouseUp,n.proxy(this._mouseUpOnDivider,this)),n(document).unbind("mouseleave",n.proxy(this._mouseUpOnDivider,this)),this.shadowBar=null},_windowResized:function(){var i=this.element[this.containerCss](),r,u,t,f;if(this._prevSize==i)return!1;for(r=this.panes.length,u=i-(r-1)*this._bar,this._prevSize=i,t=0;t<r;t++)f=this._convertToPixel(u,this._sizePercent[t]),n(this.panes[t]).css(this.containerCss,f+"px");for(t=0;t<this.oldPaneSize.length;t++)this.oldPaneSize[t]=this._convertToPixel(u,this.oldPanePercent[t]);this._checkPaneSize()},_convertToPercent:function(n,t){return t*100/n},_convertToPixel:function(n,t){return Math.round(n*t/100)},_wireEvents:function(t){t&&n(window).bind("resize",n.proxy(this._windowResized,this))},_unWireEvents:function(){n(window).unbind("resize",n.proxy(this._windowResized,this))}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTab","ej.Tab",{_rootCSS:"e-tab",element:null,model:null,validTags:["div","span"],defaults:{collapsible:!1,ajaxOptions:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},disabledItems:[],events:"click",idPrefix:"ej-tab-",heightStyle:"content",selectedItemIndex:0,cssClass:"",showCloseButton:!1,headerPosition:"top",width:null,height:null,rtl:!1,allowKeyboardNavigation:!0,roundedCorner:!1,persist:!1,enabled:!0,ajaxLoad:null,ajaxBeforeLoad:null,active:null,beforeActive:null,itemAdd:null,itemRemove:null,beforeItemRemove:null,itemEnable:null,itemDisable:null},dataTypes:{cssClass:"string",collapsible:"boolean",events:"string",heightStyle:"enum",selectedItemIndex:"number",enabled:"boolean",ajaxOptions:"data",disabledItems:"data"},_destroy:function(){this._unWireEvents(),this._removeBaseClass()},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(var i in n)switch(i){case"events":this._off(this.anchors,this.model.events),this._on(this.anchors,n[i],this._tabItemClick);break;case"disabledItems":this.model.disabledItems=n[i],this._disableTabs();break;case"enabled":this._enabledAction(n[i]);break;case"selectedItemIndex":this.showItem(n[i]);break;case"heightStyle":this._setTabsHeightStyle(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]);break;case"height":this.element.height(n[i]);break;case"width":this.element.width(n[i]);break;case"allowKeyboardNavigation":n[i]?this._on(this.element,"keydown",this._keyPress):this._off(this.element,"keydown");break;case"headerPosition":this.model.headerPosition=n[i],this.model.headerPosition==t.Tab.Position.Top&&(this.itemsContainer.remove(),this.itemsContainer.insertBefore(this.element.find(">div").first()),this.element.find("div.e-active-content").removeClass("e-activebottom")),this._unWireEvents(),this.initialize();break;case"showCloseButton":n[i]?(this._addDeleteIcon(),this._on(this.element.find("div.e-delete"),"click",this._tabDeleteClick)):this.element.find("div.e-delete").remove();break;case"rtl":n[i]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")}},_init:function(){this.tabId=0,this.initialize()},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},initialize:function(){var i;for(this.element.attr("tabindex",0),this.itemsContainer=this.element.find("ol,ul").eq(0),this.items=this.itemsContainer.find(" > li:has(a[href])"),this.anchors=this.items.find("a[href]"),n(this.anchors).addClass("e-link"),this._preTabIndex=-1,t.isNullOrUndefined(this.model.width)||this.element.width(this.model.width),t.isNullOrUndefined(this.model.height)||this.element.height(this.model.height),this._setTabPosition(this.model.headerPosition),this.model.showCloseButton&&this._addDeleteIcon(),this._wireEvents(this.model.events),this.contentPanels=[],i=0;i<this.anchors.length;i++){var u=this.anchors[i],r=n(u).attr("href"),f=r.split("#")[0];f&&f===location.toString().split("#")[0]&&(r=a.hash,u.href=r),r&&r!=="#"?this._addContentTag(r,i):this.model.disabledItems.push(i)}this._addBaseClass(),this._setTabsHeightStyle(this.model.heightStyle),this._disableTabs(),this._roundedCorner(this.model.roundedCorner),this.showItem(this.model.selectedItemIndex),this._enabledAction(this.model.enabled)},_enabledAction:function(n){n?this.element.removeClass("e-disable"):this.element.addClass("e-disable")},_setTabPosition:function(n){n==t.Tab.Position.Bottom?(this.itemsContainer.remove(),this.element.append(this.itemsContainer),this.items.removeClass("e-bottom-line"),this.items.addClass("e-top-line")):n==t.Tab.Position.Top&&(this.items.removeClass("e-top-line"),this.items.addClass("e-bottom-line"))},_addDeleteIcon:function(){if(this.element.find("div.e-delete").length<=0&&this.items.length>0){var n=t.buildTag("div.e-icon e-delete");this.items.append(n)}},_addBaseClass:function(){this.element.addClass("e-widget "+this.model.cssClass),this.model.rtl&&this.element.addClass("e-rtl"),this.items.length>0&&this.itemsContainer.addClass("e-header"),this.items.addClass("e-select e-item"),n(this.contentPanels).addClass("e-content  e-content-item")},_removeBaseClass:function(){this.element.removeClass("e-tab e-widget"),this.itemsContainer.removeClass("e-header e-clearall e-select"),this.anchors.removeClass("e-link"),this.items.removeClass("e-select e-item e-active e-bottom-line e-top-line"),n(this.contentPanels).removeClass("e-content  e-content-item"),n(this.contentPanels).removeClass("e-content  e-content-item e-content-bottom e-corner-bottom e-activetop e-activebottom e-active-content"),n(this.contentPanels).css("display","")},_addContentTag:function(i,r){var f=this._getTabId(i),u=this.element.find("#"+f);u.length||(u=t.buildTag("div.e-content  e-content-item e-content-bottom #"+f).insertAfter(this.contentPanels[r-1]||this.itemsContainer)),this.contentPanels=n(this.contentPanels).add(u)},_roundedCorner:function(t){t?(this.element.addClass("e-corner-all"),this.items.addClass("e-corner-top"),n(this.contentPanels).addClass("e-corner-bottom")):this.element.hasClass("e-corner-all")&&(this.element.removeClass("e-corner-all"),this.items.removeClass("e-corner-top"),n(this.contentPanels).removeClass("e-corner-bottom"))},_setTabsHeightStyle:function(i){var u,f,r;if(n(this.contentPanels).height(""),t.Tab.heightStyle.Fill==i){for(u=this._getDimension(n(this.element).parent(),"height"),n(this.element).parent().css({overflow:"auto"}),r=0;r<this.items.length;r++)u-=this._getDimension(n(this.items[r]),"outerHeight");for(f=0,r=0;r<this.contentPanels.length;r++)f=Math.max(f,this._getDimension(n(this.contentPanels[r]),"innerHeight")-this._getDimension(n(this.contentPanels[r]),"height"));n(this.contentPanels).height(u-f).css({overflow:"auto"})}else if(t.Tab.heightStyle.Auto==i){for(u=0,r=0;r<this.contentPanels.length;r++)u=Math.max(u,this._getDimension(n(this.contentPanels[r]),"outerHeight"));n(this.contentPanels).height(u),this.maxAutoHeight=u}},_getDimension:function(t,i){var u,f=n(t).parents().andSelf().filter(":hidden"),r={visibility:"hidden",display:"block"},e=[];return f.each(function(){var t={},n;for(n in r)t[n]=this.style[n],this.style[n]=r[n];e.push(t)}),u=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),f.each(function(n){var i=e[n],t;for(t in r)this.style[t]=i[t]}),u},showItem:function(i){var r,u;if(n.inArray(i,this.model.disabledItems)<0&&(r=this,this._preTabIndex=this.model.selectedItemIndex,this.model.selectedItemIndex=i,this.model.selectedItemIndex>=this.contentPanels.length&&(this.model.selectedItemIndex=0),this.model.selectedItemIndex!=null&&this.model.selectedItemIndex<this.contentPanels.length)){if(this._ajaxLoad(),this.hideItem(this._preTabIndex),i>=0&&this._onBeforeActive(i))return!1;n(this.element.find(".e-content")[this.model.selectedItemIndex]).fadeIn(200,"easeOutQuad",function(){if(r._onActive())return!0}),u=this.model.headerPosition==t.Tab.Position.Top?"e-activetop":"e-activebottom",n(this.contentPanels[this.model.selectedItemIndex]).addClass("e-active-content "+u),n(this.items[this.model.selectedItemIndex]).addClass("e-active").removeClass("e-select")}},hideItem:function(i){n(this.contentPanels[i]).fadeOut(0);var r=this.model.headerPosition==t.Tab.Position.Top?"e-activetop":"e-activebottom";n(this.contentPanels[i]).removeClass("e-active-content "+r),n(this.items[i]).removeClass("e-active").addClass("e-select")},_ajaxLoad:function(){var t=n(this.contentPanels[this.model.selectedItemIndex]),i=this.anchors[this.model.selectedItemIndex],r=n(i).attr("href");t.is(":empty")&&r.indexOf("#")!==0&&this._sendAjaxOptions(t,i)},_getTabId:function(n){return n.indexOf("#")?this.model.idPrefix+this._getNextTabId():n.replace("#","")},_getNextTabId:function(){return++this.tabId},_disableTabs:function(){for(var t=0,i;i=this.items[t];t++)n.inArray(t,this.model.disabledItems)>-1&&(n(i).find("a").unbind(this.model.events),this._off(n(i).find("div.e-delete"),"click"),n(this.contentPanels[t]).addClass("e-disable")),n(i)[n.inArray(t,this.model.disabledItems)!=-1&&!n(i).hasClass("e-tab-selected")?"addClass":"removeClass"]("e-disable")},_tabItemClick:function(t){if(this.model.enabled){t.preventDefault();var i;i=this.model.selectedItemIndex==n(this.items).index(n(t.target).parent())&&this.model.collapsible?-1:n(this.items).index(n(t.target).parent()),i!=this.model.selectedItemIndex&&this.showItem(i)}},_tabDeleteClick:function(t){var r,i;this.model.enabled&&(r=n(t.target),r.hasClass("e-delete")&&(i=n(this.items).index(n(t.target).parent())),i==this.model.selectedItemIndex&&this.items.length>i&&this.model.selectedItemIndex++,this.remove(i))},_sendAjaxOptions:function(t,i){if(this._onBeforeLoad())return!0;t.addClass("e-load");var r=this,u=n(i).html(),f=i.href.replace("#",""),e={type:this.model.ajaxOptions.type,cache:this.model.ajaxOptions.cache,url:f,data:this.model.ajaxOptions.data,dataType:this.model.ajaxOptions.dataType,contentType:this.model.ajaxOptions.contentType,async:this.model.ajaxOptions.async,success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(){try{r._ajaxErrorHandler(i,r.model.selectedItemIndex,u)}catch(n){}}};this._sendAjaxRequest(e)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,i,r,u){return u!=null&&n(r).html(u),i.removeClass("e-load"),i.html(t).addClass("e-tab-loaded"),this._onLoad()?!0:void 0},_ajaxErrorHandler:function(){this._onLoad()},_createContentPanel:function(t){return n("<div><\/div>").attr("id",t).addClass("e-content  e-content-item e-content-bottom")},_refresh:function(){this._unWireEvents(),this.initialize()},_keyPress:function(n){if(this.model.enabled){n.preventDefault(),code=n.keyCode?n.keyCode:n.which?n.which:n.charCode;switch(code){case 39:case 38:this.showItem(this.model.selectedItemIndex+1);break;case 37:case 40:this.model.selectedItemIndex!=0?this.showItem(this.model.selectedItemIndex-1):this.model.selectedItemIndex==0&&this.showItem(this.tabCount()-1);break;case 35:this.showItem(this.tabCount()-1);break;case 36:this.showItem(0)}}},_wireEvents:function(n){this._on(this.anchors,n,this._tabItemClick),this._on(this.element.find("div.e-delete"),"click",this._tabDeleteClick),this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._keyPress)},_unWireEvents:function(){this._off(this.anchors,this.model.events),this._off(this.element.find("div.e-delete"),"click"),this.model.allowKeyboardNavigation&&this._off(this.element,"keydown")},disableItems:function(n){if(!this.model.enabled)return!1;n!=null&&(this.model.disabledItems.push(n),this.model.disabledItems.sort(),this._disableTabs())},enableItems:function(i){if(!this.model.enabled||(t.isNullOrUndefined(this.contentPanels[i])||n(this.contentPanels[i]).removeClass("e-disable"),n.inArray(i,this.model.disabledItems)==-1))return!1;this.model.disabledItems=n.grep(this.model.disabledItems,function(n){return n!=i}),this._refresh(),this._disableTabs()},disable:function(n){this.disableItems(n)},enable:function(n){this.enableItems(n)},tabCount:function(){if(this.items)return this.items.length},add:function(n,r,u,f){var e,l,a,s,h,c,o,v;this.items.length==0&&this.itemsContainer.addClass("e-header"),e=t.buildTag("li.e-select e-item"),t.isNullOrUndefined(f)||(l=t.buildTag("span").addClass(f),e.append(l)),a=t.buildTag("a",r,{},{href:n}),a.appendTo(e),this.model.showCloseButton&&(s=t.buildTag("div.e-icon e-delete "),e.append(s),this._on(s,"click",this._tabDeleteClick)),h=n.indexOf("#")==0?n.replace("#",""):this.model.idPrefix+this._getNextTabId(),u===i&&(u=this.anchors.length),c=u>=this.items.length,c?e.appendTo(this.itemsContainer):e.insertBefore(this.items[u]),o=this.element.find("#"+h),o.length||(o=this._createContentPanel(h),c?u>0?o.insertAfter(this.contentPanels.eq(-1)):o.appendTo(this.element):o.insertBefore(this.contentPanels[u])),this.model.selectedItemIndex==u?(this.hideItem[u],this.model.selectedItemIndex+=1):(this.hideItem[u],u<this.model.selectedItemIndex&&(this.model.selectedItemIndex+=1)),this._refresh(),v={addTab:this.anchors[u],addContentPanel:this.contentPanels[u]},this._onAdd(v)},remove:function(t){var i,r,u;if(!this.model.enabled)return!1;if(t!=null&&t>-1&&t<this.items.length){if(this._onBrforeRemove({deleteIndex:t})===!0)return!1;i=n(this.items[t]).remove(),r=n(this.contentPanels[t]).remove(),i.hasClass("e-active")&&(this.model.selectedItemIndex=t==0?t:t-1),(t<0||t>=this.anchors.length)&&(this.model.selectedItemIndex=0),this.items.length==1&&this.itemsContainer.removeClass("e-header"),this._refresh(),u={removedTab:i,removedPanel:r},this._onRemove(u)}},show:function(){if(!this.model.enabled)return!1;this.element.css("visibility","visible")},hide:function(){if(!this.model.enabled)return!1;this.element.css("visibility","hidden")},_onBeforeLoad:function(){var n;return n=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],OldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],OldSelectedIndex:this._preTabIndex,newTab:this.items[this.model.selectedItemIndex],newContentPanel:this.contentPanels[this.model.selectedItemIndex],newSelectedIndex:this.model.selectedItemIndex},this.model.ajaxBeforeLoad!=null?this._trigger("ajaxBeforeLoad",n):void 0},_onLoad:function(){var n;return n=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:this.items[this.model.selectedItemIndex],newContentPanel:this.contentPanels[this.model.selectedItemIndex],newSelectedIndex:this.model.selectedItemIndex},this.model.ajaxLoad!=null?this._trigger("ajaxLoad",n):void 0},_onActive:function(){if(this.model.active){var n;return n=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:this.items[this.model.selectedItemIndex],newContentPanel:this.contentPanels[this.model.selectedItemIndex],newSelectedIndex:this.model.selectedItemIndex},this._trigger("active",n)}},_onBeforeActive:function(n){if(this.model.beforeActive!=null){var t;return t=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:this.items[n],newContentPanel:this.contentPanels[n],newSelectedIndex:n},this._trigger("beforeActive",t)}},_onAdd:function(n){if(this.model.itemAdd!=null)return this._trigger("itemAdd",n)},_onRemove:function(n){if(this.model.itemRemove!=null)return this._trigger("itemRemove",n)},_onBrforeRemove:function(n){if(this.model.beforeItemRemove!=null)return this._trigger("beforeItemRemove",n)}}),t.Tab.heightStyle={Content:"content",Auto:"auto",Fill:"fill"},t.Tab.Position={Top:"top",Bottom:"bottom"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTagCloud","ej.TagCloud",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-tagcloud",defaults:{cssClass:"",dataSource:null,query:null,fields:{text:"text",url:"url",frequency:"frequency"},showTitle:!0,title:"Title",titleImage:null,format:"cloud",rtl:!1,minFontSize:"10px",maxFontSize:"40px",mouseover:null,mouseout:null,click:null},dataTypes:{fields:"object",cssClass:"string",showTitle:"boolean",title:"string",titleImage:"string",format:"enum",rtl:"boolean",dataSource:"data",fields:"data"},observables:["dataSource"],_init:function(){this._initialize(),this._render()},_setModel:function(n){var t;for(t in n)switch(t){case"fields":case"query":case"dataSource":case"minFontSize":case"maxFontSize":this._refreshTagItems(t,n[t]);break;case"showTitle":this._showTitle(n[t]);break;case"title":this._title(n[t]);break;case"titleImage":this._titleImage(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"format":this._format(n[t]);break;case"rtl":this._rtl(n[t])}},_refreshTagItems:function(n,t){this.model[n]=t,this.ul.empty(),this._checkDataBinding()},_showTitle:function(n){n?this._generateTitle():(this.title.remove(),this.title=null)},_title:function(n){this.title&&(n?this.text?this.text.html(n):this._generateTextTag(n):this.text&&(this.text.remove(),this.text=null))},_titleImage:function(n){this.title&&(n?this.image?this.image.attr("src",n):this._generateImageTag(n):this.image&&(this.image.remove(),this.image=null))},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},insert:function(t){n.trim(t.text)&&(t=this._setTagFrequency(t),this.ul.append(this._generateLi(t,this._getMapper())))},insertAt:function(t,i){n.trim(t.text)&&(t=this._setTagFrequency(t),n(this.ul.children()[i-1]).before(this._generateLi(t,this._getMapper())))},remove:function(t){for(var u=this.ul.children(),r,i=0;i<u.length;i++)r=n(u[i]),r.children()[0].innerHTML==t&&r.remove()},removeAt:function(t){var i=this.ul.children();n(i[t-1]).remove()},_format:function(n){n=="cloud"?(this.ul.removeClass("e-list"),this.ul.addClass("e-cloud")):n=="list"&&(this.ul.removeClass("e-cloud"),this.ul.addClass("e-list"))},_destroy:function(){this.element.removeClass("e-widget "+this.model.cssClass),this.element.empty()},_initialize:function(){this.minFreq=0,this.maxFreq=30,this.ul=null,this.title=null,this.image=null,this.text=null},_render:function(){this.element.addClass("e-widget "+this.model.cssClass),this.model.showTitle&&this._generateTitle(),this._renderWrapper(),this._checkDataBinding(),this._checkProperties()},_generateTitle:function(){this.title=t.buildTag("div.e-header e-title"),this.model.titleImage&&this._generateImageTag(this.model.titleImage),this.model.title&&this._generateTextTag(this.model.title),this.ul?this.title.insertBefore(this.ul):this.element.append(this.title)},_generateImageTag:function(t){this.image=n('<img class="e-title-img" src="'+t+'" />'),this.text?this.image.insertBefore(this.text):this.title.append(this.image)},_generateTextTag:function(n){this.text=t.buildTag("span",n),this.title.append(this.text)},_renderWrapper:function(){var n;n=this.model.format=="list"?"list":"cloud",this.ul=t.buildTag("ul.e-ul e-"+n),this.element.append(this.ul)},_renderItems:function(n){this._setFrequency(n),this._generateTagItems(n),this.ul.removeClass("e-load")},_checkProperties:function(){this.model.rtl&&this._rtl(this.model.rtl)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_checkDataBinding:function(){var n=this.model.dataSource;n!=null&&(this.ul.addClass("e-load"),t.DataManager&&n instanceof t.DataManager?this._initDataSource(n):this._renderItems(n))},_initDataSource:function(n){var t=this,i=n.executeQuery(this._getQuery());i.done(function(n){t._renderItems(n.result)}).fail(function(){t.ul.removeClass("e-load")})},_setAttributes:function(n,t){if(n)for(var i in n)t.attr(i,n[i])},_getQuery:function(){var u;if(t.isNullOrUndefined(this.model.query)){var r=[],i=t.Query(),n=this.model.fields;for(u in n)u!=="tableName"&&r.push(n[u]);r.length>0&&i.select(r),this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||i.from(n.tableName)}else i=this.model.query;return i},_setFrequency:function(n){var t;for(this.minFreq=0,this.maxFreq=n.length,t=0;t<n.length;t++)n[t].frequency==null||n[t].frequency==i||n[t].frequency<this.minFreq?n[t].frequency=this.minFreq:n[t].frequency>this.maxFreq&&(this.maxFreq=n[t].frequency)},_setTagFrequency:function(n){return n.frequency==null||n.frequency==i||n.frequency<this.minFreq?n.frequency=this.minFreq:n.frequency>this.maxFreq&&(this.maxFreq=n.frequency),n},_generateTagItems:function(n){for(var i=this._getMapper(),t=0;t<n.length;t++)this.ul.append(this._generateLi(n[t],i))},_getMapper:function(){var n=this.model.fields,t={_text:null,_freq:null,_url:null};return t._text=n&&n.text?n.text:"text",t._freq=n&&n.frequency?n.frequency:"frequency",t._url=n&&n.url?n.url:"url",t._attr=n&&n.htmlAttr?n.htmlAttr:"htmlAttr",t},_generateLi:function(n,i){var u=t.buildTag("li.e-tagitems"),r;return r=t.buildTag("a.e-txt",n[i._text],{"font-size":this._calculateFontSize(n[i._freq])},{href:n[i._url]||"#",target:"blank"}),u.append(r),this._setAttributes(n[i._attr],u),this._on(r,"mouseenter",this._mouseEnter),this._on(r,"mouseleave",this._mouseLeave),this._on(r,"click",this._mouseClick),u},_mouseEnter:function(t){n(t.target).addClass("hover"),this._raiseEvent(t,"mouseover")},_mouseLeave:function(t){n(t.target).removeClass("hover"),this._raiseEvent(t,"mouseout")},_mouseClick:function(t){n(t.target).removeClass("hover"),this._raiseEvent(t,"click")},_raiseEvent:function(t,i){this.model[i]&&this._trigger(i,{value:n(t.target).html(),url:n(t.target).attr("href"),eventType:i})},_calculateFontSize:function(n){if(n){var t=this.minFreq,e=this.maxFreq,i=2,r,u,f=parseInt(this.model.minFontSize,10),o=parseInt(this.model.maxFontSize,10);return r=(n-t)/(e-t),u=o-f,f+i*Math.floor(r*(u/i))}return this.model.minFontSize}}),t.format={Cloud:"cloud",List:"list"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTreeView","ej.TreeView",{_rootCSS:"e-treeview",element:null,model:null,validTags:["ul","div"],defaults:{showCheckbox:!1,dragAndDrop:!1,dropChild:!0,dropSibling:!0,dragAndDropAcrossControl:!0,allowEdit:!1,allowKeyboardNavigation:!0,items:null,fields:{dataSource:null,query:null,tableName:null,child:null,id:"id",parentId:"parentId",text:"text",spriteCssClass:"spriteCssClass",expanded:"expanded",hasChild:"hasChild",selected:"selected",linkAttribute:"linkAttribute",value:"value",imageAttribute:"imageAttribute",htmlAttribute:"htmlAttribute",imageUrl:"imageUrl",isChecked:"isChecked"},autoCheckParentNode:!1,loadOnDemand:!1,cssClass:"",template:null,rtl:!1,expandEvent:"dblclick",persist:!1,enabled:!0,expandedNodes:[],width:null,height:null,click:null,beforeExpand:null,expand:null,beforeCollapse:null,collapse:null,select:null,check:null,uncheck:null,inlineEditValidation:null,beforeEdit:null,keyPress:null,dragStart:null,drag:null,dragStop:null,dropped:null},dataTypes:{showCheckbox:"boolean",dragAndDrop:"boolean",dropChild:"boolean",dragAndDropAcrossControl:"boolean",allowEdit:"boolean",allowKeyboardNavigation:"boolean",autoCheckParentNode:"boolean",loadOnDemand:"boolean",rtl:"boolean",expandEvent:"string",persist:"boolean",items:"data",fields:"data",expandedNodes:"data"},observables:["fields.dataSource"],_setModel:function(i){var r,u;if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;for(r in i)switch(r){case"cssClass":this._changeSkin(i[r]);break;case"dragAndDropAcrossControl":this.model.dragAndDropAcrossControl=i[r],this._enableDargDrop();break;case"enabled":this._enabledAction(i[r]);break;case"showCheckbox":i[r]?(this.model.showCheckbox=i[r],this._showCheckBox()):(this.element.find("span.e-chkbox-wrap").next().remove(),this.element.find("span.e-chkbox-wrap").remove());break;case"expandedNodes":for(u=0;u<i[r].length;u++)this._expandNode(this._liList[i[r][u]]);break;case"expandEvent":this._on(this.element,i[r],this._expandEventHandler);break;case"allowEdit":i[r]?this._enableAllowEdit():this._disableAllowEdit();break;case"allowKeyboardNavigation":i[r]?this._on(n(document),"keydown",this._KeyPress):n(document).unbind("keydown",this._KeyPress);break;case"dragAndDrop":i[r]&&this._enableDargDrop();break;case"rtl":i[r]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");break;case"height":this.element.height(i[r]);break;case"width":this.element.width(i[r])}},_destroy:function(){this.element.html(""),this.element.parent().append(this._cloneElement),this.element.remove(),this.element=this._cloneElement,this.element.removeClass("e-treeview e-widget")},_init:function(){if(this.model.items!=null){var n=this._renderTemplate(this.model.items);this.element.append(n)}t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this.initialize():this._checkDataBinding()},initialize:function(){this._cloneElement=n(this.element).clone(),this._cutCopyNodeText=null,this.beforeEditText=null,this.element.is("ul")?this._createWrapper():(this.element.addClass("e-treeview-wrap e-widget"),this.model.width!=null&&this.element.width(this.model.width),this.model.height!=null&&this.element.height(this.model.height),this.model.rtl&&this.element.addClass("e-rtl")),this._ulList=n("ul",this.element),this._liList=n("li",this.element),this._addBaseClass(),this._controlRender(),this._addDragableClass(),this._finalize(),this._enabledAction(this.model.enabled)},_createWrapper:function(){var n=t.buildTag("div.e-treeview-wrap e-widget "+this.model.cssClass,"","",{tabindex:0});t.isNullOrUndefined(this.element.attr("accesskey"))||n.attr("accesskey",this.element.attr("accesskey")),this.model.width!=null&&n.width(this.model.width),this.model.height!=null&&n.height(this.model.height),this.model.rtl&&n.addClass("e-rtl"),n.insertAfter(this.element),n.append(this.element.addClass("e-ul")),this.element=n},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_enabledAction:function(n){n?(this.element.removeClass("e-disable"),this._wireEvents()):(this.element.addClass("e-disable"),this._unWireEvents())},_checkDataBinding:function(){this.model.fields.dataSource instanceof t.DataManager?this._initDataSource():(this._ensureDataSource(this.model.fields.dataSource),this.initialize())},_initDataSource:function(){var t;this.element.ejWaitingPopup(),t=this.element.ejWaitingPopup("instance"),this.element.ejWaitingPopup("refresh"),this.element.ejWaitingPopup("show");var i=this._columnToSelect(this.model.fields),n=this,r=this.model.fields.dataSource.executeQuery(i);r.done(function(t){n.element.ejWaitingPopup("hide"),n.retriveData=t.result,n._ensureDataSource(t.result),n.initialize()})},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="child"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u),this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_ensureDataSource:function(n){this.currentSelectedData=n,this.element.append(this._renderTemplate(n))},_renderTemplate:function(n){var u=t.buildTag("ul"),r="",i;for(this._odataFlag=!1,i=0;i<n.length;i++)this.model.fields.dataSource!=null?(t.isNullOrUndefined(n[i][this.model.fields.parentId])||n[i][this.model.fields.parentId]==0)&&(r=this._tempalteSub(n[i],n,this.model.fields)):r=this._tempalteSub(n[i],n,this.model.fields),u.append(r);return u},_tempalteSub:function(i,r,u){var e,y,c,a,p,w=!1,v,b,l,k,f,s,o,h;if(this.model.fields.dataSource!=null&&(this.model.loadOnDemand&&i[u.hasChild]?(f={},p=n("<ul><\/ul>"),w=!0):f=t.isNullOrUndefined(u.parentId)?i[u.childItems]:t.DataManager(this.currentSelectedData).executeLocal(t.Query().where(u.parentId,t.FilterOperators.equal,i[u.id]))),t.isNullOrUndefined(this.model.template)?(e=n("<li><\/li>"),i[u.id]&&e.prop("id",i[u.id]),i[u.htmlAttribute]&&this._setAttributes(i[u.htmlAttribute],e),i[u.imageUrl]?(c=t.buildTag("img.e-align"),c.attr("src",i[u.imageUrl]),i[u.imageAttribute]&&this._setAttributes(i[u.imageAttribute],c),e.append(c)):i[u.spriteCssClass]&&(y=t.buildTag("span."+i[u.spriteCssClass]),e.append(y)),i[u.text]!=""&&(a=t.buildTag("a",i[u.text],"",{href:"#"}),i[u.linkAttribute]&&a.attr("href",i[u.linkAttribute]),e.append(a))):(v=n("<div><\/div>"),v.append(n("#"+this.model.template).render(i)),e=v.find("li")),i[u.expanded]&&e.addClass("expanded"),i[u.isChecked]&&e.addClass("ischecked"),w&&e.append(p),t.isNullOrUndefined(u.child)||this.model.loadOnDemand){if(!this._odataFlag&&f&&f.length>0){for(s=t.buildTag("ul"),o=0;o<f.length;o++)h=this._tempalteSub(f[o],r,u),s.append(h);e.append(s)}}else if(this._odataFlag=!0,u.child.dataSource instanceof t.DataManager)b=this,l=t.Query(),l=this._columnToSelect(u.child),l.where(u.child.parentId,t.FilterOperators.equal,i[u.id]),k=u.child.dataSource.executeQuery(l),k.done(function(t){f=t.result,f&&f.length>0&&(b._createSubNodesWhenLoadOnDemand(f,e,u.child),n(e).find(" >div >div").first().addClass("e-icon e-plus"))});else if(f=t.DataManager(u.child.dataSource).executeLocal(t.Query().where(u.child.parentId,t.FilterOperators.equal,i[u.id])),f&&f.length>0){for(s=n(document.createElement("ul")),o=0;o<f.length;o++)h=this._tempalteSub(f[o],u.child.dataSource,u.child),s.append(h);e.append(s)}return e},_setAttributes:function(n,t){for(var i in n)t.attr(i,n[i])},_addDragableClass:function(){this.model.dragAndDrop&&(this._anchors=this._liList.map(function(){return n("a",this)[0]}),this._anchors.addClass("e-draggable e-droppable"))},_addBaseClass:function(){this._ulList.addClass("e-treeview-ul"),this._liList.addClass("e-item"),this.element.find("ul").first().removeClass("e-treeview-ul")},_controlRender:function(){var c,r,o,v,s,f,y,h,l,b,p,u,k;if(this.element!=null){var e=this.element.find("> ul"),w=e.find("li"),a=-1;for(c=0;c<w.length;c++)r=n(w[c]),f=r.children("ul")[0],this.model.showCheckbox==!0&&n(f).length!=0&&(y=e.find(">li"),y.each(function(t){n(f).parents("li.e-item").first()[0]==n(y[t])[0]&&(a=a+1)}),this._checkboxrecursive(e,f,a)),f&&n(r.children("ul")[0]).remove(),h=r.children("a")[0],h?(s=n(h).text(),o=n(h).clone(),n(h).remove(),n(o).addClass("e-text"),n(o).addClass("CanSelect"),v=r.clone(),r.html("")):(s=this._getText(r),v=r.clone(),r.html(""),o=t.buildTag("a.e-text CanSelect",s,"",{href:"#"+n.trim(s)})),l=t.buildTag("span"),f?n(l).addClass("collapseimg"):n(l).addClass("child"),b=t.buildTag("div"),p=t.buildTag("div"),n(p).append(b).append(l).append(v.children()).append(o),r.prepend(p),f&&r.append(f),r.prop("name")==i&&r.prop("name",s);this.model.showCheckbox&&(this._addCheckBox(e),this.element.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}))}u=e.find("li"),u.find(">ul").hide(),k=u.find("a"),k.focus(function(){n(this).blur()}),u.filter("li:last-child").addClass("last"),n(u[0]).addClass("first"),n(u[0]).hasClass("first")&&n(u[0]).hasClass("last")&&n(u[0]).removeClass("first"),n(u.filter(":has(ul)")).each(function(){var t=n(n(this).children()).filter("ul");n(t).is(":hidden")?n(n(this).children().find("div")[0]).removeClass("e-icon e-minus").addClass("e-icon e-plus"):n(this.childNodes[1]).removeClass("e-icon e-plus").addClass("e-icon e-minus")})},_getText:function(t){return n(t).clone().children().remove().end().text()},_finalize:function(){var t,n;for(this._isFocus=!1,t=this.element.find(".expanded"),n=0;n<t.length;n++)this._expandNode(t[n]);for(this.model.showCheckbox&&this._isCheckedAction(),n=0;n<this.model.expandedNodes.length;n++)this._expandNode(this._liList[this.model.expandedNodes[n]]);this.model.allowEdit&&this._enableAllowEdit()},_isCheckedAction:function(){for(var i=this.element.find(".ischecked"),t=0;t<i.length;t++)this._nodeCheckedAction(n(i[t]).find("span.e-chkbox-wrap").first());this.element.find(".ischecked").removeClass("ischecked")},_addCheckBox:function(i){for(var u=i.find(">li"),f,e,r=0;r<u.length;r++)f=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox"+r,value:"False"}),e=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox1",value:r}),n(u[r]).children("div").children("span").first().after(n(e)),n(u[r]).children("div").children("span").first().after(n(f))},_checkboxrecursive:function(i,r,u){var o=this,f,e=n(r).find(">li");f=n(n(n(r).parents("li.e-item")[0]).find(">input[type= hidden]")[0]).length==0?u:n(n(r).parents("li.e-item")[0]).find(">input[type=hidden]")[0].value,e.each(function(i){var l=u,s=f+"."+i;o._checkboxrecursive(f,this,l);var h=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox"+s,value:"False"}),c=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox"+s,value:s}),r=n(e[i]);r.find("a.e-text ").length>0?(h.insertBefore(r.find("a.e-text ")[0]),c.insertBefore(r.find("a.e-text ")[0])):r.prepend(h).prepend(c)})},_checkedChange:function(t){var i=n(this.element).closest(".e-treeview").data("ejTreeView");t.isChecked?i._nodeCheckedAction(this.element):i._nodeUnCheckedAction(this.element)},_ClickEventHandler:function(t){var e=this,i=t.target,r,u,f;if(!this._isclicked){if(this._isclicked=!0,this._onClick({Event:t}),i.tagName.toUpperCase()=="DIV"&&(n(i).hasClass("e-plus")||n(i).hasClass("e-minus"))){if(r=null,i.tagName.toUpperCase()=="SPAN"?(r=n(i.parentNode).parent().children().filter("ul"),i=n(i.parentNode).children().filter("div")[0]):r=n(i.parentNode).parent().children().filter("ul"),u=n(r).children().filter("li").length>0?!0:!1,!u&&this.model.loadOnDemand){n(i).addClass("e-load");var o=n(n(i).parents("li.e-item")[0]).attr("id"),s=n(n(n(n(i).parents("li.e-item")[0]).children("div")[0]).children("a[class*=e-text]")[0]).text(),h={id:o,value:s};this._loadOnDemand(h,i)}else this._expandCollapseAction(i);this._nodeSelectionAction(n(i).parents("li.e-item").first().find("a[class*=e-text]").first())}i.tagName.toUpperCase()=="A"&&n(i).hasClass("CanSelect")&&!n(i).hasClass("e-active")&&this._nodeSelectionAction(i)}setTimeout(function(){e._isclicked=!1},300),i.tagName.toUpperCase()=="A"&&(f=i.href,f.indexOf("#")!=-1&&t.preventDefault())},_loadOnDemand:function(n,i){var r,u=this,f,e;this.model.fields.dataSource instanceof t.DataManager?(f=t.Query().where(this.model.fields.parentId,t.FilterOperators.equal,n.id),e=this.model.fields.dataSource.executeQuery(f),e.done(function(n){r=n.result,r.length>0&&(u._createSubNodesWhenLoadOnDemand(r,i,u.model.fields),u._expandCollapseAction(i))})):(r=t.DataManager(this.currentSelectedData).executeLocal(t.Query().where(this.model.fields.parentId,t.FilterOperators.equal,n.id)),r.length>0&&setTimeout(function(){u._createSubNodesWhenLoadOnDemand(r,i,u.model.fields),u._expandCollapseAction(i)},400))},_getPath:function(t){for(var r=n(t).prop("name"),i=n(t).parents("li")[0];i!=null&&i.parentNode.id!=this._id;)r=n(i).prop("name")+"/"+r,i=n(i).parents("li")[0];return this._id+"/"+r},_nodeSelectionAction:function(t){if(n(t)!=null&&!n(n(t).parents("li")).hasClass("e-node-disable")){n(n(this.element).find(".e-active")).removeClass("e-active"),n(t).addClass("e-active");var i=n(n(t).parents("li.e-item")[0]),r=n(t).text(),u={currentElement:i,value:r};this._onNodeSelect(u)}},_nodeUnSelectionAction:function(t){t[0]!=null&&n(t).removeClass("e-active")},_nodeEnableAction:function(t){t[0]!=null&&(t=n(t),this.model.showCheckbox&&n(n(t.parents("li.e-item")[0]).find("input")[0]).prop("disabled",!1),n(t.parents("li.e-item")[0]).removeClass("e-node-disable"),n(t.parents("li.e-item")[0]).find("a").removeClass("e-node-disable"),n(t.parents("li.e-item")[0])[0].disabled=!1)},_nodeDisableAction:function(t){t[0]!=null&&(t=n(t),this._collpaseNode(t.parents("li.e-item")[0]),this.model.showCheckbox&&n(n(t.parents("li.e-item")[0]).find("input")[0]).prop("disabled",!0),n(t.parents("li.e-item")[0]).addClass("e-node-disable"),n(t.parents("li.e-item")[0]).find("a").addClass("e-node-disable"),n(t.parents("li.e-item")[0]).find("a").hasClass("e-active")&&n(t.parents("li.e-item")[0]).find("a").removeClass("e-active"),n(t.parents("li.e-item")[0])[0].disabled=!0)},_expandCollapseAction:function(i){var f,u=this,o,e,r;if(!n(i.parentNode).parent().hasClass("e-node-disable"))if(t.isNullOrUndefined(i.tagName)||i.tagName.toUpperCase()!="SPAN"?f=n(i.parentNode).parent().children().filter("ul"):(f=n(i.parentNode).parent().children().filter("ul"),i=n(i.parentNode).children().filter("div")[0]),o=i.tagName=="DIV"?n(i.parentNode.parentNode)[0]:i,this._isExpanded(o)){if(e=n(n(n(n(i).parents("li.e-item")[0]).children("div")[0]).children("a[class*=e-text]")[0]).text(),r={currentElement:n(n(i).parents("li.e-item")[0]),value:e},this._onBeforeCollapse(r)===!0)return!1;n(f).animate({height:"toggle"},200,"linear",function(){u._onNodeCollapse(r),u._removeExpandedNodes(u._liList.index(r.currentElement))}),n(i).removeClass("e-icon e-minus").addClass("e-icon e-plus"),i.parentNode!=null&&(n(i.parentNode.parentNode).removeClass("e-collapse"),n(n(i.parentNode).children()[1]).addClass("collapseimg").removeClass("expandimg"))}else{var s=n(n(i).parents("li.e-item")[0]),e=n(n(n(n(i).parents("li.e-item")[0]).children("div")[0]).children("a[class*=e-text]")[0]).text(),r={currentElement:s,value:e};if(this._onBeforeExpand(r)===!0)return!1;n(f).animate({height:"toggle"},350,"linear",function(){u._onNodeExpand(r),u._addExpandedNodes(u._liList.index(s))}),n(i).removeClass("e-icon e-plus").addClass("e-icon e-minus"),n(i.parentNode.parentNode).addClass("e-collapse"),n(n(i.parentNode).children()[1]).removeClass("collapseimg").addClass("expandimg")}},_isExpanded:function(t){t.tagName=="A"&&(t=n(t.parentNode.parentNode)[0]);var i=this.isNodeExpanded(t);return n(n(t).children().filter("ul"))!=null&&(i=n(n(t).children().filter("ul").find("li"))!=null?n(n(t).children().filter("ul").find("li")).is(":not(:hidden)"):!1),i},_isChecked:function(t){return n(t).val()==="True"?!0:!1},_nodeCheckedAction:function(i){var o=this,f=n(n(i).find("input.nodecheckbox[type=checkbox]")[0]),s,h,e,u,r;for(f.addClass("checked").prop("value","True"),f.ejCheckBox({indeterminateState:!1,indeterminate:!1,check:!0}),this._onChecked(f),n(n(i).parents("li.e-item")[0]).children("ul").find("input.nodecheckbox[type=checkbox]").prop("checked",!0).addClass("checked").prop("value","True"),s=n(n(i).parents("li.e-item")[0]).children("ul").find("input.nodecheckbox[type=checkbox]"),s.each(function(){n(this).ejCheckBox({check:!0}),o._onChecked(this)}),h=this.model.autoCheckParentNode,e=n(n(i).parents("li.e-item")[0]).parents("li.e-item"),e.each(function(t){var r=n(e[t]).children("ul").find("li.e-item"),u=n(e[t]).children("ul").find("li.e-item").find('input.nodecheckbox[value="True"]').length,i=n(n(e[t]).find("input.nodecheckbox[type=checkbox]")[0]);u==r.length||h?(i.addClass("checked").prop("value","True"),n(i).ejCheckBox({indeterminateState:!1}),n(i).ejCheckBox({indeterminate:!1,check:!0}),o._onChecked(i)):(i.ejCheckBox({indeterminate:!0}),i.ejCheckBox({indeterminateState:!0}),i.val("False"))}),u=this.element.find('input.nodecheckbox[value="True"]'),r=0;r<u.length;r++){var f=n(u[r]).parents(".e-chkbox-wrap"),c=n(f.next()[0])[0].value,l=n(n(u[r]).parents("li.e-item")[0]).attr("id"),a=n(u[r]).parents("li.e-item").first().find(".e-text").first().text(),v=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox"+c+".Value",value:l}),y=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox"+c+".Text",value:a});try{n(u[r]).append(n(v)),n(u[r]).append(n(y))}catch(p){}}},_nodeUnCheckedAction:function(t){var s=this,e,o,f,r,u,i;for(t=n(t),i=n(n(t).find("input.nodecheckbox[type=checkbox]")[0]),i.removeClass("checked").prop("value","False").children().remove(),i.ejCheckBox({indeterminate:!1,check:!1}),this._onUnChecked(i),e=n(t.parents("li.e-item")[0]).children("ul").find("input.nodecheckbox[type=checkbox]"),e.removeClass("checked").prop("value","False").children().remove(),e.each(function(){n(this).ejCheckBox({check:!1}),s._onUnChecked(this)}),o=this.model.autoCheckParentNode,f=n(t.parents("li.e-item")[0]).parents("li.e-item"),r=0;r<f.length;r++)u=n(f[r]).find('input.nodecheckbox[value="True"]').length,i=n(n(f[r]).find("input.nodecheckbox[type=checkbox]")[0]),u<=0&&(i.ejCheckBox({indeterminateState:!1}),i.ejCheckBox({indeterminate:!1,check:!1}),this._onUnChecked(i)),u>1&&o?(i.addClass("checked").prop("value","True"),i.ejCheckBox({check:!0})):u==1&&o?(i.addClass("checked").prop("value","False"),i.ejCheckBox({check:!1})):u>0&&(i.removeClass("checked").prop("value","False").children().remove(),i.ejCheckBox({indeterminate:!0}),i.ejCheckBox({indeterminateState:!0}))},_enableAllowEdit:function(){var t=this.element,i=n(t).find("li");i.each(function(){n(this).addClass("AllowEdit")})},_disableAllowEdit:function(){var t=this.element.find("li");t.each(function(){n(this).removeClass("AllowEdit")})},_expandNode:function(t){if(t!=null&&n(n(n(t).children("div")).children()[0]).hasClass("e-plus")){var i=n(t).children("ul").find("li").length>0?!0:!1;i&&this._expandCollapseAction(n(n(t).children("div")).children()[0])}return!0},_collpaseNode:function(t){var i=t;i!=null&&n(i).find("ul").length>0&&n(n(n(i).children("div")).children()[0]).hasClass("e-minus")&&this._expandCollapseAction(n(n(i).children("div")).children()[0])},_expandAll:function(){var i=this,r=this.element,t=n(r).find("li:not([class*='e-node-disable'])"),u=t.find(">ul:hidden").parents("li.e-item");t.find(">ul:hidden").find("li").length>0&&t.find(">ul:hidden").animate({height:"toggle"},350),n(u).each(function(){if(!n(this).hasClass("e-node-disable")){var r=n(n(this).parents("li.e-item")[0]),u=n(n(this).find(">div >a")[0]).text(),t={currentElement:r,value:u};if(i._onBeforeExpand(t)===!0)return!1;n(this).find("li").length>0&&(n(this).addClass("expand"),n(n(n(this).children("div")[0]).children()[1]).removeClass("collapseimg").addClass("expandimg"),n(n(n(this).children("div")[0]).children()[0]).removeClass("e-icon e-plus").addClass("e-icon e-minus")),i._onNodeExpand(t)}})},_collapseAll:function(){var n=this.element.find("li");this._collapseNodes(n)},_checkAll:function(){var u,r,i,t;if(this.model.showCheckbox)for(u=this.element,r=n(u).find("li"),i=0;i<r.length;i++)t=n(r[i]).children().find("input.nodecheckbox")[0],n(t)[0].disabled?n(t).ejCheckBox("setModel",{check:!1}):(n(t).ejCheckBox("setModel",{check:!0}),n(t).attr("value","True"),this._onChecked(t));else alert("Please Enable the ShowCheckbox property")},_unCheckAll:function(){var u,r,t,i;if(this.model.showCheckbox)for(u=this.element,r=n(u).find("li"),t=0;t<r.length;t++)i=n(r[t]).find("input.nodecheckbox")[0],n(i).ejCheckBox("setModel",{check:!1}),n(i).attr("value","False"),this._onUnChecked(i);else alert("Please Enable the ShowCheckbox property")},_collapseNodes:function(t){var i=this,r=t.find(">ul:not(:hidden)").parents("li.e-item");t.find(">ul:not(:hidden)").animate({height:"toggle"},350),n(r).each(function(){var r=n(n(this).find(">div >a")[0]).text(),t={currentElement:this,value:r};if(i._onBeforeCollapse(t)==!0)return!1;n(this).find("li").length>0&&(n(this).removeClass("e-collapse"),n(n(n(this).children("div")[0]).children()[1]).removeClass("expandimg").addClass("collapseimg"),n(n(n(this).children("div")[0]).children()[0]).removeClass("e-icon e-minus").addClass("e-icon e-plus")),i._onNodeCollapse(t)})},_showCheckBox:function(){for(var t=this.element.find("> ul"),e=t.find("li"),f,i=0;i<e.length;i++){var r=-1,o=e[i],u=n(o).children("ul")[0];this.model.showCheckbox==!0&&n(u).length!=0&&(f=t.find(">li"),f.each(function(t){n(n(u).parents("li.e-item")[0])[0].id==n(f[t])[0].id&&(r=r+1)}),this._checkboxrecursive(t,u,r))}this._addCheckBox(t),t.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})},_drag:function(){var i=this,r=!1,u=null;this._treeView=this.element.parent(),this.model.dragAndDropAcrossControl||(u=this.element.parent()),n(this._treeView).find("ul li div a").ejDraggable({dragArea:u,clone:!0,dragStart:function(n){var t={target:n.target};if(i._onDragStarts(t))return n.cancel=!0,!1},drag:function(u){var f,o,s,e;if(n(".e-sibling").remove(),f=u.target,o={target:f},i._onDrag(o))return!1;n(f).hasClass("e-droppable")||n(f).parent().hasClass("e-droppable")?(document.body.style.cursor="",n(f).addClass("allowDrop")):(document.body.style.cursor="not-allowed",n(f).removeClass("showline-hover"),n(f).removeClass("noline-hover")),f.nodeName!="A"?(f.nodeName=="UL"&&(f=n(f).children()[0]),f.nodeName!="LI"&&(f=n(f).parent(".e-droppable")[0]||n(f).parent()),f.nodeName=="LI"&&n(f).hasClass("e-droppable")&&i.model.dropSibling&&(s=n(".e-treeview").has(f).offset().top+n(f).children().find("a")[0].offsetTop||-1,e=t.buildTag("div.e-sibling"),n(f).hasClass("last")?n(f).append(e):n(f).hasClass("first")?n(f).prepend(e):(r=u.event.pageY<s?!1:!0,r?n(f).prepend(e):n(f).append(e)))):n(".e-sibling").remove()},dragStop:function(t){var u,o,f,e;if((t.element.dropped||(n(".dragClone").remove(),document.body.style.cursor=""),u=t.target,u.className=="e-sibling"&&(u=n(u).parent("li")[0]),o=i,f=r?"Before":"After",f=u.nodeName=="A"?"Over":f,e={target:u,position:f},i._onDragStop(e))||(n(t.element).removeClass("e-active"),u.nodeName=="A"&&i.model.dropChild&&n(u).hasClass("e-droppable")||u.nodeName=="UL"&&n(u).children().length==0?(f="Over",n(t.element).parent().parent().has(n(u)).length==0&&(n(u).parent().parent().has(n(t.element)).length==0||i._isDescendant(n(u).parents("li:last").find(">ul>li"),n(t.element).parents("li:first")[0]))&&(i._dropAsChildNode(u,t.element,t.event),o._applyFirstLastChildClass())):(u.nodeName=="UL"&&(u=n(u).children()[0]),u.nodeName!="LI"&&(u=n(u).parent(".e-droppable")[0]||n(u).parent()),u.nodeName=="LI"&&i.model.dropSibling&&n(u).hasClass("e-droppable")&&(n(".e-sibling").remove(),n(t.element).parent().parent().has(n(u)).length<1&&(i._dropAsSublingNode(u,t.element,r,t.event),o._applyFirstLastChildClass()))),n(".e-sibling").remove(),n(".allowDrop").removeClass("allowDrop"),i.model.dropChild||n(i.element.find(".dragClone")).remove(),e={target:u,event:t.event,dropedElement:t.element},i._onDropped(e)))return!1;document.body.style.cursor=""},helper:function(t){return n(t.sender.target).clone().addClass("dragClone").appendTo(i.element)}})},_isDescendant:function(t,i){var r=!0;return n(t).each(function(n,t){if(t==i)return r=!1,!1;r=!0}),r},_childDrop:function(){n(this._treeView).find("ul li div a").ejDroppable({accept:n(this._treeView).find("ul li div a"),drop:function(t,i){n(i.helper).hide()}})},_siblingDrop:function(){n(this._treeView).find("ul li").ejDroppable({drop:function(t,i){n(i.helper).hide()}})},_dropAsSublingNode:function(t,i,r,u){var f=u.ctrlKey?n(i).parent().parent().clone():n(i).parent().parent(),e=n(i).parents("li.e-item")[1];r?n(f).insertBefore(t):n(f).insertAfter(t),this._checkBox(t,f),this._modifiCss(e),this._applyFirstLastChildClass()},_dropAsChildNode:function(t,i,r){var u=r.ctrlKey?n(i).parent().parent().clone():n(i).parent().parent(),f=n(i).parents("li.e-item")[1];t.nodeName=="UL"?n(t).append(u):this._appendNode(t,u),this._checkBox(n(t).parent().parent(),u),this._modifiCss(f),this._applyFirstLastChildClass(),this._expandNode(n(t).parent().parent()[0])},_appendNode:function(i,r){if(this._showline&&i.length!=0&&(n(n(n(i).parents("li.e-item")[0]).find("li")).hasClass("last")&&n(n(n(i).parents("li.e-item")[0]).find("li")).removeClass("last"),n(r).addClass("last")),i.length!=0)if(n(n(i).parents("li.e-item")[0]).find("ul")[0]==null){var u=t.buildTag("ul.e-treeview-ul");n(u).append(n(r)),n(n(n(i).parents("li.e-item")[0]).find("div")[1]).hasClass("e-minus")||n(n(n(i).parents("li.e-item")[0]).find("div")[1]).addClass("e-icon e-minus"),n(n(i).parents("li.e-item")[0]).append(n(u))}else n(n(n(i).parents("li.e-item")[0]).find("ul")[0]).append(n(r))},_checkBox:function(t,i){var r;if(!n(i).hasClass("nodecheckbox")&&n(i).find(".nodecheckbox").length>0&&(n(i).find(".e-chkbox-wrap").next().remove(),n(i).find(".e-chkbox-wrap").remove()),n(t).find(".e-checkbox").length>0){r=n(".e-treeview").has(t).find("ul")[0],n(r).find(".e-checkbox").next().remove(),n(r).find(".e-checkbox").remove();var f=this,u=-1,e=n(r).find("li");e.each(function(){var t=n(this).children("ul")[0],i;n(t).length!=0&&(i=n(r).find(">li"),i.each(function(r){n(n(t).parents("li.e-item")[0])[0].id==n(i[r])[0].id&&(u=u+1)}),f._childcheckbox(r,t,u))}),this._addCheckBox(n(r)),this.element.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),n(t).closest(".e-treeview").find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})}},_childcheckbox:function(i,r,u){var o=this,f,e=n(r).find(">li");f=n(n(n(n(r).parents("li.e-item")[0]).children()[0]).find(">input[type= hidden]")[0]).length==0?u:n(n(n(r).parents("li.e-item")[0]).children()[0]).find(">input[type= hidden]")[0].value,e.each(function(i){var c=u,r=f+"."+i,s,h;o._childcheckbox(f,this,c),s=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox"+r,value:"False"}),h=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:r}),n(e[i]).children("div").children("span").after(n(h)),n(e[i]).children("div").children("span").after(n(s))})},_modifiCss:function(t){n(t).find("li").length==0?(n(t).find("ul").remove(),n(t).removeClass("e-collapse"),n(t).find("div.e-icon").removeClass("e-icon e-minus")):n(n(t).find("li")[n(t).find("li").length-1]).hasClass("last")||n(n(t).find("li")[n(t).find("li").length-1]).addClass("last")},_applyFirstLastChildClass:function(){var i=this.element,t=i.find("li");t.removeClass("first"),t.removeClass("last"),t.filter("li:last-child").addClass("last"),n(t[0]).addClass("first"),n(t[0]).hasClass("first")&&n(t[0]).hasClass("last")&&n(t[0]).removeClass("first")},_expandEventHandler:function(t){var i=n(n(t.target).siblings("div")),r,u;if(!(t.type==="dblclick"&&this.model.allowEdit))if(t.preventDefault(),this.model.loadOnDemand)if(r=n(t.target),u=r.parents("li").find("div.e-icon e-plus,div.e-icon e-minus").first(),u.hasClass("e-plus")&&r.parents("li").find("ul >li").length==0){u.addClass("e-load");var f=n(r.parents("li.e-item")[0]).attr("id"),e=r.text(),o={id:f,value:e};this._loadOnDemand(o,u[0])}else this._expandCollapseAction(i[0]);else i&&(i.hasClass("e-plus")||i.hasClass("e-minus"))&&this._expandCollapseAction(i[0])},_inlineEdit:function(t){return t.preventDefault(),t.target.tagName!="A"||n(t.target).hasClass("e-node-disable")||n(n(t.target).parents("li.e-item")[0]).hasClass("AllowEdit")&&n(t.target).hasClass("e-text")&&(n(t.target).removeClass("e-active"),this._inlineEditAction(t.target)),!1},_inlineEditAction:function(t){var i=n("#Edit_Input")[0];i==null?this._createEditTextBox(t):(i=n("#Edit_Input")[0],n(i.parentNode).html(i.value),n(i).remove(),this._createEditTextBox(t)),n(t).css("display","none")},_createEditTextBox:function(i){var o={currentNode:i},r,u,e,f;return this._trigger("beforeEdit",o)?!1:(r=n("#Edit_Input")[0],r==null&&(u=t.buildTag("Input.Input_Text#Edit_Input","","",{type:"text",value:n.trim(i.innerHTML).replace(/\n\s+/g," "),name:"inplace_value"}),n(u).width(n(i).outerWidth()+5),n(u).height(n(i).outerHeight()-2),this.beforeEditText=n(i).text(),n(i).html(""),n(i).before(u),e=0,r=n("#Edit_Input")[0],e=r.value.length==""?3:n(i).outerWidth()+20,this._mousePositionAtEnd(r),this._currentEditableNode=i,f=n(r),this._on(f,"keypress",this._editTextBoxKeyPress),this._on(f,"keydown",this,this._pressEscKey),this._on(f,"blur",this._focusout)),r)},_editTextBoxKeyPress:function(n){n.target.size=n.target.value.length+1},_mousePositionAtEnd:function(n){return n.focus&&n.focus(),n.select&&n.select(),!0},_focusout:function(){var t=n("#Edit_Input")[0],i=t.value,r=n(n(t).parents("li.e-item")[0]).attr("id"),u={NodeID:r,OriginalText:this.beforeEditText,ModifiedText:i,UpdateChanges:!0};this._trigger("inlineEditValidation",u)==!0?this._cancelAction(t):this._saveAction(t)},_pressEscKey:function(t){t.cancelBubble=!0,t.returnValue=!1;var i=n("#Edit_Input")[0];i!=null&&(t.keyCode==13&&this._focusout(),t.keyCode==27&&this._cancelAction(i))},_onFocusHandler:function(t){this.model.allowKeyboardNavigation&&this._isFocus&&(this.element.find(".e-active").removeClass("e-active"),nextElement=this.element.find("li").first().find("a").first(),n(nextElement).addClass("e-active"),t.preventDefault(),this._isFocus=!1)},_KeyPress:function(i){var f,c,e=this,a,u,r,l,o,d,s,v,w,y,p,g,b,h,nt,k;if(this._isFocus=!0,s=this.element.find("> ul"),f=i.keyCode?i.keyCode:i.which?i.which:i.charCode,f==113&&(i.preventDefault(),this._isFocus=!1,a=s.find(".e-active")[0],a!=null&&n(n(a).parents("li.e-item")[0]).hasClass("AllowEdit")&&(n(a).removeClass("e-active"),this._createEditTextBox(a))),e.model.allowKeyboardNavigation&&e.element.find("#Edit_Input").length<1)if(r=n(n(s).find(".e-active").parents("li.e-item")[0]),l=n(s).find("li").not(":hidden"),f==40){if(r.length>0){for(i.preventDefault(),o=0;o<l.length;o++)if(n(n(l[o]).find("a")[0]).hasClass("e-active"))if(o==l.length-1)this._nodeSelectionAction(n(r.find("a")[0]).addClass("e-active"));else{n(n(l[o]).find("a")[0]).removeClass("e-active"),this._nodeSelectionAction(n(n(l[o+1]).find("a")[0]));break}e._KeyPressEventHandler(u,e,f)}}else if(f==38){if(r.length>0){for(i.preventDefault(),o=0;o<l.length;o++)if(n(n(l[o]).find("a")[0]).hasClass("e-active"))if(o==0)this._nodeSelectionAction(n(r.find("a")[0]).addClass("e-active"));else{n(n(l[o]).find("a")[0]).removeClass("e-active"),this._nodeSelectionAction(n(n(l[o-1]).find("a")[0]).addClass("e-active"));break}e._KeyPressEventHandler(u,e,f)}}else if(f==39){if(n(r).children("div").find("div").hasClass("e-plus"))if(i.preventDefault(),d=n(r).children("ul").find("li").length>0?!0:!1,!d&&this.model.loadOnDemand){s=n(r).find("div.e-icon e-plus,div.e-icon e-minus").first(),s.addClass("e-load");var tt=n(r).attr("id"),it=n(r).find("a[class*=e-text]").first().text(),rt={id:tt,value:it};this._loadOnDemand(rt,s[0])}else this._expandNode(r);else n(r).find("div.e-icon e-plus,div.e-icon e-minus").first().length>0?this.selectNode(n(r).children("ul").find("li").first()[0]):(v=n(r).parent().find("li"),w=v.index(r),t.isNullOrUndefined(v[w+1])||this.selectNode(v[w+1]));u=n(r.find("a")[0]),e._KeyPressEventHandler(u,e,f)}else f==37?(n(r).children("div").find("div").hasClass("e-minus")?(i.preventDefault(),this._collpaseNode(r)):n(r).parents().first().parents("li").first().length>0&&(n(r).find("a.e-active").first().removeClass("e-active"),n(r).parents().first().parents("li").first().find("a").first().addClass("e-active")),u=n(r.find("a")[0]),e._KeyPressEventHandler(u,e,f)):f==13?r.length>0&&(n(r).children("div").find("div").hasClass("e-minus")?this._collpaseNode(r):this._expandNode(r),u=n(r.find("a")[0]),e._KeyPressEventHandler(u,e,f)):f==32?r.length>0&&this.model.showCheckbox&&(i.preventDefault(),y=r.find("input.nodecheckbox[type=checkbox]").first(),y[0].checked?this._nodeUnCheckedAction(y.parent().parent()):this._nodeCheckedAction(y.parent().parent())):f==46?r.length>0&&(i.preventDefault(),this._removeNode(r.find("a.e-text").first())):i&&i.ctrlKey==!0?f==88?(n(r).hasClass("first")?(p=n(r).removeClass("first").addClass("last"),n(r).next().addClass("first")):n(r).hasClass("last")?(p=n(r),n(r).prev().addClass("last")):p=n(r).addClass("last"),this._cutCopyNodeText=p,e._removeNode(),this.element.focus()):f==67?(g=n(r).clone(),this._cutCopyNodeText=g):f==86&&this._cutCopyNodeText!=null?(n(r).length===0&&(r=this.element),h=n(this._cutCopyNodeText).clone(),n(h.find("a")[0]).hasClass("e-active")&&n(h.find("a")[0]).removeClass("e-active"),b=n(h).hasClass("first")?n(h).removeClass("first").addClass("last"):n(h).hasClass("last")?n(h):n(h).addClass("last"),this.model.showCheckbox&&h.find("span.e-chkbox-wrap").ejCheckBox({check:!1,change:this._checkedChange}),this._on(h.find(".e-text"),"mouseenter",this._mouseEnterEvent),this._on(h.find(".e-text"),"mouseleave",this._mouseLeaveEvent),n(r).children("div").children("span").hasClass("child")&&n(r).children("div").children("span").removeClass("child").addClass("expandimg"),n(r).children("ul").length!=0?(n(r).children("ul").find(">li").last().removeClass("last"),n(r).find(">ul").append(n(b))):(nt=t.buildTag("ul.e-treeview-ul"),c=n(nt).append(n(b)),n(r).append(n(c)),n(r).children("div").find(">div").first().addClass("e-icon e-minus")),k=n(r).parents("li.e-item"),k.each(function(t){var i=n(k[t]).children("ul").find(">li");i.length==1&&n(i).addClass("last")}),this._expandNode(r)):f==36?(n(n(r).find("a")[0]).removeClass("e-active"),u=n(n(s).find(">li")[0]).find("a")[0],n(u).addClass("e-active"),e._KeyPressEventHandler(u,e,f),i.preventDefault()):f==35&&(n(n(r).find("a")[0]).removeClass("e-active"),c=n(s).find(">li").last(),n(c).find("div").hasClass("e-minus")?(u=n(n(c).find("li").last().find("a")[0]),n(u).addClass("e-active")):(u=n(c.find("a")[0]),n(u).addClass("e-active")),e._KeyPressEventHandler(u,e,f),i.preventDefault()):f==36?(i.preventDefault(),n(n(r).find("a")[0]).removeClass("e-active"),u=n(n(n(r).parents("li.e-item")[0]).find("li")[0]).find("a")[0],u?n(u).addClass("e-active"):(u=n(n(s).find(">li")[0]).find("a")[0],n(u).addClass("e-active")),e._KeyPressEventHandler(u,e,f)):f==35&&(i.preventDefault(),n(n(r).find("a")[0]).removeClass("e-active"),u=n(n(r).parents("li.e-item")[0]).find("li").last().find("a")[0],u?n(u).addClass("e-active"):(c=n(s).find(">li").last(),n(c).find("div").hasClass("e-minus")?(u=n(n(c).find("li").last().find("a")[0]),n(u).addClass("e-active")):(u=n(c.find("a")[0]),n(u).addClass("e-active"))),e._KeyPressEventHandler(u,e,f))},_removeNode:function(i){var r=t.isNullOrUndefined(i)?this.element.find(".e-active"):i,u;r!=null&&(u=n(n(r).parents("li.e-item")[1]),n(n(r).parents("li.e-item")[0]).remove(),this._modifiCss(u))},_KeyPressEventHandler:function(t,i,r){var u,e=n(n(t).parents("li.e-item")[0]),o=i._getPath(n(t).parents("li.e-item")[0]),s=n(t).text(),f;u=n(n(t).parents("li.e-item")[0]).children("div").find("div").hasClass("e-minus")?!0:!1,f={keyCode:r,currentElement:e,value:s,isExpanded:u,path:o},this._trigger("keyPress",f)},_documentClick:function(t){if(t.target.id!="Edit_Input")var i=n("#Edit_Input")[0];i!=null&&(n(i).next().html(i.value).removeAttr("style"),n(i).remove())},_saveAction:function(t){n(t).next().html(t.value).removeAttr("style"),n(t).remove()},_cancelAction:function(t){n(t).next().html(this.beforeEditText).removeClass("e-node-hover").addClass("e-active").removeAttr("style"),this._hideEditTextBox()},_hideEditTextBox:function(){var t=n("#Edit_Input")[0];t!=null&&n(t).remove()},_mouseEnterEvent:function(t){n(t.target).hasClass("e-text")&&!n(t.target).hasClass("e-node-disable")&&n(t.target).addClass("e-node-hover")},_mouseLeaveEvent:function(t){n(t.target).hasClass("e-node-hover")&&n(t.target).removeClass("e-node-hover")},_createSubNodesWhenLoadOnDemand:function(i,r,u){var w;t.isNullOrUndefined(u)&&(u=this.model.fields);var a,f=this,v=u.id,c=u.text,s=u.parentId,y=u.childItems,p=u.hasChild,o=u.imageUrl,e=u.isChecked,l=u.spriteCssClass,h=t.buildTag("ul.e-treeview-ul","",{display:"none"});n.each(i,function(u,s){var d=t.buildTag("a.e-text CanSelect",s[c],"",{href:"#"+s[c]}),g,k,nt,w,rt,b,ut;if(f._on(n(d),"mouseenter",f._mouseEnterEvent),f._on(n(d),"mouseleave",f._mouseLeaveEvent),g=t.buildTag("div"),k=t.buildTag("span"),s[y]||s[p]?(n(k).addClass("collapseimg"),n(g).addClass("e-icon e-plus")):n(k).addClass("child"),s[o]!=null&&(nt=t.buildTag("img.e-align"),nt.src=s[o].substr(0,1)=="~"?s[o].substr(1,s[o].length):s[o]),f.model.showCheckbox){var it=n(n(r).parents("li.e-item")[0]).find("div").find(">input[type=hidden]")[0].value,tt=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox"+it+"_"+u+".Checked"}),ft=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:it+"_"+u});s[e]!=null&&s[e]&&n(tt).prop("checked",!0),n(tt).prop("value",s[e]!=null?"False":s[e])}w=t.buildTag("div"),n(w).append(g),f.model.showCheckbox&&(n(w).append(tt),n(w).append(ft)),n(w).append(k),s[l]!=null&&(rt=t.buildTag("spane."+s[l]),n(w).append(rt)),n(w).append(nt),n(w).append(a),n(w).append(d),b=t.buildTag("li.e-item","","",{id:s[v]}),f.model.allowEdit&&b.addClass("AllowEdit"),f.model.showCheckbox&&s[e]!=null&&s[e]&&b.addClass("ischecked"),i.length==u+1&&b.addClass("last"),b.append(n(w)),ut=n(b),s.ChildCount>0&&n(n(ut).children().find("div")[0]).removeClass("e-icon e-minus").addClass("e-icon e-plus"),n(h).append(n(b))}),this.element.find(" li#"+i[0][s]+" ul ").remove(),this.element.find(" li#"+i[0][s]+"").append(n(h)),w=this.element.find(" li#"+i[0][s]),this.model.showCheckbox&&n(h).find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),n(r).removeClass("e-load"),this._isCheckedAction()},_createTreeElement:function(i,r,u){var e,a,v,y,o,c,s;if(this.model.showCheckbox){if(t.isNullOrUndefined(r))a=this.element.find(">li"),e=a.length+1;else if(n(r.parents("li.e-item")[0]).children("ul").length==0)e=n(n(r.parents("li.e-item")[0]).find("div")[0]).find(">input[type=hidden]")[0].value+".0";else{var h=n(n(r.parents("li.e-item")[0]).children("ul").find("li").last().find("div").find(">input[type=hidden]")[0]).val(),l=h.split("."),p=parseInt(l[l.length-1])+1,w=h.substring(0,h.length-1);e=w+p}v=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox"+e+".Checked",value:"False"}),y=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:e})}o=t.buildTag("a.e-text CanSelect",i,"",{href:"#"+i}),t.isNullOrUndefined(u)||o.attr("href",u),c=n(o),this._on(c,"mouseenter",this._mouseEnterEvent),this._on(c,"mouseleave",this._mouseLeaveEvent);var b=t.buildTag("span.child"),k=t.buildTag("div"),f=t.buildTag("div");return n(f).append(k),n(f).append(b),this.model.showCheckbox&&(n(f).append(v),n(f).append(y)),n(f).append(o),s=t.buildTag("li.e-item#"+i),this.model.allowEdit&&s.addClass("AllowEdit"),s.append(n(f)),n(s)},_addExpandedNodes:function(t){var i=this.model.expandedNodes;n.inArray(t,i)==-1&&this.model.expandedNodes.push(t)},_removeExpandedNodes:function(t){var i=this.model.expandedNodes;n.inArray(t,i)>-1&&this.model.expandedNodes.splice(n.inArray(t,i),1)},_wireEvents:function(){this._on(this.element,"click",this._ClickEventHandler),this._on(this.element.find(".e-text"),"mouseenter",this._mouseEnterEvent),this._on(this.element.find(".e-text"),"mouseleave",this._mouseLeaveEvent),this.model.allowEdit&&(this._on(n(document),"click",this._documentClick),this._on(this.element.parent(),"dblclick",this._inlineEdit)),this._on(this.element,this.model.expandEvent,this._expandEventHandler),this._on(n(document),"keydown",this._KeyPress),this._on(this.element,"focus",this._onFocusHandler),this._enableDargDrop()},_unWireEvents:function(){this._off(this.element,"click"),this._off(this.element.find(".e-text"),"mouseenter"),this._off(this.element.find(".e-text"),"mouseleave"),this._off(n(document),"click"),this._off(this.element.parent(),"dblclick"),this._off(this.element,this.model.expandEvent),this._off(n(document),"keydown"),this._on(this.element,"focus")},_enableDargDrop:function(){this.model.dragAndDrop&&(this._drag(),this.model.dropChild&&this._childDrop(),this.model.dropSibling&&this._siblingDrop())},refresh:function(){this._unWireEvents(),this._init()},expandAll:function(){this.model.enabled&&this._expandAll()},collapseAll:function(){this.model.enabled&&this._collapseAll()},checkAll:function(){this.model.showCheckbox&&this.model.enabled&&this._checkAll()},unCheckAll:function(){this.model.showCheckbox&&this.model.enabled&&this._unCheckAll()},getSelectedNode:function(){var t=this.element.find(".e-active");return n(n(t).parents("li.e-item")[0])},getText:function(i){if(t.isNullOrUndefined(i))return!1;return n(n(i).find("a")[0]).text()},selectNode:function(i){var r;!t.isNullOrUndefined(i)&&this.model.enabled&&(r=n(i).hasClass("e-text")?n(i):n(n(i).find(">div >a")[0]),this._nodeSelectionAction(r))},unSelectNode:function(i){var r;!t.isNullOrUndefined(i)&&this.model.enabled&&(r=n(i).hasClass("e-text")?n(i):n(n(i).find(">div >a")[0]),this._nodeUnSelectionAction(r))},enableNode:function(i){var r;!t.isNullOrUndefined(i)&&this.model.enabled&&(r=n(i).hasClass("e-text")?n(i):n(n(i).find("a.e-text")[0]),this._nodeEnableAction(r),n(i).parent().find(".nodecheckbox").ejCheckBox("enable"))},disableNode:function(i){var r;!t.isNullOrUndefined(i)&&this.model.enabled&&(r=n(i).hasClass("e-text")?n(i):n(n(i).find(">div >a")[0]),this._nodeDisableAction(r),n(i).find(".nodecheckbox").ejCheckBox("disable"))},addNode:function(i,r,u){if(this.model.enabled){var f=null,s=null,o=this.element,h=o.children().length,e=t.isNullOrUndefined(u)?o.find(".e-active"):u;e.length==0?(s=h==0||o.children().children().length==0?t.buildTag("ul"):o.children()[h-1],f=this._createTreeElement(i,null,r),n(s).append(f),this._appendNode(e,s),n(f).find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})):(this._expandNode(n(n(e).parents("li.e-item")[0])),f=this._createTreeElement(i,e,r),this._appendNode(e,f),this.model.showCheckbox&&n(f).find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})),this._modifiCss()}},removeNode:function(i){this.model.enabled&&(t.isNullOrUndefined(i)||(element=n(i).hasClass("e-text")?n(i):n(n(i).find(">div >a")[0])),this._removeNode(element))},getAllCheckedNodes:function(){return this.element.find('input.nodecheckbox[value="True"]').closest("li")},checkNode:function(i){!t.isNullOrUndefined(i)&&this.model.enabled&&this._nodeCheckedAction(n(i).find("span.e-chkbox-wrap").first())},unCheckNode:function(i){!t.isNullOrUndefined(i)&&this.model.enabled&&this._nodeUnCheckedAction(n(i).find("span.e-chkbox-wrap").first())},expandNode:function(n){!t.isNullOrUndefined(n)&&this.model.enabled&&this._expandNode(n)},collapseNode:function(n){!t.isNullOrUndefined(n)&&this.model.enabled&&this._collpaseNode(n)},showNode:function(n){!t.isNullOrUndefined(n)&&this.model.enabled&&n.css("visibility","")},hideNode:function(n){!t.isNullOrUndefined(n)&&this.model.enabled&&n.css("visibility","hidden")},show:function(){this.element.css("visibility","")},hide:function(){this.element.css("visibility","hidden")},isNodeChecked:function(t){return this._isChecked(n(t).find("input.nodecheckbox")[0])},isExpanded:function(n){return this._isExpanded(n)},isNodeExpanded:function(i){if(!t.isNullOrUndefined(i)){var r=n(i).children().filter("ul");return n(r).is(":not(:hidden)")}},hasChildNode:function(i){var r=!1;return t.isNullOrUndefined(i)||(r=n(i).children().length<2?!1:!0),r},_onNodeExpand:function(n){this.model.expand&&this._trigger("expand",n)},_onNodeCollapse:function(n){this.model.collapse&&this._trigger("collapse",n)},_onBeforeExpand:function(n){if(this.model.beforeExpand)return this._trigger("beforeExpand",n)},_onBeforeCollapse:function(n){if(this.model.beforeCollapse)return this._trigger("beforeCollapse",n)},_onNodeSelect:function(n){this.model.select&&this._trigger("select",n)},_onChecked:function(t){var i=n(t).parents("li").first(),r=i.find(".e-text").first().text(),u=this._isChecked(t),f={currentElement:i,value:r,checked:u};this.model.check&&this._trigger("check",f)},_onUnChecked:function(t){var i=n(t).parents("li").first(),r=i.find(".e-text").first().text(),u=this._isChecked(t),f={currentElement:i,value:r,checked:u};this.model.uncheck&&this._trigger("uncheck",f)},_onDragStarts:function(n){if(this.model.dragStart)return this._trigger("dragStart",n)},_onDrag:function(n){if(this.model.drag)return this._trigger("drag",n)},_onDragStop:function(n){if(this.model.dragStop)return this._trigger("dragStop",n)},_onDropped:function(n){if(this.model.dropped)return this._trigger("dropped",n)},_onClick:function(n){this._trigger("click",n)}})}(jQuery,Syncfusion),function(n,t){t.widget("ejUploadbox","ej.Uploadbox",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-uploadbox",defaults:{browseButtonText:"Browse",uploadButtonText:"Upload",asyncUpload:!0,enabled:!0,multipleFilesSelect:!1,autoUpload:!1,showFileDetails:!0,fileFormatAllow:"",fileFormatDeny:"",saveUrl:"",removeUrl:"",cssClass:"",rtl:!1,create:null,fileSelect:null,begin:null,cancel:null,complete:null,remove:null,error:null,destroy:null},dataTypes:{browseButtonText:"string",uploadButtonText:"string",disbled:"boolean",multipleFilesUpload:"boolean",autoUpload:"boolean",showFileDetails:"boolean",fileFormatAllow:"string",fileFormatDeny:"string",saveUrl:"string",removeUrl:"string",cssClass:"string",rtl:"boolean"},disable:function(){this.element.addClass("e-disable"),this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable"),this.model.enabled=!0)},_init:function(){this._initialize(),this._wireEvents(),this.model.asyncUpload||this._initObjectsSyncUpload(),this._controlStatus(this.model.enabled)},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i;for(i in n)switch(i){case"browseButtonText":this._setBrowseButtonText(n[i]);break;case"uploadButtonText":this._setUploadButtonText(n[i]);break;case"cssClass":this._setSkin(n[i]);break;case"rtl":this._setRTL(n[i]);break;case"enabled":this._controlStatus(n[i])}},_controlStatus:function(n){n!=!0?this.disable():this.enable()},_setRTL:function(n){n?(this.element.addClass("e-rtl"),window.navigator.appName=="Microsoft Internet Explorer"&&this.inputupload.css("right","-153px")):(this.element.removeClass("e-rtl"),window.navigator.appName=="Microsoft Internet Explorer"&&this.inputupload.css("right","0px")),this.updialog&&this.updialog.ejDialog({rtl:n})},_setBrowseButtonText:function(n){this.buttondiv.val(n)},_setUploadButtonText:function(n){this.element.find(".e-uploadbtn").html(n)},_destroy:function(){this.element.hasClass("e-uploadbox")&&(this.element.removeClass("e-uploadbox e-widget"),this.element.empty())},_setSkin:function(n){this.element.removeClass(this.model.cssClass),this.element.addClass(n)},_initialize:function(){this.control=this.element[0],this.element.addClass("e-widget "+this.model.cssClass),this.innerdiv=t.buildTag("div.e-selectpart e-select"),this.element.append(this.innerdiv),this.buttondiv=t.buildTag("input.e-inputbtn e-btn#"+this.control.id+"_SelectButton","",{},{type:"button",value:this.model.browseButtonText}),this.inputupload=t.buildTag("input.e-uploadinput","",{},{type:"file",name:this.control.id}),this.model.multipleFilesSelect&&this.inputupload.attr(multiple,"multiple"),this.innerdiv.append(this.buttondiv),this.innerdiv.append(this.inputupload),this._Selector=this.buttondiv[0],this._setRTL(this.model.rtl),this.Uploadframes=[],this.UploadForms=[],this.UploadType=this._isXhrSupported()?"Xhr":"IFrame",this.s.name=="chrome"&&this.innerdiv.css("padding","4px 10px")},_wireEvents:function(){this._on(this.element,"click",this._disableclickselect),this._bindInputChangeEvent()},_disableclickselect:function(n){this.element.hasClass("e-disable")&&n.preventDefault()},_bindInputChangeEvent:function(){this._on(this.inputupload,"change",this._inputValueChange)},_inputValueChange:function(t){var i,r;i=n(t.target),this.element.find(".e-uploadbtn").css("visibility","visible"),r=this._getInputFileInfo(i),this._trigger("fileSelect"),this._isAllowed(r)&&(this.model.asyncUpload?this.UploadType=="Xhr"?this._onXhrSelect(t):this._onSelectIFrame(t):this._onSelectSyncUpload(t))},__uploadButtonClick:function(t){this.UploadType=="Xhr"?this._xhrOnUploadButtonClick(t):this._onUploadButtonClickIFrame(t),this.element.find(".e-ul").addClass("remove"),n(t.target).remove(),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&n(".e-selectpart",this.control).css("float","none")},_actionClick:function(t){var r,i,u;r=n(t.target),i=r.closest(".e-upload-file"),u=n(i).data("file"),r.hasClass("e-file-delete")?(this._trigger("remove",{fileStatus:u}),this.UploadType=="Xhr"?this._xhrOnRemove(t,i):this._onRemoveIFrame(t,i)):r.hasClass("e-file-cancel")?(this._trigger("cancel",{fileStatus:u}),this.model.asyncUpload?this.UploadType=="Xhr"?this._xhrOnCancel(t,i):this._onCancelIFrame(t,i):this._onCancelSyncUpload(t,i)):r.hasClass("e-file-retry")&&(this.UploadType=="Xhr"?this._xhrOnRetry(t,i):this._onRetryIFrame(t,i))},_removeFileEntry:function(n){n.remove()},_isFileUpload:function(t){var i=n(t).find("div.e-icon");return i.is(".e-file-cancel")},_isXhrSupported:function(){return this.s=t.browserInfo(),this.s.name=="msie"&&parseInt(this.s.version)<9||this.s.name=="safari"&&this.s.name=="chrome"&&this.s.version=="536"?!1:typeof FormData!="undefined"&&typeof File!="undefined"},_getFileName:function(t){return n.map(this._getAllFileInfo(t),function(n){return n.name}).join(", ")},_getFileSize:function(t){var i=this;return n.map(this._getAllFileInfo(t),function(n){return i._formatSize(n.size)}).join(", ")},_pushFile:function(i,r){var s,f,e,u,o,h,c;for(filedialog=this.updialog,filedialog&&filedialog.length!=0?this.model.showFileDetails&&this.diaObj.open():(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:"Upload Box"}),this.element.append(this.updialog)),s=this.element.find(".e-ul"),s.length==0&&(s=t.buildTag("ul.e-ul").appendTo(this.updialog)),h=(this.element.offset().left+this.element.width())/3,c=this.element.offset().top,this.updialog.ejDialog({autoOpen:!1,width:510,cssClass:this.model.cssClass,close:n.proxy(this._uploadFileListDelete,this),position:{X:h,Y:c},minHeight:110,rtl:this.model.rtl,contentContainer:"#"+this.element[0].id,resizable:!1}),this.diaObj=this.updialog.data("ejDialog"),u=0;u<i.length;u++)f=n("<li class='e-upload-file'><div class='e-file-list'><div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+i[u].name+"<\/span><\/div><\/div><div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+i[u].size+"<\/span><\/div><div class='e-file-percentage e-file-view'>0%<\/div><div class='e-action-perform'><div class='e-icon e-file-view'><\/div><\/div><div class='e-file-progress-bar'><div class='e-file-progress-status'><\/div><\/div><\/div><\/li>").appendTo(s).data(r),(this._getFileSize(i[u]).toString().toLowerCase()=="nankb"||i[u].size==null)&&f.find(".e-file-size").remove(),o="cancel",f.find(".e-icon").remove().addClass(o.toString()),o=="cancel"?e=t.buildTag("div.e-icon e-file-cancel","",{},{title:"cancel"}):o=="remove"?e=t.buildTag("div.e-icon e-file-delete","",{},{title:"remove"}):o=="retry"&&(e=t.buildTag("div.e-icon e-file-retry","",{},{title:"retry"})),f.find(".e-action-perform").append(e),this._on(e,"click",this._actionClick);return this.model.showFileDetails&&this.diaObj.open(),f},_pushFileDetails:function(i){var u,r,f,e,o;return u=this,filedialog=this.updialog,filedialog&&filedialog.length!=0?this.model.showFileDetails&&u.diaObj.open():(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:"Upload Box"}),this.element.append(this.updialog)),r=this.element.find(".e-ul"),r.length==0&&(r=t.buildTag("ul.e-ul").appendTo(this.updialog)),e=(this.element.offset().left+this.element.width())/3,o=this.element.offset().top+this.element.height(),f=n("<li class='e-upload-file'><div class='e-file-list'><div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+i.name+"<\/span><\/div><\/div><div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(0)+"\\"+this._formatSize(i.size)+"<\/span><\/div><div class='e-file-percentage e-file-view'>0%<\/div><div class='e-action-perform'><div class='e-icon e-file-view'><\/div><\/div><div class='e-file-progress-bar'><div class='e-file-progress-status'><\/div><\/div><\/div><\/li>").appendTo(r).data("file",i),this.updialog.ejDialog({autoOpen:!1,width:520,cssClass:this.model.cssClass,close:n.proxy(this._uploadFileListDelete,this),position:{X:e,Y:o},minHeight:110,rtl:this.model.rtl,contentContainer:"#"+this.element[0].id,resizable:!1}),u.diaObj=this.updialog.data("ejDialog"),this.model.showFileDetails&&u.diaObj.open(),f},_setProgress:function(t,i,r){var u,f,e,o,s;u=n(t).find(".e-file-progress-status"),u.width(i+"%"),f=n(t).find(".e-file-percentage"),f.html(i+"%"),e=n(t).find(".e-file-size .e-file-name-txt"),o=this._formatSize(r.loaded),s=this._formatSize(r.total),e.html(o+"\\"+s)},_setAction:function(n,i){var r;n.find(".e-icon").remove().addClass(i.toString()),i=="cancel"?r=t.buildTag("div.e-icon e-file-cancel","",{},{title:"cancel"}):i=="remove"?r=t.buildTag("div.e-icon e-file-delete","",{},{title:"remove"}):i=="retry"&&(r=t.buildTag("div.e-icon e-file-retry","",{},{title:"retry"})),n.find(".e-action-perform").append(r),this._on(r,"click",this._actionClick)},_setStatus:function(n,i){var u,r=t.buildTag("div");i=="success"&&(n.find(".file-status").addClass("e-file-status-success").html("Completed"),n.find(".e-file-percentage").html("").attr("title","Completed"),r.addClass("e-file-percentage-success"),n.find(".e-file-percentage").append(r)),i=="failed"&&(n.find(".file-status").addClass("e-file-status-failed").html("Failed"),n.find(".e-file-percentage").html("").attr("title","Failed"),r.addClass("e-file-percentage-failed"),n.find(".e-file-percentage").append(r)),i=="progress"&&n.find(".file-status").addClass("file-status-inprogress").html("in progress"),i=="uploading"&&(n.find(".file-status").addClass("file-status-inprogress").html("uploading"),u=n.find(".e-file-percentage"),u.html(""))},_createInputandBind:function(){var n=t.buildTag("input","",{},{type:"file"});n.attr("name",this.control.id).attr("autocomplete","off").attr("class","e-uploadinput"),this.model.multipleFilesUpload&&n.attr("multiple","multiple"),n.appendTo(this.element.find(".e-selectpart")),this._bindInputChangeEvent()},_showUploadButton:function(){var i=this.element.find(".e-uploadbtn");i.length==0&&(i=t.buildTag("button.e-uploadbtn e-btn e-select",this.model.uploadButtonText),this.element.find(".e-selectpart").after(i),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&(this.model.rtl?n(".e-selectpart",this.control).css("float","right"):n(".e-selectpart",this.control).css("float","left")),window.navigator.appName=="Microsoft Internet Explorer"?i.css("height","35px"):window.navigator.vendor=="Google Inc."&&i.css("padding","10px").css("margin-top","0px"),this._on(i,"click",this.__uploadButtonClick),this.element.find(".e-ul").removeClass("remove"))},_resetFileInput:function(n){var t=n.clone(!1,!1);this._on(t,"change",this._inputValueChange),n.replaceWith(t)},_isAllowed:function(t){var f,i,u,r,e,o;return f=this.element.find(".e-uploadinput"),i=!1,u=this,this.model.fileFormatAllow!=""&&(e=this.model.fileFormatAllow.split(","),n(t).each(function(){if(n.inArray(this.extension,e)==-1)return r={action:"ExtensionsAllow",files:t},u._trigger("error",r),i=!0,!1})),this.model.fileFormatDeny!=""&&(o=this.model.fileFormatDeny.split(","),n(t).each(function(){if(n.inArray(this.extension,o)!=-1)return r={action:"ExtensionsDeny",files:t},u._trigger("error",r),i=!0,!1})),i&&this._resetFileInput(f),!i},_fileListRemove:function(){fileList=this.element.find(".e-upload-file .e-file-delete"),fileList.length==0&&(this.element.find(".e-ul").addClass("remove"),this.updialog.ejDialog("close"),this.element.find(".e-uploadbtn").remove(),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&n(".e-selectpart",this.control).css("float","none"))},_uploadHide:function(){fileList=this.element.find(".e-upload-file .e-file-cancel"),fileList.length==0&&(this.element.find(".e-ul").addClass("remove"),this.updialog.ejDialog("close"),this.element.find(".e-uploadbtn").remove(),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&n(".e-selectpart",this.control).css("float","none"))},_uploadFileListDelete:function(){var n;this.updialog.find(".e-ul").remove(),this.element.find(".e-uploadbtn").remove(),n=this.element.find(".e-uploadinput"),this._resetFileInput(n)},_onXhrSelect:function(t){var r,u,i,f;r=n(t.target),u=this._getInputFileInfo(r),this._xhrBeforeUpload(u,r),i=this,n.each(u,function(t,r){f=n(r).data("filelist"),i._setAction(f,"cancel"),i.model.autoUpload?i._xhrPerformUpload(r):i._showUploadButton()})},_xhrBeforeUpload:function(t){var i,r,u,f;return i=t,r=this,n.each(i,function(t,i){u=r._createFormObjectXhr(i),n(i).data("formobject",u),f=r._pushFileDetails(i),n(i).data("filelist",f)}),i},_xhrPerformUpload:function(t){var u,i,f,r;this._trigger("begin"),u=this.model.saveUrl,i=this,f=n(t).data("formobject"),r=new XMLHttpRequest,n(t).data("xhr",r),r.addEventListener("load",function(n){i._onRequestSuccess(i,n,t)},!1),r.addEventListener("error",function(n){i._onRequestError(i,n,t)},!1),r.upload.addEventListener("progress",function(n){i._onRequestProgress(i,n,t)},!1),r.open("POST",u),r.send(f)},_xhrOnUploadButtonClick:function(){var t,i,r;t=this,n(".e-ul li.e-upload-file",t.control).each(function(){i=n(this),r=t._isFileUpload(i),r&&t._xhrPerformUpload(n(i).data("file"))})},_xhrOnRemove:function(t,i){var r=n(i).find(".e-file-name").text().toString().split(","),u=this;n.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+r,success:function(){n(i).remove(),u._fileListRemove()}})},_xhrOnCancel:function(t,i){var r,u;r=n(i).data("file"),u=n(r).data("xhr"),u&&n(r).data("xhr").abort(),n(r).data("xhr",null),n(i).data("file",null),n(i).remove(),this._uploadHide()},_xhrOnRetry:function(t,i){var r=n(i).data("file");this._xhrPerformUpload(r)},_onRequestSuccess:function(t,i,r){var u=n(r).data("xhr");u.status>=200&&u.status<=299?t._onXhrUploadSuccess(t,i,r):t._onRequestError(t,i,r)},_onXhrUploadSuccess:function(t,i,r){var u,e,o,s,f,h,c;u=n(r).data("filelist"),e=n(r).data("xhr"),t.model.removeUrl?(t._setAction(u,"remove"),t._setStatus(u,"success")):(u.find(".e-icon").remove(),t._setStatus(u,"success")),n(r).length>0&&(o=n(u).find(".e-file-progress-status"),o.width("100%"),s=n(r)[0].size,f=this._formatSize(s),h=n(u).find(".e-file-size .e-file-name-txt"),h.html(f+"\\"+f)),c={files:r,xhr:e,e:i},t._trigger("complete",c)},_onRequestError:function(t,i,r){var u,f,e;u=n(r).data("filelist"),f=n(r).data("xhr"),t._setAction(u,"retry"),t._setStatus(u,"failed"),e={action:"Error",files:r,xhr:f,e:i},t._trigger("error",e)},_onRequestProgress:function(t,i,r){var f,u;f=Math.round(i.loaded*100/i.total),u=n(r).data("filelist"),t._setProgress(u,f,i),t._setStatus(u,"progress")},_createFormObjectXhr:function(n){var t=new FormData;return t.append(this.control.id,n.rawFile),t},_getInputFileInfo:function(n){var t=n[0];return t.files?this._getAllFileInfo(t.files):[{name:this._GetName(t.value),extension:this._getFileExtensionType(t.value),size:this._getFileSizeinIE(t.value)}]},_getFileSizeinIE:function(n){var t,i;t=null,i=null;try{t=new ActiveXObject("Scripting.FileSystemObject")}catch(r){i=null}return t&&(i=t.getFile(n).size),i},_getFileExtensionType:function(n){return n.match?n.match(/\.([^\.]+)$/)[0]||"":""},_getAllFileInfo:function(t){var i=this;return n.map(t,function(n){return i._getFileInfo(n||t)})},_GetName:function(n){var t=n.lastIndexOf("\\");return t!=-1?n.substr(t+1):n},_getFileInfo:function(n){var t=n.name||n.fileName||n;return{name:t,extension:this._getFileExtensionType(t),size:n.size||n.fileSize,rawFile:n}},_formatSize:function(n){var t=-1;do n=n/1024,t++;while(n>99);return Math.max(n,.1).toFixed(1)+["KB","MB","GB","TB","PB","EB"][t]},_onSelectIFrame:function(t){var r,u,i,f;r=n(t.target),u=this._getInputFileInfo(r),i=this._beforeUploadIFrame(u),f=i.data("iframe"),this.model.autoUpload?this._performUploadIFrame(i):this._showUploadButton(),this._off(this.inputupload,"change"),this._bindInputChangeEvent()},_onRemoveIFrame:function(t,i){var r,u,f,e;r=i.data("iframe"),e=n(i).data("file"),u=e[0].name,f=this,r?(this._removeFileEntry(i),this.model.removeUrl&&n.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+u,success:function(){f._fileListRemove()}})):this._removeFileEntry(i)},_onCancelIFrame:function(n,t){var i;this._trigger("cancel",{Status:t}),i=t.data("iframe"),i&&(this._removeFileEntry(t),typeof i.stop!="undefined"?i.stop():i.document&&(i.document.execCommand("Stop"),i.contentWindow.location.href=i.contentWindow.location.href),this._processServerResponse(i,"")),this._uploadHide()},_onRetryIFrame:function(n,t){this._performUploadIFrame(t)},_beforeUploadIFrame:function(n){var t,r,i;return t=this._createFrame(this.control.id+"_Iframe"+this.Uploadframes.length),this.Uploadframes.push(t),r=this._createForm(this.model.saveUrl,t[0].id),this.element.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(r),this._createInputandBind(),i=this._pushFile(n,{iframe:t,form:r,file:n}),t.data({filelist:i}),this._setAction(i,"cancel"),i},_performUploadIFrame:function(n){var r,t,i;this._trigger("begin"),r=n.data("file"),this._setStatus(n,"uploading"),t=n.data("iframe"),i=n.data("form"),t.appendTo(document.body),i.appendTo(document.body),this._on(t,"load",this._removeFramesIFrame),i.submit()},_onUploadButtonClickIFrame:function(){var t,i,r;t=this,n(".e-ul li.e-upload-file",t.control).each(function(){i=n(this),r=t._isFileUpload(i),r&&t._performUploadIFrame(i)})},_removeFramesIFrame:function(t){var i,r,u;i=n(t.target),u=i.data("filelist");try{r=i.contents().text()}catch(t){r="Error trying to get server response: "+t}r==""?(this._successIframeUpload(u),this._processServerResponse(i,r)):this._failureIframeUpload(u)},_successIframeUpload:function(n){fileEntry=n.data("file"),this.model.removeUrl?(this._setAction(n,"remove"),this._setStatus(n,"success")):(n.find(".file-action").remove(),this._setStatus(n,"success")),args={files:fileEntry},this._trigger("complete",args)},_failureIframeUpload:function(n){fileEntry=n.data("file"),this.model.saveUrl?(this._setAction(n,"retry"),this._setStatus(n,"failed")):(n.find(".file-action").remove(),this._setStatus(n,"failed")),args={files:fileEntry},this._trigger("error",args)},_processServerResponse:function(t){var i;i=n(document.body).find("form[target='"+n(t).attr("id")+"']"),setTimeout(function(){i.remove(),t.remove()},0)},_createDivBlock:function(n){return t.buildTag("div."+n)},_createForm:function(n,i){return t.buildTag("form","",{},{enctype:"multipart/form-data",method:"POST",action:n,target:i})},_createFrame:function(n){return t.buildTag("iframe#"+n,"",{display:"none"},{name:n})},_createInput:function(n){return t.buildTag("input","",{},{type:"file",name:n})},_initObjectsSyncUpload:function(){this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data"),this._wireEventsSyncUpload()},_wireEventsSyncUpload:function(){var t=this.element.closest("form")[0];this._on(n(t),"submit",this._formSubmitSyncUpload),this._on(n(t),"reset",this._formResetSyncUpload)},_onSelectSyncUpload:function(t){var i,r,u,f;i=n(t.target),r=this._getInputFileInfo(i),u=n(".e-selectpart",this.control),this.element.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(u),this._createInputandBind(),f=this._pushFile(r,{file:r,Input:i})},_onCancelSyncUpload:function(n,t){var i=t.data("Input");t.data("file",null),t.data("Input",null),t.remove(),i.remove()},_formSubmitSyncUpload:function(){var t,i;t=n(".e-uploadinput",this.control),t.attr("name",""),i=this.control,setTimeout(function(){t.attr("name",i.id)},0)},_formResetSyncUpload:function(){n(".e-selectpart",this.control).children('input[type="file"]').each(function(){this.className==" "&&n(this).remove()}),n(".e-ul",this.control).remove()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejRTE","ej.RTE",{element:null,model:null,_rootCSS:"e-rte",validTags:["textarea"],defaults:{allowEdit:!0,allowKeyboardNavigation:!0,cssClass:"",height:"370",width:"786",enabled:!0,maxLength:7e3,minWidth:400,maxWidth:null,minHeight:280,maxHeight:null,showToolBar:!0,showFooter:!1,showHtmlSource:!0,showWordCount:!0,showHtmlTagInfo:!0,showClearAll:!0,showClearFormat:!0,showFontOption:!0,showDimensions:!1,localization:"en-US",tools:{formatStyle:["format"],style:["bold","italic","underline","strikethrough"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"],indenting:["outdent","indent"],doAction:["undo","redo"],links:["createLink"],images:["image","video"],tables:["createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","deleteTable"]},toolsList:["formatStyle","font","style","scripts","alignment","lists","indenting","copyPaste","doAction","clear","links","images","tables","casing","custom"],colorCode:["000000","FFFFFF","C4C4C4","ADADAD","595959","262626","4f81bd","dbe5f1","b8cce4","95b3d7","366092","244061","c0504d","f2dcdb","e5b9b7","d99694","953734","632423","9bbb59","ebf1dd","d7e3bc","c3d69b","76923c","4f6128","8064a2","e5e0ec","ccc1d9","b2a2c7","5f497a","3f3151","f79646","fdeada","fbd5b5","fac08f","e36c09","974806"],format:[{text:"Paragraph",value:"<p>",spriteCSS:"e-paragraph"},{text:"Quotation",value:"<blockquote>",spriteCSS:"e-quotation"},{text:"Heading 1",value:"<h1>",spriteCSS:"e-h1"},{text:"Heading 2",value:"<h2>",spriteCSS:"e-h2"},{text:"Heading 3",value:"<h3>",spriteCSS:"e-h3"},{text:"Heading 4",value:"<h4>",spriteCSS:"e-h4"},{text:"Heading 5",value:"<h5>",spriteCSS:"e-h5"},{text:"Heading 6",value:"<h6>",spriteCSS:"e-h6"}],fontName:[{text:"Segoe UI",value:"Segoe UI"},{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1",value:"1"},{text:"2 (10pt)",value:"2"},{text:"3 (12pt)",value:"3"},{text:"4 (14pt)",value:"4"},{text:"5 (18pt)",value:"5"},{text:"6 (24pt)",value:"6"},{text:"7 (36pt)",value:"7"}],tableRows:7,tableColumns:9,colorPaletteRows:6,colorPaletteColumns:6,showCustomTable:!0,value:null,undoStackLimit:50,resizable:!0,persist:!1,rtl:!1,change:null,execute:null,keydown:null,keyup:null},dataTypes:{cssClass:"string",enabled:"boolean",persist:"boolean",tools:"data",toolsList:"data",colorCode:"data",format:"data",fontName:"data",fontSize:"data"},_setModel:function(n){var i,f,r,u;if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(i in n)switch(i){case"allowEdit":this._enableEdit(n[i]);break;case"showToolBar":n[i]?t.isNullOrUndefined(this._rteToolbar)?this._renderToolBar():this._rteToolbar.show():this._rteToolbar.hide(),this._setIframeHeight();break;case"showFooter":this.model.showFooter=n[i],n[i]?t.isNullOrUndefined(this._rteFooter)?this._renderFooter():this._rteFooter.show():this._rteFooter.hide(),this._setIframeHeight();break;case"enabled":this._disabled(!n[i]);break;case"height":this._rteWapper.height(n[i]),this._setIframeHeight();break;case"width":this._rteWapper.width(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"showHtmlSource":this._footerElement("div.e-rte-source",n[i]);break;case"showHtmlTagInfo":this._footerElement("div.e-rte-htmltaginfo",n[i]);break;case"showWordCount":this._footerElement("div.e-rte-wordcount",n[i]);break;case"showClearAll":this._footerElement("div.clearAll",n[i]);break;case"showClearFormat":this._footerElement("div.clearFormat",n[i]);break;case"resizable":this._footerElement("div.e-rte-resize",n[i]);break;case"fontName":this._fontStyleDDL.ejDropDownList({dataSource:n[i]});break;case"fontSize":this._fontSizeDDL.ejDropDownList({dataSource:n[i]});break;case"format":this._formatDDL.ejDropDownList({dataSource:n[i]});break;case"value":this._getDocument().body.innerHTML=n[i];break;case"showDimensions":n[i]?(this._rteWapper.find("#"+this._rteId+"_imgdimensions").show(),this._rteWapper.find("#"+this._rteId+"_videodimensions").show()):(this._rteWapper.find("#"+this._rteId+"_imgdimensions").hide(),this._rteWapper.find("#"+this._rteId+"_videodimensions").hide());break;case"localization":this.model.localization=n[i],f=this.model,this.element.ejRTE("destroy").ejRTE(f);break;case"tableRows":this.model.tableRows=n[i],r=this._createTable.find("div.e-rte-table").html(""),this._drawTable(r);break;case"tableColumns":this.model.tableColumns=n[i],r=this._createTable.find("div.e-rte-table").html(""),this._drawTable(r);break;case"showCustomTable":u=this._createTable.find("div.customtable-group"),n[i]?t.isNullOrUndefined(this._customTableDialog)?this._createCustomTable():u.show():u.hide();break;case"colorPaletteRows":this.model.colorPaletteRows=n[i],this._updateColorPalette();break;case"colorPaletteColumns":this.model.colorPaletteColumns=n[i],this._updateColorPalette();break;case"colorCode":this.model.colorCode=n[i],this._updateColorPalette();break;case"rtl":this._enableRTL(n[i])}},_init:function(){t.isNullOrUndefined(this.element)||this.element[0].type!="textarea"||(this._initialize(),this._render(),this.model.allowEdit&&this._wireEvents(),this._updateIframeSkin())},_destroy:function(){this.element.insertBefore(this._rteWapper),this._rteWapper.remove(),this.element.show()},_initialize:function(){this._toolsList=this.model.toolsList,this._rteId=this.element[0].id,this._backupArray=[],this._undoRedoPosition=0,this._fontColor="",this._bgColor="",this._imgWidth=0,this._imgHeight=0,this._videoWidth=0,this._videoHeight=0,this._keypressFlag=!0,this._styleItems=t.isNullOrUndefined(this.model.tools.style)?[]:this.model.tools.style,this._alignItems=t.isNullOrUndefined(this.model.tools.alignment)?[]:this.model.tools.alignment,this._listItems=t.isNullOrUndefined(this.model.tools.lists)?[]:this.model.tools.lists,this._scriptsItems=t.isNullOrUndefined(this.model.tools.scripts)?[]:this.model.tools.scripts},_render:function(){this._renderWrapper(),this.model.showToolBar&&this._renderToolBar(),this._renderEditArea(),this.model.showFooter&&this._renderFooter(),this._setIframeHeight(),this._renderAlertDialog(),this._focus()},_enableEdit:function(n){n?(this._wireEvents(),this.model.showToolBar&&this._toolBarItems.ejToolbar("option","click",this._toolBarClick),this._rteIframe.contents().find("body").attr("contenteditable",!0)):(this._unwireEvents(),this.model.showToolBar&&this._toolBarItems.ejToolbar("option","click",null),this._rteIframe.contents().find("body").attr("contenteditable",!1))},_changeSkin:function(n){this._rteWapper.removeClass(this.model.cssClass).addClass(n),this._subControlsSetModel("cssClass",n)},_updateIframeSkin:function(){this._rteIframe.contents().find("body").css("background-color",this._rteWapper.css("background-color")),this._rteIframe.contents().find("body").css("color",this._rteWapper.css("color"))},_renderWrapper:function(){this._rteWapper=t.buildTag("div.e-rte e-rte-wrapper "+this.model.cssClass+"#"+this._rteId+"_wrapper").insertBefore(this.element),this._rteWapper.height(this.model.height).width(this.model.width),this._rteWapper.append(this.element.hide())},_renderToolBar:function(){this._rteToolbar=t.buildTag("div.e-rte-toolbar #"+this._rteId+"_tools").insertAfter(this.element),this._crateToolbarTemplate();var n={};n.click=this.model.allowEdit?this._toolBarClick:null,n.cssClass=this.model.cssClass,n.rtl=this.model.rtl,this._toolBarItems.ejToolbar(n),this._initToolBarItems()},_crateToolbarTemplate:function(){this._toolBarItems=t.buildTag("div#"+this._rteId+"_toolbar").appendTo(this._rteToolbar).height(30);for(var n in this._toolsList)n=this._toolsList[n],t.isNullOrUndefined(this.model.tools[n])||(n=="custom"?t.isNullOrUndefined(this.model.tools[n])||this._customTools(this.model.tools[n]):this.model.tools[n].length>0&&this._createToolsItems(this.model.tools[n],n))},_createToolsItems:function(i,r){var f,e,u;if(r=="font"&&!this.model.showFontOption)return!1;for(f=t.buildTag("ul#"+(this._rteId+r)),r=="font"&&f.addClass("e-rte-fontgroup"),r=="formatStyle"&&f.addClass("e-rte-format"),u=0;u<i.length;u++)e=n("<li id='"+(this._rteId+i[u])+"' title='"+this._getLocalizedLabels(i[u])+"' ><div class='e-rte-toolbar-icon "+i[u]+"'><\/div><\/li>"),e.appendTo(f);f.appendTo(this._toolBarItems)},_customTools:function(i){var u=t.buildTag("ul"),r;r=n("<li id='"+i.name+"' title='"+i.tooltip+"' ><div class='"+(t.isNullOrUndefined(i.css)?"":i.css)+"'><\/div><\/li>"),t.isNullOrUndefined(i.action)||this._on(r,"click",i.action),n(i.template).appendTo(r.find("div")),r.appendTo(u),u.appendTo(this._toolBarItems)},_initToolBarItems:function(){this._toolBarObj=this._toolBarItems.ejToolbar("instance"),this._rteToolbar.find("#"+this._rteId+"format").length>0&&this._renderFormat(),this._rteToolbar.find("#"+this._rteId+"createLink").length>0&&this._renderLinkDialog(),this._rteToolbar.find("#"+this._rteId+"video").length>0&&this._renderVideoDialog(),this._rteToolbar.find("#"+this._rteId+"image").length>0&&this._renderImageDialog(),this._rteToolbar.find("#"+this._rteId+"createTable").length>0&&this._renderTableDialog(),this._rteToolbar.find("#"+this._rteId+"fontName").length>0&&this._renderFontStyle(),this._rteToolbar.find("#"+this._rteId+"fontSize").length>0&&this._renderFontSize(),this._rteToolbar.find("#"+this._rteId+"fontColor").length>0&&this._renderFontColor(),this._rteToolbar.find("#"+this._rteId+"backgrounColor").length>0&&this._renderBGColor(),this.model.showClearAll||this._rteToolbar.find("#"+this._rteId+"clearAll").hide(),this.model.showClearAll||this._rteToolbar.find("#"+this._rteId+"clearAll").hide(),this._toolBarObj.disableItembyID(this._rteId+"undo"),this._toolBarObj.disableItembyID(this._rteId+"redo"),this._toolBarObj.selectItembyID(this._rteId+"justifyLeft"),this._toolBarItems.find("#"+this._rteId+"addColumnLeft, #"+this._rteId+"addColumnRight, #"+this._rteId+"addRowAbove, #"+this._rteId+"addRowBelow, #"+this._rteId+"deleteRow, #"+this._rteId+"deleteColumn, #"+this._rteId+"deleteTable").hide()},_renderEditArea:function(){var n=t.buildTag("div.editarea #"+this._rteId+"_editer").appendTo(this._rteWapper);this._rteIframe=t.buildTag("iframe.content-iframe #"+this._rteId+"_Iframe").appendTo(n),this._setIFrames()},_setIFrames:function(){this.model.value=this.model.value==null?n.trim(this.element[0].value):this.model.value,this._iframeId=this._rteId+"_Iframe";var i="<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:-1px 5px 0;height:100%;min-height:100%; padding-top: 1px;font-size: 13px;font-family:Segoe UI;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em} ul,ol{padding-left:2.5em} a{color:#00a} blockquote{margin-right: 0}.e-rte-table{border-spacing:0;margin: 0.2em 0 0.5em;border: 1px solid;}.e-rte-table caption{border: 1px solid;border-bottom:none}.e-rte-table,.e-rte-table td{outline:0;border-collapse: collapse; min-height:1px;vertical-align: top;text-indent: 5px;} .e-rte-table p{margin:0;padding:0;}<\/style><\/head><body autocorrect='off' contenteditable="+(this.model.allowEdit?"true":"false")+">"+n.trim(this.model.value)+"<\/body><\/html>";this._rteIframe.css({width:"100%"}),this._setContent(i),this.model.rtl&&this._rteIframe.contents().find("body").css("direction","rtl"),(!t.isNullOrUndefined(this.model.undoStackLimit)||this.model.undoStackLimit!==""||this.model.undoStackLimit>0)&&(this._backupArray[0]=this.getHtmlString())},_setIframeHeight:function(){var n=(!t.isNullOrUndefined(this._rteToolbar)&&this._rteToolbar.is(":visible")?this._rteToolbar.outerHeight():6)+(!t.isNullOrUndefined(this._rteFooter)&&this._rteFooter.is(":visible")?this._rteFooter.outerHeight():0);this._rteIframe.height(n==0?this.model.height:this._rteWapper.outerHeight()-n-1)},_renderFooter:function(){var e=this.model,i,r,n;this._rteFooter=t.buildTag("div.e-rte-footer #"+this._rteId+"_footer").appendTo(this._rteWapper),i=t.buildTag("div.e-rte-footer-left"),r=t.buildTag("div.e-rte-icons e-rte-footeritems e-rte-footericon e-rte-source","",{},{title:this._getLocalizedLabels("viewHtml")}).appendTo(i),this._htmlInfo=t.buildTag("div.e-rte-htmltaginfo e-rte-footeritems").appendTo(i),i.appendTo(this._rteFooter),n=t.buildTag("div.e-rte-footer-right"),this._wordCount=t.buildTag("div.e-rte-wordcount e-rte-footeritems").appendTo(n);var u=t.buildTag("div.e-rte-icons clearFormat e-rte-footericon e-rte-footeritems","",{},{title:this._getLocalizedLabels("clearFormat")}).appendTo(n),f=t.buildTag("div.e-rte-icons clearAll e-rte-footericon e-rte-footeritems","",{},{title:this._getLocalizedLabels("clearAll")}).appendTo(n),o=t.buildTag("div.e-icons e-rte-resize e-rte-footeritems").appendTo(n);n.appendTo(this._rteFooter),this._on(r,"click",this._sourceCodeManager),this._on(u,"click",this._onClearFormat),this._on(f,"click",this._clearAllManager),this.model.showHtmlSource||r.hide().removeClass("e-rte-footeritems"),this.model.showHtmlTagInfo||this._htmlInfo.hide().removeClass("e-rte-footeritems"),this.model.showWordCount||this._wordCount.hide().removeClass("e-rte-footeritems"),this.model.showClearAll||f.hide().removeClass("e-rte-footeritems"),this.model.showClearFormat||u.hide().removeClass("e-rte-footeritems"),e.resizable?this._enableResize():o.hide().removeClass("e-rte-footeritems"),this._updateCharCount()},_footerElement:function(n,t){var i=this._rteFooter.find(n);t?i.show().addClass("e-rte-footeritems"):i.hide().addClass("e-rte-footeritems")},_updateColorPalette:function(){var t=n("ul#"+this._rteId+"_colorTable"),i=n("ul#"+this._rteId+"_colorBGTable");t.find("div.e-rte-table").remove(),t.find("li").append(this._colorTable()),i.find("div.e-rte-table").remove(),i.find("li").append(this._colorTable())},_enableRTL:function(n){n?this._rteIframe.contents().find("body").css("direction","rtl"):this._rteIframe.contents().find("body").css("direction",""),this._subControlsSetModel("rtl",n)},_subControlsSetModel:function(n,i){t.isNullOrUndefined(this._toolBarItems)||this._toolBarItems.ejToolbar({prop:i}),t.isNullOrUndefined(this._linkDialog)||this._linkDialog.ejDialog({prop:i}),t.isNullOrUndefined(this._imgDialog)||this._imgDialog.ejDialog({prop:i}),t.isNullOrUndefined(this._videoDialog)||this._videoDialog.ejDialog({prop:i}),t.isNullOrUndefined(this._createTable)||this._createTable.ejDialog({prop:i}),t.isNullOrUndefined(this._sourceDialog)||this._sourceDialog.ejDialog({prop:i}),t.isNullOrUndefined(this._customTableDialog)||(t.isNullOrUndefined(this._customTableDialog)||this._customTableDialog.ejDialog({prop:i}),this._customTableDialog.find(".numerictextbox").ejNumericTextbox({prop:i}),this._customTableDialog.find("#ddlAlignment").ejDropDownList({prop:i}),t.isNullOrUndefined(this._customTableDialog)||this._customTableDialog.find(".e-rte-btn").ejButton({prop:i})),t.isNullOrUndefined(this._videoDialog)||this._videoDialog.find(".e-rte-btn").ejButton({prop:i}),t.isNullOrUndefined(this._imgDialog)||this._imgDialog.find(".e-rte-btn").ejButton({prop:i}),t.isNullOrUndefined(this._linkDialog)||this._linkDialog.find(".e-rte-btn").ejButton({prop:i}),t.isNullOrUndefined(this._fontStyleDDL)||this._fontStyleDDL.ejDropDownList({prop:i}),t.isNullOrUndefined(this._fontSizeDDL)||this._fontSizeDDL.ejDropDownList({prop:i}),t.isNullOrUndefined(this._formatDDL)||this._formatDDL.ejDropDownList({prop:i}),t.isNullOrUndefined(this._fontColorSplit)||this._fontColorSplit.ejSplitButton({prop:i}),t.isNullOrUndefined(this._bgColorSplit)||this._bgColorSplit.ejSplitButton({prop:i})},_createHtmlSource:function(){t.isNullOrUndefined(this._htmlSource)?(this._htmlSource=t.buildTag("div.e-rte-icons e-rte-footeritems e-rte-source").appendTo(this._rteFooter),this._on(this._htmlSource,"click",this._sourceCodeManager),this._renderSourceDialog()):this._htmlSource.show()},_createHtmlTagsInfo:function(){t.isNullOrUndefined(this._htmlInfo)?this._htmlInfo=t.buildTag("div.e-rte-htmltaginfo e-rte-footeritems").appendTo(this._rteFooter):this._htmlInfo.show()},_createWordCount:function(){t.isNullOrUndefined(this._wordCount)?this._wordCount=t.buildTag("div.e-rte-wordcount e-rte-footeritems").appendTo(this._rteFooter):this._wordCount.show()},_enableResize:function(){this.model.resizable&&this.model.enabled&&(this._rteWapper.addClass("e-resizable"),this._resizeRTE())},_resizeRTE:function(){var t=this;this._rteWapper.find("div.e-rte-resize").ejResizable({minHeight:parseInt(t.model.minHeight),minWidth:parseInt(t.model.minWidth),maxHeight:parseInt(t.model.maxHeight),maxWidth:parseInt(t.model.maxWidth),resizeStart:function(n){t._trigger("resizeStart",{event:n})},resize:function(i){var r=n(i.element).parents("div.e-rte-wrapper");t._rteWapper.height(n(r).height()),t._rteWapper.width(n(r).width()),t._setIframeHeight(),t._trigger("resize",{event:i})},resizeStop:function(n){t._trigger("resizeStop",{event:n})},helper:function(i){var r=n(i.element).parents("div.e-rte-wrapper");return t._rteWapper.height(n(r).height()),t._rteWapper.width(n(r).width()),t._setIframeHeight(),n(t._rteWapper)}})},_getDialogModel:function(){return dialogModel={resizable:!1,autoOpen:!1,modal:!0,cssClass:this.model.cssClass,contentContainer:"#"+this._rteId+"_wrapper",rtl:this.model.rtl}},_renderLinkDialog:function(){var i=this._linkDialog=t.buildTag("div#"+this._rteId+"_link"),u=n("<div class='e-rte-label'><label>"+this._getLocalizedLabels("linkWebUrl")+"<\/label><\/div><div class='e-rte-field'><input type='text' class='e-inputtext' id='"+this._rteId+"_link_url'/><\/div><div class='e-rte-label'><label>"+this._getLocalizedLabels("linkText")+"<\/label><\/div><div class='e-rte-field'><input type='text' class='e-inputtext' id='"+this._rteId+"_link_text'><\/div><div class='e-rte-label'><label>"+this._getLocalizedLabels("linkToolTip")+" <\/label><\/div><div class='e-rte-field'><input type='text' class='e-inputtext' id='"+this._rteId+"_link_title'><\/div><div class='e-rte-label'><\/div><div class='e-rte-field'><input type='checkbox' id='"+this._rteId+"_link_target'><label for='"+this._rteId+"_link_target' style='padding: 5px;'>"+this._getLocalizedLabels("linkOpenInNewWindow")+"<\/label><\/div><div class='e-rte-button e-fieldseparate'><button class='e-rte-btn' id='link_insert'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button class='e-rte-btn' id='link_cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>"),r;u.appendTo(i),i.appendTo(this._rteWapper),r=this._getDialogModel(),r.title=this._getLocalizedLabels("createLink"),i.ejDialog(r),this._chkTarget=i.find("#"+this._rteId+"_link_target"),this._chkTarget.ejCheckBox({rtl:this.model.rtl,cssClass:this.model.cssClass}),i.find(".e-rte-btn").ejButton({rtl:this.model.rtl,cssClass:this.model.cssClass}),this._on(i.find(".e-rte-btn"),"click",this._linkBtnClick),this._on(this._linkDialog.find("#"+this._rteId+"_link_url"),"keypress",this._urlValidation)},_renderImageDialog:function(){var r,i;this._imgDialog=t.buildTag("div#"+this._rteId+"_Image"),r=n("<div class='e-rte-label'><label>"+this._getLocalizedLabels("imageWebUrl")+" <\/label><\/div><div class='e-rte-field'><input type='text' class='e-inputtext' id='"+this._rteId+"_img_url'><\/div><div class='e-rte-label'><label>"+this._getLocalizedLabels("imageAltText")+" <\/label><\/div><div class='e-rte-field'><input type='text' class='e-inputtext' id='"+this._rteId+"_img_text'><\/div><div id='"+this._rteId+"_imgdimensions'><div class='e-rte-label'><label>"+this._getLocalizedLabels("dimensions")+" <\/label><\/div><div class='e-rte-field'><input type='text' class='e-inputtext e-dimensions' maxlength='3' id='"+this._rteId+"_imgX'><label style='padding: 5px;'>X<\/label><input type='text' style='margin-right: 5px;' class='e-inputtext e-dimensions' maxlength='3' id='"+this._rteId+"_imgY'><\/div><input type='checkbox' id='"+this._rteId+"_img_consrn'><label for='"+this._rteId+"_img_consrn'  style='padding: 5px;'>"+this._getLocalizedLabels("constrainProportions")+"<\/label><\/div><div class='e-rte-button e-fieldseparate'><button class='e-rte-btn' id='img_insert'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button class='e-rte-btn' id='img_cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>"),r.appendTo(this._imgDialog),this._imgDialog.appendTo(this._rteWapper),this.model.showDimensions||this._rteWapper.find("#"+this._rteId+"_imgdimensions").hide(),i=this._getDialogModel(),i.width="470px",i.title=this._getLocalizedLabels("image"),this._imgDialog.ejDialog(i),this._chkImgDimensions=this._imgDialog.find("#"+this._rteId+"_img_consrn"),this._chkImgDimensions.ejCheckBox({check:!0,rtl:this.model.rtl,cssClass:this.model.cssClass}),this._imgDialog.find(".e-rte-btn").ejButton({rtl:this.model.rtl,cssClass:this.model.cssClass}),this._on(this._imgDialog.find(".e-rte-btn"),"click",this._imageBtnClick),this._on(this._imgDialog.find("#"+this._rteId+"_img_url"),"keypress",this._urlValidation),this._on(this._imgDialog.find("input.e-dimensions"),"change",this._recalcImgSize)},_renderVideoDialog:function(){var r,i;this._videoDialog=t.buildTag("div#"+this._rteId+"_video"),r=n("<div><label>"+this._getLocalizedLabels("embedVideo")+"<\/label><\/div><textarea class='e-rte-video e-inputtext'><\/textarea><div id='"+this._rteId+"_videodimensions' style='margin-top:7px'><div class='e-rte-label'><label>"+this._getLocalizedLabels("dimensions")+" <\/label><\/div><div><input type='text' class='e-inputtext e-dimensions' maxlength='3' id='"+this._rteId+"_videoX'><label style='padding: 5px;'>X<\/label><input type='text' style='margin-right: 5px;' class='e-inputtext e-dimensions' maxlength='3' id='"+this._rteId+"_videoY'><input type='checkbox' id='"+this._rteId+"_video_consrn'><label for='"+this._rteId+"_video_consrn'  style='padding: 5px;'>"+this._getLocalizedLabels("constrainProportions")+"<\/label><\/div><\/div><div class='e-rte-button e-fieldseparate'><button id='video_insert' class='e-rte-btn'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button id='video_cancel' class='e-rte-btn'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>"),r.appendTo(this._videoDialog),this._videoDialog.appendTo(this._rteWapper),this.model.showDimensions||this._rteWapper.find("#"+this._rteId+"_videodimensions").hide(),i=this._getDialogModel(),i.width="460px",i.title=this._getLocalizedLabels("video"),this._videoDialog.ejDialog(i),this._chkvideoDimensions=this._videoDialog.find("#"+this._rteId+"_video_consrn"),this._chkvideoDimensions.ejCheckBox({check:!0,rtl:this.model.rtl,cssClass:this.model.cssClass}),this._videoDialog.find(".e-rte-btn").ejButton({rtl:this.model.rtl,cssClass:this.model.cssClass}),this._on(this._videoDialog.find(".e-rte-btn"),"click",this._insertVideo),this._on(this._videoDialog.find("input.e-dimensions"),"change",this._recalcVideoSize)},_renderTableDialog:function(){var i,n;this._createTable=t.buildTag("div.e-rte-table-picker#"+this._rteId+"_table"),this._tblheaderDiv=t.buildTag("div.e-rte-tableheader"),this._tblheaderDiv.html(this._getLocalizedLabels("createTable")),this._tblheaderDiv.appendTo(this._createTable),i=t.buildTag("div.e-rte-table"),this._drawTable(i),i.appendTo(this._createTable),this.model.showCustomTable&&this._createCustomTable(),this._createTable.appendTo(this._rteWapper),n=this._getDialogModel(),n.modal=!1,n.showHeader=!1,n.width="auto",this._createTable.ejDialog(n)},_createCustomTable:function(){var r=n("<div class='customtable-group'><span class='e-rte-toolbar-icon customtable-image'><\/span><a class='customtable-link' href='#' title='"+this._getLocalizedLabels("customTable")+"'>"+this._getLocalizedLabels("customTable")+"<\/a><\/div>"),u,i;this._on(r,"click",this._openCustomTable),r.appendTo(this._createTable),this._customTableDialog=t.buildTag("div#"+this._rteId+"_customTable"),u=n("<div class='e-fieldgroup'><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableColumns")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' class='numerictextbox' id='"+this._rteId+"_txtColumns'><\/div><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableRows")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' class='numerictextbox' id='"+this._rteId+"_txtRows'><\/div><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableWidth")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' class='e-inputtext' id='"+this._rteId+"_txtWidth'><\/div><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableHeight")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' class='e-inputtext' id='"+this._rteId+"_txtHeight'><\/div><\/div><div class='e-fieldseparate'><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableCellSpacing")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' class='e-inputtext' id='"+this._rteId+"_txtSpacing'><\/div><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableCellPadding")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' class='e-inputtext' id='"+this._rteId+"_txtPadding'><\/div><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableBorder")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' class='e-inputtext' id='"+this._rteId+"_txtBorder'><\/div><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableCaption")+"<\/label><\/div><div class='e-rte-tablefields'><input type='checkbox' id='"+this._rteId+"_chkCaption'><\/div><div class='e-rte-tablefields'><label>"+this._getLocalizedLabels("tableAlignment")+"<\/label><\/div><div class='e-rte-tablefields'><select id='"+this._rteId+"_ddlAlignment'><option value='left'>Left<\/option><option value='right'>Right<\/option><option value='center'>Center<\/option><\/select><\/div><\/div><div class='e-rte-button e-fieldseparate'><button class='e-rte-btn' id='insert'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button class='e-rte-btn' id='cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>"),u.appendTo(this._customTableDialog),i=this._getDialogModel(),i.width="480px",i.title=this._getLocalizedLabels("customTable"),this._customTableDialog.ejDialog(i),this._customTableDialog.find(".e-rte-btn").ejButton({rtl:this.model.rtl,cssClass:this.model.cssClass}),this._customTableDialog.find(".numerictextbox").ejNumericTextbox({rtl:this.model.rtl,cssClass:this.model.cssClass,width:"100%",minValue:1,value:3}),this._customTableDialog.find("#"+this._rteId+"_txtColumns").ejNumericTextbox({maxValue:63}),this._customTableDialog.find("#"+this._rteId+"_ddlAlignment").ejDropDownList({rtl:this.model.rtl,cssClass:this.model.cssClass,width:"100%"}),this._chkTblCaption=this._customTableDialog.find("#"+this._rteId+"_chkCaption"),this._chkTblCaption.ejCheckBox({rtl:this.model.rtl,cssClass:this.model.cssClass}),this._on(this._customTableDialog.find(".e-rte-btn"),"click",this._insertCustomTable)},_drawTable:function(n){for(var r,i=0;i<this.model.tableRows;i++){for(rowDiv=t.buildTag("div.e-rtetablerow"),r=0;r<this.model.tableColumns;r++)tableCell=t.buildTag("div.e-rte-tablecell e-default"),tableCell.appendTo(rowDiv);rowDiv.appendTo(n)}},_renderSourceDialog:function(){var r,i;this._sourceDialog=t.buildTag("div#"+this._rteId+"_Source"),r=n("<textarea class='e-rte-srctextarea e-inputtext'><\/textarea><div class='e-rte-button e-fieldseparate'><button id='src_update' class='e-rte-btn'>"+this._getLocalizedLabels("dialogUpdate")+"<\/button><button id='src_cancel' class='e-rte-btn'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>"),r.appendTo(this._sourceDialog),i=this._getDialogModel(),i.title=this._getLocalizedLabels("viewHtml"),i.width="auto",i.contentContainer=null,this._sourceDialog.ejDialog(i),this._sourceDialog.find(".e-rte-btn").ejButton({rtl:this.model.rtl,cssClass:this.model.cssClass}),this._on(this._sourceDialog.find(".e-rte-btn"),"click",this._srcBtnClick)},_renderAlertDialog:function(){var r,i;this._alertWindow=t.buildTag("div"),r=n("<p class='e-alerttext'><\/p><div class='e-rte-button e-fieldseparate'><button class='e-rte-btn e-alert-ok'>"+this._getLocalizedLabels("dialogOk")+"<\/button><button class='e-rte-btn e-alert-cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>"),r.appendTo(this._alertWindow),i=this._getDialogModel(),i.showHeader=!1,i.width="auto",this._alertWindow.ejDialog(i),this._alertWindow.find(".e-rte-btn").ejButton({rtl:this.model.rtl,cssClass:this.model.cssClass}),this._on(this._alertWindow.find(".e-rte-btn"),"click",this._alertBtnClick),this._alertWindow.find(".e-alert-cancel").hide()},_alertBtnClick:function(t){n.trim(this._alertWindow.find(".e-alerttext").html())==this._getLocalizedLabels("deleteAlert")&&n(t.target).hasClass("e-alert-ok")&&(this._getDocument().body.innerHTML="",this._toolBarObj.selectItembyID(this._rteId+"justifyLeft"),this._setBackupData(),this._updateCharCount(),this._onChange()),this._alertWindow.ejDialog("close"),this._alertWindow.find(".e-alert-cancel").hide()},_openAlert:function(n){this._alertWindow.find(".e-alerttext").html(n),this._alertWindow.ejDialog("open")},_renderFormat:function(){this._formatDDL=t.buildTag("input#"+this._rteId+"_format","","",{type:"text"});var n={};n.dataSource=this.model.format,n.height="25px",n.width="105px",n.rtl=this.model.rtl,n.popupPanelWidth="175px",n.popupPanelHeight="auto",n.selectedItem=0,n.popupHide=this._formatChange,n.fields={text:"text",value:"value",spriteCSS:"spriteCSS"},this._formatDDL.appendTo(this._rteToolbar.find("#"+this._rteId+"format").html("")),this._formatDDL.ejDropDownList(n),this._formatPopupStyle()},_formatPopupStyle:function(){for(var i=n("#"+this._rteId+"_format_popup").find("li"),t=0;t<i.length;t++)n(i[t]).addClass(this.model.format[t].spriteCSS)},_renderFontStyle:function(){this._fontStyleDDL=t.buildTag("input#"+this._rteId+"_fontName","","",{type:"text"});var n={};n.dataSource=this.model.fontName,n.height="25px",n.rtl=this.model.rtl,n.selectedItem=0,n.popupHide=this._fontStyleChange,n.fields={text:"text",value:"value"},this._fontStyleDDL.appendTo(this._rteToolbar.find("#"+this._rteId+"fontName").html("")),this._fontStyleDDL.ejDropDownList(n)},_renderFontSize:function(){this._fontSizeDDL=t.buildTag("input#"+this._rteId+"_fontSize","","",{type:"text"});var n={};n.dataSource=this.model.fontSize,n.height="25px",n.width="100px",n.rtl=this.model.rtl,n.selectedItem=1,n.popupHide=this._fontSizeChange,n.fields={text:"text",value:"value"},this._fontSizeDDL.appendTo(this._rteToolbar.find("#"+this._rteId+"fontSize").html("")),this._fontSizeDDL.ejDropDownList(n)},_renderFontColor:function(){var r,i;this._fontColorSplit=t.buildTag("button#"+this._rteId+"_fontColor"),r=n("<ul id='"+this._rteId+"_colorTable' class='e-rte-colorpalette'><li><\/li><\/ul>"),r.find("li").append(this._colorTable()),i={},i.height="25px",i.width="50px",i.contentType="textandimage",i.targetId=this._rteId+"_colorTable",i.rtl=this.model.rtl,i.prefixIcon="e-fontcolor-icon",this._fontColorSplit.appendTo(this._rteToolbar.find("#"+this._rteId+"fontColor").html("")),r.appendTo(this._rteToolbar.find("#"+this._rteId+"fontColor")),this._fontColorSplit.ejSplitButton(i),this._splitMenu=r.ejMenu("instance"),this._on(r.find("div.e-rte-palettetable"),"click",this._colorPaletteClick),this._on(this._fontColorSplit,"click",this._fontColorClick),this._fontColorSplit.find("span.e-fontcolor-icon").removeClass("e-icon"),this._fontColorSplit.find("span.e-btntxt").css("background-color","black")},_renderBGColor:function(){var r,i;this._bgColorSplit=t.buildTag("button#"+this._rteId+"_backgrounColor"),r=n("<ul id='"+this._rteId+"_colorBGTable' class='e-rte-colorpalette'><li><\/li><\/ul>"),r.find("li").append(this._colorTable()),i={},i.height="25px",i.width="50px",i.contentType="textandimage",i.targetId=this._rteId+"_colorBGTable",i.rtl=this.model.rtl,i.prefixIcon="e-bgcolor-icon",this._bgColorSplit.appendTo(this._rteToolbar.find("#"+this._rteId+"backgrounColor").html("")),r.appendTo(this._rteToolbar.find("#"+this._rteId+"backgrounColor")),this._bgColorSplit.ejSplitButton(i),this._bgSplitMenu=r.ejMenu("instance"),this._on(r.find("div.e-rte-palettetable"),"click",this._bgColorPaletteClick),this._on(this._bgColorSplit,"click",this._bgColorClick),this._bgColorSplit.find("span.e-bgcolor-icon").removeClass("e-icon"),this._bgColorSplit.find("span.e-btntxt").css("background-color","white")},_colorTable:function(){for(var e=t.buildTag("div.e-rte-table"),i=0,n,r,f,u=0;u<this.model.colorPaletteRows;u++){for(r=t.buildTag("div.e-rtetablerow"),f=0;f<this.model.colorPaletteColumns;f++)i<this.model.colorCode.length&&(n="#"+this.model.colorCode[i],tableCell=t.buildTag("div.e-rte-palettetable","",{"background-color":n},{title:n,"color-code":n}),tableCell.appendTo(r),i++);r.appendTo(e)}return e},_recalcVideoSize:function(n){var r,u,t,i;r=this._videoDialog.find("#"+this._rteId+"_videoX"),u=this._videoDialog.find("#"+this._rteId+"_videoY"),t=r.val(),i=u.val(),this._chkvideoDimensions.ejCheckBox("isChecked")&&this._videoWidth&&this._videoHeight&&t&&i&&(n.target.id==r[0].id?(i=Math.round(t/this._videoWidth*i),u.val(i)):(t=Math.round(i/this._videoHeight*t),r.val(t))),this._videoWidth=t,this._videoHeight=i},_recalcImgSize:function(n){var r,u,t,i;r=this._imgDialog.find("#"+this._rteId+"_imgX"),u=this._imgDialog.find("#"+this._rteId+"_imgY"),t=r.val(),i=u.val(),this._chkImgDimensions.ejCheckBox("isChecked")&&this._imgWidth&&this._imgHeight&&t&&i&&(n.target.id==r[0].id?(i=Math.round(t/this._imgWidth*i),u.val(i)):(t=Math.round(i/this._imgHeight*t),r.val(t))),this._imgWidth=t,this._imgHeight=i},_urlValidation:function(t){var i=n(t.target);i.hasClass("e-error")&&i.removeClass("e-error")},_linkBtnClick:function(n){n.target.id==="link_cancel"?(this._clearLinkFields(),this._linkDialog.ejDialog("close")):n.target.id==="link_insert"&&(this._restoreSelection(this._selectionRange),this._txtURL.val()!=""?this._onInsertLink():(this._onUnlink(),this._linkDialog.ejDialog("close")),this._onChange(),this._setBackupData())},_imageBtnClick:function(n){n.target.id==="img_cancel"?this._imgDialog.ejDialog("close"):n.target.id==="img_insert"&&(this._onInsertImage(),this._onChange(),this._setBackupData())},_srcBtnClick:function(t){if(t.target.id==="src_update"){var i=n.trim(this._sourceDialog.find("textarea.e-rte-srctextarea")[0].value);this._getDocument().body.innerHTML=i,this._onChange(),this._updateCharCount()}this._sourceDialog.find("textarea.e-rte-srctextarea")[0].value="",this._sourceDialog.ejDialog("close")},_insertCustomTable:function(i){var u,r;if(i.target.id==="insert"){var f=this._customTableDialog.find("#"+this._rteId+"_txtColumns").ejNumericTextbox("getValue"),e=this._customTableDialog.find("#"+this._rteId+"_txtRows").ejNumericTextbox("getValue"),o=this._customTableDialog.find("#"+this._rteId+"_txtHeight").val(),s=this._customTableDialog.find("#"+this._rteId+"_txtWidth").val(),h=this._customTableDialog.find("#"+this._rteId+"_ddlAlignment").ejDropDownList("getSelectedValue"),c=this._customTableDialog.find("#"+this._rteId+"_txtSpacing").val(),l=this._customTableDialog.find("#"+this._rteId+"_txtPadding").val(),a=this._customTableDialog.find("#"+this._rteId+"_txtBorder").val(),v=this._chkTblCaption.ejCheckBox("isChecked");t.isNullOrUndefined(this._tableInsertAt)||t.isNullOrUndefined(this._tableInsertAt.startContainer)||this._restoreSelection(this._tableInsertAt),u=this._tableGenerator(e,f,!1,s,o,c,l,h,a,v),this.executeCommand("inserthtml",u),r=n(this._getDocument()).find("table.e-rte-table"),r.attr("contentEditable",!1),r.find("td").attr("contentEditable",!0),this._onChange()}this._customTableDialog.ejDialog("close"),this._clearTableFields()},_clearTableFields:function(){this._customTableDialog.find("#"+this._rteId+"_txtColumns").ejNumericTextbox("option","value",3),this._customTableDialog.find("#"+this._rteId+"_txtRows").ejNumericTextbox("option","value",3),this._customTableDialog.find("#"+this._rteId+"_txtHeight").val(""),this._customTableDialog.find("#"+this._rteId+"_txtWidth").val(""),this._customTableDialog.find("#"+this._rteId+"_ddlAlignment").ejDropDownList("clearText"),this._customTableDialog.find("#"+this._rteId+"_txtSpacing").val(""),this._customTableDialog.find("#"+this._rteId+"_txtPadding").val("");var n=this._customTableDialog.find("#"+this._rteId+"_txtBorder").val(""),t=this._chkTblCaption.ejCheckBox({check:!1})},_clearLinkFields:function(){this._txtURL=this._linkDialog.find("#"+this._rteId+"_link_url"),this._txtURL.removeClass("e-error"),this._txtURL.val("http://"),this._txtLinkText=this._linkDialog.find("#"+this._rteId+"_link_text"),this._txtLinkText.val(""),this._txtLinkTitle=this._linkDialog.find("#"+this._rteId+"_link_title"),this._txtLinkTitle.val(""),this._chkTarget.ejCheckBox({check:!1}),this._txtURL.focus()},_clearImgFields:function(){this._imgDialog.find("#"+this._rteId+"_img_url").val("http://").removeClass("e-error"),this._imgDialog.find("#"+this._rteId+"_img_text").val(""),this._chkImgDimensions.ejCheckBox({check:!0})},_videoManager:function(){var n=this._getSelectedNode();this._editVideo=null,n&&n.tagName.toLowerCase()==="iframe"&&(this._editVideo=n,this._videoWidth=parseInt(n.width),this._videoHeight=parseInt(n.height),this._videoDialog.find("textarea.e-rte-video").val(n.outerHTML),this._videoDialog.find("#"+this._rteId+"_videoX").val(this._videoWidth),this._videoDialog.find("#"+this._rteId+"_videoY").val(this._videoHeight)),this._videoDialog.ejDialog("open"),this._videoDialog.find("textarea.e-rte-video").focus()},_sourceCodeManager:function(){t.isNullOrUndefined(this._sourceDialog)&&this._renderSourceDialog(),this._sourceDialog.find("textarea.e-rte-srctextarea")[0].value=this.getHtmlString(),this._sourceDialog.ejDialog("open"),this._sourceDialog.find("textarea.e-rte-srctextarea").focus()},_hyperLinkManager:function(){this._linkDialog.ejDialog("open"),this._clearLinkFields(),this._txtLinkText.val(this._getSelText()),this._selectedHTML=this._getSelText(),this._hyperLinkSelection=this._getDocument().selection;var n=this._getSelectedNode();n&&/^(A)$/.test(n.nodeName)&&(this._txtURL.val(n.href),this._txtLinkTitle.val(n.title)),this._hyperLinkSelection!=null&&(this._hyperLinkSelRange=this._hyperLinkSelection.createRange())},_tableManager:function(){var n=this._rteToolbar.find("#"+this._rteId+"createTable");this._createTable.ejDialog("option","position",{X:n.position().left,Y:n.position().top+n.height()+7}),this._createTable.ejDialog("open")},_imageManager:function(){this._clearImgFields();var n=this._getSelectedNode();n&&n.tagName.toLowerCase()==="img"&&(this._imgWidth=parseInt(n.width),this._imgHeight=parseInt(n.height),this._imgDialog.find("#"+this._rteId+"_img_url").val(n.src),this._imgDialog.find("#"+this._rteId+"_img_text").val(n.alt),this._imgDialog.find("#"+this._rteId+"_imgX").val(this._imgWidth),this._imgDialog.find("#"+this._rteId+"_imgY").val(this._imgHeight)),this._imgDialog.ejDialog("open"),this._imgDialog.find("#"+this._rteId+"_img_url").focus()},_toolBarClick:function(t){var o=n(this.itemsContainer).closest("div.e-rte").find("textarea.e-rte"),i=o.ejRTE("instance"),r=o.attr("id"),u=t.currentTarget.id.replace(r,""),e,f;if(t.currentTarget.id!=r+"copy"&&t.currentTarget.id!=r+"cut"&&t.currentTarget.id!=r+"paste"||i._isIE()?i._selectCommand(t.currentTarget.id):i._openAlert(i._getLocalizedLabels("copyPastAlert")),i._styleItems.indexOf(u)>=0||i._scriptsItems.indexOf(u)>=0)n(t.currentTarget).hasClass("e-active")?this.deselectItembyID(t.currentTarget.id):this.selectItembyID(t.currentTarget.id);else if(i._alignItems.indexOf(u)>=0)for(this.selectItembyID(t.currentTarget.id),f=i._alignItems.indexOf(u),e=0;e<i._alignItems.length;e++)e!=f&&this.deselectItembyID(r+i._alignItems[e]);else i._listItems.indexOf(u)>=0&&(n(t.currentTarget).hasClass("e-active")?this.deselectItembyID(t.currentTarget.id):this.selectItembyID(t.currentTarget.id),f=i._listItems.indexOf(u),f==0?this.deselectItembyID(r+i._listItems[1]):this.deselectItembyID(r+i._listItems[0]))},_toggleEditTable:function(){var n=this._getSelectedNode(),t=this._toolBarItems.find("#"+this._rteId+"addColumnLeft, #"+this._rteId+"addColumnRight, #"+this._rteId+"addRowAbove, #"+this._rteId+"addRowBelow, #"+this._rteId+"deleteRow, #"+this._rteId+"deleteColumn, #"+this._rteId+"deleteTable");n&&n.tagName&&(n.tagName.toLowerCase()=="td"||n.tagName.toLowerCase()=="table"||n.tagName.toLowerCase()=="tr")?t.show():t.hide(),this._setIframeHeight()},_formatChange:function(){var i=n(this.element).closest("div.e-rte").find("textarea.e-rte"),t=i.ejRTE("instance"),r=i.attr("id");this.getSelectedValue()!==""&&t._onFormatBlock(this.getSelectedValue()),t._focus(),t._onChange()},_fontStyleChange:function(){var t=n(this.element).closest("div.e-rte").find("textarea.e-rte"),i=t.ejRTE("instance"),r=t.attr("id");this.getSelectedValue()!==""&&i._onFontName(this.getSelectedValue()),i._onChange()},_fontSizeChange:function(){var t=n(this.element).closest("div.e-rte").find("textarea.e-rte"),i=t.ejRTE("instance"),r=t.attr("id");this.getSelectedValue()!==""&&i._onFontSize(this.getSelectedValue()),i._onChange()},_colorPaletteClick:function(n){var t;(t=n.target.getAttribute("color-code"))&&(this._focus(),this._onFontColor(t),this._splitMenu.hideContextMenu(n),this._bgSplitMenu.hideContextMenu(n),this._fontColor=t,this._fontColorSplit.find("span.e-btntxt").css("background-color",t))},_bgColorPaletteClick:function(n){var t;(t=n.target.getAttribute("color-code"))&&(this._focus(),this._onBGColor(t),this._splitMenu.hideContextMenu(n),this._bgSplitMenu.hideContextMenu(n),this._bgColor=t,this._bgColorSplit.find("span.e-btntxt").css("background-color",t))},_fontColorClick:function(n){this._onFontColor(this._fontColor),this._splitMenu.hideContextMenu(n)},_bgColorClick:function(n){this._onBGColor(this._bgColor),this._bgSplitMenu.hideContextMenu(n)},_selectCommand:function(n){var t=this._rteId,i;n==t+"format"||n==t+"fontName"||n==t+"fontSize"||n==t+"fontColor"||n==t+"backgrounColor"||this._focus();switch(n){case t+"bold":this._onBold();break;case t+"italic":this._onItalics();break;case t+"underline":this._onUnderLine();break;case t+"strikethrough":this._onStrikeThrough();break;case t+"justifyLeft":this._onJustifyLeft();break;case t+"justifyRight":this._onJustifyRight();break;case t+"justifyCenter":this._onJustifyCenter();break;case t+"justifyFull":this._onJustifyFull();break;case t+"cut":this._onCut();break;case t+"copy":this._onCopy();break;case t+"paste":this._onPaste();break;case t+"clearFormat":this._onClearFormat();break;case t+"clearAll":this._clearAllManager();case t+"orderedList":this._onOrderList();break;case t+"unorderedList":this._onUnorderList();break;case t+"undo":this._undo();break;case t+"redo":this._redo();break;case t+"indent":this._onIndent(),this._indentdepth++;break;case t+"outdent":this._onOutdent(),this._indentdepth>0&&this._indentdepth--;break;case t+"createLink":this._hyperLinkManager();break;case t+"image":this._imageManager();break;case t+"createTable":this._tableManager();break;case t+"addRowAbove":this.insertRow(!0);break;case t+"addRowBelow":this.insertRow(!1);break;case t+"addColumnLeft":this.insertColumn(!0);break;case t+"addColumnRight":this.insertColumn(!1);break;case t+"deleteRow":this.removeRow();break;case t+"deleteColumn":this.removeColumn();break;case t+"deleteTable":this.removeTable();break;case t+"superscript":this._onSuperScript();break;case t+"subscript":this._onSubScript();break;case t+"upperCase":this._onUpperCase();break;case t+"lowerCase":this._onLowerCase();break;case t+"video":this._videoManager();break;default:this._onChange()}n!=t+"createLink"&&n!=t+"image"&&n!=t+"video"&&n!=t+"createTable"&&this._onChange(),n!=t+"undo"&&n!=t+"redo"&&this._setBackupData(),i=this._getSelectedNode(),this._updateTagInfo(i)},_focus:function(){this._getWindow().focus(),this._restoreSelection(this._selectionRange)},_getWindow:function(){var n=document.getElementById(this._iframeId);return n.contentWindow},_getDocument:function(){var n=document.getElementById(this._iframeId);return n.contentWindow.document},_onBold:function(){var n;this.executeCommand("bold",n)},_onItalics:function(){var n;this.executeCommand("italic",n)},_onStrikeThrough:function(){var n;this.executeCommand("strikethrough",n)},_onUnderLine:function(){var n;this.executeCommand("underline",n)},_onJustifyLeft:function(){var n;this.executeCommand("JustifyLeft",n)},_onJustifyRight:function(){var n;this.executeCommand("JustifyRight",n)},_onJustifyCenter:function(){var n;this.executeCommand("JustifyCenter",n)},_onJustifyFull:function(){this._alignFlag=!0,this.executeCommand("justifyfull")},_onCut:function(){var n;this.executeCommand("cut",n)},_onCopy:function(){var n;this.executeCommand("copy",n)},_onPaste:function(){var n;this.executeCommand("paste",n)},_onOrderList:function(){var n;this.executeCommand("insertorderedlist",n)},_onUnorderList:function(){var n;this.executeCommand("insertunorderedlist",n)},_onUndo:function(){this.executeCommand("undo",null)},_onDelete:function(){this.executeCommand("delete",null)},_onRedo:function(){this.executeCommand("redo",null)},_onClearFormat:function(){var n;this.executeCommand("removeformat",n),this._setBackupData(),this._onChange(),this._updateIframeSkin()},_onFormatBlock:function(n){this._focus(),this.executeCommand("formatBlock",n)},_onFontName:function(n){this.executeCommand("fontName",n)},_onFontSize:function(n){this.executeCommand("fontSize",n)},_onFontColor:function(n){this.executeCommand("foreColor",n),this._onChange(),this._updateIframeSkin()},_onBGColor:function(n){this.executeCommand("backColor",n),this._onChange()},_onIndent:function(){this._getWindow().document.body.style.wordWrap="break-word";var t=this._getWindow().document.getSelection().focusNode;t&&/^(OL|UL|LI)$/.test(t.nodeName)?this._listIndent(t):t&&/^(#text)$/.test(t.nodeName)&&/^(OL|UL|LI)$/.test(n(t).parent()[0].nodeName)?this._listIndent(n(t).parents("li")[0],t):this.executeCommand("indent",!1),t&&n(t).focus(),this._updateIframeSkin()},_onOutdent:function(){var t=this._getWindow().document.getSelection().focusNode;t&&/^(OL|UL|LI)$/.test(t.nodeName)?this._listOutdent(t):t&&/^(#text)$/.test(t.nodeName)&&/^(OL|UL|LI)$/.test(n(t).parent()[0].nodeName)?this._listOutdent(n(t).parents("li")[0],t):this.executeCommand("outdent",!1)},_onSelectAll:function(){this.executeCommand("selectall")},_onHyperLink:function(n){this.executeCommand("createlink",n)},_onInsertLink:function(){var i,r;if(!this._isUrl(n.trim(this._txtURL.val())))return this._txtURL.addClass("e-error"),!1;i=t.buildTag("a","",{},{href:this._txtURL.val(),title:this._txtLinkTitle.val()}),i.target=this._chkTarget.ejCheckBox("isChecked")?"_blank":"_self",this._focus(),this._isIE()?(this._selectedHTML.length==0&&(this._selectedHTML=this._txtLinkText.val()),i[0].innerHTML=this._selectedHTML,r=i[0].outerHTML):(i.html(this._txtLinkText.val()),r=n("<div>").append(n(i).clone()).html()),r&&(this._isIE()?this._pasteHtml(r):this._getDocument().execCommand("inserthtml",!1,r),this._focus()),this._linkDialog.ejDialog("close")},_onInsertImage:function(){var i=this._imgDialog.find("#"+this._rteId+"_img_url"),e=this._imgDialog.find("#"+this._rteId+"_img_text"),u=this._imgDialog.find("#"+this._rteId+"_imgX").val(),f=this._imgDialog.find("#"+this._rteId+"_imgY").val(),r=this,o;this._restoreSelection(this._selectionRange),o=n("<img>",{src:i.val(),error:function(){i.addClass("e-error")},load:function(){var n=t.buildTag("img","",{},{alt:e.val(),src:i.val()});r.model.showDimensions&&(u!=""&&n.width(u),f!=""&&n.height(f)),r.executeCommand("inserthtml",n[0].outerHTML),r._imgDialog.ejDialog("close")}})},_insertVideo:function(i){var r=n.trim(this._videoDialog.find("textarea.e-rte-video")[0].value),f=this._videoDialog.find("#"+this._rteId+"_videoX").val(),s=this._videoDialog.find("#"+this._rteId+"_videoY").val(),o,e,u;this._restoreSelection(this._selectionRange),u=n(r),i.target.id==="video_insert"&&r!==""?(o=u[0].src,t.isNullOrUndefined(o)||o.indexOf("http:")!=-1||(e=r.indexOf("src=")+5,r=r.substr(0,e)+"http:"+r.substr(e)),u=n(r)[0],this.model.showDimensions&&(f!=""&&(u.width=f),f!=""&&(u.height=s)),this._editVideo&&n(this._editVideo).remove(),this.executeCommand("inserthtml",u.outerHTML),this._onChange(),this._setBackupData(),this._videoDialog.ejDialog("close")):i.target.id==="video_cancel"?this._videoDialog.ejDialog("close"):this._openAlert(this._getLocalizedLabels("videoError")),this._videoDialog.find("textarea.e-rte-video")[0].value="",this._videoDialog.find("#"+this._rteId+"_videoX").val(""),this._videoDialog.find("#"+this._rteId+"_videoY").val(""),this._chkvideoDimensions.ejCheckBox({check:!0})},_clearAllManager:function(){this._alertWindow.find(".e-alert-cancel").show(),this._openAlert(this._getLocalizedLabels("deleteAlert"))},_onUnlink:function(){var n;this.executeCommand("unlink",n)},_onSuperScript:function(){var n;this.executeCommand("SuperScript",n)},_onSubScript:function(){var n;this.executeCommand("SubScript",n)},_onInsertTable:function(n,t,i){var r=this._tableGenerator(n,t,i);this.executeCommand("inserthtml",r)},_onUpperCase:function(){var u;if(this._isIE()){if(this._getWindow().document.selection.type.toLowerCase()=="control")return;u=this._getWindow().document.selection.createRange(),this._getDocument().selection.createRange().pasteHTML(this._seleText.toUpperCase())}else{var f=this._getWindow().getSelection(),t=f.getRangeAt(0),i=t.commonAncestorContainer,e=t.commonAncestorContainer.children;if(e!=null){var o=t.extractContents(),s=this._changeCase(o,"Upper"),h=n(s).clone(),r=document.createElement("div");n(r).append(n(h)),r.innerHTML!=null&&r.innerHTML!=""&&this._getWindow().document.execCommand("inserthtml",!1,r.innerHTML)}else{var c=i.nodeValue.substring(t.startOffset,t.endOffset).toUpperCase(),l=i.nodeValue.substr(0,t.startOffset),a=i.nodeValue.substring(t.endOffset);i.nodeValue=l+c+a}}},_changeCase:function(n,t){var i=n.childNodes,r;if(i.length>0)for(r=0;r<i.length;r++)i[r].nodeType==3?i[r].nodeValue=t=="Upper"?i[r].nodeValue.toUpperCase():i[r].nodeValue.toLowerCase():i[r].nodeType==1&&i[r].tagName.toUpperCase()!="FONT"&&this.changeCase(i[r],t);return i},_onLowerCase:function(){var u=this._getWindow().getSelection(),t=u.getRangeAt(0),i=t.commonAncestorContainer,f=t.commonAncestorContainer.children;if(f!=null){var e=t.extractContents(),o=this.changeCase(e,"Lower"),s=n(o).clone(),r=document.createElement("div");n(r).append(n(s)),r.innerHTML!=null&&r.innerHTML!=""&&this._getWindow().document.execCommand("inserthtml",!1,r.innerHTML)}else{var h=i.nodeValue.substring(t.startOffset,t.endOffset).toLowerCase(),c=i.nodeValue.substr(0,t.startOffset),l=i.nodeValue.substring(t.endOffset);i.nodeValue=c+h+l}},_listIndent:function(n){var i,r;return(i=n.previousSibling,i&&this._isListNode(i))?(i.appendChild(n),!0):i&&i.nodeName=="LI"&&this._isListNode(i.lastChild)?(i.lastChild.appendChild(n),this._combineLists(n.lastChild,i.lastChild,n),!0):(i=n.nextSibling,i&&this._isListNode(i))?(i.insertBefore(n,i.firstChild),!0):i&&i.nodeName=="LI"&&this._isListNode(n.lastChild)?!1:(i=n.previousSibling,i&&i.nodeName=="LI")?(r=t.buildTag(n.parentNode.nodeName)[0],i.appendChild(r),r.appendChild(n),this._combineLists(n.lastChild,r,n),!0):!0},_combineLists:function(t,i,r){var u;if(this._isListNode(t)){while(u=r.lastChild.firstChild)i.appendChild(u);n(t).remove()}},_isListNode:function(n){return n&&/^(OL|UL)$/.test(n.nodeName)},_isFirstChild:function(n){return n.parentNode.firstChild==n},_isLastChild:function(n){return n.parentNode.lastChild==n},_removeEmptyList:function(t){t&&n(t).children().length===0&&n(t).remove()},_listOutdent:function(t){var r=n(t.parentNode),i=r[0].parentNode;return(t=n(t),this._isFirstChild(t[0])&&this._isLastChild(t[0]))?(i.nodeName=="LI"?(t.insertAfter(i),this._removeEmptyList(i),r.remove()):this._isListNode(i)?r.remove():this.executeCommand("outdent",!1),!0):this._isFirstChild(t[0])?(i.nodeName=="LI"?(t.insertAfter(i),t[0].appendChild(r[0]),this._removeEmptyList(i)):this._isListNode(i)?i.insertBefore(t[0],r[0]):this.executeCommand("outdent",!1),!0):this._isLastChild(t[0])?(i.nodeName=="LI"?t.insertAfter(i):this._isListNode(i)?t.insertAfter(r[0]):this.executeCommand("outdent",!1),!0):(this.executeCommand("outdent",!1),!1)},_updateIndent:function(t){this._toolBarObj.enableItembyID(this._rteId+"indent"),t&&/^(LI)$/.test(t.nodeName)&&n(t).parents(t.parentNode.nodeName).last().find("li").index(t)===0&&this._toolBarObj.disableItembyID(this._rteId+"indent")},_updateCharCount:function(){if(this.model.showFooter&&this.model.showWordCount){var t=this._getText();this._wordCount.html(this._getLocalizedLabels("characters")+" : "+n.trim(t).length)}},_updateTagInfo:function(t){var u="",i,e=t.tagName.toLowerCase(),f,r;if(this.model.showFooter&&this.model.showHtmlTagInfo&&e!="body"){for(f=n(t).parents(),r=f.length-1;r>=0;r--)i=f[r].tagName.toLowerCase(),i!="body"&&i!="html"&&(u+=" » "+i);u+=" » "+e,this._htmlInfo.html(u)}},_updateValue:function(){this.model.value=this._getDocument().body.innerHTML},_setClearFormat:function(){var n=this._rteToolbar.find(".e-active").length},_updateToolbarStatus:function(){var n;if(this.model.showToolBar){for(n=0;n<this._styleItems.length;n++)this._getCommandStatus(this._styleItems[n].toLowerCase())?this._toolBarObj.selectItembyID(this._rteId+this._styleItems[n]):this._toolBarObj.deselectItembyID(this._rteId+this._styleItems[n]);for(n=0;n<this._alignItems.length;n++)this._getCommandStatus(this._alignItems[n].toLowerCase())?this._toolBarObj.selectItembyID(this._rteId+this._alignItems[n]):this._toolBarObj.deselectItembyID(this._rteId+this._alignItems[n]);for(n=0;n<this._scriptsItems.length;n++)this._getCommandStatus(this._scriptsItems[n].toLowerCase())?this._toolBarObj.selectItembyID(this._rteId+this._scriptsItems[n]):this._toolBarObj.deselectItembyID(this._rteId+this._scriptsItems[n]);this._getCommandStatus("InsertOrderedList")?this._toolBarObj.selectItembyID(this._rteId+"orderedList"):this._toolBarObj.deselectItembyID(this._rteId+"orderedList"),this._getCommandStatus("InsertUnorderedList")?this._toolBarObj.selectItembyID(this._rteId+"unorderedList"):this._toolBarObj.deselectItembyID(this._rteId+"unorderedList")}},_updateFormat:function(){if(this._formatDDL&&this.model.showToolBar&&!t.isNullOrUndefined(this.model.tools.formatStyle)){var i=n.trim(this._getCommandValue("formatblock").replace("'","").replace("'",""));t.isNullOrUndefined(i)||i==""?this._formatDDL.ejDropDownList({value:this._getLocalizedLabels("format")}):this._formatDDL.ejDropDownList("selectItemByValue",i)}},_updateFontOptionStatus:function(){var i,r;this.model.showFontOption&&this.model.showToolBar&&!t.isNullOrUndefined(this.model.tools.font)&&(i=n.trim(this._getCommandValue("fontname").replace("'","").replace("'","")),t.isNullOrUndefined(i)||i==""&&(i="Segoe UI"),this._fontStyleDDL.ejDropDownList("selectItemByValue",i),r=this._getCommandValue("fontsize"),t.isNullOrUndefined(r)||r==""&&(r=2),this._fontSizeDDL.ejDropDownList("selectItemByValue",r))},_getSelText:function(){var n="",i,r,t;return this._isIE()?n=this._seleText:window.getSelection?(i=this._getWindow().getSelection(),t=document.createRange(),t=i.getRangeAt(0),r=document.createTextNode(t.toString()),n=r.nodeValue):document.getSelection&&(n=this._getWindow().document.getSelection()),n},_isIE:function(){var n=!1,i=t.browserInfo();return i.name=="msie"&&(n=!0),n},_isUrl:function(n){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(n)},_pasteHtml:function(n){var i,t,r,u,e,f;if(window.getSelection){if(i=this._getWindow().getSelection(),i.getRangeAt&&i.rangeCount){for(t=i.getRangeAt(0),t.deleteContents(),r=document.createElement("div"),r.innerHTML=n,u=this._getDocument().createDocumentFragment();e=r.firstChild;)f=u.appendChild(e);t.insertNode(u),f&&(t=t.cloneRange(),t.setStartAfter(f),t.collapse(!0),i.removeAllRanges(),i.addRange(t))}}else this._getDocument().selection&&this._getDocument().selection.type!="Control"&&this._getDocument().selection.createRange().pasteHTML(n)},_getLocalizedLabels:function(n){return t.RTE.localization[this.model.localization][n]===i?t.RTE.localization["en-US"][n]:t.RTE.localization[this.model.localization][n]},_getSelectedNode:function(){var i,n=this._getRange(),t=n.startContainer,r=n.endContainer,u=n.startOffset,f=n.endOffset;return n?n.setStart?(i=n.commonAncestorContainer,!n.collapsed&&(t==r&&f-u<2&&t.hasChildNodes()&&(i=t.childNodes[u]),t.nodeType===3&&r.nodeType===3&&(t=t.length===u?this._skipEmptyNode(t.nextSibling,!0):t.parentNode,r=f===0?this._skipEmptyNode(r.previousSibling,!1):r.parentNode,t&&t===r)))?t:i&&i.nodeType==3?i.parentNode:i:n.item?n.item(0):n.parentElement():this._getDocument().selection},_skipEmptyNode:function(n,t){for(var i=n;n&&n.nodeType===3&&n.length===0;)n=t?n.nextSibling:n.previousSibling;return n||i},_getSelection:function(){var n;return this._isIE()?(n=this._getDocument().selection.createRange(),n.type=this._getDocument().selection.type):(n=window.getSelection(),n.rangeCount&&(sText=n.getRangeAt(0)),n.type=this._getWindow().getSelection().type),n},_saveSelection:function(){var i=this._getWindow(),r=i.document,n=i.getSelection?i.getSelection():r.selection,t;return n&&(n.createRange?t=n.createRange():n.getRangeAt(0)?t=n.getRangeAt(0):n.anchorNode&&n.focusNode&&r.createRange&&(t=r.createRange(),t.setStart(n.anchorNode,n.anchorOffset),t.setEnd(n.focusNode,n.focusOffset),t.collapsed!==n.isCollapsed&&(t.setStart(n.focusNode,n.focusOffset),t.setEnd(n.anchorNode,n.anchorOffset)))),t},_restoreSelection:function(n){var i=this._getWindow(),r=i.document,t=i.getSelection?i.getSelection():r.selection;t&&n&&(n.select?n.select():t.removeAllRanges&&t.addRange&&(t.removeAllRanges(),t.addRange(n)))},_getRange:function(){return this._isIE()?t.isNullOrUndefined(this._selectionRange)?this._saveSelection():this._selectionRange:this._getWindow().getSelection().getRangeAt(0)},_setBackupData:function(){var n=this.getHtmlString(),t=this._backupArray.length;t==this.model.undoStackLimit+1&&this._backupArray.splice(0,1),n!=this._backupArray[t-1]&&this.model.undoStackLimit>0&&this._backupArray.push(n),this._undoRedoPosition=this._backupArray.length-1,this.model.showToolBar&&this._rteToolbar.find("#"+this._rteId+"undo")&&this._backupArray.length>1&&this._toolBarObj.enableItembyID(this._rteId+"undo")},_getSelectedHtmlString:function(){return document.selection?this._getWindow().document.selection.createRange().htmlText:this._seleText},_getText:function(){var n=this._getDocument().body;if(n!=null)return this._isIE()?n.innerText:n.textContent},_validateMaxLength:function(n){if(this.model.maxLength!=null){var t=this.model.maxLength,i=this._getText();t<=i.length&&(n.keyCode<47||n.ctrlKey&&n.keyCode==65||n.ctrlKey&&n.keyCode==67||n.ctrlKey&&n.keyCode==86||n.ctrlKey&&n.keyCode==88||(this._keypressFlag=!1,this._cancelEvent(n)))}},_cancelEvent:function(n){return n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},_alignToolUpdate:function(n){for(var t=0;t<this._alignItems.length;t++)this._alignItems[t]===n?this._toolBarObj.selectItembyID(this._rteId+"underline"):this._toolBarObj.deselectItembyID(this._rteId+"underline")},_getCommandStatus:function(n){return this._getDocument().queryCommandState(n)},_getCommandValue:function(n){return this._getDocument().queryCommandValue(n)},_undo:function(){this._undoRedoPosition>0&&(this.setHtmlString(this._backupArray[this._undoRedoPosition-1]),this._undoRedoPosition--,this._updateToolbarStatus(),this._updateFontOptionStatus(),this._updateFormat(),this._updateCharCount(),this._toolBarObj.enableItembyID(this._rteId+"redo")),this._undoRedoPosition==0&&(this._toolBarObj.disableItembyID(this._rteId+"undo"),this._toolBarObj.enableItembyID(this._rteId+"redo")),this._focus()},_redo:function(){var n;this._undoRedoPosition!=this._backupArray.length&&(this._backupArray[this._undoRedoPosition+1]!=null?(n=this._backupArray[this._undoRedoPosition+1],this.setHtmlString(n),this._undoRedoPosition++):(n=this._backupArray[this._backupArray.length-2],this.setHtmlString(n),this._undoRedoPosition=this._backupArray.length-2),this._updateToolbarStatus(),this._updateFontOptionStatus(),this._updateFormat(),this._updateCharCount(),t.isNullOrUndefined(this._toolBarObj)||(this._backupArray.length-1>0&&this._toolBarObj.enableItembyID(this._rteId+"undo"),this._undoRedoPosition==this._backupArray.length-1&&this._toolBarObj.disableItembyID(this._rteId+"redo"))),this._focus()},_setContent:function(n){var t=this._getDocument();t.open(),t.write(n),t.close(),t.EditMode=!0},_tableCellStart:function(){this._tableInsertAt=this._saveSelection()},_tableCellSelect:function(i){var r,e=n(i.target),u=e.parent().index(),f=e.index();this._createTable.find("div.e-rte-tablecell").each(function(){r=n(this),r.index()<=f&&r.parent().index()<=u?r.addClass("e-active"):r.removeClass("e-active")}),this._tblheaderDiv.html(f+1+"x"+(u+1)+" Table"),n(this._getDocument()).find("table.e-rte-tableremove").remove(),t.isNullOrUndefined(this._tableInsertAt)||t.isNullOrUndefined(this._tableInsertAt.startContainer)||(this._restoreSelection(this._tableInsertAt),this._onInsertTable(u+1,f+1,!0))},_tableCellLeave:function(){this._createTable.find("div.e-rte-tablecell").removeClass("e-active"),n(this._getDocument()).find("table.e-rte-tableremove").remove(),this._tblheaderDiv.html(this._getLocalizedLabels("createTable"))},_tableCellDown:function(i){var u=n(i.target),f=u.parent().index()+1,e=u.index()+1,r;this._focus(),n(this._getDocument()).find("table.e-rte-tableremove").remove(),t.isNullOrUndefined(this._tableInsertAt)||t.isNullOrUndefined(this._tableInsertAt.startContainer)||(this._restoreSelection(this._tableInsertAt),this._onInsertTable(f,e,!1)),r=n(this._getDocument()).find("table.e-rte-table"),r.attr("contentEditable",!1),r.find("td").attr("contentEditable",!0),this._createTable.ejDialog("close"),this._setBackupData(),this._onChange()},_tableGenerator:function(n,i,r,u,f,e,o,s,h,c){var l="e-rte-table";return r&&(l+=" e-rte-tableremove"),u=t.isNullOrUndefined(u)||u==""?"width='100%'":"width="+u+"'",f=t.isNullOrUndefined(f)||f==""?"":"height='"+f+"'",e=t.isNullOrUndefined(e)||e==""?"":"cellspacing='"+e+"'",o=t.isNullOrUndefined(o)||o==""?"":"cellpadding='"+o+"'",h=t.isNullOrUndefined(h)||h==""?"border='1'":"border='"+h+"'",s=t.isNullOrUndefined(s)?"":" align='"+s+"'","<table class='"+l+"' "+u+" "+f+" "+h+" "+e+" "+o+" "+s+">"+(c?"<caption><\/caption>":"")+Array(n+1).join("<tr>"+Array(i+1).join("<td><br _moz_dirty=''/><\/td>")+"<\/tr>")+"<\/table>"},_openCustomTable:function(){this._customTableDialog.ejDialog("open")},_documentClick:function(t){n(t.target).parents("#"+this._rteId+"tables").length<=0&&this._createTable.ejDialog("isOpened")&&this._createTable.ejDialog("close")},_iframeFocus:function(n){!t.isNullOrUndefined(this._createTable)&&this._createTable.ejDialog("isOpened")&&this._createTable.ejDialog("close"),t.isNullOrUndefined(this._fontSizeDDL)||this._fontSizeDDL.ejDropDownList("popupListHide"),t.isNullOrUndefined(this._fontStyleDDL)||this._fontStyleDDL.ejDropDownList("popupListHide"),t.isNullOrUndefined(this._formatDDL)||this._formatDDL.ejDropDownList("popupListHide"),t.isNullOrUndefined(this._createTable)||this._createTable.ejDialog("close"),t.isNullOrUndefined(this._splitMenu)||this._splitMenu.hideContextMenu(n),t.isNullOrUndefined(this._bgSplitMenu)||this._bgSplitMenu.hideContextMenu(n)},_iframeKeyDown:function(t){var i,e,u,r,f;if(this.model.showToolBar&&this.model.allowKeyboardNavigation)if(t&&t.ctrlKey==!0){if(t.keyCode==66)return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"bold"),i.hasClass("e-disable")||(this._onBold(),i.hasClass("e-active")?this._toolBarObj.deselectItembyID(this._rteId+"bold"):this._toolBarObj.selectItembyID(this._rteId+"bold")),!1;if(t.keyCode==73)return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"italic"),i.hasClass("e-disable")||(this._onItalics(),i.hasClass("e-active")?this._toolBarObj.deselectItembyID(this._rteId+"italic"):this._toolBarObj.selectItembyID(this._rteId+"italic")),!1;if(t.keyCode==85)return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"underline"),i.hasClass("e-disable")||(this._onUnderLine(),i.hasClass("e-active")?this._toolBarObj.deselectItembyID(this._rteId+"underline"):this._toolBarObj.selectItembyID(this._rteId+"underline")),!1;if(t.keyCode!=76||t.altKey){if(t.keyCode==82)return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"justifyRight"),i.hasClass("e-disable")||(this._onJustifyRight(),this._alignToolUpdate("justifyRight")),!1;if(t.keyCode!=69||t.altKey)if(t.keyCode!=74||t.altKey)if(t.keyCode!=90||t.altKey){if(t.keyCode==89)return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"rddo"),i.hasClass("e-disable")||this._onRedo(),!1;if(t.keyCode==67)i=this._toolBarItems.find("#"+this._rteId+"copy"),i.hasClass("e-disable")&&(this._keypressFlag=!1,t.preventDefault());else if(t.keyCode==88)i=this._toolBarItems.find("#"+this._rteId+"cut"),i.hasClass("e-disable")&&(this._keypressFlag=!1,t.preventDefault());else if(t.keyCode==86)i=this._toolBarItems.find("#"+this._rteId+"paste"),i.hasClass("e-disable")&&(this._keypressFlag=!1,t.preventDefault());else{if(t.keyCode==77)return t.shiftKey==!0?(t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"outdent"),i.hasClass("e-disable")||(this._onOutdent(),this._indentdepth>0&&this._indentdepth--),!1):(t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"indent"),i.hasClass("e-disable")||(this._onIndent(),this._indentdepth++),!1);if(t.keyCode==75)return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"createLink"),i.hasClass("e-disable")||this._hyperLinkManager(),!1}}else return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"undo"),i.hasClass("e-disable")||this._onUndo(),!1;else return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"justifyFull"),i.hasClass("e-disable")||(this._onJustifyFull(),this._alignToolUpdate("justifyFull")),!1;else return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"justifyCenter"),i.hasClass("e-disable")||(this._onJustifyCenter(),this._alignToolUpdate("justifyCenter")),!1}else return t.preventDefault(),i=this._toolBarItems.find("#"+this._rteId+"justifyLeft"),i.hasClass("e-disable")||(this._onJustifyLeft(),this._alignToolUpdate("justifyLeft")),!1}else if(t.keyCode==9)r=this._getSelectedNode(),r&&r.tagName.toLowerCase()=="td"?(u=n(r).closest("table").find("td"),e=u.index(r),e==u.length-1&&this.insertRow(!1,r)):this._isIE()||(t.preventDefault(),this._getDocument().execCommand("inserthtml",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"));else if(t.keyCode==127&&(this.getHtmlString()==this.getSelHtmlString()||this._currentIFrame.get_Text()==this._currentIFrame.getSelText())&&(f=this.ClearAllManager(),!f))return t.preventDefault(),f;this.model.maxLength!=null&&this._validateMaxLength(t),this._trigger("keydown",{keyCode:t.keyCode}),(t.keyCode!=16||t.keyCode!=17||t.keyCode!=18)&&this._onChange()},_iframeKeypress:function(n){if(!this._keypressFlag)return n.preventDefault(),this._keypressFlag=!0,!1},_iframeKeyUp:function(n){this._toggleEditTable(),this._setBackupData(),this._updateToolbarStatus(),this._updateFontOptionStatus(),this._updateFormat(),this._updateCharCount();var t=this._getSelectedNode();this._updateTagInfo(t),this._trigger("keyup",{keyCode:n.keyCode})},_iframeMouseUp:function(){this._toggleEditTable(),this._updateToolbarStatus(),this._updateFontOptionStatus(),this._updateFormat()},_iframeMouseDown:function(n){this._updateTagInfo(n.target),this._updateIndent(n.target)},_iframeFocusOut:function(){this._onChange(),this._selectionRange=this._saveSelection(),this._seleText=t.isNullOrUndefined(this._getWindow().document.selection)?this._selectionRange.toString():this._getWindow().document.selection.createRange().text},_wireEvents:function(){var i=n(this._getDocument());t.isNullOrUndefined(this._createTable)||(this._on(this._createTable,"mouseenter","div.e-rte-tablecell",this._tableCellStart),this._on(this._createTable,"mousemove","div.e-rte-tablecell",this._tableCellSelect),this._on(this._createTable,"mouseleave","div.e-rte-table",this._tableCellLeave),this._on(this._createTable,"mousedown","div.e-rte-tablecell",this._tableCellDown),this._on(n(document),"click",this._documentClick)),this._on(i,"focus",this._iframeFocus),this._on(i,"keydown",this._iframeKeyDown),this._on(i,"keypress",this._iframeKeypress),this._on(i,"keyup",this._iframeKeyUp),this._on(i,"mouseup",this._iframeMouseUp),this._on(i,"mousedown",this._iframeMouseDown),this._on(i,"focusout",this._iframeFocusOut)},_unwireEvents:function(){var i=n(this._getDocument());t.isNullOrUndefined(this._createTable)||(this._off(this._createTable.find("div.e-rte-tablecell"),"mousemove"),this._off(this._createTable.find("div.e-rte-table"),"mouseleave"),this._off(this._createTable.find("div.e-rte-tablecell"),"mousedown"),this._off(n(document),"click")),this._off(i,"focus"),this._off(i,"keydown"),this._off(i,"keyup"),this._off(i,"mouseup"),this._off(i,"mousedown"),this._off(i,"blur")},_onChange:function(){this._updateValue();var n={text:this._getText(),htmlText:this.getHtmlString()};this._trigger("change",n)},disableToolbarItem:function(n){t.isNullOrUndefined(n)||this._toolBarObj.disableItembyID(n)},enableToolbarItem:function(n){t.isNullOrUndefined(n)||this._toolBarObj.enableItembyID(n)},removeToolbarItem:function(n){t.isNullOrUndefined(n)||this._toolBarObj.removeItembyID(n)},show:function(){this._rteWapper.show()},hide:function(){this._rteWapper.hide()},getHtmlString:function(){var t=this._getDocument().body.innerHTML;return n.trim(t).replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"<\/$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"").replace(/&nbsp;/g," ")},setHtmlString:function(n){this._getDocument().body.innerHTML=n},getText:function(){return this._getText()},executeCommand:function(t,i){if(this._trigger("execute",{commandName:t}))return!1;var r="";if(t=="underline"){if(window.getSelection&&(r=n(this._getWindow().getSelection().anchorNode).parents("a"),r.length>0)){n(r).css("text-decoration",n(r).css("text-decoration")=="none"?"underline":"none");return}}else if(t.toLowerCase()=="inserthtml"){this._isIE()?this._pasteHtml(i):this._getDocument().execCommand(t,!1,i);return}this._getDocument().execCommand(t,!1,i),this._setBackupData()},focus:function(){this._focus()},commandStatus:function(n){if(t.isNullOrUndefined(n)||n!="")return this._getCommandStatus(n)},selectedHtml:function(){return this._getSelectedHtmlString()},insertRow:function(i,r){var e=t.isNullOrUndefined(r)?this._getSelectedNode():r,u=n(e).closest("tr"),o=u.find("td").length,f=n("<tr>"+Array(o+1).join("<td contentEditable='true'><br _moz_dirty=''/><\/td>")+"<\/tr>");i?f.insertBefore(u):f.insertAfter(u),u.find("td:first").focus()},insertColumn:function(i,r){for(var e=t.isNullOrUndefined(r)?this._getSelectedNode():r,o="<td contentEditable='true'><br _moz_dirty=''/><\/td>",s=n(e).closest("tr"),f,h=s.closest("table").find("tr"),c=s.find("td").index(e),u=0;u<h.length;u++)f=n(h[u]).find("td")[c],i?n(o).insertBefore(f):n(o).insertAfter(f)},removeRow:function(i){var r=t.isNullOrUndefined(i)?this._getSelectedNode():i;curRow=n(r).closest("tr").remove()},removeColumn:function(i){for(var u=t.isNullOrUndefined(i)?this._getSelectedNode():i,f=n(u).closest("tr"),e=f.closest("table").find("tr"),o=f.find("td").index(u),r=0;r<e.length;r++)n(n(e[r]).find("td")[o]).remove()},removeTable:function(i){var r=t.isNullOrUndefined(i)?n(this._getSelectedNode()).closest("table"):i;n(r).remove()}}),t.RTE.localization={},t.RTE.localization["en-US"]={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",unorderedList:"Insert unordered list",orderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",cut:"Cut",copy:"Copy",paste:"Paste",paragraph:"Paragraph",undo:"Undo",redo:"Redo",upperCase:"Upper Case",lowerCase:"Lower Case",clearAll:"Clear All",clearFormat:"Clear Format",createLink:"Insert/Edit hyperlink",image:"Insert image",video:"Insert video",embedVideo:"Paste your embed code below",viewHtml:"View HTML",fontName:"Select font family",fontSize:"Select font size",fontColor:"Select color",format:"Format",backgrounColor:"Background color",style:"Styles",deleteAlert:"Are you sure you want to clear all the contents?",copyPastAlert:"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.",videoError:"The text area can not be empty",imageWebUrl:"Web Address",imageAltText:"Image description",dimensions:"Dimensions",constrainProportions:"Constrain Proportions",linkWebUrl:"Web Address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",tableColumns:"No.of Columns",tableRows:"No.of Rows",tableWidth:"Table width",tableHeight:"Table height",tableCellSpacing:"Cell spacing",tableCellPadding:"Cell padding",tableBorder:"Border",tableCaption:"Caption",tableAlignment:"Alignment",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",dialogOk:"Ok",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete the row",deleteColumn:"Delete the column",deleteTable:"Delete the table",customTable:"Create custom table...",characters:"Characters"}}(jQuery,Syncfusion),function(n,t,i){t.widget({mCircularGauge:"m.CircularGauge",ejCircularGauge:"ej.CircularGauge"},{validTags:["div","span"],defaults:{radius:180,width:360,height:360,frameType:"fullCircle",backgroundColor:null,interiorGradient:null,readOnly:!0,halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360,animate:!0,animationSpeed:500,theme:"flatlight",isRadialGradient:!1,drawTicks:null,drawLabels:null,drawPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,drawPointerCap:null,renderComplete:null,mouseClick:null,mouseClickMove:null,mouseClickUp:null,scales:null},_defaultScaleValues:function(){return{scaleBarSize:6,scaleBorderWidth:1.5,capBorderColor:null,capBackgroundColor:null,showScaleBar:!1,sweepAngle:310,scaleRadius:170,startAngle:115,majorIntervalValue:10,minorIntervalValue:2,maximum:100,minimum:0,borderColor:null,backgroundColor:null,labelAutoAngle:!1,scaleDirection:"Clockwise",showPointers:!0,showRanges:!1,showTicks:!0,showLabels:!0,showIndicators:!1,pointerCapRadius:7,pointerCapBorderWidth:3,capInteriorGradient:null,pointers:[{distanceFromScale:0,showBackNeedle:!1,backNeedleLength:10,pointerLength:150,pointerPosition:"Near",pointerWidth:7,opacity:1,borderWidth:1.5,value:0,borderColor:null,backgroundColor:null,pointerGradient:null,pointerType:"Needle",needleStyle:"Triangle",markerStyle:"Rectangle"}],ranges:[{distanceFromScale:25,size:5,rangePosition:"Near",startValue:null,endValue:null,startWidth:10,endWidth:10,rangeGradient:null,borderWidth:1.5,opacity:null,backgroundColor:"#32b3c6",borderColor:"#32b3c6"}],ticks:[{angle:0,distanceFromScale:0,tickColor:null,tickStyle:"Major",tickPosition:"Near",tickHeight:16,tickWidth:3},{angle:0,distanceFromScale:0,tickColor:null,tickStyle:"Minor",tickPosition:"Near",tickHeight:7,tickWidth:1}],labels:[{angle:0,opacity:null,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},labelColor:null,distanceFromScale:0,includeFirstValue:!0,labelPosition:"Near",labelStyle:"Major"}],indicators:[{indicatorHeight:15,indicatorWidth:15,indicatorStyle:"Circle",indicatorValue:0,indicatorLocation:{x:0,y:0},stateRanges:[{endValue:0,startValue:0,backgroundColor:null,borderColor:null,text:"",textColor:null,font:null}]}],subGuage:[{subGaugeHeight:150,subGaugeWidth:150,location:{x:0,y:0}}],customLabel:[]}},dataTypes:{scales:"data"},_setModel:function(t){var i;for(i in t)switch(i){case"height":this.model.height=t[i];break;case"width":this.model.width=t[i];break;case"radius":this.model.radius=t[i];break;case"frameType":this.model.frameType=t[i];break;case"backgroundColor":this.model.backgroundColor=t[i];break;case"interiorGradient":this.model.interiorGradient=t[i];break;case"readOnly":this.model.readOnly=t[i];break;case"halfCircleFrameStartAngle":this.model.halfCircleFrameStartAngle=t[i];break;case"theme":this.model.theme=t[i];break;case"isRadialGradient":this.model.isRadialGradient=t[i];break;case"scales":n.extend(!0,this.model.scales,t[i])}this._init()},_destroy:function(){this._unWireEvents(),this.element.remove()},_init:function(){this._scalesInitialize(),this._trigger("load"),this._setTheme(),this._initialize(),this.model.readOnly||this._wireEvents()},_initialize:function(){this._initObject(this),this._drawOuterLayer(),this._drawScales(),this.model.renderComplete&&this._onRenderComplete()},_scalesInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r),n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._LoadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},_initObject:function(t){this.element.addClass("e-widget"),t.GaugeEl=this.element,t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.GaugeEl.append(t.canvasEl),t.GaugeEl.css("width",t.model.width),t.GaugeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.GaugeEl.width()),t.canvasEl[0].setAttribute("height",t.GaugeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,this._isHalfCircle&&this._isHalfCircle()&&(t.model.halfCircleFrameEndAngle-t.model.halfCircleFrameStartAngle>=180?t.model.halfCircleFrameStartAngle==180&&t.model.halfCircleFrameEndAngle==360?t.centerY=t.canvasEl[0].height:t.model.halfCircleFrameStartAngle==0&&t.model.halfCircleFrameEndAngle==180?t.centerY=0:t.model.halfCircleFrameStartAngle==90&&t.model.halfCircleFrameEndAngle==270?t.centerX=t.canvasEl[0].width:t.model.halfCircleFrameStartAngle==270&&t.model.halfCircleFrameEndAngle==90&&(t.centerX=0):t.model.halfCircleFrameEndAngle-t.model.halfCircleFrameStartAngle<=90&&(t.model.halfCircleFrameStartAngle>=0&&t.model.halfCircleFrameStartAngle<=180&&(t.centerX=0,t.centerY=0),t.model.halfCircleFrameStartAngle==90&&(t.centerX=t.canvasEl[0].width),(t.model.halfCircleFrameStartAngle==0||t.model.halfCircleFrameStartAngle==270)&&(t.centerX=0),t.model.halfCircleFrameStartAngle==180&&t.model.halfCircleFrameEndAngle==270&&(t.centerX=t.canvasEl[0].width,t.centerY=t.canvasEl[0].height/2))),t.model.width=t.GaugeEl.width(),t.model.height=t.GaugeEl.height();var i=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(i=window.G_vmlCanvasManager.initElement(i)),i&&i.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_wireEvents:function(){this.startEv="mousedown",this.moveEv="mousemove",this.endEv="mouseup",this.onMouseMoveHandler=n.proxy(this._onMouseMove,this),this.onMouseUpHandler=n.proxy(this._onMouseUp,this),this.onMouseDownHandler=n.proxy(this._onMouseDown,this),n(this.canvasEl).bind(this.startEv,this.onMouseDownHandler)},_unWireEvents:function(){n(this.canvasEl).unbind(this.startEv,this.onMouseDownHandler)},_onMouseDown:function(t){this._blockDefaultActions(t);var r={x:this.centerX,y:this.centerY},u={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},f=180*this._getCirucumferenceAngle(r,u)/Math.PI,i=this;n.each(this.model.scales,function(t,e){i.scaleIndex=t,e.pointers!=null&&(i.pointerEl=e.pointers,n.each(e.pointers,function(t,o){i._isHalfCircle()&&(e.showBackNeedle=!1),angle=i._getAngle(o.value),angle>360&&(angle=angle-360);var s=angle+o.pointerWidth,h=angle-o.pointerWidth;radius=Math.sqrt((u.x-r.x)*(u.x-r.x)+(u.y-r.y)*(u.y-r.y)),i._isBetween(h,s,f)&&radius<=o.pointerLength&&(i.model.mouseClick&&i._onMouseClick(angle,e.value),i.activeElement=o,n(document).bind(i.moveEv,i.onMouseMoveHandler),n(document).bind(i.endEv,i.onMouseUpHandler))}))})},_onMouseUp:function(){n(document).unbind(self.moveEv,self.onMouseMoveHandler),n(document).unbind(self.endEv,self.onMouseUpHandler),this.model.mouseClickUp&&this._onMouseClickUp(this._getAngle(this.activeElement.value),this.activeElement.value)},_onMouseMove:function(t){this._blockDefaultActions(t);var r={x:this.centerX,y:this.centerY},u={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},i=180*this._getCirucumferenceAngle(r,u)/Math.PI;i<this.scaleEl[this.scaleIndex].startAngle&&!this._isHalfCircle()&&(i=i+360),this.model.mouseClickMove&&this._onMouseClickMove(this._getAngle(this.activeElement.value),this.activeElement.value),this._getValue(i)<=this.scaleEl[this.scaleIndex].maximum&&(this.activeElement.value=this._getValue(i)),this.contextEl.putImageData?this._reDrawPointer():this._init()},_isHalfCircle:function(){if(this.model.frameType=="halfCircle")return!0},_getHalfCircleYPosition:function(){return this._getYCordinate(this.centerY,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2)},_getHalfCircleXPosition:function(){return this._getXCordinate(this.centerX,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2)},_getXCordinate:function(n,t,i){return n+t*Math.cos(Math.PI*(i/180))},_getYCordinate:function(n,t,i){return n+t*Math.sin(Math.PI*(i/180))},_getAngle:function(n){var t;return t=n>=this.scaleEl[this.scaleIndex].minimum&&n<=this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?n-this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum-n:this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum:n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].maximum:this.scaleEl[this.scaleIndex].minimum,t*(this.scaleEl[this.scaleIndex].sweepAngle/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum))+this.scaleEl[this.scaleIndex].startAngle},_subtractDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)-t*Math.pow(10,i))/Math.pow(10,i),o},_getCirucumferenceAngle:function(n,t){return t.x>n.x?t.y>n.y?this._tangent(n,t):t.y==n.y?0:2*Math.PI+this._tangent(n,t):t.x==n.x?t.y==n.y?0:t.y>n.y?Math.PI/2:1.5*Math.PI:t.y==n.y?Math.PI:t.y>n.y?Math.PI+this._tangent(n,t):Math.PI+this._tangent(n,t)},_tangent:function(n,t){var i=(t.y-n.y)/(t.x-n.x);return Math.atan(i)},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getPointerImage()},_getPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getSubGaugeImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getCustomLabelImage:function(){return this.subGaugeImage?this.subGaugeImage:this._getSubGaugeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},_getValue:function(n){return(n-this.scaleEl[this.scaleIndex].startAngle)/this.scaleEl[this.scaleIndex].sweepAngle*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)},_drawScales:function(){var t=this,i;this.scaleEl=this.model.scales,n.each(this.model.scales,function(n,i){t.scaleIndex=n,i.showScaleBar&&t._setScaleCordinates(i)}),this._setTicks(),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),n.each(this.model.scales,function(n,i){i.showPointers&&i.pointers.length>1&&(t.model.animate=!1)}),this.contextEl.putImageData||(this.model.animate=!1),this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.animate&&this._onAnimate(i)),this._setIndicators()},_setTicks:function(){var t=this;n.each(this.model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n,t._setTicksCordinates(n,i)})))})},_setLabels:function(){var t=this;n.each(this.model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n,t._setLabelCoridnates(n,i)})))})},_setIndicators:function(){var t=this;n.each(this.model.scales,function(i,r){r.showIndicators&&(t.scaleIndex=i,r.indicators!=null&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n,t._drawIndicator(n,i)})))})},_setPointers:function(){var t=this;n.each(this.model.scales,function(i,r){r.showPointers&&(t.scaleIndex=i,r.pointers!=null&&(t.pointerEl=r.pointers,n.each(r.pointers,function(n,i){t._isHalfCircle()&&(r.showBackNeedle=!1),t.pointerIndex=n,t._drawPointers(n,i)})))})},_onAnimate:function(n){var i=this,r,t=i.model.scales[0].minimum,u=i.model.scales[0].pointers[0].value;r=setInterval(function(){u>t?(t=t+1,i.setPointerValue(0,0,t)):t==u&&window.clearInterval(r)},n)},_setRanges:function(){var t=this;n.each(this.model.scales,function(i,r){r.showRanges&&(t.scaleIndex=i,r.ranges!=null&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n,t._setRangeCordinates(n,i)})))})},_setCustomLabel:function(){var t=this;n.each(this.model.scales,function(i,r){t.scaleIndex=i,r.customLabel!=null&&(t.customLabelEl=r.customLabel,n.each(r.customLabel,function(n,r){t.customLabelIndex=i,t._setCustomLabelCordinates(n,r)}))})},_subGauge:function(){var t=this;n.each(this.model.scales,function(i,r){t.scaleIndex=i,r.subGauge!=null&&(t.subGaugeEl=r.subGauge,n.each(r.subGauge,function(n,r){t.subGaugeIndex=i,t._setSubGuage(n,r)}))})},_setScaleCordinates:function(n){this.location={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:n.startAngle,endAngle:n.startAngle+n.sweepAngle,startRadius:this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2,endRadius:this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2},this.style={radius:n.scaleRadius-n.scaleBarSize/2,strokeStyle:n.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.borderColor),lineWidth:n.scaleBorderWidth,size:n.scaleBarSize,isFill:!0,opacity:isNaN(n.Opacity)?1:n.Opacity,isStroke:!0,shadowOffset:n.ShadowOffset,fillStyle:n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor),counterClockwise:n.scaleDirection=="Clockwise"?!1:!0},this._drawScaleBar(this.location,this.style),this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawOuterLayer:function(){var i,r,u,n;this._isHalfCircle()&&(r={x:this.centerX,y:this.centerY},u={x:this.centerX+this.model.radius,y:this.centerY/2},n=this._getCirucumferenceAngle(r,u)),i=this.model.isRadialGradient?this.contextEl.createRadialGradient(this.canvasEl[0].width/2,this.canvasEl[0].height/2,0,this.canvasEl[0].width/2,this.canvasEl[0].height/2,this.model.radius):this.contextEl.createLinearGradient(0,0,0,this.canvasEl[0].height),t.isNullOrUndefined(this.model.interiorGradient)||this._setGradientColor(this,i,this.model.interiorGradient.colorInfo),this.frameOuterLocation={centerX:this.centerX,hcCenterX:this.centerX,hcCenterY:this.centerY,centerY:this.centerY,startAngle:this._isHalfCircle()?Math.PI*(this.model.halfCircleFrameStartAngle/180):0,endAngle:this._isHalfCircle()?Math.PI*(this.model.halfCircleFrameEndAngle/180):2*Math.PI},this._isHalfCircle()&&(this.frameInnerLocation={centerX:this.centerX,hcCenterX:this._getXCordinate(this.centerX,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2),hcCenterY:this._getYCordinate(this.centerX,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2),centerY:this.centerY,startAngle:Math.PI*(this.model.halfCircleFrameStartAngle/180)+n,endAngle:Math.PI*(this.model.halfCircleFrameEndAngle/180)-n}),this.frameInnerStyle={radius:this.model.radius,isStroke:!1,isFill:!0,fillStyle:this.model.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(null,this.model.backgroundColor),counterClockwise:!1},this.model.frameType=="fullCircle"?this._drawCircleFrame(this.frameOuterLocation,this.frameInnerStyle):this.model.frameType=="halfCircle"&&this._drawHalfCircle(this.frameInnerLocation,this.frameInnerStyle),this.contextEl.getImageData&&(this.outerImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setTicksCordinates:function(n,t){var e,o,s,h,f,r,i,u;for(t.tickStyle=="Major"?(f=this.scaleEl[this.scaleIndex].majorIntervalValue,this.majorTickHeight=t.tickHeight):f=this.scaleEl[this.scaleIndex].minorIntervalValue,t.tickPosition=="Far"&&(r=this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].scaleBorderWidth/2+t.distanceFromScale),t.tickPosition=="Center"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-t.tickHeight/2-this.scaleEl[this.scaleIndex].scaleBorderWidth/2-t.distanceFromScale),t.tickPosition=="Near"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.scaleEl[this.scaleIndex].scaleBorderWidth/2-t.distanceFromScale),s=t.tickPosition=="Near"?-t.tickHeight:t.tickHeight,u=this.scaleEl[this.scaleIndex].maximum;u>=this.scaleEl[this.scaleIndex].minimum;u-=f)(f==this.scaleEl[this.scaleIndex].minorIntervalValue&&u%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||f==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(u==this.scaleEl[this.scaleIndex].minimum&&(h=!0),i=this._getAngle(u),i=i>360?i-360:i,e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,i),this.location={startX:e,startY:o},this.style={angle:t.angle+i,isStroke:!0,isFill:!1,lineHeight:s,lineWidth:t.tickWidth,strokeStyle:t.tickColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.tickColor)},this.model.drawTicks&&this._onDrawTicks(i,u),this._drawTickMark(this.location,this.style));h||(i=this._getAngle(this.scaleEl[this.scaleIndex].minimum),i=i>360?i-360:i,e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,i),this.location={startX:e,startY:o},this.style={angle:t.angle+i,isStroke:!0,isFill:!1,lineHeight:s,lineWidth:t.tickWidth,strokeStyle:t.tickColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.tickColor)}),this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setLabelCoridnates:function(n,t){var o,f,e,s,h,u,r,i;for(u=t.labelStyle=="Major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,h=t.labelStyle=="Major"?this.majorIntervalAngle=this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/u):this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/u),t.labelPosition=="Far"&&(r=this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.majorTickHeight+t.distanceFromScale),t.labelPosition=="Center"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-10-t.distanceFromScale),t.labelPosition=="Near"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-10-this.majorTickHeight-t.distanceFromScale),i=this.scaleEl[this.scaleIndex].maximum;i>=this.scaleEl[this.scaleIndex].minimum;i=this._subtractDecimal(i,u))if(i==this.scaleEl[this.scaleIndex].minimum&&(o=!0),u==this.scaleEl[this.scaleIndex].minorIntervalValue&&i%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||u==this.scaleEl[this.scaleIndex].majorIntervalValue){if(i==this.scaleEl[this.scaleIndex].minimum&&!t.includeFirstValue)continue;angle=this._getAngle(i),angle=angle>360?angle-360:angle,f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,angle),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,angle),this.location={startX:f,startY:e},this.style={angle:this.scaleEl[this.scaleIndex].labelAutoAngle?angle+t.angle:t.angle,isStroke:!1,isFill:!0,textValue:i,opacity:t.opacity?t.opacity:1,font:this._getFontString(t,t.font),fillStyle:t.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.labelColor)},this.model.drawLabels&&this._onDrawLabels(this.scaleEl[this.scaleIndex].labelAutoAngle?angle+t.angle:t.angle,i),this._drawLabel(this.location,this.style)}o||(angle=this._getAngle(this.scaleEl[this.scaleIndex].minimum),angle=angle>360?angle-360:angle,f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,angle),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,angle),this.location={startX:f,startY:e},this.style={angle:this.scaleEl[this.scaleIndex].labelAutoAngle?angle+t.angle:t.angle,isStroke:!1,isFill:!0,textValue:this.scaleEl[this.scaleIndex].minimum,opacity:t.opacity?t.opacity:1,font:this._getFontString(t,t.font),lineHeight:s,lineWidth:t.tickWidth,fillStyle:t.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.labelColor)},this.model.drawLabels&&this._onDrawLabels(angle,i),this._drawLabel(this.location,this.style),angle=this._getAngle(i),angle=angle>360?angle-360:angle),this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setRangeCordinates:function(n,i){if(i.startValue>=this.scaleEl[this.scaleIndex].minimum&&i.endValue<=this.scaleEl[this.scaleIndex].maximum){var o,s,h,c,r,u,f,l,a,e,v;v=this._getAngle((i.startValue+i.endValue)/2),r=this._getAngle(i.startValue),f=this._getAngle(i.endValue),u=this.scaleEl[this.scaleIndex].scaleRadius-i.distanceFromScale-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.size-this.majorTickHeight,l=this.scaleEl[this.scaleIndex].scaleRadius-i.distanceFromScale-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.majorTickHeight,a=this.scaleEl[this.scaleIndex].scaleRadius-i.distanceFromScale-i.size-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.majorTickHeight,o=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,r),s=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,r),h=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,f),c=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,f),r=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:o,y:s})/Math.PI,f=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:h,y:c})/Math.PI,t.isNullOrUndefined(i.rangeGradient)?e=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.backgroundColor):(e=this.contextEl.createRadialGradient(this.centerX,this.centerY,a,this.centerX,this.centerY,l),this._setGradientColor(this,e,i.rangeGradient.colorInfo)),this.location={startX:o,startY:s,endX:h,endY:c,startAngle:r,endAngle:f},this.style={startWidth:i.startWidth,isFill:!0,fillStyle:e,strokeStyle:i.borderColor=="transparent"?"rgba(0,0,0,0)":i.borderColor,opacity:isNaN(i.opacity)?1:i.opacity,counterClockwise:this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?!1:!0,startRadius:l,endRadius:a,endWidth:i.endWidth,lineWidth:i.borderWidth,isStroke:!0},this.model.drawRange&&this._onDrawRange(this.location,this.style),this._drawRange(this.location,this.style)}this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setSubGuage:function(t,i){var r=n("div[id="+i.controlID+"]"),u;r.length>0&&r.find("canvas").length&&(u=r.find("canvas")[0].getContext("2d"),this.contextEl.drawImage(u.canvas,i.location.x,i.location.y,i.subGaugeWidth,i.subGaugeHeight),r.css("display","none"),this.contextEl.getImageData&&(this.subGaugeImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height)))},_setCustomLabelCordinates:function(n,t){this.location={startX:t.location.x,startY:t.location.y},this.style={angle:t.textAngle,textValue:t.labelValue,fillStyle:t.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.labelColor),font:this._getFontString(t,t.font)},this.model.drawCustomLabel&&this._onDrawCustomLabel(this.location,this.style),this._drawLabel(this.location,this.style),this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawIndicator:function(t,i){var r=this,u=!1;this.location={centerX:i.indicatorlocation.x-i.indicatorWidth/2,textLocation:i.indicatorsLocation,centerY:i.indicatorlocation.y-i.indicatorHeight/2,startAngle:0,endAngle:2*Math.PI},this.style={radius:(i.indicatorHeight+i.indicatorWidth)/2,strokeStyle:"#2BA104",cornerRadius:i.indicatorStyle=="RoundedRectangle"?2:0,height:i.indicatorHeight,width:i.indicatorWidth,lineWidth:i.indicatorBorderWidth,fillStyle:"#2BA104",isStroke:!0,isFill:!0,indicatorText:i.indicatorText,textColor:null,font:null,counterClockwise:!1},this.model.drawIndicators&&this._onDrawIndicators(this.style,this.location),i.stateRanges!=null&&n.each(i.stateRanges,function(n,t){r.pointerEl[r.pointerIndex].value>=t.startValue&&r.pointerEl[r.pointerIndex].value<=t.endValue&&(u=!0,t.text.length>0&&(r.style.indicatorText=t.text,r.style.textColor=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor,r.style.font=i.font),r.style.strokeStyle=t.borderColor=="transparent"?"rgba(0,0,0,0)":t.borderColor,r.style.fillStyle=t.backgroundColor=="transparent"?"rgba(0,0,0,0)":t.backgroundColor,i.indicatorStyle=="RoundedRectangle"?r._drawRectangleFrame(r.location,r.style):r["_draw"+i.indicatorStyle+"Frame"](r.location,r.style))}),u||(i.indicatorStyle=="RoundedRectangle"?r._drawRectangleFrame(r.location,r.style):r["_draw"+i.indicatorStyle+"Frame"](r.location,r.style)),this.contextEl.getImageData&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawScaleBar:function(n,t){this.contextEl.shadowColor=t.strokeStyle=="transparent"?"rgba(0,0,0,0)":t.strokeStyle,t.shadowOffset&&(this.contextEl.shadowBlur=t.shadowOffset),this._contextOpenPath(t,this),n.endAngle-n.startAngle==0?this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*0,!1):(n.endAngle-n.startAngle)%360==0?(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*2,!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*2,Math.PI*0,!0)):(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!0)),this._contextClosePath(t,this)},_drawTickMark:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.startX,n.startY),this.contextEl.moveTo(0,0),this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.lineTo(t.lineHeight,0),this._contextClosePath(t,this)},_drawLabel:function(n,t){this._contextOpenPath(t,this),this.contextEl.textAlign="center",this.contextEl.textBaseline="middle",this.contextEl.font=t.font,this.contextEl.translate(n.startX,n.startY),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].labelAutoAngle?this.contextEl.rotate(Math.PI*((t.angle-270)/180)):this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.fillText(t.textValue,0,0),this._contextClosePath(t,this)},_drawCircleFrame:function(n,t){this._contextOpenPath(t,this),this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,t.counterClockwise),this._contextClosePath(t,this),t.indicatorText&&this._drawText(n,t)},_drawHalfCircle:function(n,t){this._contextOpenPath(t,this),this.contextEl.lineJoin="round",this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,!1),this.contextEl.lineTo(n.hcCenterX,n.hcCenterY),this._contextClosePath(t,this)},_drawRectangleFrame:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.centerX,n.centerY-t.height/2),this.contextEl.moveTo(t.cornerRadius,0),this.contextEl.lineTo(t.width-t.cornerRadius,0),this.contextEl.quadraticCurveTo(t.width,0,t.width,t.cornerRadius),this.contextEl.lineTo(t.width,t.height-t.cornerRadius),this.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.cornerRadius,t.height),this.contextEl.lineTo(t.cornerRadius,t.height),this.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.cornerRadius),this.contextEl.lineTo(0,t.cornerRadius),this.contextEl.quadraticCurveTo(0,0,t.cornerRadius,0),this._contextClosePath(t,this),t.indicatorText&&this._drawText(n,t)},_drawText:function(n,t){this.contextEl.beginPath(),this.contextEl.textAlign="center",this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor,this.contextEl.font=t.font,this.contextEl.fillText(t.indicatorText,n.textlocation.x,n.textlocation.y),this.contextEl.closePath()},_drawRange:function(n,t){this._contextOpenPath(t,this),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),t.counterClockwise),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!t.counterClockwise),this._contextClosePath(t,this)},_drawPointers:function(n,i){var f,e,r,u,o;r=this._getAngle(i.value),r=r>360?r-360:r,i.pointerType=="Needle"?(i.pointerPosition=="Far"&&(u=i.pointerLength+this.scaleEl[this.scaleIndex].scaleBarSize/2),i.pointerPosition=="Center"&&(u=i.pointerLength),i.pointerPosition=="Near"&&(u=i.pointerLength-this.scaleEl[this.scaleIndex].scaleBarSize/2)):(u=i.pointerLength,i.pointerPosition=="Far"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+i.distanceFromScale,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+i.distanceFromScale,r)),i.pointerPosition=="Center"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale,r)),i.pointerPosition=="Near"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale-this.majorTickHeight-15,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale-this.majorTickHeight-15,r))),u>this.model.radius&&(u=this.model.radius),this.location={startX:i.pointerType=="Needle"?this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX:f,startY:i.pointerType=="Needle"?this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY:e},t.isNullOrUndefined(i.pointerGradient)?o=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.backgroundColor):(o=this.contextEl.createLinearGradient(0,0,0,i.pointerWidth),this._setGradientColor(this,o,i.pointerGradient.colorInfo)),this.style={width:i.pointerWidth,isFill:!0,isStroke:!0,radius:0,showBackNeedle:i.showBackNeedle,backNeedleLength:i.backNeedleLength,angle:i.pointerType=="Needle"?r:i.pointerPosition=="Far"?r:r+180,height:u,lineWidth:i.borderWidth,opacity:isNaN(i.opacity)?1:i.opacity,strokeStyle:i.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.borderColor),fillStyle:o},this.model.drawPointers&&this._onDrawPointers(r,i.value),i.pointerType=="Needle"?(this._drawNeedlePointer(this.location,this.style,i),this._setPointerCap(i)):(i.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+i.markerStyle](this.location,this.style,this)),this.contextEl.getImageData&&(this.pointerImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawNeedlePointer:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.startX,n.startY),this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.moveTo(0,-t.width/2),this.pointerEl[this.pointerIndex].needleStyle=="Triangle"?this.contextEl.lineTo(t.height,0):this.pointerEl[this.pointerIndex].needleStyle=="Rectangle"?(this.contextEl.lineTo(t.height,-t.width/2),this.contextEl.lineTo(t.height,t.width/2)):this.pointerEl[this.pointerIndex].needleStyle=="Trapezoid"?(this.contextEl.lineTo(t.height,-t.width/4),this.contextEl.lineTo(t.height,t.width/4)):this.pointerEl[this.pointerIndex].needleStyle=="Arrow"&&(this.contextEl.lineTo(t.height-t.height/4,-t.width/6),this.contextEl.lineTo(t.height-t.height/4,-t.width/2),this.contextEl.lineTo(t.height,0),this.contextEl.lineTo(t.height-t.height/4,t.width/2),this.contextEl.lineTo(t.height-t.height/4,t.width/6)),this.contextEl.lineTo(0,t.width/2),t.showBackNeedle&&(this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCapRadius/2),t.width/2),this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCapRadius/2),-t.width/2)),this._contextClosePath(t,this)},_setPointerCap:function(n){var i;i=this.contextEl.createRadialGradient(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,0,this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,this.scaleEl[this.scaleIndex].pointerCapRadius),t.isNullOrUndefined(this.scaleEl[this.scaleIndex].capInteriorGradient)?i=this.scaleEl[this.scaleIndex].capBackgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,this._getColor(n,this.scaleEl[this.scaleIndex].capBackgroundColor)):this._setGradientColor(this,i,this.scaleEl[this.scaleIndex].capInteriorGradient.colorInfo),this.location={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:0,endAngle:2*Math.PI},this.style={isStroke:!0,isFill:!0,strokeStyle:this.scaleEl[this.scaleIndex].capBorderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,this._getColor(n,this.scaleEl[this.scaleIndex].capBorderColor)),radius:this.scaleEl[this.scaleIndex].pointerCapRadius,lineWidth:this.scaleEl[this.scaleIndex].pointerCapBorderWidth,fillStyle:i},this.model.drawPointerCap&&this._onDrawPointerCap(),this._drawCircleFrame(this.location,this.style)},_reDrawScale:function(){this.contextEl.putImageData(this.outerImage,0,0),this._drawScales()},_reDrawPointer:function(){this.contextEl.putImageData(this._getPointerImage(),0,0),this._setPointers(),this._setIndicators()},_reDrawCustomLabel:function(){this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawRange:function(){this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawLabel:function(){this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawTickMark:function(){this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawSubGauge:function(){this.contextEl.putImageData(this._getSubGaugeImage(),0,0),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},isAndroid:function(){return/android/i.test(navigator.userAgent.toLowerCase())},reDraw:function(n){switch(n){case"scale":this._reDrawScale();break;case"pointer":this._reDrawPointer();break;case"range":this._reDrawRange();break;case"label":this._reDrawLabel();break;case"tickMark":this._reDrawTickMark();break;case"subGauge":this._reDrawSubGauge();break;case"CustomLabel":this._reDrawCustomLabel()}},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getPointerImage()},_getPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getSubGaugeImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getCustomLabelImage:function(){return this.subGaugeImage?this.subGaugeImage:this._getSubGaugeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},getIndicatorValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].indicators.length)return this.scaleEl[n].indicators[t].value},setIndicatorValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].indicators.length&&i!=null&&(this.scaleEl[n].indicators[t].value=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].value},setMarkerDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getMarkerDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].distanceFromScale},setPointerLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].pointerLength=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerLength:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].pointerLength},setPointerWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].pointerWidth=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].pointerWidth},setBackNeedleLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].backNeedleLength=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getBackNeedleLength:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].backNeedleLength},setNeedleStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].needleStyle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getNeedleStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.needleStyle[this.scaleEl[n].pointers[t].needleStyle]},setPointerPlacement:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].pointers.length&&r!=null&&(this.scaleEl[t].pointers[i].pointerPlacement=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerPlacement:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.scalePlacement[this.scaleEl[n].pointers[t].pointerPlacement]},setPointerNeedleType:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].pointers.length&&r!=null&&(this.scaleEl[t].pointers[i].pointerNeedleType=n.inArray(r,this.model.pointerNeedleType),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getPointerNeedleType:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.pointerNeedleType[this.scaleEl[n].pointers[t].pointerNeedleType]},setMarkerStyle:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].pointers.length&&r!=null&&(this.scaleEl[t].pointers[i].markerStyle=n.inArray(r,this.model.markerStyle),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getMarkerStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.markerStyle[this.scaleEl[n].pointers[t].markerStyle]},setCustomLabelValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].labelValue=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getCustomLabelValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].labelValue},setSubGaugeLocation:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].subGauge.length&&i!=null&&(this.scaleEl[n].subGauge[t].location.x=i.X,this.scaleEl[n].subGauge[t].location.y=i.Y,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawSubGauge():this._initialize())},getSubGaugeLocation:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].subGauge.length)return this.scaleEl[n].subGauge[t].Location},setCustomLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].textAngle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getCustomLabelAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].textAngle},setRangeStartValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeStartValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startValue},setRangeEndValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeEndValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endValue},setRangeSize:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].size=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeSize:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].size},setRangeDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeRangeDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].distanceFromScale},setRangePosition:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].ranges.length&&r!=null&&(this.scaleEl[t].ranges[i].RangePosition=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangePosition:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.model.scalePlacement[this.scaleEl[n].ranges[t].RangePosition]},setRangeBorderWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].borderWidth=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},setRangeBorderWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].borderWidth},setPointerValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].value=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},setLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].angle},setLabelDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].distanceFromScale},setLabelStyle:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].labelStyle=n.inArray(r,this.model.interval),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.model.interval[this.scaleEl[n].labels[t].labelStyle]},setLabelPlacement:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].LabelPlacement=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelPlacement:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.model.scalePlacement[this.scaleEl[n].labels[t].LabelPlacement]},setTickAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].angle},setTickStyle:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickStyle=n.inArray(r,this.model.interval),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.model.interval[this.scaleEl[n].ticks[t].tickStyle]},setTickPlacement:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickPlacement=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.model.scalePlacement[this.scaleEl[n].ticks[t].tickPlacement]},setTickWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickWidth=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].tickWidth},setTickHeight:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickHeight=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickHeight:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].tickHeight},setTickDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].distanceFromScale},setStartAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].startAngle=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getStartAngle:function(n){if(n<this.model.scales.length)return this.scaleEl[n].startAngle},setSweepAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].sweepAngle=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getSweepAngle:function(n){if(n<this.model.scales.length)return this.scaleEl[n].sweepAngle},setMinimumValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].minimum=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMinimumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].minimum},setMaximumValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].maximum=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMaximumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].maximum},setScaleBarSize:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarSize=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMaximumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].scaleBarSize},setScaleRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleRadius=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleRadius:function(n){if(n<this.model.scales.length)return this.scaleEl[n].scaleRadius},setMajorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMajorIntervalValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].majorIntervalValue},setMinorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMinorIntervalValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].minorIntervalValue},setPointerCapRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].pointerCapRadius=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getPointerCapRadius:function(n){if(n<this.model.scales.length)return this.scaleEl[n].pointerCapRadius},setScaleBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleBorderWidth=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleBorderWidth:function(n){if(n<this.model.scales.length)return this.scaleEl[n].scaleBorderWidth},setPointerCapBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].capBorderWidth=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getPointerCapBorderWidth:function(n){if(n<this.model.scales.length)return this.scaleEl[n].capBorderWidth},setScaleDirection:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleDirection=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleDirection:function(n){if(n<this.model.scales.length)return this.model.scaleDirection[this.scaleEl[n].scaleDirection]},includeFirstValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].includeFirstValue=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},_reDrawScale:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this.outerImage,0,0),this._drawScales())},_reDrawPointer:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getPointerImage(),0,0),this._setPointers(),this._setIndicators())},_reDrawCustomLabel:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawRange:function(){this.model.frameBackgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawLabel:function(){this.model.frameBackgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawTickMark:function(){this.model.frameBackgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawSubGauge:function(){this.model.frameBackgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getSubGaugeImage(),0,0),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},refreshSubGauge:function(){this.contextEl.putImageData?this._reDrawSubGauge():this._initialize()},refresh:function(){this._initialize()},_onDrawTicks:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,tickIndex:this.tickIndex,tickElement:this.tickEl[this.tickIndex],context:this.contextEl,tickValue:t,tickAngle:parseInt(n),style:this.style,location:this.location};this._trigger("drawTicks",i)},_onDrawLabels:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,labelIndex:this.labelIndex,labelElement:this.labelEl[this.labelIndex],context:this.contextEl,labelValue:t,labelAngle:parseInt(n),style:this.style,location:this.location};this._trigger("drawLabels",i)},_onDrawPointers:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("drawPointers",i)},_onDrawRange:function(){var n={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeEl],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawIndicators",n)},_onDrawPointerCap:function(){var n={Object:this,scaleElement:this.model.scales,location:this.location,style:this.style,context:this.contextEl};this._trigger("drawPointerCap",n)},_onRenderComplete:function(){var n={Object:this,scaleElement:this.model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_onMouseClick:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("mouseClick",i)},_onMouseClickMove:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("mouseClickMove",i)},_onMouseClickUp:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("mouseClickUp",i)},_setTheme:function(){selectedTheme=t.CircularGauge.themes[this.model.theme],this._setThemeColors(selectedTheme)},_setThemeColors:function(n){var u=[],e=t.CircularGauge.themes,h,r,i,f,o,s;for(h in e)u.push(h);for(r=0;r<u.length;r++)for(this.model.backgroundColor=!this.model.backgroundColor||this.model.backgroundColor==e[u[r]].backgroundColor?n.backgroundColor:this.model.backgroundColor,i=0;i<this.model.scales.length;i++){for(this.model.scales[i].backgroundColor=!this.model.scales[i].backgroundColor||this.model.scales[i].backgroundColor==e[u[r]].scales.backgroundColor?n.scales.backgroundColor:this.model.scales[i].backgroundColor,this.model.scales[i].borderColor=!this.model.scales[i].borderColor||this.model.scales[i].borderColor==e[u[r]].scales.borderColor?n.scales.borderColor:this.model.scales[i].borderColor,f=0;f<this.model.scales[i].pointers.length;f++)this.model.scales[i].pointers[f].backgroundColor=!this.model.scales[i].pointers[f].backgroundColor||this.model.scales[i].pointers[f].backgroundColor==e[u[r]].scales.pointers.backgroundColor?n.scales.pointers.backgroundColor:this.model.scales[i].pointers[f].backgroundColor,this.model.scales[i].pointers[f].borderColor=!this.model.scales[i].pointers[f].borderColor||this.model.scales[i].pointers[f].borderColor==e[u[r]].scales.pointers.borderColor?n.scales.pointers.borderColor:this.model.scales[i].pointers[f].borderColor,this.model.scales[i].capBackgroundColor=!this.model.scales[i].capBackgroundColor||this.model.scales[i].capBackgroundColor==e[u[r]].scales.capBackgroundColor?n.scales.capBackgroundColor:this.model.scales[i].capBackgroundColor,this.model.scales[i].capBorderColor=!this.model.scales[i].capBorderColor||this.model.scales[i].capBorderColor==e[u[r]].scales.capBorderColor?n.scales.capBorderColor:this.model.scales[i].capBorderColor;for(o=0;o<this.model.scales[i].ticks.length;o++)this.model.scales[i].ticks[o].tickColor=!this.model.scales[i].ticks[o].tickColor||this.model.scales[i].ticks[o].tickColor==e[u[r]].scales.ticks.tickColor?n.scales.ticks.tickColor:this.model.scales[i].ticks[o].tickColor;for(s=0;s<this.model.scales[i].labels.length;s++)this.model.scales[i].labels[s].labelColor=!this.model.scales[i].labels[s].labelColor||this.model.scales[i].labels[s].labelColor==e[u[r]].scales.labels.labelColor?n.scales.labels.labelColor:this.model.scales[i].labels[s].labelColor}},_getFontString:function(n,t){return t?(t.fontStyle?t.fontStyle:"")+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily:""},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(t.width,t.height/4),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(0,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(t.width/2,t.height/4),this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(3*t.width/4,0),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/4,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(t.width/4,t.height/2),this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i),i.model.Orientation=="Horizontal"&&i.markerPlacement=="Near"?(i.contextEl.moveTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.moveTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY)),this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/3,-t.height/2),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width,t.height/4),i.contextEl.lineTo(t.width/3,t.height/2),this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(t.width,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(0,0),this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/4),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/4),this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/2),this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY-t.height/2),this._setContextRotation(t,i),i.contextEl.moveTo(t.radius,0),i.contextEl.lineTo(t.width-t.radius,0),i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius),i.contextEl.lineTo(t.width,t.height-t.radius),i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height),i.contextEl.lineTo(t.radius,t.height),i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius),i.contextEl.lineTo(0,t.radius),i.contextEl.quadraticCurveTo(0,0,t.radius,0),this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.model.Width,t.model.Height),t.model.scales!=null&&t._drawScales(),t.model.items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.scale(2,1),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_setPointerDimension:function(n,i){if(!t.isNullOrUndefined(i.model.Orientation)&&i.model.Orientation=="Horizontal"){var r=n.width,u=n.height;n.height=r,n.width=u}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},_contextOpenPath:function(n,t){t.contextEl.save(),t.contextEl.beginPath(),n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle),n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity),n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth),n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath(),n.isFill&&t.contextEl.fill(),n.isStroke&&t.contextEl.stroke(),t.contextEl.restore()},_blockDefaultActions:function(n){n.cancelBubble=!0,n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()},_isBetween:function(n,t,i){return n<t?i>=n&&i<=t:i>=t&&i<=n},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.colorStop!=NaN?r.colorStop:0,typeof r.color=="string"?r.color:u._getColor(t,r.color))})}}),t.CircularGauge.themes={flatlight:{backgroundColor:"#FFFFFF",scales:{backgroundColor:"#777777",borderColor:"#777777",capBackgroundColor:"#424242",capBorderColor:"#424242",pointers:{backgroundColor:"#424242",borderColor:"#424242"},ticks:{tickColor:"#777777"},labels:{labelColor:"#282828"}}},flatdark:{backgroundColor:"#1F1F1F",scales:{backgroundColor:"#7a7a7a",borderColor:"#7a7a7a",capBackgroundColor:"#686868",capBorderColor:"#686868",pointers:{backgroundColor:"#686868",borderColor:"#686868"},ticks:{tickColor:"#7a7a7a"},labels:{labelColor:"#d3d3d3"}}}}}(jQuery,Syncfusion),function(n,t,i){t.widget({mLinearGauge:"m.LinearGauge",ejLinearGauge:"ej.LinearGauge"},{element:null,model:null,validTags:["div","span"],defaults:{width:150,height:400,theme:"flatlight",orientation:"Vertical",pointerGradient1:null,pointerGradient2:null,backgroundColor:null,borderColor:null,labelColor:null,tickColor:null,readOnly:!0,frameBackgroundImageUrl:null,frameOuterWidth:12,frameInnerWidth:8,scales:null,animate:!0,animationSpeed:500,drawTicks:null,drawLabels:null,drawBarPointers:null,drawMarkerPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,load:null,init:null,renderComplete:null},_defaultScaleValues:function(){return{minimum:0,maximum:100,majorIntervalValue:10,minorIntervalValue:2,scaleDirection:"CounterClockwise",backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:NaN,scaleBarSize:30,shadowOffset:0,scaleBarLength:290,scaleStyle:"Rectangle",location:{x:50,y:50},showRanges:!1,showIndicators:!1,showCustomLabel:!1,showLabels:!0,showTicks:!0,showBarPointers:!0,showMarkerPointers:!0,ticks:[{xDistanceFromScale:0,yDistanceFromScale:0,angle:0,tickColor:null,tickStyle:"MajorInterval",tickPlacement:"Near",opacity:0,tickHeight:10,tickWidth:3},{xDistanceFromScale:0,yDistanceFromScale:0,angle:0,tickColor:null,tickStyle:"MinorInterval",tickPlacement:"Near",opacity:0,tickHeight:5,tickWidth:2}],ranges:[{endWidth:10,rangePosition:"Center",startWidth:10,distanceFromScale:0,endValue:60,startValue:20,rangeGradient:null,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:null}],labels:[{yDistanceFromScale:0,xDistanceFromScale:-10,angle:0,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},textColor:null,opacity:0,labelStyle:"Major",labelPlacement:"Near",includeFirstValue:!0}],markerPointers:[{markerStyle:"Triangle",pointerLength:30,pointerPlacement:"Far",pointerGradient:null,distanceFromScale:0,pointerWidth:30,value:50,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:1}],barPointers:[{scaleBarGradient:null,distanceFromScale:0,pointerWidth:30,value:50,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:1}],indicators:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},indicatorHeight:30,indicatorStyle:"Rectangle",indicatorWidth:30,location:{x:0,y:0},textLocation:{x:0,y:0},stateRanges:[{endValue:60,startValue:50,backgroundColor:null,borderColor:null,text:"",textColor:null}],value:0,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:NaN}],customLabel:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},labelColor:null,opacity:0,labelValue:"",textAngle:0,location:{x:0,y:0}}]}},dataTypes:{scales:"data"},_init:function(){this._initialize(),this._trigger("load"),this._setTheme(),this._render(),this.model.readOnly||this.wireEvents()},_setModel:function(n){var t;for(t in n)switch(t){case"theme":this.model.theme=n[t],this._init();break;case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"orientation":this.model.orientation=n[t];break;case"pointerGradient1":this.model.pointerGradient1=n[t];break;case"pointerGradient2":this.model.pointerGradient2=n[t];break;case"labelColor":this.model.labelColor=n[t];break;case"tickColor":this.model.tickColor=n[t];break;case"backgroundColor":this.model.backgroundColor=n[t];break;case"borderColor":this.model.borderColor=n[t];break;case"frameBackgroundImageUrl":this.model.frameBackgroundImageUrl=n[t];break;case"frameOuterWidth":this.model.frameOuterWidth=n[t];break;case"frameInnerWidth":this.model.frameInnerWidth=n[t];break;case"readOnly":this.model.readOnly=n[t];break;case"scales":this.model.scales=n[t],this._itemInitialize()}this._render()},_destroy:function(){this.activeElement=null,this.canvasEl=null,this.contextEl=null,this.unWireEvents(),this.element.remove()},_initialize:function(){this.GaugeEl=this.element,this.scaleStartX=[],this.scaleStartY=[],this.isScaleModified=!1,this.target=this.element[0],this._itemInitialize(),this.Model=this.model},_render:function(){this.initialize()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r),n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)t=r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();t=r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?t=f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(t=f._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n))}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this._initObject(this),this.Model.frameBackgroundImageUrl?this._drawCustomImage(this,this.Model.frameBackgroundImageUrl):this.Model.scales!=null&&this._drawScales()},_initObject:function(t){this.element.addClass("e-widget"),t.GaugeEl=t.element,t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.GaugeEl.append(t.canvasEl),t.GaugeEl.css("width",t.model.width),t.GaugeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.GaugeEl.width()),t.canvasEl[0].setAttribute("height",t.GaugeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,t.Model.width=t.GaugeEl.width(),t.Model.height=t.GaugeEl.height();var i=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(i=window.G_vmlCanvasManager.initElement(i)),i&&i.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawFrameCircle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.arc(n.startX,n.startY,t.circleRadius,0,2*Math.PI,!0),this._contextClosePath(t,i),t.indicatorText&&i._drawText(n,t)},_drawFrameRectangle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.moveTo(n.startX+t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius),i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height),this._contextClosePath(t,i),t.indicatorText&&i._drawText(n,t)},_drawFrameThermometer:function(n,t,i){var r=i.Model.orientation=="Vertical"?Math.sqrt(t.width*t.width+t.width*t.width)/2:Math.sqrt(t.height*t.height+t.height*t.height)/2;this._contextOpenPath(t,i),i.Model.orientation=="Vertical"?i.scaleEl[i.scaleIndex].scaleDirection=="CounterClockwise"?(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+t.height-Math.sin(Math.PI*(45/180))*r,r,Math.PI*(-45/180),Math.PI*(225/180),!1),i.contextEl.lineTo(n.startX,n.startY+t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.width/2,t.width/2,-Math.PI,0,!1):i.contextEl.lineTo(n.startX+t.width,n.startY+t.width/2)):(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(-225/180),!0),i.contextEl.lineTo(n.startX,n.startY+t.height-t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.height-t.width/2,t.width/2,-Math.PI,0,!0):i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.width/2)):i.scaleEl[i.scaleIndex].scaleDirection=="CounterClockwise"?(i.contextEl.arc(n.startX+t.width-r/4-Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(135/180),Math.PI*(225/180),!0),i.contextEl.lineTo(n.startX+t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!0):i.contextEl.lineTo(n.startX+t.height/2,n.startY+t.height)):(i.contextEl.arc(n.startX+r/4+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(315/180),!1),i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.width-t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!1):i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY+t.height)),this._contextClosePath(t,i)},_drawFrameRoundedRectangle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.moveTo(n.startX+t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY),i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY,n.startX+t.width,n.startY+t.radius),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius),i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY+t.height,n.startX+t.width-t.radius,n.startY+t.height),i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height),i.contextEl.quadraticCurveTo(n.startX,n.startY+t.height,n.startX,n.startY+t.height-t.radius),i.contextEl.lineTo(n.startX,n.startY+t.radius),i.contextEl.quadraticCurveTo(n.startX,n.startY,n.startX+t.radius,n.startY),this._contextClosePath(t,i),t.indicatorText&&this._drawText(n,t)},_contextOpenPath:function(n,t){t.contextEl.save(),t.contextEl.beginPath(),n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle),n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity),n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth),n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath(),n.isFill&&t.contextEl.fill(),n.isStroke&&t.contextEl.stroke(),t.contextEl.restore()},_drawScales:function(){var t=this,i;this.scaleEl=this.Model.scales,this.contextEl.save(),this.contextEl.translate(this.Model.frameOuterWidth+this.Model.frameInnerWidth,this.Model.frameOuterWidth+this.Model.frameInnerWidth),n.each(this.Model.scales,function(n,i){t.scaleIndex=n,t._setScaleCordinates(i,i.scaleStyle)}),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers(),n.each(this.Model.scales,function(n,i){i.showBarPointers&&i.barPointers.length>1&&(t.model.animate=!1),i.showMarkerPointers&&i.markerPointers.length>1&&(t.model.animate=!1)}),this.contextEl.putImageData||(this.model.animate=!1),this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.animate&&this._onAnimate(i))},_setTicks:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n,t._setTicksCordinates(i,n)})))})},_setLabels:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n,t._setLabelCordinates(i,n)})))})},_setIndicators:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.indicators!=null&&r.showIndicators&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n,t._drawIndicator(n,i)}))})},_setBarPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showBarPointers&&(t.scaleIndex=i,r.barPointers!=null&&(t.barPointerEl=r.barPointers,n.each(r.barPointers,function(n,i){t.barPointerIndex=n,t._drawScaleBarPointer(i,n)})))})},_setMarkerPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showMarkerPointers&&(t.scaleIndex=i,r.markerPointers!=null&&(t.markerPointerEl=r.markerPointers,n.each(r.markerPointers,function(n,i){t.markerPointerIndex=n,t._drawMarkerPointer(i,n)})))})},_onAnimate:function(n){var i=this,r,u,t=i.model.scales[0].minimum,f=i.model.scales[0].barPointers[0].value,e=i.model.scales[0].markerPointers[0].value;r=setInterval(function(){f>t?(t=t+1,i.setBarPointerValue(0,0,t)):t==f&&window.clearInterval(r)},n),u=setInterval(function(){e>t?(t=t+1,i.setPointerValue(0,0,t)):t==e&&window.clearInterval(u)},n)},_setRange:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.ranges!=null&&r.showRanges&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n,t._drawRange(i)}))})},_setCustomLabel:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.customLabel!=null&&r.showCustomLabel&&(t.customLabelEl=r.customLabel,n.each(r.customLabel,function(n,i){t.customLabelIndex=n,t._setCustomLabelCordinates(n,i)}))})},_setScaleCordinates:function(n,t){var r,i,u;this.opacity=1,this.bottomRadius=Math.sqrt(n.scaleBarSize*n.scaleBarSize+n.scaleBarSize*n.scaleBarSize)/2,this.bounds={height:this.canvasEl[0].height-2*(this.Model.frameOuterWidth+this.Model.frameInnerWidth),width:this.canvasEl[0].width-2*(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},this.Model.orientation=="Vertical"?(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.scaleBarSize)*(n.location.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.scaleBarLength)*(n.location.y/100)):(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.scaleBarLength)*(n.location.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.scaleBarSize)*(n.location.y/100)),u=t=="RoundedRectangle"?5:0,r={startX:this.scaleStartX[this.scaleIndex],startY:this.scaleStartY[this.scaleIndex]},i={width:this.Model.orientation=="Vertical"?n.scaleBarSize:n.scaleBarLength,isStroke:!0,topRounded:!0,fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):this.Model.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.backgroundColor),lineWidth:n.borderWidth,radius:u,height:this.Model.orientation=="Vertical"?n.scaleBarLength:n.scaleBarSize,isStroke:!0,isFill:!0,strokeStyle:n.borderColor?n.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.borderColor):this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor)},n.shadowOffset&&(this.contextEl.shadowBlur=n.shadowOffset,this.contextEl.shadowColor=i.fillStyle=="transparent"?"rgba(0,0,0,0)":i.fillStyle),this["_drawFrame"+t](r,i,this),this.scaleEl[this.scaleIndex].scaleStyle!="Thermometer"||this.isScaleModified||(this._modifyWidth(),this.isScaleModified=!0),this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_setTicksCordinates:function(n){var i,u,f,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue){for(r=n.tickStyle=="MajorInterval"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.tickPlacement=="Near"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]:this.scaleStartY[this.scaleIndex]:n.tickPlacement=="Far"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize:n.tickPlacement=="Center"&&(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2),u=n.tickPlacement=="Near"?-n.tickHeight:n.tickHeight,t=this.scaleEl[this.scaleIndex].maximum;t>=this.scaleEl[this.scaleIndex].minimum;t-=r)(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(f=this._getClockwiseLinePosition(t),this.location={lineChangePosition:f+(this.Model.orientation=="Horizontal"?n.xDistanceFromScale:n.yDistanceFromScale),lineStaticPosition:i+(this.Model.orientation=="Horizontal"?n.yDistanceFromScale:n.xDistanceFromScale)},this.style={lineHeight:u,angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,tickShape:n.TickShape,strokeStyle:n.tickColor?n.tickColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.tickColor):this.Model.tickColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.tickColor),lineWidth:n.tickWidth},this.Model.drawTicks&&this._onDrawTicks(this.Model.orientation=="Vertical"?n.angle:n.angle+270,t),this._drawTickMark(this.location,this.style));this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}},_drawTickMark:function(n,t){var i=this.Model.orientation=="Vertical"?t.lineHeight-n.lineStaticPosition:n.lineStaticPosition;this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.lineWidth=t.lineWidth,this.contextEl.strokeStyle=t.strokeStyle,this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180))),this.contextEl.lineTo(t.lineHeight,0),this.contextEl.stroke(),this.contextEl.restore(),this.contextEl.closePath()},_addDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)+t*Math.pow(10,i))/Math.pow(10,i),o},_setLabelCordinates:function(n){var u,f,i,e,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue)for(this.Model.orientation=="Vertical"?(u=n.xDistanceFromScale,f=n.yDistanceFromScale):(u=n.yDistanceFromScale,f=n.xDistanceFromScale),r=n.labelStyle=="Major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.labelPlacement=="Near"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth-5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"right":"center"):n.labelPlacement=="Far"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth+5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"left":"center"):(this.contextEl.textAlign="center",i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].borderWidth/2),t=this.scaleEl[this.scaleIndex].minimum;t<=this.scaleEl[this.scaleIndex].maximum;t=this._addDecimal(t,r))(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(e=this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"?this._getCounterClockwiseLinePosition(t):this._getClockwiseLinePosition(t),this.labelValue=t,this.location={lineChangePosition:e+f,lineStaticPosition:i+u},this.style={angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,fillStyle:n.textColor?n.textColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.textColor):this.Model.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.labelColor),opacity:isNaN(n.opacity)?1:n.opacity,font:this._getFontString(this,n.font),textValue:this.labelValue},this.Model.drawLabels&&this._onDrawLabels(this.Model.orientation=="Vertical"?n.angle:n.angle+270),this._drawLabel(this.location,this.style));this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawLabel:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.textBaseline="middle",this.contextEl.fillStyle=t.fillStyle,this.contextEl.font=t.font,t.opacity&&(this.contextEl.globalAlpha=t.opacity),this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180))),this.contextEl.fillText(t.textValue,0,0),this.contextEl.fill(),this.contextEl.restore()},_drawScaleBarPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var i,e,r,u,f,s,t,o;o=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}],e=this.scaleEl[this.scaleIndex].scaleStyle=="RoundedRectangle"?5:0,this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?(lineYPosition=this._getClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex])):(t=this.scaleStartX[this.scaleIndex],i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))):(lineYPosition=this._getCounterClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition,t+n.pointerWidth,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition)):(t=this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?lineYPosition-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))),n.backgroundColor?s=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.scaleBarGradient?this._setGradientColor(this,i,n.scaleBarGradient.ColorInfo):this.Model.ScaleInterior?this._setGradientColor(this,i,this.Model.ScaleInterior.ColorInfo):this._setGradientColor(this,i,o),this.Model.orientation=="Vertical"?(f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&(f=f-this.scaleEl[this.scaleIndex].scaleBarSize/2),r=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartY[this.scaleIndex]:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,u=n.pointerWidth):(f=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,r=n.pointerWidth,u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartX:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition),this.location={startX:t+this.scaleEl[this.scaleIndex].borderWidth/2,startY:f},this.style={width:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Horizontal"?u+r/2-this.scaleEl[this.scaleIndex].borderWidth/2:u,lineWidth:n.borderWidth,radius:e,topRounded:n.value==this.scaleEl[this.scaleIndex].maximum?!0:!1,isStroke:!1,isFill:!0,height:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Vertical"?r+u/2:r,strokeStyle:n.borderColor==null?this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor):n.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.borderColor),fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):i=="transparent"?"rgba(0,0,0,0)":this._getColor(n,i),opacity:isNaN(n.opacity)?.4:n.opacity},this.Model.drawBarPointers&&this._onDrawBarPointers(n.value),this["_drawFrame"+this.scaleEl[this.scaleIndex].scaleStyle](this.location,this.style,this),this.contextEl.getImageData&&(this.barPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawMarkerPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var t,u,e,f,i,r,o,s=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}];this.markerPlacement=n.pointerPlacement,e=Math.sqrt(n.pointerWidth*n.pointerWidth+n.pointerLength*n.pointerLength)/2,this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&this._modifyWidth(),this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=0),this.markerPlacement=="Near"&&(t=n.markerStyle=="Star"?this.scaleStartX[this.scaleIndex]+n.distanceFromScale-n.pointerWidth:this.scaleStartX[this.scaleIndex]+n.distanceFromScale,i=180),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale+n.borderWidth:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=0)):(this.markerPlacement=="Far"&&(t=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=90),this.markerPlacement=="Near"&&(t=n.markerStyle=="Star"?this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale-n.pointerLength:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=270),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale+n.borderWidth:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,i=90)),f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.value):this._getCounterClockwiseLinePosition(n.value),n.markerStyle=="Star"?this.Model.orientation=="Vertical"?(r=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex]),u=f-n.pointerLength/3):(r=this.contextEl.createLinearGradient(f,t,f,t+n.pointerLength),u=f-n.pointerWidth/2):(r=this.contextEl.createLinearGradient(0,0,n.pointerWidth,0),u=f),n.markerStyle=="RoundedRectangle"&&(this.Model.orientation=="Vertical"&&this.markerPlacement=="Near"?u+=n.pointerLength:this.Model.orientation=="Horizontal"&&(this.markerPlacement=="Near"&&(u-=n.pointerWidth),t+=n.pointerWidth/2)),n.backgroundColor?o=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.pointerGradient?this._setGradientColor(this,r,n.pointerGradient.ColorInfo):this.Model.PointerInterior?this._setGradientColor(this,r,this.Model.PointerInterior.ColorInfo):this._setGradientColor(this,r,s),this.location={startX:this.Model.orientation=="Vertical"?t:u,startY:this.Model.orientation=="Vertical"?u:t},this.style={width:n.pointerWidth,radius:n.markerStyle=="Rectangle"?0:e,height:n.pointerLength,lineWidth:n.borderWidth,isFill:!0,isStroke:!0,angle:i,strokeStyle:n.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.borderColor),markerPlacement:this.markerPlacement,opacity:isNaN(n.opacity)?.4:n.opacity,fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):r=="transparent"?"rgba(0,0,0,0)":this._getColor(n,r)},this.Model.drawMarkerPointers&&this._onDrawMarkerPointers(i,n.value),n.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+n.markerStyle](this.location,this.style,this),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&(this._restoreWidth(),this.isScaleModified=!1),this.contextEl.getImageData&&(this.markerPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawRange:function(n){this.rangePosition=n.rangePosition;var u,t,f,r,i,e,o=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}];u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.startValue):this._getCounterClockwiseLinePosition(n.startValue),t=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.endValue):this._getCounterClockwiseLinePosition(n.endValue),this.Model.orientation=="Vertical"?(n.rangePosition=="Far"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth),n.rangePosition=="Near"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale),n.rangePosition=="Center"&&(f=n.startWidth>n.endWidth?this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.startWidth/2:this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.endWidth/2),i=this.contextEl.createLinearGradient(t,t,t,u),this.location={startX:f,startY:u,endY:t}):(n.rangePosition=="Far"&&(r=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+n.distanceFromScale+this.scaleEl[this.scaleIndex].borderWidth),n.rangePosition=="Near"&&(r=this.scaleStartY[this.scaleIndex]+n.distanceFromScale),n.rangePosition=="Center"&&(r=n.startWidth>n.endWidth?this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.startWidth/2:this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.endWidth/2),i=this.contextEl.createLinearGradient(t,r,u,r),this.location={startX:u,startY:r,endX:t}),n.backgroundColor?e=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.rangeGradient?this._setGradientColor(this,i,n.rangeGradient.ColorInfo):this.Model.RangeInterior?this._setGradientColor(this,i,this.Model.RangeInterior.ColorInfo):this._setGradientColor(this,i,o),this.style={startWidth:n.startWidth,lineWidth:n.borderWidth,isStoke:!0,isFill:!0,opacity:isNaN(n.opacity)?.4:n.opacity,endWidth:n.endWidth,fillStyle:n.backgroundColor?e=="transparent"?"rgba(0,0,0,0)":this._getColor(n,e):i=="transparent"?"rgba(0,0,0,0)":this._getColor(n,i),strokeStyle:n.borderColor?n.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.borderColor):this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor)},this.Model.drawRange&&this._onDrawRange(),this._drawRangeBar(this.location,this.style),this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawRangeBar:function(n,t){this._contextOpenPath(t,this),this.Model.orientation=="Vertical"?(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.startX,n.endY),this.rangePosition=="Near"?(this.contextEl.lineTo(n.startX-t.endWidth,n.endY),this.contextEl.lineTo(n.startX-t.startWidth,n.startY)):(this.contextEl.lineTo(n.startX+t.endWidth,n.endY),this.contextEl.lineTo(n.startX+t.startWidth,n.startY))):(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.endX,n.startY),this.rangePosition=="Near"?(this.contextEl.lineTo(n.endX,n.startY-t.endWidth),this.contextEl.lineTo(n.startX,n.startY-t.startWidth)):(this.contextEl.lineTo(n.endX,n.startY+t.endWidth),this.contextEl.lineTo(n.startX,n.startY+t.startWidth))),this._contextClosePath(t,this)},_setCustomLabelCordinates:function(n,t){var i,r;this.contextEl.textAlign="center",this.Model.orientation=="Vertical"?(i=this.bounds.width*(t.location.x/100),r=this.bounds.height*(t.location.y/100)):(i=this.bounds.width*(t.location.x/100),r=this.bounds.height*(t.location.y/100)),this.location={lineStaticPosition:this.Model.orientation=="Vertical"?i:r,lineChangePosition:this.Model.orientation=="Vertical"?r:i},this.style={angle:t.textAngle,textValue:t.labelValue,fillStyle:t.labelColor?t.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.labelColor):this.Model.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,this.Model.labelColor),font:t.font},this.Model.drawCustomLabel&&this._onDrawCustomLabel(),this._drawLabel(this.location,this.style),this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawIndicator:function(t,i){var r=this,u,f,e,o=!1;u=(this.bounds.width-2*i.indicatorWidth)*(i.location.x/100),f=(this.bounds.height-2*i.indicatorHeight)*(i.location.y/100),e={x:this.bounds.width*(i.textLocation.x/100),y:this.bounds.height*(i.textLocation.y/100)},r.location={startX:i.indicatorStyle=="Circle"?u+i.indicatorWidth:u,textLocation:e,startY:i.indicatorStyle=="Circle"?f+i.indicatorHeight:f,startAngle:0,endAngle:2*Math.PI},r.style={radius:i.indicatorStyle=="RoundedRectangle"?2:0,strokeStyle:i.borderColor?i.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.borderColor):this._getColor(i,"#FFFFFF"),angle:0,circleRadius:(i.indicatorHeight+i.indicatorWidth)/2,height:i.indicatorHeight,width:i.indicatorWidth,lineWidth:i.borderWidth,fillStyle:i.backgroundColor?i.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.backgroundColor):this._getColor(i,"#FFFFFF"),isStroke:!0,isFill:!0,indicatorText:null,textColor:null,font:null,counterClockwise:!1},this.Model.drawIndicators&&this._onDrawIndicators(r.style,r.location),i.stateRanges!=null&&n.each(i.stateRanges,function(n,t){i.value>=t.startValue&&i.value<=t.endValue&&(o=!0,t.text.length>0&&(r.style.indicatorText=t.text,r.style.textColor=t.textColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,t.textColor),r.style.font=this._getFontString(r,i.font)),r.style.strokeStyle=t.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,t.borderColor),r.style.fillStyle=t.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,t.backgroundColor),this["_drawFrame"+i.indicatorStyle](r.location,r.style,r))}),o||this["_drawFrame"+i.indicatorStyle](r.location,r.style,r),this.contextEl.getImageData&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawText:function(n,t){this.contextEl.beginPath(),this.contextEl.textAlign="center",this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor,this.contextEl.font=t.font,this.contextEl.fillText(t.indicatorText,n.textLocation.x,n.textLocation.y),this.contextEl.closePath()},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(t.width,t.height/4),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(0,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(t.width/2,t.height/4),this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(3*t.width/4,0),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/4,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(t.width/4,t.height/2),this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i),i.Model.orientation=="Horizontal"&&i.markerPlacement=="Near"?(i.contextEl.moveTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.moveTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY)),this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/3,-t.height/2),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width,t.height/4),i.contextEl.lineTo(t.width/3,t.height/2),this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(t.width,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(0,0),this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/4),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/4),this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/2),this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY-t.height/2),this._setContextRotation(t,i),i.contextEl.moveTo(t.radius,0),i.contextEl.lineTo(t.width-t.radius,0),i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius),i.contextEl.lineTo(t.width,t.height-t.radius),i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height),i.contextEl.lineTo(t.radius,t.height),i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius),i.contextEl.lineTo(0,t.radius),i.contextEl.quadraticCurveTo(0,0,t.radius,0),this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.Model.width,t.Model.height),t.Model.scales!=null&&t._drawScales(),t.Model.Items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.scale(2,1),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getMarkerPointerImage()},_getBarPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getMarkerPointerImage:function(){return this.barPointerImage?this.barPointerImage:this._getCustomLabelImage()},_getCustomLabelImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},getIndicatorValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length)return this.scaleEl[n].indicators[t].value},setIndicatorValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length&&i!=null&&(this.scaleEl[n].indicators[t].value=i,this.initialize())},setPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].value=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].value},setPointerWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerWidth=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].pointerWidth},setPointerHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerLength=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].pointerLength},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},setPointerDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].distanceFromScale},setPointerPlacement:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerPlacement=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].MarkerPointer[t].pointerPlacement},setMarkerStyle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].markerStyle=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getMarkerStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].markerStyle},setBarPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].value=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].barPointers[t].value},setBarWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].pointerWidth=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].pointerWidth},setBarDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].distanceFromScale},setCustomLabelValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].labelValue=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].labelValue},setCustomLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].textAngle=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].textAngle},setRangeStartValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startValue},setRangeEndValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endValue},setRangeStartWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startWidth},setRangeEndWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endWidth},setRangeDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].distanceFromScale},setRangePosition:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].rangePosition=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangePosition:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].rangePosition},setRangeBorderWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].borderWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeBorderWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].borderWidth},setLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].angle},setLabelStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].barPointers.length&&r!=null&&(this.scaleEl[t].labels[i].labelStyle=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelStyle:function(n,t){if(n<this.Model.scales.length&&pointerIndex<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].labelStyle},setLabelPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].labelPlacement=n.inArray(r,this.Model.labelPlacement),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].labelPlacement},setLabelXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].xDistanceFromScale=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].xDistanceFromScale},setLabelYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].yDistanceFromScale=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].yDistanceFromScale},setTickAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].angle},setTickWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickWidth=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].tickWidth},setTickHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickHeight=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].tickHeight},setTickStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickStyle=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].tickStyle},setTickPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickPlacement=n.inArray(r,this.Model.tickPlacement),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].tickPlacement},setTickXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].xDistanceFromScale=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].xDistanceFromScale},setTickYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].yDistanceFromScale=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].yDistanceFromScale},setScaleLocation:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].location.x=t.x,this.scaleEl[n].location.y=t.y,this.initialize())},getScaleLocation:function(n){if(n<this.Model.scales.length)return{x:this.scaleEl[n].location.x,y:this.scaleEl[n].location.y}},setMaximumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].maximum=t,this.initialize())},getMaximumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].maximum},setMinimumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minimum=t,this.initialize())},getMinimumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].minimum},setScaleBarSize:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarSize=t,this.initialize())},getScaleBarSize:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleBarSize},setScaleBarLength:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarLength=t,this.initialize())},setScaleStyle:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleStyle=t,this.initialize())},getScaleStyle:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleStyle},getScaleBarLength:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleBarLength},setScaleBorderWidth:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].borderWidth=t,this.initialize())},setScaleDirection:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleDirection=t,this.initialize())},getScaleDirection:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleDirection},getScaleBorderWidth:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].borderWidth},setMajorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.initialize())},getMajorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].majorIntervalValue},setMinorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.initialize())},getMinorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].minorIntervalValue},_reDrawBarPointer:function(){this.Model.frameBackgroundImageUrl?this.initialize():this.contextEl.putImageData!="undefined"&&(this.contextEl.putImageData(this._getBarPointerImage(),0,0),this._setBarPointers(),this._setMarkerPointers())},_reDrawMarkerPointer:function(){this.Model.frameBackgroundImageUrl?this.initialize():this.contextEl.putImageData!="undefined"&&(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers())},_reDrawCustomLabel:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawRange:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawLabel:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawTickMark:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},refresh:function(){this._init()},_onDrawTicks:function(n,t){var i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,tickIndex:this.tickIndex,tickElement:this.tickEl[this.tickIndex],context:this.contextEl,style:this.style,location:this.location,tickValue:t,tickAngle:parseInt(n)};this._trigger("drawTicks",i)},_onDrawLabels:function(n){var t={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,labelIndex:this.labelIndex,labelElement:this.labelEl[this.labelIndex],context:this.contextEl,style:this.style,location:this.location,labelValue:this.labelValue,labelAngle:parseInt(n)};this._trigger("drawLabels",t)},_onDrawBarPointers:function(n){var t={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,barPointerIndex:this.barPointerIndex,barElement:this.barPointerEl[this.barPointerIndex],context:this.contextEl,style:this.style,location:this.location,pointerValue:n};this._trigger("drawBarPointers",t)},_onDrawMarkerPointers:function(n,t){var i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,markerPointerIndex:this.markerPointerIndex,markerElement:this.markerPointerEl[this.markerPointerIndex],context:this.contextEl,style:this.style,location:this.location,pointerValue:t,pointerAngle:parseInt(n)};this._trigger("drawMarkerPointers",i)},_onDrawRange:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawIndicators",n)},onLoad:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("load",n)},_onInit:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("init",n)},_onRenderComplete:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_restoreWidth:function(){this.scaleEl[this.scaleIndex].scaleBarLength=this.scaleEl[this.scaleIndex].scaleBarLength+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartX[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].scaleBarSize/2},_modifyWidth:function(){this.scaleEl[this.scaleIndex].scaleBarLength=this.scaleEl[this.scaleIndex].scaleBarLength-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartX[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2},_getClockwiseLinePosition:function(n){var t;return t=(n-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100)},_getCounterClockwiseLinePosition:function(n){var t;return t=this.scaleEl[this.scaleIndex].maximum-n+this.scaleEl[this.scaleIndex].minimum,t=(t-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100)},_getValue:function(n){return tempVal=this.Model.orientation=="Vertical"?(n.y-this.scaleStartY[this.scaleIndex])/this.scaleEl[this.scaleIndex].scaleBarLength*100:(n.x-this.scaleStartX[this.scaleIndex])/this.scaleEl[this.scaleIndex].scaleBarLength*100,value=(tempVal*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)+this.scaleEl[this.scaleIndex].minimum)/100,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&(value=this.scaleEl[this.scaleIndex].maximum+this.scaleEl[this.scaleIndex].minimum-value),value},_getPointerXPosition:function(n){return this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(startX=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=0),this.markerPlacement=="Near"&&(startX=this.scaleStartX[this.scaleIndex]+n.distanceFromScale,angle=180),this.markerPlacement=="Center"&&(startX=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-radius+n.distanceFromScale:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,angle=0)):(this.markerPlacement=="Far"&&(startX=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=90),this.markerPlacement=="Near"&&(startX=this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=270),this.markerPlacement=="Center"&&(startX=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-radius+n.distanceFromScale:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,angle=90)),{startx:startX,angle:angle}},_hexFromRGB:function(t,i,r){var u=[t.toString(16),i.toString(16),r.toString(16)];return n.each(u,function(n,t){t.length===1&&(u[n]="0"+t)}),u.join("").toUpperCase()},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,r),i.addColorStop(1,r)):n.each(r,function(n,t){i.addColorStop(t.ColorStop!=NaN?t.ColorStop:0,typeof t.Color=="string"?t.Color:t.Color)})},_getFontString:function(n,t){return t.fontStyle+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily},_setPointerDimension:function(n,t){if(t.Model.orientation&&t.Model.orientation=="Horizontal"){var i=n.width,r=n.height;n.height=i,n.width=r}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},wireEvents:function(){this.startEv="mousedown",this.moveEv="mousemove",this.endEv="mouseup",this.onMouseDownHandler=n.proxy(this._onMouseDown,this),this.element.bind(this.startEv,this.onMouseDownHandler)},unWireEvents:function(){this.element.unbind(this.startEv,this.onMouseDownHandler)},_blockDefaultActions:function(n){n.cancelBubble=!0,n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()},_onMouseDown:function(t){var s,r,h,u,f,e,o,i;this._blockDefaultActions(t),s={x:this.centerX,y:this.centerY},r={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frameOuterWidth+this.Model.frameInnerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},offsetPoint={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},h=this._getValue(r),i=this,n.each(this.Model.scales,function(t,s){i.scaleIndex=t,s.markerPointers!=null&&(i.markerPointerEl=s.markerPointers,n.each(s.markerPointers,function(t,s){u=i.scaleEl[i.scaleIndex].scaleDirection=="Clockwise"?i._getClockwiseLinePosition(s.value):i._getCounterClockwiseLinePosition(s.value),f=u+s.pointerWidth,e=u-s.pointerWidth,o=i._getPointerXPosition(s).startx;var h=i._isBetween((i.Model.orientation=="Horizontal"?r.y:r.x)-s.pointerWidth,(i.Model.orientation=="Horizontal"?r.y:r.x)+s.pointerWidth,o);(i.Model.orientation=="Horizontal"?i._isBetween(e,f,r.x):i._isBetween(e,f,r.y))&&h&&(i.activeElement=s),i.Model.scales[i.scaleIndex].barPointers[t]!=null&&(i.activeBarElement=i.Model.scales[i.scaleIndex].barPointers[t]),i.onMouseMoveHandler=n.proxy(i._onMouseMove,i),i.onMouseUpHandler=n.proxy(i._onMouseUp,i),n(document).bind(i.moveEv,i.onMouseMoveHandler),n(document).bind(i.endEv,i.onMouseUpHandler)}))})},_isBetween:function(n,t,i){return n<t?i>=n&&i<=t:i>=t&&i<=n},_onMouseUp:function(){this.mouseMove=!1,n(document).unbind(self.moveEv,self.onMouseMoveHandler),n(document).unbind(self.endEv,self.onMouseUpHandler)},_onMouseMove:function(t){this._blockDefaultActions(t),startPoint={x:this.centerX,y:this.centerY},endPoint={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frameOuterWidth+this.Model.frameInnerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},this.activeElement.value=this._getValue(endPoint),this.activeBarElement&&(this.activeBarElement.value=this._getValue(endPoint)),this.contextEl.putImageData?this._reDrawBarPointer():this._init()},_setTheme:function(){selectedTheme=t.LinearGauge.themes[this.model.theme],this._setThemeColors(selectedTheme)},_setThemeColors:function(n){var e=[],o=t.LinearGauge.themes,s,r,i,u,f;for(s in o)e.push(s);for(r=0;r<e.length;r++)for(this.model.backgroundColor=!this.model.backgroundColor||this.model.backgroundColor==o[e[r]].scales.backgroundColor?n.scales.backgroundColor:this.model.backgroundColor,this.model.borderColor=!this.model.borderColor||this.model.borderColor==o[e[r]].scales.borderColor?n.scales.borderColor:this.model.borderColor,this.model.labelColor=!this.model.labelColor||this.model.labelColor==o[e[r]].scales.labels.labelColor?n.scales.labels.labelColor:this.model.labelColor,this.model.tickColor=!this.model.tickColor||this.model.tickColor==o[e[r]].scales.ticks.tickColor?n.scales.ticks.tickColor:this.model.tickColor,i=0;i<this.model.scales.length;i++){for(u=0;u<this.model.scales[i].markerPointers.length;u++)this.model.scales[i].markerPointers[u].backgroundColor=!this.model.scales[i].markerPointers[u].backgroundColor||this.model.scales[i].markerPointers[u].backgroundColor==o[e[r]].scales.markerPointers.backgroundColor?n.scales.markerPointers.backgroundColor:this.model.scales[i].markerPointers[u].backgroundColor,this.model.scales[i].markerPointers[u].borderColor=!this.model.scales[i].markerPointers[u].borderColor||this.model.scales[i].markerPointers[u].borderColor==o[e[r]].scales.markerPointers.borderColor?n.scales.markerPointers.borderColor:this.model.scales[i].markerPointers[u].borderColor;for(f=0;f<this.model.scales[i].barPointers.length;f++)this.model.scales[i].barPointers[f].backgroundColor=!this.model.scales[i].barPointers[f].backgroundColor||this.model.scales[i].barPointers[f].backgroundColor==o[e[r]].scales.barPointers.backgroundColor?n.scales.barPointers.backgroundColor:this.model.scales[i].barPointers[f].backgroundColor,this.model.scales[i].barPointers[f].borderColor=!this.model.scales[i].barPointers[f].borderColor||this.model.scales[i].barPointers[f].borderColor==o[e[r]].scales.barPointers.borderColor?n.scales.barPointers.borderColor:this.model.scales[i].barPointers[f].borderColor}}}),t.tickStyle={MajorInterval:"MajorInterval",MinorInterval:"MinorInterval"},t.labelStyle={Major:"Major",Minor:"Minor"},t.fontStyle={Bold:"Bold",Italic:"Italic",Regular:"Regular",Strikeout:"Strikeout",Underline:"Underline"},t.pointerPlacement={Near:"Near",Far:"Far",Center:"Center"},t.tickPlacement={Near:"Near",Far:"Far",Center:"Center"},t.labelPlacement={Near:"Near",Far:"Far",Center:"Center"},t.rangePosition={Near:"Near",Far:"Far",Center:"Center"},t.scaleDirection={Clockwise:"Clockwise",CounterClockwise:"CounterClockwise"},t.scaleStyle={Rectangle:"Rectangle",RoundedRectangle:"RoundedRectangle",Thermometer:"Thermometer"},t.indicatorStyle={Rectangle:"Rectangle",Circle:"Circle",RoundedRectangle:"RoundedRectangle",text:"text"},t.markerStyle={Rectangle:"Rectangle",Triangle:"Triangle",Ellipse:"Ellipse",Diamond:"Diamond",Pentagon:"Pentagon",Circle:"Circle",Star:"Star",Slider:"Slider",Pointer:"Pointer",Wedge:"Wedge",Trapezoid:"Trapezoid",RoundedRectangle:"RoundedRectangle"},t.LinearGauge.themes={flatlight:{scales:{backgroundColor:"#FFFFFF",borderColor:"#1d1e1e",barPointers:{backgroundColor:"#8abc3b",borderColor:"#8abc3b"},markerPointers:{backgroundColor:"#212121",borderColor:"#212121"},ticks:{tickColor:"#1d1e1e"},labels:{labelColor:"#222222"}}},flatdark:{scales:{backgroundColor:"#808080",borderColor:"#808080",barPointers:{backgroundColor:"#8abc3b",borderColor:"#8abc3b"},markerPointers:{backgroundColor:"#CCCCCC",borderColor:"#CCCCCC"},ticks:{tickColor:"#808080"},labels:{labelColor:"#CCCCCC"}}}}}(jQuery,Syncfusion),function(n,t,i){t.widget({mDigitalGauge:"m.DigitalGauge",ejDigitalGauge:"ej.DigitalGauge"},{element:null,model:null,validTags:["div","span"],defaults:{segmentData:{"0":[0,1,2,3,4,5,14,15],"1":[1,2],"2":[0,14,1,6,8,4,3,15],"3":[0,1,2,3,6,8,14,15],"4":[1,2,5,6,8],"5":[0,2,3,5,6,8,14,15],"6":[0,2,3,4,5,6,8,14,15],"7":[0,1,2,14],"8":[0,1,2,3,4,5,6,8,14,15],"9":[0,1,2,3,5,6,8,14,15],A:[0,1,2,4,5,6,8,14],B:[0,1,2,3,7,9,8,14,15],C:[0,3,4,5,14,15],D:[0,1,2,3,7,9,14,15],E:[0,3,4,5,6,8,14,15],F:[0,4,5,6,8,14],G:[0,2,3,4,5,8,14,15],H:[1,2,4,5,6,8],I:[0,3,7,9,14,15],J:[1,2,3,4,15],K:[4,5,6,10,11],L:[3,4,5,15],M:[1,2,4,5,10,13],N:[1,2,4,5,11,13],O:[0,1,2,3,4,5,14,15],P:[0,1,4,5,6,8,14],Q:[0,1,2,3,4,5,11,14,15],R:[0,1,4,5,6,8,11,14],S:[0,2,3,5,6,8,14,15],T:[0,7,9,14],U:[1,2,3,4,5,15],V:[4,5,10,12],W:[1,2,4,5,11,12],X:[10,11,12,13],Y:[1,5,6,7,8],Z:[0,3,10,12,14,15]},matrixSegmentData:{"1":[0,3,0,4,1,1,1,2,1,3,1,4,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,1,6,2,6,3,6,4,6,5,6,6],"2":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,4,3,5,4,3,4,2,5,2,5,1,6,1,6,2,6,3,6,4,6,5,6,6],"3":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5],"4":[0,3,0,4,0,5,1,2,1,3,1,4,1,5,2,1,2,2,2,4,2,5,3,0,3,1,3,4,3,5,4,0,4,1,4,2,4,3,4,4,4,5,4,6,5,4,5,5,6,4,6,5],"5":[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],"6":[0,3,0,4,0,5,0,6,1,2,1,3,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,2,5,3,5,6,5,7,6,3,6,4,6,5,6,6],"7":[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],"8":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],"9":[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,2,6,3,6,4,6,4,6,5],"0":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],a:[0,2,0,3,0,4,0,5,0,6,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],b:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],c:[1,3,1,4,1,5,1,6,2,2,2,3,3,1,3,2,4,1,4,2,5,2,5,3,6,3,6,4,6,5,6,6],d:[0,6,0,7,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,5,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],e:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,2,6,3,6,4,6,5,6,6,6,7],f:[0,4,0,5,0,6,0,7,1,3,1,4,2,3,2,4,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,3,4,4,5,3,5,4,6,3,6,4],g:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,6,4,7,5,6,5,7,6,2,6,3,6,4,6,5,6,6],h:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],i:[0,3,0,4,2,1,2,2,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,3,6,4],j:[1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],k:[0,1,0,2,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,1,6,2,6,6,6,7],l:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,5,4,6,5,5,5,6,6,5,6,6],m:[0,1,0,2,0,3,0,4,0,5,0,6,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,3,5,4,5,6,5,7,6,0,6,1,6,3,6,4,6,6,6,7],n:[1,1,1,2,1,3,1,4,1,5,1,6,2,0,2,1,2,2,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,0,5,1,5,6,5,7,6,0,6,1,6,6,6,7],o:[1,2,1,3,1,4,1,5,2,1,2,2,2,5,2,6,3,1,3,2,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],p:[1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,3,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,6,1,6,2],q:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,5,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,2,4,3,4,4,4,5,4,6,4,7,5,6,5,7,6,6,6,7],r:[0,1,0,3,0,4,0,5,1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,6,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2],s:[1,2,1,3,1,4,1,5,2,1,2,2,3,1,3,2,4,3,4,4,5,4,5,5,6,1,6,2,6,3,6,4],t:[0,3,0,4,1,3,1,4,2,1,2,2,2,3,2,4,2,5,2,6,3,3,3,4,4,3,4,4,5,3,5,4,6,4,6,5,6,6,6,7],u:[1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,5,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],v:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,2,3,3,3,5,3,6,4,3,4,4,4,5,5,4,5,5,6,4],w:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,2,5,3,5,4,5,5,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],x:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,3,3,4,3,5,4,3,4,4,4,5,5,2,5,3,5,5,5,6,6,1,6,2,6,6,6,7],y:[1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],z:[1,2,1,3,1,4,1,5,1,6,1,7,2,6,2,7,3,5,3,6,4,4,4,5,5,3,5,4,6,2,6,3,6,4,6,5,6,6,6,7],A:[0,3,0,4,1,2,1,3,1,4,1,5,2,2,2,3,2,4,2,5,3,1,3,2,3,5,3,6,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],B:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],C:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,4,0,4,1,5,1,5,2,6,2,6,3,6,4,6,5,6,6],D:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],E:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],F:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],G:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,3,4,3,5,3,6,4,0,4,1,4,6,5,1,5,2,5,6,6,2,6,3,6,4,6,5,6,6],H:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],I:[0,2,0,3,0,4,0,5,0,6,1,4,2,4,3,4,4,4,5,4,6,1,6,2,6,3,6,4,6,5,6,6,6,7],J:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],K:[0,1,0,2,0,5,0,6,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,5,1,5,2,5,4,5,5,6,1,6,2,6,5,6,6],L:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],M:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,5,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],N:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],O:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],P:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],Q:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,4,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5,6,6,6,7],R:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,5,5,1,5,5,6,2,6,1,6,2,6,6],S:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,2,3,3,3,4,3,5,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],T:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,4,2,4,3,4,4,4,5,4],U:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],V:[0,0,0,1,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,5,3,6,4,3,4,4,4,5,4,6,5,4,5,5,6,4],W:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,4,4,6,4,7,5,1,5,2,5,3,5,5,5,6,5,7,6,1,6,2,6,6,6,7],X:[0,0,0,1,0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],Y:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,3,5,4,6,3,6,4],Z:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,2,4,3,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6,6,7],",":[5,3,5,4,5,5,6,4,6,5,7,3,7,4],":":[1,3,1,4,1,5,2,3,2,4,2,5,4,3,4,4,4,5,5,3,5,4,5,5],"%":[0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,3,3,3,4,4,2,4,3,5,1,5,2,5,4,5,5,6,0,6,1,6,4,6,5],"!":[0,3,0,4,0,5,1,3,1,4,1,5,2,3,2,4,2,5,3,3,3,4,3,5,4,3,4,4,4,5,5,3,5,4,5,5,7,4],"(":[0,2,0,3,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,7,2,7,3],")":[0,5,0,6,1,6,1,7,2,6,2,7,3,6,3,7,4,6,4,7,5,6,5,7,6,6,6,7,7,5,7,6],".":[5,3,5,4,5,5,6,3,6,4,6,5,7,3,7,4,7,5]},frameBackgroundImageUrl:null,frameInnerWidth:6,frameOuterWidth:10,height:150,width:400,segmentColor:"#836B33",theme:"flatlight",items:null,init:null,load:null,renderComplete:null},dataTypes:{frameBackgroundImageUrl:"string",segmentColor:"string",segmentData:"data",matrixSegmentData:"data"},_setValues:function(){this.gaugeEl=this.element,this.segmentCount=null,this.contextEl=null,this.style=null,this.value=null,this.location=null,this.canvasEl=null,this.segement16X=null,this.segment16Y=null,this.segmentHeight=null,this.segmentAngle=null,this.startX=5,this.startY=5,this.gradient=null,this.itemIndex=null,this.characterSpace=null,this.outerImage=null,this.radius=null,this.frameOuterLocation=null,this.frameInnerLocation=null,this.glassFrameLocation=null,this.glassFrameStyle=null,this.frameOuterStyle=null,this.character=null,this.frameInnerStyle=null,this._itemInitialize()},_destroy:function(){this.element.empty()},_setModel:function(n){var t;for(t in n)switch(t){case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"items":this.model.items=n[t],this._itemInitialize();break;case"frameBackgroundImageUrl":this.model.frameBackgroundImageUrl=n[t];break;case"frameInnerWidth":this.model.frameInnerWidth=n[t];break;case"frameOuterWidth":this.model.frameOuterWidth=n[t];break;case"theme":this.model.theme=n[t]}this.refresh()},_init:function(){this._setValues(),this._trigger("load"),this._setTheme(),this._initialize()},_setTheme:function(){selectedThem=t.DigitalGauge.themes[this.model.theme],this._setThemeColors(selectedThem)},_setThemeColors:function(n){var u=[],f=t.DigitalGauge.themes,e,r,i;for(e in f)u.push(e);for(r=0;r<u.length;r++)for(i=0;i<this.model.items.length;i++)this.model.items[i].segmentColor=!this.model.items[i].segmentColor||this.model.items[i].segmentColor==f[u[r]].items.segmentColor?n.items.segmentColor:this.model.items[i].segmentColor,this.model.items[i].shadowColor=!this.model.items[i].shadowColor||this.model.items[i].shadowColor==f[u[r]].items.shadowColor?n.items.shadowColor:this.model.items[i].shadowColor,this.model.items[i].textColor=!this.model.items[i].textColor||this.model.items[i].textColor==f[u[r]].items.textColor?n.items.textColor:this.model.items[i].textColor},_initialize:function(){this.model.init&&this._clientSideOnInit(),this._initObject(this),this.model.load&&this._clientSideOnLoad(),this.model.frameBackgroundImageUrl!=null?this._drawCustomImage(this,this.model.frameBackgroundImageUrl):this._renderItems(),this.model.renderComplete&&this._clientSideOnRenderComplete()},_itemInitialize:function(){var t=this;this.model.items!=null?n.each(this.model.items,function(i,r){var u=t._sendDefaultItem();n.extend(u,r),n.extend(r,u)}):this.model.items=[this._sendDefaultItem()]},_sendDefaultItem:function(){return{characterCount:1,characterOpacity:1,characterSpacing:2,characterType:t.characterType.EightCrossEightDotMatrix,enableCustomFont:!1,segmentLength:2,segmentOpacity:0,segmentSpacing:1,segmentWidth:1,shadowBlur:0,shadowOffsetX:1,shadowOffsetY:1,textAlign:"Left",font:{size:"11px",fontFamily:"Arial",fontStyle:"Italic"},location:{x:0,y:0},segmentColor:null,shadowColor:null,textColor:null,value:"text"}},_initObject:function(t){this.element.addClass("e-widget"),t.gaugeEl=this.element,t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.gaugeEl.append(t.canvasEl),t.gaugeEl.css("width",t.model.width),t.gaugeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.gaugeEl.width()),t.canvasEl[0].setAttribute("height",t.gaugeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,t.model.width=t.gaugeEl.width(),t.model.height=t.gaugeEl.height();var i=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(i=window.G_vmlCanvasManager.initElement(i)),i&&i.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.model.width,t.model.height),t.model.Scales!=null&&t._drawScales(),t.model.items!=null&&t._renderItems()}).attr("src",i)},_setSegmentCount:function(n){switch(n){case"SevenSegment":this._SegmentCount=7;break;case"FourteenSegment":this._SegmentCount=14;break;case"SixteenSegment":this._SegmentCount=16;break;case"EightCrossEightDotMatrix":this._SegmentCount=[8,8];break;case"EightCrossEightSquareMatrix":this._SegmentCount=[8,8];break;default:this._SegmentCount=7}},_setInnerPosition:function(){this.contextEl.save(),this.contextEl.translate(this.model.frameOuterWidth+this.model.frameInnerWidth,this.model.frameOuterWidth+this.model.frameInnerWidth),this.bounds={height:this.canvasEl[0].height-2*(this.model.frameOuterWidth+this.model.frameInnerWidth),width:this.canvasEl[0].width-2*(this.model.frameOuterWidth+this.model.frameInnerWidth)}},_setWidth:function(){var t=[],i;this.model.items!=null&&(i=this,n.each(this.model.items,function(n,i){t.push(i.characterCount)}))},_renderItems:function(){if(this.model.items!=null){this._setInnerPosition();var t=this;n.each(this.model.items,function(n,i){t._setSegmentCount(i.characterType),t.itemIndex=n,t._setShadow(n,i),i.enableCustomFont?t._setCustomFont(n,i):i.characterType.indexOf("Matrix")!=-1?t._drawMatrixSegments(n,i):t._drawSegments(n,i)})}},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.ColorStop!=NaN?r.ColorStop:0,typeof r.Color=="string"?r.Color:this._getColor(t,r.Color))})},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.R+", "+t.G+","+t.B+", "+t.A/255+")"},_drawMatrixSegments:function(t,i){var o=[],u=[],s,h,f,r,e;for(i.value?(this.value=i.value.toString().split(""),i.characterCount<this.value.length&&(i.characterCount=this.value.length)):this.value="",this.radius=i.characterType.indexOf("Dot")!=-1?(i.segmentLength+i.segmentWidth)/2:i.segmentWidth/2,s=this.startX=(this.bounds.width-i.characterCount*(this._SegmentCount[0]*2*this.radius+i.characterSpacing+this._SegmentCount[0]*i.segmentSpacing))*(i.location.x/100),h=this.startY=(this.bounds.height-(this._SegmentCount[1]*(i.characterType.indexOf("Dot")!=-1?2*this.radius:i.segmentLength)+this._SegmentCount[1]*i.segmentSpacing))*(i.location.y/100),f=0;f<i.characterCount;f++)for(this.value&&(this.character=i.textAlign=="Right"?this.value[this.value.length-i.characterCount+f]:this.value[f],u=this.model.matrixSegmentData[this.character]),f!=0&&(s=this.startX=this.startX+i.characterSpacing+i.segmentSpacing+2*this.radius,this.startY=h),r=0;r<this._SegmentCount[1];r++){for(r!=0&&(this.startY=(i.characterType.indexOf("Dot")!=-1?2*this.radius:i.segmentLength)+this.startY+i.segmentSpacing,this.startX=s),u&&n.each(u,function(n){if(n%2==0){if(u[n]>r)return!1;u[n]==r&&o.push(parseInt(u[n+1]))}}),e=0;e<this._SegmentCount[0];e++)e!=0&&(this.startX=this.startX+2*this.radius+i.segmentSpacing),this.gradient=i.characterType.indexOf("Dot")!=-1?this.contextEl.createRadialGradient(0,0,0,0,0,this.radius):this.contextEl.createLinearGradient(0,0,i.segmentWidth,0),i.SegmentGradient&&this._setGradientColor(this,this.gradient,i.SegmentGradient.ColorInfo),this.location={startX:this.startX,startY:this.startY},this.style={opacity:o&&n.inArray(e,o)!=-1?i.characterOpacity:i.segmentOpacity,height:i.segmentLength,width:i.segmentWidth,fillStyle:i.segmentColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,i.segmentColor),skewX:i.SkewAngleX,skewY:i.SkewAngleX},this.model.onItemRendering&&this._clientSideOnItemRendering(!0,e,r),i.characterType.indexOf("Dot")!=-1?this._drawDot(this.location,this.style):this._drawSquare(this.location,this.style);o=[]}},_drawSegments:function(t,i){var f=[],e=this,u,r;for(i.value&&(this.value=i.value.toUpperCase().toString().split(""),i.characterCount<this.value.length&&(i.characterCount=this.value.length)),this.characterSpace=i.characterType=="SevenSegment"?2*i.segmentWidth:4*i.segmentWidth,this._renderSegmentCalculation(i),this.gradient=this.contextEl.createLinearGradient(0,0,0,i.segmentWidth),i.segmentColor?this._setGradientColor(this,this.gradient,i.segmentColor):i.SegmentGradient?this._setGradientColor(this,this.gradient,i.SegmentGradient.ColorInfo):this._setGradientColor(this,this.gradient,this.model.segmentColor),u=0;u<i.characterCount;u++){for(i.value&&(f=this.model.segmentData[i.textAlign=="Right"?this.value[this.value.length-i.characterCount+u]:this.value[u]]),r=0;r<this._SegmentCount;r++)u!=0&&(this.segment16X[r]=this.segment16X[r]+i.segmentLength+this.characterSpace+i.characterSpacing),this.value&&(this.character=i.textAlign=="Right"?this.value[this.value.length-i.characterCount+u]:this.value[u]),this.location={startX:this.segment16X[r],startY:this.segment16Y[r]},this.style={angle:this.angle[r],fillStyle:this.gradient,isStroke:!1,isFill:!0,characterHeight:i.characterType=="SevenSegment"?i.segmentLength:this.segmentHeight[r],segmentWidth:i.segmentWidth,opacity:f&&n.inArray(r,f)!=-1?i.characterOpacity:i.segmentOpacity},this.model.onItemRendering&&this._clientSideOnItemRendering(!1,r),this._drawSegmentLayers(this.location,this.style);f=[]}},_setCustomFont:function(n,t){this.startX=(this.bounds.width-this._measureText(t.value,0,this._getFontString(this,t.font)).width)*(t.location.x/100),this.startY=(this.bounds.height-this._measureText(t.value,0,this._getFontString(this,t.font)).height)*(t.location.y/100),this.location={startX:this.startX,startY:this.startY},this.style={font:this._getFontString(this,t.font),text:t.value,textColor:t.textColor?t.textColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.textColor):this.model.segmentColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,this.model.segmentColor)},this.model.onItemRendering&&this._clientSideOnItemRendering(!1,segment),this._drawText(this.location,this.style)},_getFontString:function(n,t){return(t.size==null?"11px":t.size)+" "+t.fontFamily+" "+(t.fontStyle?t.fontStyle:"")},_renderSegmentCalculation:function(n){this.startX=(this.bounds.width-n.characterCount*(n.segmentLength+this.characterSpace+n.characterSpacing))*(n.location.x/100),this.startY=(this.bounds.height-2*n.segmentLength-n.segmentWidth)*(n.location.y/100);var t=n.characterType=="SevenSegment"?n.segmentLength:n.segmentLength/2;this.segment16X=[this.startX+n.segmentWidth/2,this.startX+n.segmentLength+4*n.segmentWidth,this.startX+n.segmentLength+4*n.segmentWidth,this.startX+n.segmentWidth/2,this.startX,this.startX,this.startX+n.segmentWidth/2,this.startX+t+2*n.segmentWidth,this.startX+2.5*n.segmentWidth+t,this.startX+t+2*n.segmentWidth,this.startX+n.segmentLength+2.5*n.segmentWidth,this.startX+t+2.5*n.segmentWidth,this.startX+t+1.5*n.segmentWidth,this.startX+1.5*n.segmentWidth,this.startX+5*n.segmentWidth/2+t,this.startX+2.5*n.segmentWidth+t],this.segment16Y=[this.startY,this.startY,this.startY+n.segmentLength+n.segmentWidth,this.startY+2*n.segmentLength+2*n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY,this.startY+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentWidth,this.startY,this.startY+2*n.segmentLength+2*n.segmentWidth],this.segmentHeight=[n.segmentLength/2,n.segmentLength,n.segmentLength,n.segmentLength/2,n.segmentLength,n.segmentLength,n.segmentLength/2,n.segmentLength,n.segmentLength/2,n.segmentLength,n.segmentLength,n.segmentLength,n.segmentLength,n.segmentLength,n.segmentLength/2,n.segmentLength/2],this.angle=[-90,0,0,-90,0,0,-90,0,-90,0,27,-27,27,-27,-90,-90],n.characterType=="SevenSegment"&&(this.segment16X[2]=this.segment16X[1]=this.startX+n.segmentLength+2*n.segmentWidth),n.characterType=="FourteenSegment"&&(this.segmentHeight[3]=this.segmentHeight[0]=n.segmentLength+2*n.segmentWidth)},_drawSegmentLayers:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.startX,n.startY),this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.moveTo(0,0),this.contextEl.lineTo(-t.segmentWidth,t.segmentWidth),this.contextEl.lineTo(-t.segmentWidth,t.characterHeight),this.contextEl.lineTo(0,t.characterHeight+t.segmentWidth),this.contextEl.lineTo(t.segmentWidth,t.characterHeight),this.contextEl.lineTo(t.segmentWidth,t.segmentWidth),this._contextClosePath(t,this)},_drawDot:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.translate(n.startX,n.startY),this.contextEl.fillStyle=t.fillStyle,this.contextEl.globalAlpha=t.opacity,this.contextEl.arc(0,0,this.radius,0,2*Math.PI,!0),this.contextEl.fill(),this.contextEl.closePath(),this.contextEl.restore()},_setShadow:function(n,t){this.contextEl.save(),this.contextEl.shadowColor=t.shadowColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.shadowColor),this.contextEl.shadowOffsetY=t.shadowOffsetY,this.contextEl.shadowOffsetY=t.shadowOffsetX,this.contextEl.shadowBlur=t.shadowBlur},_drawSquare:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.translate(n.startX,n.startY),this.contextEl.fillStyle=t.fillStyle,this.contextEl.globalAlpha=t.opacity,this.contextEl.rect(0,0,t.width,t.height),this.contextEl.fill(),this.contextEl.closePath(),this.contextEl.restore()},_drawText:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.font=t.font,this.contextEl.textBaseline="hanging",this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor,this.contextEl.fillText(t.text,n.startX,n.startY),this.contextEl.closePath(),this.contextEl.restore()},setValue:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].value=t,this.model.frameBackgroundImageUrl?this._initialize():this._initialize())},getValue:function(n){return this.model.items[n].value},setLocation:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].location.x=t.x,this.model.items[n].location.y=t.y,this.model.frameBackgroundImageUrl?this._initialize():this.contextEl.putImageData?(this.contextEl.putImageData(this.outerImage,0,0),this._renderItems()):this._initialize())},getLocation:function(n){if(n<this.model.items.length)return{x:this.model.items[n].location.x,y:this.model.items[n].location.y}},refresh:function(){this._setTheme(),this._initialize()},_clientSideOnLoad:function(){var n={Object:this,items:this.model.items,context:this.contextEl};this._trigger("load",n)},_clientSideOnItemRendering:function(n,t,i){var r;r=n?{Object:this,items:this.model.items,character:this.character,context:this.contextEl,location:this.location,style:this.style,row:t,column:i}:{Object:this,model:this.model,id:this.model.ClientId,items:this.model.items,character:this.character,context:this.contextEl,location:this.location,style:this.style,segment:t},this._trigger("onItemRendering",r)},_clientSideOnInit:function(){var n={Object:this,items:this.model.items,context:this.contextEl};this._trigger("init",n)},_clientSideOnRenderComplete:function(){var n={Object:this,items:this.model.items,context:this.contextEl};this._trigger("renderComplete",n)},_contextOpenPath:function(n,t){t.contextEl.save(),t.contextEl.beginPath(),n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle),n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity),n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth),n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath(),n.isFill&&t.contextEl.fill(),n.isStroke&&t.contextEl.stroke(),t.contextEl.restore()},_measureText:function(t,i,r){var u=document.createElement("DIV"),f;return u.innerHTML=t,r!=null&&(u.style.font=r),u.style.backgroundColor="white",u.style.position="absolute",u.style.top=-100,u.style.left=0,i&&(u.style.maxwidth=i+"px"),document.body.appendChild(u),f={width:u.offsetWidth,height:u.offsetHeight},n(u).remove(),f}}),t.characterType={SevenSegment:"SevenSegment",FourteenSegment:"FourteenSegment",SixteenSegment:"SixteenSegment",EightCrossEightDotMatrix:"EightCrossEightDotMatrix",EightCrossEightSquareMatrix:"EightCrossEightSquareMatrix"},t.textAlignment={Left:"Left",Right:"Right"},t.fontStyle={Normal:"Normal",Bold:"Bold",Italic:"Italic",Underline:"Underline",Strikeout:"Strikeout"},t.DigitalGauge.themes={flatlight:{items:{segmentColor:"#232323",shadowColor:"#232323",textColor:"#232323"}},flatdark:{items:{segmentColor:"#b1b0b0",shadowColor:"#b1b0b0",textColor:"#b1b0b0"}}}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejBulletGraph","ej.BulletGraph",{element:null,model:null,validTags:["div"],defaults:{width:595,height:90,theme:"flatlight",orientation:"horizontal",flowDirection:"forward",qualitativeRangeSize:32,quantitativeScaleLength:475,showTooltip:!0,tooltipTemplateId:null,quantitativeScale:{location:{x:10,y:10},minimum:0,maximum:10,interval:1,minorTicksPerInterval:4,majorTickSize:13,minorTickSize:7,majorTickStroke:null,minorTickStroke:null,majorTickStrokeThickness:2,minorTickStrokeThickness:2,tickPosition:"below",labels:{labelStroke:null,labelSize:12,labelOffset:20,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"regular",opacity:1},labelPosition:"below"},featuredMeasureBarStrokeThickness:6,featuredMeasureBarStroke:null,comparativeMeasureSymbolStrokeThickness:5,comparativeMeasureSymbolStroke:null,featureMeasure:[{value:8,comparativeMeasureValue:6.5,category:null}]},fields:{dataSource:null,query:null,tableName:null,category:null,featureMeasure:null,comparativeMeasure:null},enableAnimation:!0,needResize:!0,bindRangeStrokeToTicks:!1,bindRangeStrokeToLabels:!1,qualitativeRanges:[{rangeEnd:4.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:7.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:10,rangeStroke:null,rangeOpacity:1}],caption:{textAngle:0,location:{x:17,y:30},text:"",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"regular",opacity:1},subtitle:{textAngle:0,text:"",location:{x:10,y:45},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}}},drawTicks:null,drawLabels:null,drawCaption:null,drawQualitativeRanges:null,drawFeatureMeasureBar:null,drawCategory:null,drawComparativeMeasureSymbol:null},dataTypes:{quantitativeScale:{labels:"data",featureMeasure:"array"},fields:{dataSource:"data",query:"data"},qualitativeRanges:"array",caption:"data"},_init:function(){this._renderBulletGraph()},_isSVG:function(){return window.SVGSVGElement?!0:!1},_renderBulletGraph:function(){this._isSVG()&&(this.svgRenderer=new SfSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this._trigger("load"),this._setTheme(t.BulletGraph.themes,this.model.theme),this._renderBulletElements(),this.bindEvents(),this.model.enableAnimation&&this._animateMeasures())},_animateMeasures:function(){this._doAnimation(),this._doLineAnimation()},_renderBulletElements:function(){var r;this.svgObject.setAttribute("width",this.model.width),this.svgObject.setAttribute("height",this.model.height),this.svgObject.setAttribute("viewBox","0 0 "+this.model.width+" "+this.model.height),this.svgObject.setAttribute("preserveAspectRatio","xMinYMin"),this.svgWidth=this.model.width,this.svgHeight=this.model.height;var u=this.svgRenderer.createGroup({id:this.svgObject.id+"_captionGroup"}),t=this.svgRenderer.createGroup({id:this.svgObject.id+"_scaleGroup"}),i=this.svgRenderer.createGroup({id:this.svgObject.id+"_outerWrap"});this._initializeValues(),r=this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/this._scale.interval),this._drawCaption(u),this._scaleGroup=t,this._drawScale(u,t),this._drawQualitativeRanges(t),this._drawMajorTicks(r,t),this._drawMinorTicks(r,t),this._drawLabels(r,t),this._bindData(),n(u).appendTo(i),n(t).appendTo(i),this._changeOrientation(i),n(i).appendTo(this.svgObject),n(this.svgObject).appendTo(this.element)},_initializeValues:function(){this._scale=this.model.quantitativeScale,this._labelPosition=this._scale.labels.labelPosition,this._tickPosition=this._scale.tickPosition,this._flowDirection=this.model.flowDirection,this._orientation=this.model.orientation},_changeOrientation:function(n){this._orientation==t.BulletGraph.orientation.Vertical&&n.setAttribute("transform","translate("+(this.model.height-this.model.width)+", "+-(this.model.width+2*this._scale.labels.labelOffset+this._scale.labels.labelSize)+") scale(1) rotate(-90 "+this.model.width+" "+this.model.height+")")},_setModel:function(i){var u=!0,r;for(r in i){this.model.enableAnimation=!1;switch(r){case"height":this.model.height=i[r];break;case"width":this.model.width=i[r];break;case"theme":this.model.theme=i[r],this._setTheme(t.BulletGraph.themes,this.model.theme);break;case"orientation":this.model.orientation=i[r];break;case"flowDirection":this.model.flowDirection=i[r];break;case"qualitativeRangeSize":this.model.qualitativeRangeSize=i[r];break;case"quantitativeScaleLength":this.model.quantitativeScaleLength=i[r];break;case"quantitativeScale":n.extend(!0,this.model.quantitativeScale,{},i[r]);break;case"bindRangeStrokeToTicks":this.model.bindRangeStrokeToTicks=i[r];break;case"bindRangeStrokeToLabels":this.model.bindRangeStrokeToLabels=i[r];break;case"qualitativeRanges":n.extend(!0,this.model.qualitativeRanges,{},i[r]);break;case"caption":n.extend(!0,this.model.caption,{},i[r]);break;case"dataSource":n.extend(!0,this.model.fields,{},i[r]);break;case"enableAnimation":this.model.enableAnimation=i[r],this.model.enableAnimation&&(n(this.svgObject).empty(),this._renderBulletElements(),this._animateMeasures()),u=!1}}u&&(n(this.svgObject).empty(),this._renderBulletElements())},_bindData:function(){t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?(this._dataCount=this._scale.featureMeasure.length,this._drawMeasures()):this.model.fields.dataSource instanceof t.DataManager?this._initDataSource():(this._dataCount=this.model.fields.dataSource.length,this._drawMeasures())},_drawMeasures:function(){this._drawFeatureMeasureBar(),this._drawComparativeMeasureSymbol()},_initDataSource:function(){var t=this._columnToSelect(this.model.fields),n=this,i=this.model.fields.dataSource.executeQuery(t);i.done(function(t){n.model.fields.dataSource=t.result,n._dataCount=t.result.length,n._drawFeatureMeasureBar(),n._drawComparativeMeasureSymbol()})},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="query"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u),this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_drawCaption:function(n){this.model.drawCaption&&this._onDrawCaption(this._textOptions(this.model.caption),"MainTitle",this.model.caption.text),this.svgRenderer.drawText(this._textOptions(this.model.caption),this.model.caption.text,n),this.model.caption.subtitle.text!=""&&(this.model.drawCaption&&this._onDrawCaption(this._textOptions(this.model.caption.subtitle),"SubTitle",this.model.caption.subtitle.text),this.svgRenderer.drawText(this._textOptions(this.model.caption.subtitle),this.model.caption.subtitle.text,n))},_textOptions:function(n){var t=n.text===this.model.caption.text?n.location.y:n.location.y-15;return{x:n.location.x,y:n.location.y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,"text-anchor":"start",opacity:n.font.opacity,"dominant-baseline":"middle",transform:"rotate("+n.textAngle+","+n.location.x+","+t+")"}},_drawScale:function(n,i){var r,u,f;r=this._tickPosition==t.BulletGraph.tickPosition.Below||this._tickPosition==t.BulletGraph.tickPosition.Cross?this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y:this._scale.location.y+this._scale.labels.labelOffset+this._scale.labels.labelSize:this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this._scale.majorTickSize:this._scale.location.y+this._scale.labels.labelOffset+this._scale.labels.labelSize+this._scale.majorTickSize,u=this._flowDirection==t.BulletGraph.flowDirection.Forward?this._scale.location.x:this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x-this._scale.labels.labelOffset:this._scale.location.x,f={id:this.svgObject.id+"_SvgScale",x:u,y:r,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize,fill:"transparent","stroke-width":0},this.svgRenderer.drawRect(f,i)},_drawMajorTicks:function(n,i){var r,f,o=0,u,e,s;for(r=this._flowDirection==t.BulletGraph.flowDirection.Forward?this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x+this._scale.majorTickStrokeThickness/2:this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labels.labelOffset+this._scale.majorTickStrokeThickness/2:this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labels.labelOffset-this._scale.majorTickStrokeThickness/2:this._scale.location.x+this._scale.majorTickStrokeThickness/2,f=this._tickPosition==t.BulletGraph.tickPosition.Below?this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize:this._scale.location.y+this.model.qualitativeRangeSize+this._scale.labels.labelOffset+this._scale.labels.labelSize:this._tickPosition==t.BulletGraph.tickPosition.Above?this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y:this._scale.location.y+this._scale.labels.labelOffset+this._scale.labels.labelSize:this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.majorTickSize/2:this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.majorTickSize/2+this._scale.labels.labelOffset+this._scale.labels.labelSize,u=this._scale.minimum;u<=this._scale.maximum;u+=this._scale.interval)o++,u>=this._scale.maximum&&(r-=this._scale.majorTickStrokeThickness),this._orientation==t.BulletGraph.orientation.Vertical&&this._flowDirection==t.BulletGraph.flowDirection.Forward&&(r=u>=this._scale.maximum?r+this._scale.majorTickStrokeThickness:u==this._scale.minimum?r-this._scale.majorTickStrokeThickness:r),this.model.bindRangeStrokeToTicks&&(strokeColor=this._bindingRangeStrokes(r-this._scale.majorTickStrokeThickness/2)),e={x1:r,y1:f,x2:r,y2:f+this._scale.majorTickSize,"stroke-width":this._scale.majorTickStrokeThickness,stroke:this.model.bindRangeStrokeToTicks?strokeColor:this._scale.majorTickStroke},this._orientation==t.BulletGraph.orientation.Vertical&&this._flowDirection==t.BulletGraph.flowDirection.Forward&&u==this._scale.minimum&&(r=r+this._scale.majorTickStrokeThickness),this.model.drawTicks&&this._onDrawTicks(e,"MajorTick",o),s=this.svgRenderer.createLine(e),r=this._flowDirection==t.BulletGraph.flowDirection.Backward&&this._orientation==t.BulletGraph.orientation.Horizontal||this._flowDirection==t.BulletGraph.flowDirection.Forward&&this._orientation==t.BulletGraph.orientation.Vertical?r-n:r+n,i.appendChild(s)},_forwardStrokeBinding:function(n){if(n>=this._scale.location.x&&n<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke;for(var t=0;t<=this._rangeCollection.length-1;t++)if(n>=this._rangeCollection[t]+this._scale.location.x&&n<=this._rangeCollection[t+1]+this._scale.location.x)return this.model.qualitativeRanges[t+1].rangeStroke},_backwardStrokeBinding:function(t){if(t>=this._rangeCollection[this._rangeCollection.length-1])return this.model.qualitativeRanges[0].rangeStroke;for(k=0;k<=this._rangeCollection.length-1;k++)if(t>=this._rangeCollection[k]&&t<this._rangeCollection[k+1]){var i=n.inArray(this._rangeCollection[k],this._rangeCollection);return this.model.qualitativeRanges[this._rangeCollection.length-1-i].rangeStroke}},_bindingRangeStrokes:function(n){if(this._rangeCollection.length==1){if(n>=this._scale.location.x&&n<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke}else return this.model.orientation==t.BulletGraph.orientation.Horizontal&&this._flowDirection==t.BulletGraph.flowDirection.Forward||this.model.orientation==t.BulletGraph.orientation.Vertical&&this._flowDirection==t.BulletGraph.flowDirection.Backward?this._forwardStrokeBinding(n):this._backwardStrokeBinding(n)},_drawMinorTicks:function(n,i){var f,e,r,o,u,h=0,a,c,s,l,v,y;for(f=this._flowDirection==t.BulletGraph.flowDirection.Forward?this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x:this._scale.location.x-this._scale.labels.labelOffset-2*this._scale.minorTickStrokeThickness:this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labels.labelOffset-this._scale.minorTickStrokeThickness/2:this._scale.location.x,this._tickPosition==t.BulletGraph.tickPosition.Below?(r=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize:this._scale.location.y+this.model.qualitativeRangeSize+this._scale.labels.labelOffset+this._scale.labels.labelSize,o=r+this._scale.minorTickSize):this._tickPosition==t.BulletGraph.tickPosition.Above?(r=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this._scale.minorTickSize:this._scale.location.y+this._scale.labels.labelOffset+this._scale.labels.labelSize+this._scale.minorTickSize,o=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this._scale.majorTickSize:this._scale.location.y+this._scale.labels.labelOffset+this._scale.labels.labelSize+this._scale.majorTickSize):(r=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.minorTickSize/2:this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.minorTickSize/2+this._scale.labels.labelOffset+this._scale.labels.labelSize,o=r+this._scale.minorTickSize),a=this._flowDirection==t.BulletGraph.flowDirection.Backward&&this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.maximum+1:this._scale.maximum,c=this._scale.minimum;c<=a;c+=this._scale.interval){for(e=n/this._scale.minorTicksPerInterval,s=1;s<=this._scale.minorTicksPerInterval;s++)h++,u=f+e-e/(this._scale.minorTicksPerInterval+1),this._flowDirection==t.BulletGraph.flowDirection.Backward&&this._orientation==t.BulletGraph.orientation.Horizontal&&h>=(this._scale.maximum-this._scale.minimum)*this._scale.minorTicksPerInterval&&(u+=this._scale.minorTickStrokeThickness/2),this.model.bindRangeStrokeToTicks&&(strokeColor=this._bindingRangeStrokes(u)),l={x1:u,y1:r,x2:u,y2:o,"stroke-width":this._scale.minorTickStrokeThickness,stroke:this.model.bindRangeStrokeToTicks?strokeColor:this._scale.minorTickStroke},this.model.drawTicks&&this._onDrawTicks(l,"MinorTick",h),v=this._flowDirection==t.BulletGraph.flowDirection.Backward&&this._orientation==t.BulletGraph.orientation.Horizontal||this._flowDirection==t.BulletGraph.flowDirection.Forward&&this._orientation==t.BulletGraph.orientation.Vertical?this.model.quantitativeScaleLength+this._scale.location.x-this._scale.labels.labelOffset+1:this.model.quantitativeScaleLength+this._scale.location.x+1,u<=v&&(y=this.svgRenderer.createLine(l),i.appendChild(y)),e=n/this._scale.minorTicksPerInterval*(s+1);f=this._flowDirection==t.BulletGraph.flowDirection.Backward&&this._orientation==t.BulletGraph.orientation.Horizontal?f-n:f+n}},_drawLabels:function(n,i){var r,f,u,e;for(r=this._flowDirection==t.BulletGraph.flowDirection.Forward?this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x:this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labels.labelOffset-this._scale.majorTickStrokeThickness/2:this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labels.labelOffset-this._scale.majorTickStrokeThickness:this._scale.location.x-this._scale.majorTickStrokeThickness/2,f=this._tickPosition==t.BulletGraph.tickPosition.Below||this._tickPosition==t.BulletGraph.tickPosition.Cross?this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize+this._scale.majorTickSize+this._scale.labels.labelOffset:this._scale.location.y+this._scale.labels.labelSize:this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize+this._scale.labels.labelOffset+this._scale.majorTickSize:this._scale.location.y+this._scale.labels.labelSize,u=this._scale.minimum;u<=this._scale.maximum;u+=this._scale.interval)transformText=this._orientation==t.BulletGraph.orientation.Vertical?"rotate(90,"+(r-4)+","+f+")":"rotate(0,"+r+","+f+")",r=u==this._scale.maximum?r-this._scale.majorTickStrokeThickness:r,this._orientation==t.BulletGraph.orientation.Vertical&&(r=this._flowDirection==t.BulletGraph.flowDirection.Forward?u==this._scale.maximum||u==this._scale.minimum?r+this._scale.majorTickStrokeThickness:r:u==this._scale.minimum?r+this._scale.majorTickStrokeThickness/2:r),this.model.bindRangeStrokeToLabels&&(strokeColor=this._bindingRangeStrokes(r)),e={x:r,y:f,"text-anchor":"middle",fill:this.model.bindRangeStrokeToLabels?strokeColor:this._scale.labels.labelStroke,"font-size":this._scale.labels.labelSize+"px","font-family":this._scale.labels.font.fontFamily,"font-style":this._scale.labels.font.fontStyle,"font-weight":this._scale.labels.font.fontWeight,opacity:this._scale.labels.font.opacity,transform:transformText},r=this._flowDirection==t.BulletGraph.flowDirection.Forward?this._orientation==t.BulletGraph.orientation.Horizontal?r+n:r-n:this._orientation==t.BulletGraph.orientation.Horizontal?r-n:r+n,this.model.drawLabels&&this._onDrawLabels(e,"AxisLabel",u),this.svgRenderer.drawText(e,u,i)},_drawQualitativeRanges:function(n){var r,e,u,i,f;for(this._rangeCollection=[],e=this._tickPosition==t.BulletGraph.tickPosition.Below||this._tickPosition==t.BulletGraph.tickPosition.Cross?this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y:this._scale.location.y+this._scale.labels.labelOffset+this._scale.labels.labelSize:this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this._scale.majorTickSize:this._scale.location.y+this._scale.labels.labelOffset+this._scale.labels.labelSize+this._scale.majorTickSize,i=this.model.qualitativeRanges.length-1;i>=0;i--)this._flowDirection==t.BulletGraph.flowDirection.Forward?(r=this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x:this._scale.location.x-this._scale.labels.labelOffset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-this.model.qualitativeRanges[i].rangeEnd)))),u=this._orientation==t.BulletGraph.orientation.Horizontal?this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-this.model.qualitativeRanges[i].rangeEnd))):this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-this.model.qualitativeRanges[i].rangeEnd)))):(r=this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x-this._scale.labels.labelOffset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-this.model.qualitativeRanges[i].rangeEnd)))):this._scale.location.x,u=this._orientation==t.BulletGraph.orientation.Horizontal?this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-this.model.qualitativeRanges[i].rangeEnd))):this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-this.model.qualitativeRanges[i].rangeEnd)))),f={x:r,y:e,height:this.model.qualitativeRangeSize,width:u,fill:this.model.qualitativeRanges[i].rangeStroke,opacity:this.model.qualitativeRanges[i].rangeOpacity},this.model.orientation==t.BulletGraph.orientation.Horizontal&&this._flowDirection==t.BulletGraph.flowDirection.Forward||this.model.orientation==t.BulletGraph.orientation.Vertical&&this._flowDirection==t.BulletGraph.flowDirection.Backward?this._rangeCollection.push(u):this._rangeCollection.push(r),this.model.drawQualitativeRanges&&this._onDrawQualitativeRanges(f,this.model.qualitativeRanges[i].rangeEnd,i),this.svgRenderer.drawRect(f,n);this._rangeCollection.sort(this._sortRangeCollection)},_sortRangeCollection:function(n,t){return n-t},_drawFeatureMeasureBar:function(){var n=1,i,u,s,f,o,h,e,r,a,c,l;if(this._dataCount>0)for(r=this._dataCount-1;r>=0;r--)i=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[r][this.model.fields.featureMeasure]:this._scale.featureMeasure[r].value,u=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[r][this.model.fields.category]:this._scale.featureMeasure[r].category,this._tickPosition==t.BulletGraph.tickPosition.Below||this._tickPosition==t.BulletGraph.tickPosition.Cross?(s=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2-this._scale.featuredMeasureBarStrokeThickness/2:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2-this._scale.featuredMeasureBarStrokeThickness/2+this._scale.labels.labelOffset+this._scale.labels.labelSize,f=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2+this._scale.featuredMeasureBarStrokeThickness/2-1:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2+this._scale.featuredMeasureBarStrokeThickness/2-1+this._scale.labels.labelOffset+this._scale.labels.labelSize):(s=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2-this._scale.featuredMeasureBarStrokeThickness/2+this._scale.majorTickSize:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2-this._scale.featuredMeasureBarStrokeThickness/2+this._scale.majorTickSize+this._scale.labels.labelOffset+this._scale.labels.labelSize,f=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2+this._scale.featuredMeasureBarStrokeThickness/2-1+this._scale.majorTickSize:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*n/2+this._scale.featuredMeasureBarStrokeThickness/2-1+this._scale.majorTickSize+this._scale.labels.labelOffset+this._scale.labels.labelSize),this._flowDirection==t.BulletGraph.flowDirection.Forward?(a=t.isNullOrUndefined(u)?0:u.toString().length,o=this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x:this._scale.location.x-this._scale.labels.labelOffset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i)))),h=this._orientation==t.BulletGraph.orientation.Horizontal?this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i))):this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i))),e=this._orientation==t.BulletGraph.orientation.Horizontal?o-this._scale.labels.labelOffset-a:this._scale.location.x+this.model.quantitativeScaleLength):(o=this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x-this._scale.labels.labelOffset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i)))):this._scale.location.x,h=this._orientation==t.BulletGraph.orientation.Horizontal?this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i))):this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i))),e=this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength+this._scale.labels.labelOffset:this._scale.location.x-this._scale.labels.labelOffset),c={"class":this.svgObject.id+"_FeatureMeasure",id:this.svgObject.id+"_FeatureMeasure_"+r,x:o,y:s,height:this._scale.featuredMeasureBarStrokeThickness,width:h,fill:this._scale.featuredMeasureBarStroke,onmouseover:"evt.target.setAttribute('opacity', '0.7')",onmouseout:"evt.target.setAttribute('opacity', '1')"},this.model.drawFeatureMeasureBar&&this._onDrawFeatureMeasureBar(c,i),this.svgRenderer.drawRect(c,this._scaleGroup),transformText=this._orientation==t.BulletGraph.orientation.Vertical?"rotate(90,"+e+","+(f-4)+")":"rotate(0,"+e+","+f+")",l={x:e,y:f+this._scale.featuredMeasureBarStrokeThickness/2,"text-anchor":"middle",fill:this._scale.labels.labelStroke,"font-size":this._scale.labels.labelSize+"px","font-family":this._scale.labels.font.fontFamily,"font-style":this._scale.labels.font.fontStyle,"font-weight":this._scale.labels.font.fontWeight,opacity:this._scale.labels.font.opacity,transform:transformText},this.model.drawCategory&&this._onDrawCategoryText(l,u),t.isNullOrUndefined(u)||this.svgRenderer.drawText(l,u,this._scaleGroup),n+=2},_drawComparativeMeasureSymbol:function(){var i=1,n,f,e,r,u,o;if(this._dataCount>0)for(u=this._dataCount-1;u>=0;u--)n=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[u][this.model.fields.comparativeMeasure]:this._scale.featureMeasure[u].comparativeMeasureValue,this._tickPosition==t.BulletGraph.tickPosition.Below||this._tickPosition==t.BulletGraph.tickPosition.Cross?(f=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2-this._scale.featuredMeasureBarStrokeThickness:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2-this._scale.featuredMeasureBarStrokeThickness+this._scale.labels.labelOffset+this._scale.labels.labelSize,e=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2+2*this._scale.featuredMeasureBarStrokeThickness:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2+2*this._scale.featuredMeasureBarStrokeThickness+this._scale.labels.labelOffset+this._scale.labels.labelSize):(f=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2-this._scale.featuredMeasureBarStrokeThickness+this._scale.majorTickSize:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2-this._scale.featuredMeasureBarStrokeThickness+this._scale.majorTickSize+this._scale.labels.labelOffset+this._scale.labels.labelSize,e=this._labelPosition==t.BulletGraph.labelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2+2*this._scale.featuredMeasureBarStrokeThickness+this._scale.majorTickSize:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureBarStrokeThickness/2+2*this._scale.featuredMeasureBarStrokeThickness+this._scale.majorTickSize+this._scale.labels.labelOffset+this._scale.labels.labelSize),r=this._flowDirection==t.BulletGraph.flowDirection.Forward?this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n))):this._scale.location.x-this._scale.labels.labelOffset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n)))):this._orientation==t.BulletGraph.orientation.Horizontal?this._scale.location.x-this._scale.labels.labelOffset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n)))):this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n))),o={"class":this.svgObject.id+"_ComparativeMeasure",id:this.svgObject.id+"_ComparativeMeasure_"+u,x1:n==this._scale.maximum?r-this._scale.comparativeMeasureSymbolStrokeThickness/2:n==this._scale.minimum?r+this._scale.comparativeMeasureSymbolStrokeThickness/2:r,y1:f,x2:n==this._scale.maximum?r-this._scale.comparativeMeasureSymbolStrokeThickness/2:n==this._scale.minimum?r+this._scale.comparativeMeasureSymbolStrokeThickness/2:r,y2:e,"stroke-width":this._scale.comparativeMeasureSymbolStrokeThickness,stroke:this._scale.comparativeMeasureSymbolStroke},this.model.drawComparativeMeasureSymbol&&this._onDrawComparativeMeasure(o,n),this.svgRenderer.drawLine(o,this._scaleGroup),i+=2},_setTheme:function(n,i){var u=[],e,r,f;this._scale=this.model.quantitativeScale;for(e in n)u.push(e);for(r=0;r<u.length;r++)for(this._scale.majorTickStroke=!this._scale.majorTickStroke||this._scale.majorTickStroke==n[u[r]].quantitativeScale.majorTickStroke?n[i].quantitativeScale.majorTickStroke:this._scale.majorTickStroke,this._scale.minorTickStroke=!this._scale.minorTickStroke||this._scale.minorTickStroke==n[u[r]].quantitativeScale.minorTickStroke?n[i].quantitativeScale.minorTickStroke:this._scale.minorTickStroke,this._scale.labels.labelStroke=!this._scale.labels.labelStroke||this._scale.labels.labelStroke==n[u[r]].quantitativeScale.labels.labelStroke?n[i].quantitativeScale.labels.labelStroke:this._scale.labels.labelStroke,this._scale.featuredMeasureBarStroke=!this._scale.featuredMeasureBarStroke||this._scale.featuredMeasureBarStroke==n[u[r]].quantitativeScale.featuredMeasureBarStroke?n[i].quantitativeScale.featuredMeasureBarStroke:this._scale.featuredMeasureBarStroke,this._scale.comparativeMeasureSymbolStroke=!this._scale.comparativeMeasureSymbolStroke||this._scale.comparativeMeasureSymbolStroke==n[u[r]].quantitativeScale.comparativeMeasureSymbolStroke?n[i].quantitativeScale.comparativeMeasureSymbolStroke:this._scale.comparativeMeasureSymbolStroke,this.model.caption.font.color=!this.model.caption.font.color||this.model.caption.font.color==n[u[r]].caption.font.color?n[i].caption.font.color:this.model.caption.font.color,this.model.caption.subtitle.font.color=!this.model.caption.subtitle.font.color||this.model.caption.subtitle.font.color==n[u[r]].caption.subtitle.font.color?n[i].caption.subtitle.font.color:this.model.caption.subtitle.font.color,f=0;f<this.model.qualitativeRanges.length;f++)this.model.qualitativeRanges[f].rangeStroke=this.model.qualitativeRanges[f].rangeStroke?this.model.qualitativeRanges[f].rangeStroke:t.isNullOrUndefined(n[i].qualitativeRanges[f])?n[i].qualitativeRanges[0].rangeStroke:n[i].qualitativeRanges[f].rangeStroke},_onDrawTicks:function(n,t,i){var r={Object:this,scaleElement:this.model.quantitativeScale,tickIndex:i,tickElement:n,tickType:t};this._trigger("drawTicks",r)},_onDrawLabels:function(n,t,i){var r={Object:this,scaleElement:this.model.quantitativeScale,labelValue:i,labelElement:n,labelType:t};this._trigger("drawLabels",r)},_onDrawCaption:function(n,t,i){var r={Object:this,scaleElement:this.model.quantitativeScale,captionText:i,captionElement:n,captionType:t};this._trigger("drawCaption",r)},_onDrawQualitativeRanges:function(n,t,i){var r={Object:this,scaleElement:this.model.quantitativeScale,rangeIndex:i,rangeElement:n,rangeEndValue:t};this._trigger("drawQualitativeRanges",r)},_onDrawFeatureMeasureBar:function(n,t){var i={Object:this,scaleElement:this.model.quantitativeScale,currentElement:n,Value:t};this._trigger("drawFeatureMeasureBar",i)},_onDrawCategoryText:function(n,t){var i={Object:this,scaleElement:this.model.quantitativeScale,categoryElement:n,Value:t};this._trigger("drawCategory",i)},_onDrawComparativeMeasure:function(n,t){var i={Object:this,scaleElement:this.model.quantitativeScale,targetElement:n,Value:t};this._trigger("drawComparativeMeasureSymbol",i)},_doAnimation:function(){for(var i=n("."+this.svgObject.id+"_FeatureMeasure"),r,t=i.length-1;t>=0;t--)r=i[t],this._animateFeatureBar(r)},_doLineAnimation:function(){for(var i=n("."+this.svgObject.id+"_ComparativeMeasure"),u=2e3/i.length,r,t=i.length-1;t>=0;t--)r=i[t],n(r).attr("transform","scale(0)"),this._doLineSymbol(r,u,t)},_animateFeatureBar:function(i){var r=i.getBBox(),u,f;this._orientation==t.BulletGraph.orientation.Horizontal&&this._flowDirection==t.BulletGraph.flowDirection.Backward||this._orientation==t.BulletGraph.orientation.Vertical&&this._flowDirection==t.BulletGraph.flowDirection.Forward?(u=r.x+r.width,f=r.y+r.height):(u=r.x,f=r.y),n(i).animate({scale:1},{duration:1e3,step:function(t){scaleVal=t,n(i).attr("transform","translate("+u+" "+f+") scale("+t+",1) translate("+-u+" "+-f+")")}})},_doLineSymbol:function(t,i,r){var o=parseInt(r*i),u=t.getBBox(),f=u.x+u.width/2,e=u.y+u.height/2;n(t).delay(o).animate({scale:1},{duration:200,step:function(i){n(t).attr("transform","translate("+f+" "+e+") scale("+i+") translate("+-f+" "+-e+")")}})},bindEvents:function(){this.model.showTooltip&&this._on(n(this.svgObject),"mousemove",this._bulletMouseMove),this.model.needResize&&(this.isDevice()?this._on(n(window),"orientationchange",this._bulletResize):this._on(n(window),"resize",this._bulletResize))},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bulletResize:function(){var t=this,i=n(t.svgObject);this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){t.isDevice()?(i.width(n(t.element).width()),i.height(n(t.element).height())):(t.svgWidth>n(this).width()?i.width(n(this).width()):i.width(t.svgWidth),t.svgHeight>n(this).height()?i.height(n(this).height()):i.height(t.svgHeight)),t.redraw()},500)},_bulletMouseMove:function(r){var l,a,v,f,y,s,u=n(".tooltipDiv"),h,c,p,e,o;y=n(r.target).attr("id"),s=n(r.target).attr("class"),s!="undefined"&&(s==this.svgObject.id+"_FeatureMeasure"||s==this.svgObject.id+"_ComparativeMeasure")?(f=y.toString().split("_")[3],l=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[f][this.model.fields.featureMeasure]:this._scale.featureMeasure[f].value,a=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[f][this.model.fields.comparativeMeasure]:this._scale.featureMeasure[f].comparativeMeasureValue,v=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?t.isNullOrUndefined(this.model.fields.dataSource[f][this.model.fields.category])?null:this.model.fields.dataSource[f][this.model.fields.category]:t.isNullOrUndefined(this._scale.featureMeasure[f].category)?null:this._scale.featureMeasure[f].category,h={currentValue:l,targetValue:a,category:v},n(".tooltipDiv").length==0&&(u=n("<div class='tooltipDiv' style='position: absolute; z-index: 105; display: block;'><\/div>"),n(document.body).append(u),n(".tooltipDiv").addClass(this.svgObject.id)),this.model.tooltipTemplateId!=""&&this.model.tooltipTemplateId!=null?(c=n("#"+this.model.tooltipTemplateId).clone(),n(c).css("display","block").appendTo(u),n(u).html(n(c).render(h))):(p=t.isNullOrUndefined(h.category)?"":"<br/> Category : "+h.category,n(u).html("Current : "+h.currentValue+"<br/> Target : "+h.targetValue+p)),n(u).css("font-size","12px"),e=r.clientX+n(document).scrollLeft()+10,o=r.clientY+n(document).scrollTop()+10,e=e+n(u).width()<n(window).width()?e:e-n(u).width(),o=o+n(u).height()<n(window).height()?o:o-n(u).height(),(e===i||e===null)&&(e=r.clientX+n(document).scrollLeft()+10),(o===i||o===null)&&(o=r.clientY+n(document).scrollTop()+10),n(u).css("left",e),n(u).css("top",o),n(u).css({"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"})):s!=this.svgObject.id+"_FeatureMeasure"&&s!=this.svgObject.id+"_ComparativeMeasure"&&n(".tooltipDiv").remove()},redraw:function(){n(this.svgObject).empty(),this._renderBulletElements()},destroy:function(){n(this.element).removeClass("e-bulletgraph e-js").find("#"+this.svgObject.id).remove()},setFeatureMeasureBarValue:function(n,i){this._scale=this.model.quantitativeScale;var r=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource.length:this._scale.featureMeasure.length;n<r&&i!=null&&(t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this._scale.featureMeasure[n].value=i:this.model.fields.dataSource[n][this.model.fields.featureMeasure]=i,this.redraw(),this.model.enableAnimation&&this._doAnimation())},setComparativeMeasureSymbol:function(n,i){this._scale=this.model.quantitativeScale;var r=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource.length:this._scale.featureMeasure.length;n<r&&i!=null&&(t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this._scale.featureMeasure[n].comparativeMeasureValue=i:this.model.fields.dataSource[n][this.model.fields.comparativeMeasure]=i,this.redraw(),this.model.enableAnimation&&this._doLineAnimation())}}),t.BulletGraph.orientation={Horizontal:"horizontal",Vertical:"vertical"},t.BulletGraph.tickPosition={Below:"below",Above:"above",Cross:"cross"},t.BulletGraph.labelPosition={Below:"below",Above:"above"},t.BulletGraph.flowDirection={Forward:"forward",Backward:"backward"},t.BulletGraph.fontStyle={Normal:"Normal",Italic:"Italic",Oblique:"Oblique"},t.BulletGraph.fontWeight={Normal:"Normal",Bold:"Bold",Bolder:"Bolder",Lighter:"Lighter"},t.BulletGraph.themes={flatlight:{quantitativeScale:{majorTickStroke:"#191919",minorTickStroke:"#191919",labels:{labelStroke:"#191919"},featuredMeasureBarStroke:"#191919",comparativeMeasureSymbolStroke:"#191919"},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],caption:{font:{color:"#191919"},subtitle:{font:{color:"#191919"}}}},flatdark:{quantitativeScale:{majorTickStroke:"#ffffff",minorTickStroke:"#ffffff",labels:{labelStroke:"#ffffff"},featuredMeasureBarStroke:"#ffffff",comparativeMeasureSymbolStroke:"#ffffff"},qualitativeRanges:[{rangeStroke:"#b3b3b3"},{rangeStroke:"#999999"},{rangeStroke:"#4d4d4d"}],caption:{font:{color:"#ffffff"},subtitle:{font:{color:"#ffffff"}}}}}}(jQuery,Syncfusion),function(n,t,r){t.widget("ejGrid","ej.Grid",{_rootCSS:"e-grid",element:null,validTags:["div"],model:null,keyConfigs:{focus:"e",insertRecord:"45",deleteRecord:"46",editRecord:"113",saveRequest:"13",cancelRequest:"27",nextPage:"34",previousPage:"33",lastPage:"ctrl+alt+34",firstPage:"ctrl+alt+33",nextPager:"alt+34",previousPager:"alt+33",firstCellSelection:"36",lastCellSelection:"35",firstRowSelection:"ctrl+36",lastRowSelection:"ctrl+35",upArrow:"38",downArrow:"40",moveCellRight:"9",moveCellLeft:"shift+9",selectedGroupExpand:"alt+40",totalGroupExpand:"ctrl+40",selectedGroupCollapse:"alt+38",totalGroupCollapse:"ctrl+38"},_ignoreOnPersist:["query","isEdit","toolBarClick","queryCellInfo","currentViewData","altRow","rtl","rowDataBound","rowTemplate","detailData","detailTemplate","summaryRows","toolBar","edit","allowMultiSorting","autoSaveOnRowSelection","localization","allowScrolling","cssClass","dataSource","enableEffects","rowHover","allowSummary","headerEffects","allowKeyboardNavigation"],observables:["dataSource"],defaults:{allowPaging:!1,allowSorting:!1,allowFiltering:!1,allowSelection:!0,allowGrouping:!1,enableEffects:!0,allowSummary:!1,rowHover:!0,persist:!1,selectedRow:-1,allowSearching:!1,headerEffects:!1,allowReordering:!1,allowKeyboardNavigation:!0,selectionType:"single",dataSource:null,cssClass:"",allowScrolling:!1,localization:"en-US",autoSaveOnRowSelection:!0,allowMultiSorting:!1,edit:{allowEditing:!1,allowAdding:!1,allowDeleting:!1,editMode:"normal",dialogEditorTemplateId:null,editEvent:"doubleclick",externalFormTemplateId:null,inlineFormTemplateId:null,formPosition:"bottomLeft"},pageSettings:{pageSize:12,pageCount:8,currentPage:1,totalPages:null,totalRecordsCount:null,enableQueryString:!1},groupSettings:{toggleGrouping:!1,groupedColumnShow:!0,showUngroupButton:!0,showAnimateButton:!0,groupedColumns:[]},filterSettings:{filterType:"filterbar",filterBarMode:"immediate",showFilterBarMessage:!0,statusBarWidth:450,showPredicate:!1,filteredColumns:[]},sortSettings:{sortedColumns:[]},toolBar:{allowToolBar:!1,toolBarItems:[]},scrolling:{width:250,height:0,allowVirtualScrolling:!1},summaryRows:[],detailTemplate:null,detailData:null,rowTemplate:null,rowDataBound:null,rtl:!1,altRow:!0,currentViewData:null,queryCellInfo:null,toolBarClick:null,columns:[],query:t.Query(),isEdit:!1},dataTypes:{dataSource:"data",columns:"array",summaryRows:"array",toolBar:{toolBarItems:"array"},sortSettings:{sortedColumns:"array"},filterSettings:{filteredColumns:"array"},groupSettings:{groupedColumns:"array"}},getGridHeaderTable:function(){return this._gridHeaderTable},setGridHeaderTable:function(n){this._gridHeaderTable=n},getGridContentTable:function(){return this._gridContentTable},setGridContentTable:function(n){this._gridContentTable=n},getGridContent:function(){return this._gridContent},setGridContent:function(n){this._gridContent=n},getGridHeaderContent:function(){return this._gridHeaderContent},setGridHeaderContent:function(n){this._gridHeaderContent=n},getGridPager:function(){return this._gridPager},getGridRows:function(){return this._gridRows},setGridPager:function(n){this._gridPager=n},getGridFilterBar:function(){return this._gridFilterBar},setGridFilterBar:function(n){this._gridFilterBar=n},getCurrentViewData:function(){return this._currentJsonData},_init:function(){this._trigger("load"),this._initPrivateProperties(),this.model.scrolling.allowVirtualScrolling&&this.model.allowScrolling&&(this.model.pageSettings.pageSize=this.model.pageSettings.pageSize==12?Math.round(this.model.scrolling.height/38)+1:this.model.pageSettings.pageSize,this.model.pageSettings.totalPages=Math.ceil(this._gridRecordsCount/this.model.pageSettings.pageSize)),(this.model.width||this.model.height)&&(this.model.allowScrolling=!0,this.model.width&&(this.model.scrolling.width=this.model.width),this.model.height&&(this.model.scrolling.height=this.model.height)),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&this._processEditing(),this._checkDataBinding()},_setModel:function(i){var r,f,s,e,o,u;for(r in i)switch(r){case"pageSettings":n.extend(this.model.pageSettings,i[r]),this.getGridPager().ejPager("option",i[r]),this.refreshGridContent();break;case"allowPaging":this.model.allowPaging=i[r],i[r]&&this.element.children(".e-pager").length==0?(this.element.append(this._renderGridPager()),this.refreshGridContent(),this.getGridPager().ejPager("refreshPager")):(this.getGridPager().remove(),this.setGridPager(null),this.refreshGridContent(),this.model.filterSettings.filterType=="filterbar"&&this.model.allowFiltering&&this._createPagerStatusBar());break;case"allowGrouping":i[r]&&this.element.children(".e-groupdroparea").length==0?(this.model.allowGrouping=i[r],this.addGroupingTemplate(),this.element.prepend(this._renderGroupDropArea()),this._enableGroupingEvents(),this._headerCellgDragDrop()):this.element.children(".e-groupdroparea").remove();break;case"groupSettings":n.extend(this.model.groupSettings,i[r]),this.templateRefresh(),this.model.groupSettings.toggleGrouping&&(f=this._renderGridHeader().find("table"),this.element.children(".e-gridheader").find("table").replaceWith(f),this.setGridHeaderTable(f),this.setWidthToColumns());break;case"cssClass":this.element.removeClass(this.model.cssClass).addClass(i[r]);break;case"allowFiltering":case"filterSettings":if(r=="filterSettings"?n.extend(this.model.filterSettings,i[r]):this.model.allowFiltering=i[r],this.model.allowFiltering){if(this.model.filterSettings.filterType==t.Grid.filterType.FilterBar)for(this.getGridHeaderTable().find(".e-filterbar").remove(),this.getGridHeaderTable().find(".e-columnheader").find(".e-filtericon").remove().end().find(".e-headercellfilter").removeClass("e-headercellfilter"),this._renderFiltering(),this.model.filterSettings.showFilterBarMessage&&!this.model.allowPaging?this._createPagerStatusBar():this.model.filterSettings.showFilterBarMessage&&this.model.allowPaging&&this.getGridPager().ejPager({enableExternalMessage:!0}),s=this.getGridHeaderTable().find(".e-filterbar"),e=0;e<this.model.groupSettings.groupedColumns.length;e++)s.prepend(this._getEmptyFilterBarCell());else this.model.filterSettings.filterType==t.Grid.filterType.Menu&&(this.getGridHeaderTable().find(".e-columnheader").find(".e-filtericon").remove().end().find(".e-headercellfilter").removeClass("e-headercellfilter"),this.getGridHeaderTable().find(".e-filterbar").remove(),this.getGridHeaderTable().find(".e-columnheader").find(".e-headercell").addClass("e-headercellfilter").append(t.buildTag("div.e-filtericon")),this._renderFilterDialogs());this._enableFilterEvents()}else this.model.filterSettings.filterType==t.Grid.filterType.FilterBar?this.getGridHeaderTable().find(".e-filterbar").remove():this.model.filterSettings.filterType==t.Grid.filterType.Menu&&this.getGridHeaderTable().find(".e-columnheader").find(".e-filtericon").remove().end().find(".e-headercellfilter").removeClass("e-headercellfilter"),this.model.filterSettings.filteredColumns=[],this.refreshGridContent();break;case"rowHover":this.model.rowHover=i[r],this._enableRowHover();break;case"allowScrolling":case"scrolling":u=this.getGridContent(),t.util.isNullOrUndefined(i.scrolling)||n.extend(this.model.scrolling,i.scrolling),t.util.isNullOrUndefined(i.allowScrolling)||(this.model.allowScrolling=i.allowScrolling),t.util.isNullOrUndefined(u.data("ejScroller"))||u.ejScroller("destroy"),this.model.allowScrolling?(this.getGridHeaderTable().parent().addClass("e-headercontent"),this._renderScroller()):(this.element.children(".e-gridheader").removeClass("e-scrollcss"),this.element.get(0).style.width.length==0&&this.element.css("width","auto"));break;case"localization":this.model.localization=i[r],o=this.model,o.query=new t.Query,this.element.ejGrid("destroy").ejGrid(o);break;case"dataSource":this.resetModelCollections(),this.dataSource(i[r]);break;case"selectedRow":this.selectRows(i[r]);break;case"edit":n.extend(this.model.edit,i[r]),this._processEditing(),this.refreshBatchEditMode(),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&(this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"?(n("#"+this._id+"_dialogEdit_wrapper,#"+this._id+"_dialogEdit").remove(),this.element.append(this._renderDialog())):(this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate")&&(n("#"+this._id+"_externalEdit").remove(),this.element.append(this._renderExternalForm()))),this._enableEditingEvents();break;case"enableEffects":this.model.enableEffects=!0,i[r]?this.collapseGroupDropArea():this.expandGroupDropArea();break;case"allowSummary":case"summaryRows":r!="allowSummary"||i[r]?(u=this.element.find(".e-gridcontent").first(),this._renderGridFooter().insertAfter(u)):this.element.children(".e-gridfooter").remove();break;case"altRow":this.model.altRow=i[r],this.addInitTemplate(),this.refreshGridContent();break;case"toolBar":n.extend(this.model.toolBar,i[r]),this.element.children(".e-gridtoolbar").remove(),this.model.toolBar.allowToolBar&&this._renderToolBar().insertBefore(this.element.find(".e-gridheader").first());break;case"sortSettings":n.extend(this.model.sortSettings,i[r]),this.refreshGridContent();break;case"rtl":this.model.rtl=i[r],this.refreshGridContent();break;case"allowSelection":i[r]&&this._off(this.element,"click")._on(this.element,"click",this._clickHandler)}},resetModelCollections:function(){this.model.groupSettings.groupedColumns=[],this.model.filterSettings.filteredColumns=[],this.model.sortSettings.sortedColumns=[],n.extend(this.model.pageSettings,this.defaults.pageSettings),this.model.summaryRows=[]},_renderAfterColumnInitialize:function(){this.element.append(this._renderGridHeader()),this.model.allowFiltering&&this.model.filterSettings.filterType=="filterbar"&&this._renderFiltering(),this.model.allowPaging&&this.element.append(this.element.find(".e-pager").first())},_checkDataBinding:function(){if(this.model.persist&&(this.model.query=new t.Query),this._initialRenderings(),this._initialRender=!0,this.model.rtl&&this.element.addClass("e-rtl"),this.model.cssClass!=null&&this.element.addClass(this.model.cssClass),this.model.allowGrouping&&this.element.append(this._renderGroupDropArea()),this.model.toolBar.allowToolBar&&this.element.append(this._renderToolBar()),this.model.columns.length&&this._renderAfterColumnInitialize(),this.model.allowPaging&&this.element.append(this._renderGridPager()),n.isFunction(n.fn.ejWaitingPopup)&&(this.element.ejWaitingPopup({autoDisplay:!1}),n("#"+this._id+"_WaitingPopup").addClass("e-gridwaitingpopup")),this.model.dataSource instanceof t.DataManager)if(this.element.ejWaitingPopup("show"),this.model.dataSource.ready!=r){var i=this;this.model.dataSource.ready.done(function(n){i._initDataSource(),i.model.dataSource=t.DataManager(n.result)})}else this.element.ejWaitingPopup("show"),this._initDataSource();else this._ensureDataSource(),this._trigger("actionBegin"),this._initGridRender()},_initDataSource:function(){this._ensureDataSource(),this._trigger("actionBegin");var n=this.model.dataSource.executeQuery(this.model.query);this._dataManager.dataSource.table!=null&&this._dataManager.dataSource.table.css("display","none"),n.done(t.proxy(function(n){this.element.ejWaitingPopup("hide"),this.model.currentViewData=n.result,this._gridRecordsCount=this.model.pageSettings.totalRecordsCount!=null&&this.model.filterSettings.filteredColumns.length==0?this.model.pageSettings.totalRecordsCount:n.count==0&&n.result.length?n.result.length:n.count,this._initGridRender()},this))},_renderFilterDialogs:function(){var i,r,u,f;n.each(this.model.columns,t.proxy(function(n,t){t.type!="string"||i?t.type!="number"||r?t.type!="date"||f?t.type!="boolean"||u||(u=!0,this._renderBoolDialog()):(f=!0,this._renderDateDialog()):(r=!0,this._renderNumDialog()):(i=!0,this._renderStringDialog())},this))},_renderStringDialog:function(){var n=this._id+"_stringDlg",i=t.buildTag("div#"+n+".e-dlgcontainer");i.appendTo("body"),this._renderFDialog(n),this._renderDlgContent(i,"string")},_renderBoolDialog:function(){var i=this._id+"_booleanDlg",r=t.buildTag("div#"+i+".e-dlgcontainer");r.appendTo("body"),this._renderFDialog(i),this.model.filterSettings.showPredicate?n("#"+i).ejDialog({minHeight:136}):n("#"+i).ejDialog({minHeight:90}),this._renderDlgContent(r,"boolean")},_renderNumDialog:function(){var n=this._id+"_numberDlg",i=t.buildTag("div#"+n+".e-dlgcontainer");i.appendTo("body"),this._renderFDialog(n),this._renderDlgContent(i,"number")},_renderDateDialog:function(){var n=this._id+"_dateDlg",i=t.buildTag("div#"+n+".e-dlgcontainer");i.appendTo("body"),this._renderFDialog(n),this._renderDlgContent(i,"date")},_renderFDialog:function(t){n("#"+t).ejDialog({autoOpen:!1,rtl:this.model.rtl,cssClass:this.model.cssClass,showHeader:!1,width:260,resizable:!1,allowKeyboardNavigation:!1,contentContainer:"#"+this._id})},_renderDlgContent:function(i,r){i.addClass("e-grid");var f=t.buildTag("div.e-predicate"),s=t.buildTag("div.e-operator"),e=t.buildTag("div.e-value"),c=t.buildTag("input#"+this._id+r+"_ddinput",{},{},{type:"text"}),l=t.buildTag("div#"+this._id+r+"_dropdown"),h=t.buildTag("ul"),a=t.buildTag("input",{},{},{type:"radio",name:this._id+"_predicate"+r,value:"or"}),v=t.buildTag("input",{},{},{type:"radio",name:this._id+"_predicate"+r,value:"and",checked:"checked"}),o;f.append(v).append(t.buildTag("span.e-caption").html("AND")).append(a).append(t.buildTag("span.e-caption").html("OR")),this.model.filterSettings.showPredicate||f.hide(),r=="string"&&(o=t.buildTag("input",{},{},{type:"checkbox"}),f.append(o).append(t.buildTag("span.e-caption").html("Match Case")),n.each(["StartsWith","EndsWith","Contains","Equal","NotEqual"],function(n,i){h.append(t.buildTag("li").html(i))})),(r=="number"||r=="date")&&n.each(["LessThan","GreaterThan","LessThanOrEqual","GreaterThanOrEqual","Equal","NotEqual"],function(n,i){h.append(t.buildTag("li").html(i))}),r!="boolean"&&(l.append(h),s.append(c),s.append(l));var u=t.buildTag("input",{},{},{type:"text"}),y=t.buildTag("input",{},{},{type:"checkbox"}),p=t.buildTag("input.e-filter",{},{},{type:"button",value:"Filter"}),w=t.buildTag("input.e-clear",{},{},{type:"button",value:"Clear"});e.append(t.buildTag("span.e-caption").html("Filter : ")),i.append(f),r=="boolean"?e.append(y):(e.append(t.buildTag("br")).append(u),i.append(s)),i.append(e),i.append(t.buildTag("div.e-dlgBtns").append(p).append(w)),c.ejDropDownList({cssClass:this.model.cssClass,rtl:this.model.rtl,targetId:this._id+r+"_dropdown",width:"230px",height:"26px",selectedItem:0}),a.ejRadioButton({cssClass:this.model.cssClass,rtl:this.model.rtl}),v.ejRadioButton({cssClass:this.model.cssClass,rtl:this.model.rtl,check:!0}),o&&o.ejCheckBox({cssClass:this.model.cssClass,rtl:this.model.rtl}),i.css("display","none"),this._createButton("filter",p),this._createButton("clear",w),r=="number"?u.ejNumericTextbox({cssClass:this.model.cssClass,rtl:this.model.rtl,value:0,showSpinButton:!1,height:"26px",decimal:2}):r=="date"?u.ejDatePicker({cssClass:this.model.cssClass,rtl:this.model.rtl,width:230}):r=="boolean"?y.ejCheckBox({cssClass:this.model.cssClass,rtl:this.model.rtl}):r=="string"&&(u.attr("id",this._id+"_acString"),u.ejAutocomplete({cssClass:this.model.cssClass,rtl:this.model.rtl,dataSource:this.model.dataSource,width:230,height:26,distinct:!0}))},_createButton:function(n,i){var r=n=="filter"?t.proxy(this._fltrBtnHandler,this):t.proxy(this._fltrClrHandler,this);i.ejButton({cssClass:this.model.cssClass,rtl:this.model.rtl,click:r})},_fltrBtnHandler:function(){var u=n("#"+this._id+"_"+this._$colType+"Dlg"),i=u.find(".e-value input"),f,t=i.val(),e=r;this._$colType=="number"&&(t=parseFloat(i.ejNumericTextbox("getValue")),e=!0),this._$colType=="string"&&(e=u.find(".e-predicate input[type='checkbox']").is(":checked")),this._$colType=="date"&&(t=Globalize.parseDate(t,this._$colFormat)),this._$colType=="boolean"?(t=i.ejCheckBox("model.check")!=null?i.ejCheckBox("model.check"):!1,f="equal"):f=n("#"+this._id+this._$colType+"_ddinput").ejDropDownList("getSelectedItem").toLowerCase(),this.sendFilteringRequest(this._$curFieldName,f,t,u.find(".e-predicate input[type='radio']:checked").attr("value"),e)},_fltrClrHandler:function(){var t="#"+this._id+"_"+this._$colType+"Dlg";this._$colType=="boolean"?n(t).find(".e-value input").ejCheckBox("model.check",!1):n(t).find(".e-value input").val(""),this.sendFilteringRequest(this._$curFieldName,"","","or")},_processEditing:function(){var n=this._columnToSelect(),i;this.model.query._fromTable!=""&&n.from(this.model.query._fromTable),this.model.dataSource instanceof t.DataManager&&n.queries.length?(i=this.model.dataSource.executeQuery(n),i.done(t.proxy(function(n){this._dropDownManager=t.DataManager(n.result),this.model.edit.editMode=="normal"?this.addEditingTemplate():this.model.edit.editMode=="batch"?this.addBulkEditTemplate():this.model.edit.editMode=="dialog"||this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="inlineForm"?this.addDialogEditingTemplate():this.addExternalDialogEditingTemplate()},this))):this.model.edit.editMode=="normal"?this.addEditingTemplate():this.model.edit.editMode=="batch"?this.addBulkEditTemplate():this.model.edit.editMode=="dialog"||this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="inlineForm"?this.addDialogEditingTemplate():this.addExternalDialogEditingTemplate()},_initGridRender:function(){this.addInitTemplate(),this.model.allowGrouping&&this.addGroupingTemplate(),this.renderGrid(),this.model.allowGrouping&&this._headerCellgDragDrop(),this.model.allowReordering&&(this._headerCellreorderDragDrop(),this._initIndicators()),this._wireEvents(),this.model.allowResizing&&(this._resizer=new gridResize(this)),this._initialRender=!1,this.model.width&&!this.model.allowScrolling&&this.element.width(this.model.width),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&this._processEditing(),this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&this._renderFilterDialogs()},_checkSkipAction:function(n){switch(n.requestType){case t.Grid.actions.Save:case t.Grid.actions.Delete:return!0}return!1},_bulkChangesAcquired:function(){return this._batchChanges.added.length>0||this._batchChanges.changed.length||this._batchChanges.deleted.length?!0:!1},_processBindings:function(n){if(this.model.query=this.model.query._fromTable!=""?new t.Query(this.model.query._fromTable):new t.Query,!this._checkSkipAction(n)&&this._trigger("actionBegin",n))return!0;if(this.model.edit.editMode=="batch"&&n.requestType!="bulksave"&&n.requestType!="cancel"&&!this._confirmedValue&&this._bulkChangesAcquired())return this._confirmDialog.find(".e-content").html(this._getLocalizedLabels("BulkSaveLostChanges")),this._confirmDialog.ejDialog("open"),this._requestArgs=n,!1;if(this._ensureDataSource(n),this.model.rtl?this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"):this.element.hasClass("e-rtl")&&this.element.removeClass("e-rtl"),n.requestType==t.Grid.actions.Delete&&this.model.groupSettings.groupedColumns.length==0&&n.tr.remove(),this.model.dataSource instanceof t.DataManager&&n.requestType!=t.Grid.actions.BeginEdit&&n.requestType!=t.Grid.actions.Cancel&&n.requestType!=t.Grid.actions.Add){var i=this.model.dataSource.executeQuery(this.model.query),r=this.element.ejWaitingPopup("instance");this.element.ejWaitingPopup("show"),i.done(t.proxy(function(i){this.element.ejWaitingPopup("hide"),this.model.currentViewData=i.result,this._gridRecordsCount=i.count==0&&i.result.length?i.result.length:i.count,(n.requestType==t.Grid.actions.Filtering||this.model.filterSettings.filteredColumns.length>0&&n.requestType==t.Grid.actions.Refresh)&&(this._filteredRecordsCount=i.count),this.sendDataRenderingRequest(n)},this)),i.fail(t.proxy(function(){this.element.ejWaitingPopup("hide")},this))}else this.sendDataRenderingRequest(n)},_initPrivateProperties:function(){this._gridHeaderTable=null,this._gridWidth=this.element.width(),this._id=this.element.attr("id"),this._gridRows=null,this._gridContentTable=null,this._gridContent=null,this._gridHeaderContent=null,this._gridRecordsCount=this.model.dataSource!==null?this.model.pageSettings.totalRecordsCount==null?this.model.dataSource.length:this.model.pageSettings.totalRecordsCount:0,this._links=null,this._gridPager=null,this._cSortedColumn=null,this._cSortedDirection=null,this._$curSElementTarget=null,this._gridFilterBar=null,this._$curFieldName=null,this._$prevFieldName=null,this._$fDlgIsOpen=!1,this._$colType=null,this._$colFormat=null,this._$prevColType=null,this._$prevSElementTarget=null,this._currentFilterColumn=null,this._filteredRecordsCount=null,this._filteredRecords=[],this.filterColumnCollection=[],this._primaryKeys=[],this._primaryKeyValues=[],this._modifiedRecords=[],this._addedRecords=[],this._tdsOffsetWidth=[],this._deletedRecords=[],this._disabledToolItems=n(),this._validationRules={},this._groupedColumns=[],this._currentJsonData=[],this._groupingColumnIndex=0,this._dataManager=this.model.dataSource instanceof t.DataManager?this.model.dataSource:this.model.dataSource!=null?t.DataManager(this.model.dataSource):null,this._dataManager!=null&&this.model.allowScrolling&&this.model.scrolling.allowVirtualScrolling&&this.model.pageSettings.totalRecordsCount!=null&&this._dataManager.dataSource.json!=null&&this._dataManager.dataSource.json.splice(this.model.pageSettings.totalRecordsCount),this._disabledSortableColumns=[],this._disabledGroupableColumns=[],this._disabledFilterableColumns=[],this._hiddenColumns=[],this._visibleColumns=[],this._sortedColumns=[],this._multiSortRequest=!1,this._multiSelectCtrlRequest=!1,this._multiSelectShiftRequest=!1,this._initialRender=!1,this._fieldColumnNames={},this._headerColumnNames={},this._selectedRowsIndexes=[],this._isReorder=!1,this._searchString="",this._searchCount=null,this._columnsWidthCollection=[],this._Indicator=null,this._resizer=null,this._dropDownTemplate=this._compiledDropDownTemplate(),this._bulkEditCellDetails={cellValue:null,rowIndex:-1,columnIndex:-1,fieldName:null,_data:null,cellEditType:"",cancelSave:!1,defaultData:null,insertedTrCollection:[],rowData:null},this._batchChanges={added:[],deleted:[],changed:[]},this._bulkEditTemplate=n(),this._confirmDialog=null,this._confirmedValue=!1,this._lastRow=!1,this._isVirtualRecordsLoaded=!1},addInitTemplate:function(){var v=this.element.find(".e-headercelldiv"),c=document.createElement("tbody"),o,u,i,s,l,f,a,e,h;if(this.model.rowTemplate==null){for(o=document.createElement("tr"),u=this.model.columns,this._gridRecordsCount&&this._initColumns(this.model.currentViewData[0]!=r?this.model.currentViewData[0]:this.model.currentViewData.value),s={_gridFormatting:this.formatting},n.views.helpers(s),this.model.detailTemplate&&(l=t.buildTag("td.e-detailrowcollapse","<div class='e-icon e-gnextforward'><\/div>"),n(o).append(l)),i=0;i<this.model.columns.length;i++){if(f=t.buildTag("td.e-rowcell"),u[i].visible==!1&&f.addClass("e-hide"),this.model.groupSettings.groupedColumnShow||f.addClass("{{for ~groupedColumns}} {{if #data == '"+this.model.columns[i].field+"'}}e-hide{{/if}}{{/for}}"),u[i].columnTemplate)e={},e["_"+this._id+"ColumnTemplating"]=this._gridTemplate,n.views.helpers(e),n("#"+this._id+u[i].headerText+i+"_Template").remove(),a=this._createTemplateElement(u[i]),this.model.columns[i].allowGrouping=this.model.columns[i].allowFiltering=this.model.columns[i].allowSorting=!1,f.addClass("e-templatecell").html("{{:~_"+this._id+"ColumnTemplating('"+a.id+"')}}");else{switch(u[i].type){case"boolean":f.addClass("e-boolrowcell").html("{{if "+u[i].field+'}} <input type ="checkbox" disabled="disabled" checked="checked"><\/input>{{else}} <input type ="checkbox" disabled="disabled"  ><\/input> {{/if}}');break;default:f.html("{{:"+u[i].field+"}}")}u[i].format!=r&&f.html("{{:~_gridFormatting('"+u[i].format+"',"+u[i].field+")}}"),u[i].isUnBound&&(e={},e["_"+this._id+"UnboundTemplate"]=this._unboundTemplateRendering,n.views.helpers(e),this.model.columns[i].allowGrouping=this.model.columns[i].allowFiltering=this.model.columns[i].allowSorting=!1,n("#"+this._id+u[i].headerText+"_UnboundTemplate").remove(),divElement=this._createUnboundElement(u[i]),f.addClass("e-unboundcell").addClass("e-"+u[i].headerText.replace(/\s+/g,"")).html("{{:~_"+this._id+"UnboundTemplate('"+divElement.id+"')}}"),this._isUnboundColumn=!0)}u[i].textAlign!=r&&(f.css("text-align",u[i].textAlign),n(v[i]).css("text-align",u[i].textAlign)),t.isNullOrUndefined(u[i].customAttributes)||f.attr(u[i].customAttributes),n(o).append(f),this.model.altRow&&(s["_"+this._id+"AlternateRow"]=this._alternateRow,n.views.helpers(s),n(o).addClass("{{:~_"+this._id+"AlternateRow()}}"))}c.appendChild(o)}h={},h[this._id+"_JSONTemplate"]=this.model.rowTemplate!=null?n(this.model.rowTemplate).html():n(c).html(),n.templates(h)},_createTemplateElement:function(t){var i=document.createElement("script");return i.id=(this._id+t.headerText+n.inArray(t,this.model.columns)+"_Template").split(" ").join(""),i.type="text/x-jsrender",i.text=n(t.templateId).html(),n("body").append(i),n(t.templateId).hide(),i},_createUnboundElement:function(i){var f=document.createElement("div"),e,u,r,o;for(f.id=this._id+i.headerText.replace(/\s+/g,"")+"_UnboundTemplate",e=t.buildTag("div.e-unboundcelldiv"),u=i.commands,r=0;r<u.length;r++)o=t.buildTag("input.e-"+u[r].type+"button","",{},{type:"button"}),o.val(u[r].type),e.append(o);return n("body").append(n(f).html(e).hide()),f},addGroupingTemplate:function(){var c=document.createElement("tbody"),i=this,r={};r["_"+i._id+"ColSpanAdjust"]=this._colSpanAdjust,r["_"+i._id+"Colgroup"]=this._getColGroup,r["_"+i._id+"CaptionFormat"]=this._captionFormat,r[i._id+"Object"]=this,n.views.helpers(r);var f="<td class='e-recordplusexpand'><div class='e-icon e-gdiagonalnext'><\/div><\/td><td class='e-groupcaption' colspan='{{:~_"+i._id+"ColSpanAdjust('"+i._id+"Object','groupcaption') }}'>{{:~_"+i._id+"CaptionFormat('"+i._id+"Object')}}<\/td",e="<tr>"+f+"<\/tr>",u=t.buildTag("tbody");u.html("{{if items.GROUPGUID}}{{for items tmpl='"+i._id+"_GroupingTemplate'/}}{{else}}{{for items tmpl='"+i._id+"_JSONTemplate'/}}{{/if}}");var o="<table class='e-table {{if items.GROUPGUID}}{{else}}e-recordtable{{/if}}' cellspacing='0.25px' >{{:~_"+i._id+"Colgroup('"+i._id+"Object')}}"+u.html()+"<\/table>",s="<td class='e-tabletd' colspan='{{:~_"+i._id+"ColSpanAdjust('"+i._id+"Object','table')}}'>"+o+"<\/td>",h="<tr><td class='e-indentcell'><\/td>"+s+"<\/tr>";n.templates(i._id+"_GroupingTemplate",e+h)},_captionFormat:function(n){var t=this.getRsc("helpers",n),i=t.getColumnByField(this.data.field);return i.headerText+": "+this.data.key+" - "+this.data.count+" "+t._getLocalizedLabels("GroupCaptionFormat")},_alternateRow:function(){return this.getIndex()%2==0?"":"e-alt_row"},_getColGroup:function(t){var i=this.getRsc("helpers",t),u,f,e;return u=i.model.groupSettings.groupedColumns.length==1?this.data.items.level===r?0:this.data.items.level-1:this.data.items.level===r?i.model.groupSettings.groupedColumns.length:this.data.items.level-1,f=n(document.createElement("div")),e=i._getMetaColGroup(),u!=i.model.groupSettings.groupedColumns.length&&i.model.groupSettings.groupedColumns.length>1&&e.prepend(i._getIndentCol()),f.html(e),f.html()},_colSpanAdjust:function(n,t){var i=this.getRsc("helpers",n),u,e,f;return i.model.groupSettings.groupedColumns.length==1?(u=this.data.items.level===r?1:this.data.items.level-1,t=="groupcaption"&&(i._currentJsonData=i._currentJsonData.concat(this.data.items))):(u=this.data.items.level===r?i.model.groupSettings.groupedColumns.length:this.data.items.level-1,t=="groupcaption"&&this.data.items.level===r&&(i._currentJsonData=i._currentJsonData.concat(this.data.items))),e=i.model.groupSettings.groupedColumnShow?0:i.model.groupSettings.groupedColumns.length,f=i.model.columns.length+i.model.groupSettings.groupedColumns.length-u-i._hiddenColumns.length-e,i.model.detailTemplate!=null?f+1:f},_gridTemplate:function(t){return n("#"+t).render(this.data)},_unboundTemplateRendering:function(t){return n("#"+t).html()},_compiledDropDownTemplate:function(){var i=t.buildTag("select"),r=t.buildTag("option","{{:text}}",{},{value:"{{:value}}"});return i.append(r),n.templates(i.html())},_initCellEditType:function(n,i){var o,s,h,e,f,r,u;t.isNullOrUndefined(this.model.columns[n].columnEditType)&&(this.model.columns[n].columnEditType="stringedit");switch(this.model.columns[n].columnEditType){case"stringedit":i.html(t.buildTag("input.e-field e-ejinputtext","",{},{value:"{{:"+this.model.columns[n].field+"}}",id:this._id+this.model.columns[n].field,name:this.model.columns[n].field}));break;case"booleanedit":i.html("{{if "+this.model.columns[n].field+'}} <input class="e-field e-checkbox" type ="checkbox" id='+this._id+this.model.columns[n].field+" name="+this.model.columns[n].field+' checked="checked"><\/input>{{else}} <input class="e-field e-checkbox" type ="checkbox" id='+this._id+this.model.columns[n].field+" name="+this.model.columns[n].field+" > {{/if}}");break;case"numericedit":o=t.buildTag("input.e-numerictextbox e-field","",{},{type:"text",value:"{{:"+this.model.columns[n].field+"}}",id:this._id+this.model.columns[n].field,name:this.model.columns[n].field}),i.append(o);break;case"datepicker":case"datetimepicker":s=t.buildTag("input.e-"+this.model.columns[n].columnEditType+" e-field","",{},{type:"text",value:"{{:"+this.model.columns[n].field+"}}",id:this._id+this.model.columns[n].field,name:this.model.columns[n].field}),i.append(s);break;case"dropdownedit":if(t.isNullOrUndefined(this.model.columns[n].dropdownData))for(e=(new t.Query).select(this.model.columns[n].field),h=t.isNullOrUndefined(this._dropDownManager)?this._dataManager.executeLocal(e):this._dropDownManager.executeLocal(e),f=[],r=r=t.dataUtil.mergeSort(t.distinct(h)),u=0;u<r.length;u++)f.push({text:r[u],value:r[u]});else f=this.model.columns[n].dropdownData;i.get(0).innerHTML=["<select>",this._dropDownTemplate.render(f),"<\/select>"].join(""),i.find("select").prop({id:this._id+this.model.columns[n].field,name:this.model.columns[n].field}).addClass("e-field e-dropdownlist")}},addBulkEditTemplate:function(){if(this.model.columns.length!=0){for(var u=t.buildTag("div","",{display:"none"},{id:this._id+"_BulkEditTemplate"}),r,i=0,f=this.model.columns.length;i<f;i++)this.model.columns[i].columnTemplate&&this.model.columns[i].isUnBound||(r=t.buildTag("div","",{},{id:this.model.columns[i].field+"_BulkEdit"}),this._initCellEditType(i,r),u.append(r)),this.model.columns[i].key===!0&&(this._primaryKeys.push(n.trim(this.model.columns[i].field)),this._primaryKeys=n.unique(this._primaryKeys)),this.model.columns[i].isIdentity===!0&&r.find(".e-field").addClass("e-identity");u.children().length&&(this._bulkEditTemplate=u)}},addEditingTemplate:function(){var s,i,u,y,f,e;if(this.model.columns.length!=0){var h=t.buildTag("tbody"),c=t.buildTag("tr"),l=t.buildTag("td","",{},{colSpan:this.model.columns.length}),a=t.buildTag("form","",{},{id:this._id+"EditForm"}),o=t.buildTag("table.e-table","",{},{cellspacing:.25}),p=t.buildTag("tbody"),v=t.buildTag("tr");for(h.append(c),c.append(l),l.append(a),s=n(document.createElement("colgroup")),a.append(o),o.append(s),p.append(v).appendTo(o),i=0;i<this.model.columns.length;i++)u=t.buildTag("td.e-rowcell"),v.append(u.get(0)),t.isNullOrUndefined(this.model.columns[i].isUnBound)&&t.isNullOrUndefined(this.model.columns[i].columnTemplate)?this._initCellEditType(i,u):this.model.columns[i].columnTemplate?(f={},f["_"+this._id+"ColumnTemplating"]=this._gridTemplate,n.views.helpers(f),n("#"+this._id+this.model.columns[i].headerText+i+"_Template").remove(),y=this._createTemplateElement(this.model.columns[i]),u.addClass("e-templatecell").html("{{:~_"+this._id+"ColumnTemplating('"+y.id+"')}}")):this.model.columns[i].isUnBound&&(f={},f["_"+this._id+"UnboundTemplate"]=this._unboundTemplateRendering,n.views.helpers(f),n("#"+this._id+this.model.columns[i].headerText+"_UnboundTemplate").remove(),divElement=this._createUnboundElement(this.model.columns[i]),u.addClass("e-unboundcell").addClass("e-"+this.model.columns[i].headerText.replace(/\s+/g,"")).html("{{:~_"+this._id+"UnboundTemplate('"+divElement.id+"')}}"),this._isUnboundColumn=!0),this.model.columns[i].textAlign!=r&&u.css("text-align",this.model.columns[i].textAlign),this.model.columns[i].allowEditing==!1&&u.find(".e-field").attr("disabled",!0).addClass("e-disable"),this.model.columns[i].key===!0&&(u.find(".e-field").attr("disabled",!0).addClass("e-disable"),this._primaryKeys.push(n.trim(this.model.columns[i].field)),this._primaryKeys=n.unique(this._primaryKeys)),this.model.columns[i].isIdentity===!0&&u.find(".e-field").addClass("e-identity"),e=n(document.createElement("col")),this.model.columns[i].visible===!1&&(e.css("display","none"),u.addClass("e-hide")),!this.model.groupSettings.groupedColumnShow&&u.addClass("{{for ~groupedColumns}} {{if #data == '"+this.model.columns[i].field+"'}}e-hide{{/if}}{{/for}}")&&e.css("display","none"),s.append(e);n.templates(this._id+"_JSONEditingTemplate",h.html())}},addDialogEditingTemplate:function(){var i,l,b,k,d,w,a,o,s;if(this.model.columns.length!=0){var h=t.buildTag("div"),f=t.buildTag("form","",{},{id:this._id+"EditForm"}),v=t.buildTag("table","",{},{cellspacing:"14px"}),g=this._compiledDropDownTemplate(),e,y,u,p,c;for(i=0;i<this.model.columns.length;i++){this.model.edit.editMode=="dialog"?(p="tr",c="td"):p=c="div",e=t.buildTag(p),y=t.buildTag(c,"",{"text-align":"right"}),u=t.buildTag(c,"",{"text-align":"left"}).addClass("e-rowcell"),e.append(y.get(0)).append(u.get(0)),l=t.Grid.editingType.String,this.model.columns[i].columnEditType!=r&&(l=this.model.columns[i].columnEditType),this.model.columns[i].headerText==r&&(this.model.columns[i].headerText=this.model.columns[i].field),y.append("<label for='"+this.model.columns[i].field+"'>"+this.model.columns[i].headerText+"<\/label>");switch(l){case"stringedit":u.html(t.buildTag("input.e-field e-ejinputtext","",{},{value:"{{:"+this.model.columns[i].field+"}}",id:this._id+this.model.columns[i].field,name:this.model.columns[i].field}));break;case"booleanedit":u.html("{{if "+this.model.columns[i].field+'}} <input class="e-field" type ="checkbox" id='+this._id+this.model.columns[i].field+" name="+this.model.columns[i].field+' checked="checked"><\/input>{{else}} <input class="e-field" type ="checkbox" id='+this._id+this.model.columns[i].field+" name="+this.model.columns[i].field+" > {{/if}}");break;case"numericedit":b=t.buildTag("input.e-numerictextbox e-field","",{},{type:"text",value:"{{:"+this.model.columns[i].field+"}}",id:this._id+this.model.columns[i].field,name:this.model.columns[i].field}),u.append(b);break;case"datepicker":case"datetimepicker":k=t.buildTag("input.e-"+l+" e-field","",{},{type:"text",value:"{{:"+this.model.columns[i].field+"}}",id:this._id+this.model.columns[i].field,name:this.model.columns[i].field}),u.append(k);break;case"dropdownedit":if(t.isNullOrUndefined(this.model.columns[i].dropdownData))for(w=(new t.Query).select(this.model.columns[i].field),d=t.isNullOrUndefined(this._dropDownManager)?this._dataManager.executeLocal(w):this._dropDownManager.executeLocal(w),a=[],o=o=t.dataUtil.mergeSort(t.distinct(d)),s=0;s<o.length;s++)a.push({text:o[s],value:o[s]});else a=this.model.columns[i].dropdownData;u.get(0).innerHTML=["<select>",g.render(a),"<\/select>"].join(""),u.find("select").prop({id:this._id+this.model.columns[i].field,name:this.model.columns[i].field}).addClass("e-field e-dropdownlist")}this.model.columns[i].key===!0&&u.find(".e-field").attr("disabled",!0).addClass("e-disable"),this.model.columns[i].visible===!1&&e.addClass("e-hide"),this.model.edit.editMode=="dialog"?(f.append(v),v.append(e)):f.append(e),f.appendTo(h),this.model.columns[i].key===!0&&(u.find(".e-field").attr("disabled",!0).addClass("e-disable"),this._primaryKeys.push(n.trim(this.model.columns[i].field)),this._primaryKeys=n.unique(this._primaryKeys))}this.model.edit.editMode=="dialog"&&f.append(v),h=this.renderDiaglogButton(f,h),n.templates(this._id+"_JSONDialogEditingTemplate",h.html())}},renderDiaglogButton:function(n,i){var r,o,f,e,u;return this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate"?r="EditExternalForm_":this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate"?(r="InlineEditForm_",o=t.buildTag("div","","",{id:this._id+"_inlineFormTitle","class":"e-inlineform-titlebar"}),o.appendTo(i)):r="EditDialog_",f=t.buildTag("input","",{"margin-left":"30px"},{type:"button",id:r+this._id+"_Save"}),f.ejButton({cssClass:this.model.cssClass,rtl:this.model.rtl,text:this._getLocalizedLabels("SaveButton"),width:"100"}),e=t.buildTag("input","",{"margin-left":"19px","margin-right":"13px"},{type:"button",id:r+this._id+"_Cancel"}),e.ejButton({cssClass:this.model.cssClass,rtl:this.model.rtl,text:this._getLocalizedLabels("CancelButton"),width:"100"}),u=this.model.edit.editMode!="dialog"&&this.model.edit.editMode!="dialogTemplate"?t.buildTag("div","","",{"class":"e-editform-btn"}):t.buildTag("div"),u.append(f),u.append(e),n.appendTo(i),this.model.edit.editMode!="dialog"&&this.model.edit.editMode!="dialogTemplate"?u.appendTo(i):n.append(u),i},addExternalDialogEditingTemplate:function(){var i,r,u,f;if(this.model.columns.length!=0){for(i=0;i<this.model.columns.length;i++)this.model.columns[i].key===!0&&(this._primaryKeys.push(n.trim(this.model.columns[i].field)),this._primaryKeys=n.unique(this._primaryKeys));r=t.buildTag("div","",{display:"none"}),u=t.buildTag("form","",{},{id:this._id+"EditForm"}),f=this.model.edit.editMode=="dialogTemplate"&&this.model.edit.dialogEditorTemplateId!=null?this.model.edit.dialogEditorTemplateId:this.model.edit.editMode=="externalFormTemplate"&&this.model.edit.externalFormTemplateId!=null?this.model.edit.externalFormTemplateId:this.model.edit.inlineFormTemplateId,u.append(n(f).clone().show()),r=this.renderDiaglogButton(u,r),n.templates(this._id+"_JSONdialogTemplateMode",r.html())}},_buttonClick:function(t){if(t.keyCode!==r&&t.keyCode!=13)return!0;this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"?t.target.id=="EditDialog_"+this._id+"_Save"?this.element.ejGrid("sendSaveRequest").length!==r&&n("#"+this._id+"_dialogEdit").ejDialog("close"):t.target.id=="EditDialog_"+this._id+"_Cancel"&&(this.element.ejGrid("sendCancelRequest"),n("#"+this._id+"_dialogEdit").ejDialog("close")):this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate"?n(t.target).hasClass("e-form-toggle-icon")?n("#"+this._id+"_externalEdit").css("display","none"):t.target.id=="EditExternalForm_"+this._id+"_Save"?this.element.ejGrid("sendSaveRequest").length!==r&&n("#"+this._id+"_externalEdit").css("display","none"):t.target.id=="EditExternalForm_"+this._id+"_Cancel"&&(this.element.ejGrid("sendCancelRequest"),n("#"+this._id+"_externalEdit").css("display","none")):this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate"?t.target.id=="InlineEditForm_"+this._id+"_Save"?this.element.ejGrid("sendSaveRequest"):t.target.id=="InlineEditForm_"+this._id+"_Cancel"&&this.element.ejGrid("sendCancelRequest"):this.element.ejGrid("sendCancelRequest")},_headerCellgDragDrop:function(){var i=this,r;this.dragHeaderElement(),r=this.element.children("div.e-groupdroparea"),r.ejDroppable({accept:r,drop:function(r,u){if(!t.isNullOrUndefined(u.helper)&&u.helper.is(":visible")){var f=i.getColumnByHeaderText(n.trim(u.helper.text()));(u.helper.remove(),n.inArray(f.headerText,i._disabledGroupableColumns)==-1)&&(t.isNullOrUndefined(f.field)||i.sendGroupingRequest(f.field))}}})},_headerCellreorderDragDrop:function(){var i=this,r;this.dragHeaderElement(),r=this.element.find(".e-headercelldiv"),r.ejDroppable({accept:r,drop:function(r,u){var f,e;!t.isNullOrUndefined(u.helper)&&u.helper.is(":visible")&&(f=i.getColumnByHeaderText(n.trim(u.helper.text())),u.helper.remove(),n.inArray(f.headerText,i._disabledGroupableColumns)==-1)&&(t.isNullOrUndefined(f.field)||(e=i.getColumnByHeaderText(n.trim(n(r.dropTarget).text())),i.sendReorderingRequest(f.field,e.field)))}})},dragHeaderElement:function(){var i=this,r=this.element.children("div.e-gridheader").find("th.e-headercell").not(".e-headertemplate"),u=t.buildTag("div.e-cloneproperties e-grid","",{height:"20px","z-index":2});r.ejDraggable({cursorAt:{top:-35,left:-2},helper:function(t){i.element.find(".e-dragclone").length>0&&i.element.find(".e-dragclone").remove();var r=n(t.sender.target).hasClass("e-headercell")?n(t.sender.target):n(t.sender.target).closest("th");return u.html(r.text()).clone().width(r.outerWidth()+2).height(r.height()+2).css({"font-size":parseInt((r.height()+3)/2)}).addClass("e-dragclone").appendTo(i.element)},dragStart:function(t){var r=t.target,u={target:r,draggableType:"headercell"},f;return i._resizer!=null&&i._resizer._expand?(n(".e-dragclone").remove(),!1):(i._dragActive=!0,f=i.element.find(".e-groupdroparea"),i.expandGroupDropArea(),i._trigger("dragStart",u)?!1:void 0)},drag:function(t){var r=n(t.target),u={target:r,draggableType:"headercell"};if(i._trigger("drag",u))return!1;r.hasClass("e-headercelldiv")&&i.model.allowReordering&&(document.body.style.cursor="",r.addClass("e-allowDrop"),i.getGridHeaderTable().find(".e-reorderindicate").removeClass("e-reorderindicate"),r.parent().addClass("e-reorderindicate")),r.hasClass("e-groupdroparea")||r.closest(".e-groupdroparea").length?(document.body.style.cursor="",r.addClass("e-allowDrop")):document.body.style.cursor="not-allowed"},dragStop:function(t){var u,r;t.element.dropped||(r=n(t.target),u={target:r,draggableType:"headercell"},i._trigger("dragStop",u),i.element.find(".e-groupdroparea").removeClass("e-hover"),i.getGridHeaderTable().find(".e-columnheader").find(".e-headercellactive").removeClass("e-headercellactive").removeClass("e-active"),n(".e-dragclone").remove(),i._dragActive=!1,r=i.element.find(".e-groupdroparea"),i.getGridHeaderTable().find(".e-reorderindicate").removeClass("e-reorderindicate"),i.collapseGroupDropArea(),document.body.style.cursor="",n(i._Indicator).css("display","none"))}})},_initIndicators:function(){var t=this._id+"_ColumnDropIndicator";n("#"+t).length&&n("#"+t).remove(),this._Indicator=document.createElement("DIV"),n(this._Indicator).attr("id",t).addClass("e-columndropindicator").addClass("e-dropAcceptor").appendTo(document.body),n(this._Indicator).css({display:"none"})},_showImg:function(t){if(this._locationHelper(t),cell=t.target.tagName=="DIV"&&t.target.parentNode.tagName=="TH"?t.target.parentNode:t.target.tagName=="TH"?t.target:null,cell.cellIndex>=0){var i=n(cell).offset(),r=navigator.userAgent.search("Mozilla")>=0&&this._groupedColumns.length>0?3:4,u=navigator.userAgent.search("Mozilla")>=0&&this._groupedColumns.length>0?2:1;n(this._Indicator).css("left",parseInt(i.left-r)).css("position","absolute").css("top",parseInt(i.top+u)).css("display","").css("z-index",this._maxZindex()+1)}},_maxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==r||t==null)&&(t=1),t},_locationHelper:function(n){this._x=document.all?n.clientX:document.layers?n.x:n.clientX,this._y=document.all?n.clientY:document.layers?n.y:n.clientY},set_dropColumn:function(i,r){var f,u,e;if(this.model.allowReordering){for(this.model.columns.splice(r,0,this.model.columns.splice(i,1)[0]),f=this.model.columns,this._fieldColumnNames=this._headerColumnNames=[],u=0;u<f.length;u++)this._fieldColumnNames[f[u].headerText]=f[u].field,this._headerColumnNames[f[u].field]=f[u].headerText,n(this.getGridHeaderTable().find(".e-headercelldiv")[u]).text(f[u].headerText);e={},e.requestType=t.Grid.actions.Reorder,this.addInitTemplate(),this.sendDataRenderingRequest(e)}},_groupHeaderCelldrag:function(){var u=t.buildTag("div.e-cloneproperties e-grid","",{height:"20px","z-index":2}),i=this,f=this.element.children(".e-groupdroparea").find(".e-groupheadercell"),r;f.ejDraggable({cursorAt:{top:-35,left:-2},helper:function(t){var r=n(t.sender.target).closest(".e-grid-icon");return u.html(n(t.sender.target).closest(".e-groupheadercell").text()).clone().width(r.width()+2).height(r.height()+2).addClass("e-dragclone").appendTo(i.element)},dragStart:function(n){var t=n.target,r={target:t,draggableType:"groupheadercell"};if(i._trigger("dragStart",r))return!1},drag:function(t){n(".Sibling").remove();var r=n(t.target),u={target:r,draggableType:"groupheadercell"};if(i._trigger("drag",u))return!1;r.closest("div.e-gridcontent").length?(document.body.style.cursor="",r.addClass("e-allowDrop")):document.body.style.cursor="not-allowed"},dragStop:function(t){if(!t.element.dropped){var r=n(t.target),u={target:r,draggableType:"groupheadercell"};i._trigger("dragStop",u),n(".e-dragclone").remove(),document.body.style.cursor=""}}}),r=this.element.children(".e-gridcontent"),r.ejDroppable({accept:i.element.children("div.e-groupdroparea").find(".e-groupheadercell"),drop:function(r,u){if(!t.isNullOrUndefined(u.helper)&&u.helper.is(":visible")&&u.draggable.hasClass("e-groupheadercell")){var f=i.getFieldNameByHeaderText(n.trim(u.helper.text()));u.helper.remove(),t.isNullOrUndefined(f)||i.sendUngroupingRequest(f)}}})},renderGrid:function(){this._renderGridContent().insertAfter(this.element.children(".e-gridheader")),this.model.allowGrouping&&this._groupHeaderCelldrag(),this.model.allowSummary=this.model.summaryRows.length>0||this.model.allowSummary,this.model.allowSummary&&this._renderGridFooter().insertAfter(this.getGridContent()),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&(this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"?this.element.append(this._renderDialog()):(this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate")&&this.element.append(this._renderExternalForm())),this._initialEndRendering(),this.model.scrolling.allowVirtualScrolling&&this._createPagerStatusBar(),this.model.allowScrolling&&this._renderScroller(),this.model.scrolling.allowVirtualScrolling&&(this._refreshVirtualContent(),this.getGridContent().first().ejScroller("refresh")),!this.model.allowFiltering||this.model.filterSettings.filterType!="filterbar"||this.model.allowPaging||this.model.scrolling.allowVirtualScrolling||this._createPagerStatusBar()},_renderGroupDropArea:function(){this.model.groupSettings.showAnimateButton||(this.model.enableEffects=this.model.groupSettings.showAnimateButton);var i=this.model.enableEffects?"":this._getLocalizedLabels("GroupDropArea"),n=t.buildTag("div.e-groupdroparea",i);return this.model.groupSettings.showAnimateButton&&n.append(t.buildTag("div.e-animatebutton").addClass(this.model.enableEffects?"e-animatebuttondown e-gdownarrow":"e-animatebuttonup e-guparrow")),n},_renderToolBar:function(){var r=t.buildTag("div.e-gridtoolbar","",{},{id:this._id+"_toolbarItems"}),f=t.buildTag("ul"),u,i;return!t.isNullOrUndefined(this.model.toolBar.toolBarItems)&&this.model.toolBar.toolBarItems.length&&this._renderLi(f),r.append(f),u=t.buildTag("ul"),r.append(u),!t.isNullOrUndefined(this.model.toolBar.customToolbarItems)&&this.model.toolBar.customToolbarItems.length&&this._renderCustomLi(u),i={},i.click=this._toolBarClick,i.cssClass=this.model.cssClass,i.rtl=this.model.rtl,i.itemSeparator=!1,r.ejToolbar(i),r.ejToolbar("disableItem",this._disabledToolItems),this._disabledToolItems=n(),r},_renderCustomLi:function(i){for(var u,f,r=0;r<this.model.toolBar.customToolbarItems.length;r++){u=t.buildTag("li","",{},{title:this.model.toolBar.customToolbarItems[r]});switch(typeof this.model.toolBar.customToolbarItems[r]){case"string":f=t.buildTag("a.e-toolbaricons","",{}).addClass(this.model.toolBar.customToolbarItems[r]);break;case"object":u.attr("title",this.model.toolBar.customToolbarItems[r].templateId.replace("#","")),f=n(this.model.toolBar.customToolbarItems[r].templateId).hide().html()}u.html(f),i.append(u)}},_renderLi:function(n){for(var r,i=0;i<this.model.toolBar.toolBarItems.length;i++)r=t.buildTag("li","",{},{id:this._id+"_"+this.model.toolBar.toolBarItems[i],title:this.model.toolBar.toolBarItems[i].slice(0,1).toUpperCase()+this.model.toolBar.toolBarItems[i].slice(1)}),this._renderLiContent(r,this.model.toolBar.toolBarItems[i]),n.append(r)},_renderLiContent:function(n,i){var r,u;switch(i){case"add":r=t.buildTag("a.e-addnewitem e-toolbaricons e-icon e-gadd","",{});break;case"edit":r=t.buildTag("a.e-edititem e-toolbaricons e-icon e-gedit","",{});break;case"delete":r=t.buildTag("a.e-deleteitem e-toolbaricons e-icon e-gdelete","",{});break;case"update":r=t.buildTag("a.e-saveitem e-toolbaricons e-disabletool e-icon e-gsave","",{}),this._disabledToolItems.push(n.get(0));break;case"cancel":r=t.buildTag("a.e-cancel e-toolbaricons e-disabletool e-icon e-gcancel","",{}),this._disabledToolItems.push(n.get(0));break;case"search":u=t.buildTag("input.e-ejinputtext","",{},{type:"text"}),r=t.buildTag("a.e-searchitem e-toolbaricons e-disabletool e-icon e-gsearch","",{}),n.append(u),this.model.allowSearching=!0}n.append(r)},_renderGridHeader:function(){var f=t.buildTag("div.e-gridheader"),o=t.buildTag("div"),i,l,p;this.model.allowScrolling&&(o.addClass("e-headercontent"),f.addClass("e-scrollcss")),this.setGridHeaderContent(f);var s=t.buildTag("table.e-table","",{},{cellspacing:"0.25px"}),a=t.buildTag("thead"),v=t.buildTag("tbody.e-hide"),h=t.buildTag("tr.e-columnheader"),c=n(document.createElement("colgroup")),y=n(document.createElement("tr"));for(this._hiddenColumns=[],this._columnsWidthCollection=[],this._visibleColumns=[],this._disabledGroupableColumns=[],this._fieldColumnNames={},this._headerColumnNames={},this.model.detailTemplate&&(h.append(t.buildTag("th.e-headercell e-detailheadercell","<div><\/div>")),c.append(this._getIndentCol())),i=0;i<this.model.columns.length;i++){var u=t.buildTag("th.e-headercell e-default"),w=document.createElement("td"),e=t.buildTag("div.e-headercelldiv",this.model.columns[i].headerText==r?this.model.columns[i].headerText=this.model.columns[i].field:this.model.columns[i].headerText);u.append(e),this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&u.append(t.buildTag("div.e-filtericon e-icon e-filterset")),l=document.createElement("col"),y.append(w),h.append(u),c.append(l),this.model.columns[i].visible===!1?u.addClass("hide")&&n(l).css("display","none")&&this._hiddenColumns.push(this.model.columns[i].headerText):(this._visibleColumns.push(this.model.columns[i].headerText),this.model.columns[i].visible=!0),this.model.columns[i].allowSorting===!1&&this._disabledSortableColumns.push(this.model.columns[i].headerText),this.model.columns[i].allowGrouping===!1&&this._disabledGroupableColumns.push(this.model.columns[i].headerText),t.isNullOrUndefined(this.model.columns[i].headerTemplateId)||(e.html(n(this.model.columns[i].headerTemplateId).hide().html()).parent().addClass("e-headertemplate"),p=n.inArray(this.model.columns[i].headerText,this._disabledGroupableColumns),p==-1&&this._disabledGroupableColumns.push(this.model.columns[i].headerText)),this.model.groupSettings.toggleGrouping&&n.inArray(this.model.columns[i].headerText,this._disabledGroupableColumns)==-1&&(n.inArray(this.model.columns[i].field,this.model.groupSettings.groupedColumns)!=-1?e.append(this._getToggleButton().addClass("e-toggleungroup")):e.append(this._getToggleButton().addClass("e-togglegroup"))),this._columnsWidthCollection.push(this.model.columns[i].width),this.model.columns[i].width==r&&this.model.commonWidth!==r&&(this._columnsWidthCollection[i]=this.model.commonWidth),this._fieldColumnNames[this.model.columns[i].headerText]=this.model.columns[i].field,this._headerColumnNames[this.model.columns[i].field]=this.model.columns[i].headerText,this.model.allowFiltering&&t.Grid.filterType.Menu==this.model.filterSettings.filterType&&u.addClass("e-headercellfilter")}return a.append(h),v.append(y),s.append(c).append(a).append(v),o.html(s),f.html(o),this.setGridHeaderTable(s),f},_renderGridFooter:function(){if(this.model.summaryRows.length>0){var i=t.buildTag("div.e-gridfooter"),n=t.buildTag("table#"+this._id+"_summaryTable.e-gridsummary","",{},{cellspacing:"0.25px"});return n.append(this.getGridHeaderTable().find("colgroup").clone()),this._createSummaryRows(n),i.append(n),i}throw"summary row collection is missing";},_createSummaryRows:function(i){var f=i.find("col"),u,r;i.find("tbody").length>0&&i.find("tbody").remove(),u=t.buildTag("tbody"),r=this,n.each(this.model.summaryRows,function(i,e){var s=t.buildTag("tr"),o=r.getGridHeaderTable().find("td").clone().addClass("e-summaryrow");o.first().html(e.title),r._hideSummaryColumn(o,f),s.append(o),u.append(s),n.each(e.summaryColumns,function(t,i){var u=r._getSummaryValues(i),e=i.prefix?i.prefix:"",f=r.getColumnIndexByField(i.displayColumn),s=i.suffix?i.suffix:"";n(o[f]).html(e+(i.format?r.formatting(i.format,u):u)+s).css("text-align",r.model.columns[f].textAlign)})}),i.append(u)},_getSummaryValues:function(n){var i,r,e,u,f;r=this.model.filterSettings.filteredColumns.length>0?this._filteredRecords:this.model.dataSource,e=r instanceof t.DataManager?r:t.DataManager(r);switch(n.summaryType){case t.Grid.summaryType.Maximum:u=t.max(r,n.dataMember),i=u[n.dataMember];break;case t.Grid.summaryType.Minimum:u=t.min(r,n.dataMember),i=u[n.dataMember];break;case t.Grid.summaryType.Average:i=t.avg(r,n.dataMember);break;case t.Grid.summaryType.Sum:i=t.sum(r,n.dataMember);break;case t.Grid.summaryType.Count:i=r.length;break;case t.Grid.summaryType.TrueCount:f=t.Predicate(n.dataMember,"equal",!0),i=e.executeLocal(t.Query().where(f)).length;break;case t.Grid.summaryType.FalseCount:f=t.Predicate(n.dataMember,"equal",!1),i=e.executeLocal(t.Query().where(f)).length;break;case t.Grid.summaryType.Custom:i=n.customSummaryValue}return i},_renderDialog:function(){return t.buildTag("div.e-dialog e-dialog-content e-shadow e-widget-content","",{display:"none"},{id:this._id+"_dialogEdit"})},_renderExternalForm:function(){var f=t.buildTag("div","",{display:"none"},{id:this._id+"_externalEdit","class":"e-form-container"}),n=t.buildTag("div","","",{id:this._id+"_eFormHeader","class":"e-form-titlebar"}),e=t.buildTag("span","","",{"class":"e-form-title"}),i=t.buildTag("div","","",{id:this._id+"_eFormToggleBtn","class":"e-form-togglebtn"}),o=t.buildTag("span","","",{"class":"e-form-toggle-icon"});i.append(o),n.append(e).append(i);var r=t.buildTag("div","","",{id:this._id+"_eFormContent","class":"e-form-content"}),u=t.buildTag("div","","",{id:this._id+"_externalForm","class":"e-externalform"}),s=t.buildTag("div","","",{"class":"e-externalformedit"});return u.append(s),r.append(u),f.append(n).append(r)},_renderGridContent:function(){var r=t.buildTag("div.e-gridcontent"),f=t.buildTag("div"),u=t.buildTag("table.e-table","",{},{cellspacing:"0.25px"}),e=n(document.createElement("tbody")),o,i;return u.append(this.getGridHeaderTable().find("colgroup").clone()).append(e),f.html(u),r.html(f),this.setGridContentTable(u),this.setGridContent(r),this.model.dataSource==null?(o=t.buildTag("td",this._getLocalizedLabels("EmptyRecord"),{},{colSpan:this.model.columns.length}),e.append(n(document.createElement("tr")).append(o))):(i={},this.model.groupSettings.groupedColumns.length?(this.model.groupSettings.groupedColumns.length&&this._initialRender&&(i.columnName=this.model.groupSettings.groupedColumns.lastItem()),i.requestType=t.Grid.actions.Grouping):i.requestType=t.Grid.actions.Refresh,this.sendDataRenderingRequest(i)),r},_refreshVirtualContent:function(t){var f=this.getGridRowHeight(),e=this.model.filterSettings.filteredColumns.length==0?this._searchCount==null?this._gridRecordsCount:this._searchCount:this._filteredRecordsCount,o,i,u,s,h,r;t!=null&&(this.model.pageSettings.currentPage=t,o=this._refreshVirtualPagerInfo(),this._showPagerInformation(o)),i=this.getCurrentIndex(),u=this.getGridContentTable()[0].tBodies[0],this.getCurrentIndex()>0&&(s=document.createElement("tr"),n(s).addClass("e-virtualrow").css("height",f*i).prependTo(u)),i+this.model.pageSettings.pageSize<=e&&(h=document.createElement("tr"),n(h).addClass("e-virtualrow").css("height",f*(e-(i+this.model.pageSettings.pageSize))).appendTo(n(u))),this.virtualLoadedPages=[],this.virtualLoadedPages.push(i>=0?i:0),r=n(u).find("tr:not(.e-virtualrow)").attr("name",i>=0?i:0)[0],r&&r.previousSibling&&(n(r.previousSibling).hasClass("e-virtualrow")||r.previousSibling.offsetTop>i*this.getGridContent().height())&&(this.getGridContent().children("div").first().scrollTop(this.getGridContent().find(".content").scrollTop()-(this.getGridContent().find(".content").scrollTop()-r.offsetTop)),this._isVirtualRecordsLoaded=!0)},_renderScroller:function(){var t,i,r;this.model.scrolling||(this.model.scrolling={}),(this.model.scrolling.width||this.model.width)&&this.element.width(this.model.scrolling.width||this.model.width),t=this.getGridContent().attr("tabindex","0"),navigator.userAgent.search("msie")==-1&&t.find("div table").first().width(this.getGridHeaderTable().width()),t.ejScroller(this.model.scrolling),t.ejScroller("isVScroll")?this.element.find(".e-gridheader").addClass("e-scrollcss"):this.element.find(".e-gridheader").removeClass("e-scrollcss"),i=this,t.find(".e-content").scroll({gridObject:i},function(t){t.data.gridObject.getGridHeaderContent().find("div").first().scrollLeft(n(t.currentTarget).scrollLeft())}),this.element.find(".e-gridheader").find(".e-headercontent").scroll({gridObject:i},function(t){t.data.gridObject.getGridContent().find(".e-content").first().scrollLeft(n(t.currentTarget).scrollLeft())}),i.model.scrolling.allowVirtualScrolling&&(r=this._refreshVirtualPagerInfo(),this._showPagerInformation(r),t.ejScroller({scroll:function(n){(n.source=="button"||n.source=="key"||n.source=="wheel")&&i._virtualScroll(n)},thumbEnd:function(n){i._virtualScroll(n)}}))},_virtualScroll:function(t){var i,f;if(t!=null){var u=0,e=this.model.filterSettings.filteredColumns.length==0?this._searchCount==null?this._gridRecordsCount:this._searchCount:this._filteredRecordsCount,r=this.model.pageSettings,o=this.getGridContentTable()[0].tBodies[0],s=n(o).find("tr.e-virtualrow");r.totalPages=Math.ceil(e/r.pageSize),i=this._calculateCurrenPage(s,this.getGridContentTable(),t.model),i>r.totalPages&&(i=r.totalPages),r.currentPage!=i&&n.inArray((i-1)*r.pageSize,this.virtualLoadedPages)==-1&&(this._isVirtualRecordsLoaded=!1),this._isVirtualRecordsLoaded?r.currentPage=i:(n.inArray((i-1)*r.pageSize,this.virtualLoadedPages)==-1&&(i==r.totalPages&&n.inArray((i-2)*r.pageSize,this.virtualLoadedPages)==-1&&(u++,this.set_currentPageIndex(i-1)),u==1&&(this._lastRow=!0),this.set_currentPageIndex(i)),r.currentPage=i),f=this._refreshVirtualPagerInfo(),this._showPagerInformation(f)}},_createPagerStatusBar:function(){var n=this.element.find(".e-pagerstatusbar"),i;n.length&&n.remove(),i=t.buildTag("div.e-pagermsgdiv"),this.$pagerStatusBarDiv=t.buildTag("div.e-pagerstatusbar").append(i),this.$pagerStatusBarDiv.appendTo(this.element),this.$pagerStatusBarDiv.css("display","none")},_calculateCurrenPage:function(t,i,r){var o=this.model.pageSettings.pageSize,u,f,e,s;for(u=r.scrollTop>this._scrollValue?Math.ceil((r.scrollTop+this.model.scrolling.height)/this.getGridRowHeight()/o):Math.floor((r.scrollTop+this.model.scrolling.height)/this.getGridRowHeight()/o),this._scrollValue=r.scrollTop,f=0;f<t.length;f++)if(e=t[f],e.offsetTop+e.offsetHeight>=r.scrollTop)return s=this._calculatePrevPage(t,i,r),this._prevPageNo=s,u!=this.model.pageSettings.totalPages&&u!=s+1&&n(e).next().is("tr[name="+(u-1)*o+"]")&&(u-=1),u==0&&(u=1),u>this.model.pageSettings.totalPages?this.model.pageSettings.totalPages:u;return u},_calculatePrevPage:function(t,i,r){for(var f,e,u=0;u<t.length;u++)if(f=t[u],f.offsetTop+f.offsetHeight>=r.scrollTop&&(e=n(f).prevAll("tr[name]")[0],e!=null))return Math.ceil(parseInt(n(e).attr("name"),10)/this.model.pageSettings.pageSize)+1;return-1},_eventBindings:function(){if(this._refreshUnboundTemplate(this.getGridContentTable()),this._gridRecordsCount!=0&&(this.model.queryCellInfo!=null||this.model.rowDataBound!=null))for(var n=0;n<this._gridRows.length;n++)this._rowEventTrigger(this._gridRows[n],this.model.dataSource[n])},_rowEventTrigger:function(t,i){var u,e,r,f;for(this._trigger("rowDataBound",{Element:t,data:i}),u=t.cells,e=n(t).find(".e-rowcell"),r=0;r<u.length;r++)f={Element:u[r],Data:i,Text:u[r].innerHTML},n(u[r]).hasClass("e-rowcell")&&(f.column=this.model.columns[e.index(u[r])]),this._trigger("queryCellInfo",f)},_renderGridPager:function(){var i=n(document.createElement("div")),t={};return this.model.pageSettings.click=this._gPagerClickHandler,this.model.pageSettings.totalRecordsCount=this._gridRecordsCount,this.model.pageSettings.localization=this.model.localization,this.model.pageSettings.enableQueryString=this.model.pageSettings.enableQueryString,this.model.allowFiltering&&this.model.filterSettings.filterType=="filterbar"&&(t.enableExternalMessage=!0),n.extend(t,this.model.pageSettings),t.masterObject=this,this.setGridPager(i),i.ejPager(t),i.ejPager("refreshPager"),t=i.ejPager("model"),this.model.pageSettings.totalPages=t.totalPages,this.model.pageSettings.currentPage=t.currentPage,i},_renderFiltering:function(){var f=this.getGridHeaderTable(),i=t.buildTag("tr.e-filterbar"),n,r,u;for(this.model.detailTemplate&&i.append(t.buildTag("th.e-filterbarcell e-mastercell")),n=0;n<this.model.columns.length;n++)r=t.buildTag("input.e-ejinputtext","",{},{type:"text",id:this.model.columns[n].field+"_filterBarcell"}),u=t.buildTag("th.e-filterbarcell"),this.model.columns[n].allowFiltering===!1&&(r.attr("disabled",!0).addClass("e-disable"),this._disabledFilterableColumns.push(this.model.columns[n].headerText)),this.model.columns[n].visible===!1&&u.addClass("e-hide"),i.append(u.append(r));f.find("thead").append(i),this.setGridFilterBar(i)},_initialRenderings:function(){if(this.model.groupSettings.groupedColumns.length)for(var n=0;n<this.model.groupSettings.groupedColumns.length;n++)this.model.sortSettings.sortedColumns.push({field:this.model.groupSettings.groupedColumns[n],direction:t.sortOrder.Ascending})},_triggerConfirm:function(n){if(n!==r&&document.activeElement.value==this._getLocalizedLabels("OkButton"))this._confirmDialog.find(".e-content").text()==this._getLocalizedLabels("BulkSaveConifrm")?this.bulkSave():(this._confirmedValue=!0,this._processBindings(this._requestArgs));else{if(this._confirmDialog.find(".e-content").text()!=this._getLocalizedLabels("BulkSaveConifrm"))switch(this._requestArgs.requestType){case"grouping":this.model.groupSettings.groupedColumns.pop();break;case"ungrouping":this.model.groupSettings.groupedColumns.push(this._requestArgs.columnName);break;case"sorting":this._cSortedDirection=this._cSortedColumn=null;break;case"filtering":this.model.filterSettings.filteredColumns.reverse().splice(0,this._requestArgs.currentFilterObject),this.model.filterSettings.filteredColumns.reverse();break;case"paging":this.model.pageSettings.currentPage=this._requestArgs.previousPage,this.getGridPager().ejPager("model.currentPage",this._requestArgs.previousPage)}this._confirmedValue=!1}this._requestArgs=null,this._confirmDialog.ejDialog("close")},_renderConfirmDialog:function(){var r=t.buildTag("div.e-content",this._getLocalizedLabels("BulkSaveConifrm")),i=t.buildTag("span.e-buttons","<input type='button' id="+this._id+"ConfirmDialogOK value='"+this._getLocalizedLabels("OkButton")+"' /> <input type='button' id="+this._id+"ConfirmDialogCancel value='"+this._getLocalizedLabels("CancelButton")+"' />");this._confirmDialog=t.buildTag("div#"+this._id+"ConfirmDialog"),this._confirmDialog.append(r).append(i),this.element.append(this._confirmDialog),i.find("input").ejButton({cssClass:this.model.cssClass,roundedCorner:!0,size:"mini",click:n.proxy(this._triggerConfirm,this)}),this._renderFDialog(this._id+"ConfirmDialog"),this._confirmDialog.ejDialog({width:"auto",modal:!0})},_initialEndRendering:function(){this.model.selectedRow!=-1&&this.selectRows(this.model.selectedRow),this.model.edit.editMode=="batch"&&this._renderConfirmDialog()},_externalFormPosition:function(){var t=n(this.element).offset(),r=n(this.element).width(),u=n(this.element).height(),i=n("#"+this._id+"_externalEdit");switch(this.model.edit.formPosition){case"topRight":n(i).find(".e-form-toggle-icon").removeClass("e-bottomleft").addClass("e-topright"),n(i).css({left:t.left+r+1+"px",top:t.top+"px"}),n("#"+this._id+"_eFormContent").height(u-n("#"+this._id+"_eFormHeader")[0].offsetHeight-1);break;case"bottomLeft":n(i).find(".e-form-toggle-icon").removeClass("e-topright").addClass("e-bottomleft"),n(i).css({left:t.left+"px",top:t.top+u+1+"px"}),n("#"+this._id+"_eFormContent").width(r)}},_createSortElement:function(){return t.buildTag("span.e-icon","&nbsp;")},_initColumns:function(n){for(var i,u,t,f;n.items!=r;)n=n.items[0];if(this.model.columns.length==0&&n){for(i in n)n.hasOwnProperty(i)&&(u=n[i],this.model.columns.push({field:i,type:u!=null?u.getDay?"date":typeof u:null}));this.model.columns.length&&this._renderAfterColumnInitialize()}else for(t=0;t<this.model.columns.length;t++)f=n[this.model.columns[t].field],this.model.columns[t].type=f!=null?f.getDay?"date":typeof f:null},_findColumnsWidth:function(){var t=this.getGridHeaderTable().find("colgroup").find("col"),n;for(this.model.groupSettings.groupedColumns.length&&(t=t.slice(this.model.groupSettings.groupedColumns.length)),n=0;n<this.model.columns.length;n++)this._columnsWidthCollection[n]=t.eq(n).width()},_calculateWidth:function(){for(var t=this.getGridHeaderTable().find("colgroup").find("col"),i=0,n=0;n<t.length;n++)i+=t.eq(n).width();return i},_getEmptyTbody:function(){var i=t.buildTag("td",this._getLocalizedLabels("EmptyRecord"),{},{colSpan:this.model.columns.length});return n(document.createElement("tr")).append(i)},_getLocalizedLabels:function(n){return t.Grid.localization[this.model.localization][n]===r?t.Grid.localization["en-US"][n]:t.Grid.localization[this.model.localization][n]},_getToggleButton:function(){return t.buildTag("span.e-togglegroupbutton e-icon e-groupbutton","&nbsp;")},_getRightHeaderCell:function(){return t.buildTag("th.e-rightheadercell")},_getGroupTopLeftCell:function(){var n=t.buildTag("th.e-grouptopleftcell");return n.append(t.buildTag("div.e-headercelldiv","&nbsp;")),n},_getIndentCol:function(){return t.buildTag("col","",{width:"30px"})},_getEmptyFilterBarCell:function(){return t.buildTag("th.e-filterbarcell")},_getMetaColGroup:function(){for(var u=t.buildTag("colgroup"),r,i=0;i<this.model.columns.length;i++)r=n(document.createElement("col")),this.model.columns[i].visible===!1&&r.css("display","none"),this.model.groupSettings.groupedColumnShow||n.inArray(this.model.columns[i].field,this.model.groupSettings.groupedColumns)==-1||r.css("display","none"),u.append(r);return u},_setoffsetWidth:function(){var i,r=n("#"+this._id+"EditForm"),t;if(this._gridRecordsCount!=0||this.model.edit.editMode=="batch")for(i=this.model.edit.editMode=="batch"?r.closest("td"):this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate"||this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate"?r.find(".e-rowcell").not(".e-unboundcell,.e-templatecell"):r.find("tr").find(".e-rowcell").not(".e-unboundcell,.e-templatecell"),t=0;t<i.length;t++)this._tdsOffsetWidth[t]=i.get(t).offsetWidth},_setCurrentRow:function(n){(n==t.Grid.actions.Filtering||n==t.Grid.actions.Sorting||n==t.Grid.actions.Delete||n==t.Grid.actions.Save||n==t.Grid.actions.Cancel||n==t.Grid.actions.Paging)&&(this.model.selectedRow=-1)},dataSource:function(n){this.model.dataSource=n instanceof t.DataManager?n:t.DataManager(n),this.refreshGridContent(!0),t.isNullOrUndefined(this.getGridPager())||(this.getGridPager().ejPager("model.currentPage",1),this._refreshGridPager())},refreshGridContent:function(n){n&&this.templateRefresh();var i={};i.requestType=t.Grid.actions.Refresh,this._processBindings(i)},templateRefresh:function(){this.addInitTemplate(),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&(this.model.edit.editMode=="normal"?this.addEditingTemplate():this.model.edit.editMode=="dialog"||this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="inlineForm"?this.addDialogEditingTemplate():(this.model.edit.editMode=="dialogTemplate"||this.model.edit.editMode=="externalFormTemplate"||this.model.edit.editMode=="inlineFormTemplate")&&this.addExternalDialogEditingTemplate()),this.model.allowGrouping&&this.addGroupingTemplate()},hideColumns:function(t){var i,u=0,f={},r;if(n.isArray(t))for(i=0;i<t.length;i++)r=n.inArray(t[i],this._visibleColumns),r!=-1&&(this._hiddenColumns.push(t[i]),this._visibleColumns.splice(r,1));else r=n.inArray(t,this._visibleColumns),r!=-1&&(this._hiddenColumns.push(t),this._visibleColumns.splice(r,1));for(i=0;i<this.model.columns.length;i++)if(n.inArray(this.model.columns[i].headerText,this._hiddenColumns)!=-1&&(this.model.columns[i].visible=!1,u++),this._hiddenColumns.length==u)break;this.templateRefresh(),f.requestType="refresh",this.sendDataRenderingRequest(f),this._hideHeaderColumn(this._hiddenColumns)},showColumns:function(t){var i,u=0,f={},r;if(n.isArray(t))for(i=0;i<t.length;i++)r=n.inArray(t[i],this._hiddenColumns),r!=-1&&(this._hiddenColumns.splice(r,1),this._visibleColumns.push(t[i]));else r=n.inArray(t,this._hiddenColumns),r!=-1&&(this._hiddenColumns.splice(r,1),this._visibleColumns.push(t));for(i=0;i<this.model.columns.length;i++)if(n.inArray(this.model.columns[i].headerText,this._visibleColumns)!=-1&&(this.model.columns[i].visible=!0,u++),this._visibleColumns.length==u)break;this.templateRefresh(),f.requestType="refresh",this.sendDataRenderingRequest(f),this._showHeaderColumn(this._visibleColumns)},clearSorting:function(){var t=this;this.model.sortSettings.sortedColumns=n.grep(this.model.sortSettings.sortedColumns,function(i){return n.inArray(i.field,t.model.groupSettings.groupedColumns)!=-1?!0:!1}),this._$prevSElementTarget=null,this._$curSElementTarget=null,this.refreshGridContent()},getBrowserDetails:function(){var n=navigator.userAgent.match(/(firefox|chrome|opera|msie|safari)\s?\/?(\d+(.\d+)*)/i);return!navigator.userAgent.match(/Trident\/7\./)?{browser:n[1].toLowerCase(),version:n[2]}:{browser:"msie",version:jQuery.uaMatch(navigator.userAgent).version}},getFieldNameByHeaderText:function(n){return t.isNullOrUndefined(this._fieldColumnNames[n])?null:this._fieldColumnNames[n]},getVisibleColumnNames:function(){return this._visibleColumns},getHiddenColumnNames:function(){return this._hiddenColumns},getHeaderTextByFieldName:function(n){return t.isNullOrUndefined(this._headerColumnNames[n])?null:this._headerColumnNames[n]},getGridRowHeight:function(){var t=-1,n=this.getGridContentTable().find("tr:not(.e-virtualrow)");return n.length>1&&(t=n[0].getBoundingClientRect()&&this.getGridContentTable().find("tr")[0].getBoundingClientRect().height?n[0].getBoundingClientRect().height:n[0].offsetHeight),t==-1?38:t},getCurrentIndex:function(){return(this.model.pageSettings.currentPage-1)*this.model.pageSettings.pageSize},set_currentPageIndex:function(n){var i=this.model.pageSettings,f=this.model.filterSettings.filteredColumns.length==0?this._searchCount==null?this._gridRecordsCount:this._searchCount:this._filteredRecordsCount,r,u;return(i.totalPages==null&&(i.totalPages=Math.ceil(f/i.pageSize)),n>i.totalPages||n<1||n==i.currentPage)?!1:(t.isNullOrUndefined(this._prevPageNo)&&(this._prevPageNo=i.currentPage),i.currentPage=n,i.currentPage!=this._prevPageNo?(r={},r.requestType="paging",this._isVirtualRecordsLoaded=!1,this.sendPagingRequest(i.currentPage,r),u=this._refreshVirtualPagerInfo(),this._showPagerInformation(u),!0):!1)},_showPagerInformation:function(t){var i=(t.currentPage-1)*t.pageSize;n(this.$pagerStatusBarDiv).find("div:first").html(String.format(this._getLocalizedLabels("PagerInfo"),t.currentPage,t.totalPages,t.totalRecordsCount),i,i+t.pageSize),n(this.$pagerStatusBarDiv).css("display","block")},expandAll:function(){for(var i=this.element.find(".e-recordpluscollapse"),t=0;t<i.length;t++)this.expandCollapse(n(i[t]))},collapseAll:function(){for(var i=this.element.find(".e-recordplusexpand"),t=0;t<i.length;t++)this.expandCollapse(n(i[t]))},cleanUpSelection:function(i){if(this.model.selectedRow!=-1){var r=n(this.getGridRows()),i;t.isNullOrUndefined(i)?r.find(".e-rowcell, .e-detailrowcollapse, .e-detailrowexpand").removeClass("e-selectionbackground").removeClass("e-active"):(n(r[i].cells).removeClass("e-selectionbackground").removeClass("e-active"),i=n.inArray(i,this._selectedRowsIndexes),i!=-1&&this._selectedRowsIndexes.splice(i,1)),this._selectedRowsIndexes.length==0&&(this.model.selectedRow=-1)}return!0},_recalculateIndentWidth:function(){var r=this.getBrowserDetails(),n=this.getGridHeaderTable().find(".e-lastgrouptopleftcell").width(),t,u=n/30,i;u>1&&(t=30/u),this.getGridHeaderTable().find("colgroup").find("col").slice(0,this.model.groupSettings.groupedColumns.length).css("width",t+"px"),n=this.getGridHeaderTable().find(".e-lastgrouptopleftcell").width(),n>30?(this.getGridContentTable().find("table").filter(":not(.e-recordtable)").children("colgroup").find("col:first-child").css("width",n+"px"),i=this.getGridContentTable().find("colgroup").first().find("col").slice(0,this.model.groupSettings.groupedColumns.length),r.browser!="msie"?i.css("width",t+"px"):i.first().css("width",n/this.element.width()*100+"%")):r.browser!="msie"&&this.getGridContentTable().find("colgroup").first().find("col").slice(0,this.model.groupSettings.groupedColumns.length).css("width",t+"px")},setWidthToColumns:function(){var r=this.getGridContentTable().children("colgroup").find("col"),u=this.getGridHeaderTable().children("colgroup").find("col"),o=this.element.width(),s,e,h,c,l,i,f;for(this.model.groupSettings.groupedColumns.length&&!this.model.allowScrolling&&(s=this.getBrowserDetails(),s.browser=="msie"&&parseInt(s.version,10)>8&&r.first().css("width",3e3/o+"%")),e=this.model.columns.length,r.length>e&&r.splice(0,r.length-e),u.length>e&&u.splice(0,u.length-e),i=0;i<u.length;i++)t.isNullOrUndefined(this._columnsWidthCollection[i])?this.model.allowScrolling&&(h=(o/this.model.columns.length).toFixed(2)+"px",r.eq(i).css("width",h),u.eq(i).css("width",h),this._columnsWidthCollection[i]=(o/this.model.columns.length).toFixed(2)):(r.eq(i).width(this._columnsWidthCollection[i]),u.eq(i).width(this._columnsWidthCollection[i]));if(this.model.isEdit&&(f=r.clone(),c=n("#"+this._id+"EditForm").find("colgroup"),c.empty().append(f),this.model.detailTemplate!=null&&c.prepend(this._getIndentCol())),this.model.groupSettings.groupedColumns.length)for(l=this.getGridContentTable().find(".e-recordtable").children("colgroup"),i=0;i<l.length;i++)f=r.clone(),this.model.detailTemplate!=null&&f.splice(0,0,this._getIndentCol()[0]),l.eq(i).empty().append(f)},expandCollapse:function(i){var s,r,f,e,o,u;if(i.prop("tagName")=="DIV"&&(i.parent().hasClass("e-recordplusexpand")||i.parent().hasClass("e-recordpluscollapse")||i.parent().hasClass("e-detailrowcollapse")||i.parent().hasClass("e-detailrowexpand"))&&(i=i.parent()),i.hasClass("e-recordplusexpand")&&this.model.groupSettings.groupedColumns.length)s=i.index(),r=i.closest("tr").next(),r.hide(),i.removeClass("e-recordplusexpand").addClass("e-recordpluscollapse").find("div").removeClass("e-gdiagonalnext").addClass("e-gnextforward");else if(i.hasClass("e-recordpluscollapse")&&this.model.groupSettings.groupedColumns.length){var s=i.index(),r=i.closest("tr").next(),f=[],e=r;for(n(e[0].cells[s]).hasClass("e-indentcell")&&e.children(".e-indentcell").length==i.parent().children(".e-indentcell").length+1&&(e.show(),o=e.children(".e-recordplusexpand"),o!=null&&o.length>0&&f.push(o)),i.removeClass("e-recordpluscollapse").addClass("e-recordplusexpand").find("div").removeClass("e-gnextforward").addClass("e-gdiagonalnext"),u=0;u<f.length;u++)f[u].removeClass("e-recordplusexpand").addClass("e-recordpluscollapse").find("div").removeClass("e-gdiagonalnext").addClass("e-gnextforward"),this.expandCollapse(f[u])}else if(i.hasClass("e-detailrowexpand")){var s=i.index(),h=this,l=i.closest("tr").index()-i.closest("tr").prevAll("tr.e-detailrow").length,r=i.closest("tr").next();r.hide(0,function(){h._trigger("detailCollapse",{masterRow:i.closest("tr"),detailRow:r,masterData:h._currentJsonData[l]})}),i.removeClass("e-detailrowexpand").addClass("e-detailrowcollapse").find("div").addClass("e-gnextforward").removeClass("e-gdiagonalnext")}else if(i.hasClass("e-detailrowcollapse")){var s=i.index(),h=this,l=i.closest("tr").index()-i.closest("tr").prevAll("tr.e-detailrow").length,a=i.closest("tr").next();if(a.hasClass("e-detailrow"))r=a;else{var c=t.buildTag("tr.e-detailrow","",{display:"none"},{}),v=t.buildTag("td.e-detailindentcell"),y=t.buildTag("td.e-detailcell","",{},{colspan:this.model.columns.length});n(c).append(v),n(c).append(y.append(n(this.model.detailTemplate).render(this._currentJsonData[l]))),n(i.closest("tr")).after(c),this._trigger("detailData",{templateDetail:c}),r=c}for(f=[],e=r,n(e[0].cells[s]).hasClass("e-detailindentcell")&&(e.show(0,function(){h._trigger("detailExpand",{masterRow:i.closest("tr"),detailRow:r,masterData:h._currentJsonData[l]})}),o=e.children(".e-detailrowexpand"),o!=null&&o.length>0&&f.push(o)),i.removeClass("e-detailrowcollapse").addClass("e-detailrowexpand").find("div").addClass("e-gdiagonalnext").removeClass("e-gnextforward"),u=0;u<f.length;u++)f[u].removeClass("e-detailrowexpand").addClass("e-detailrowcollapse").find("div").removeClass("e-gdiagonalnext").addClass("e-gnextforward"),this.expandCollapse(f[u])}},getSelectedRecords:function(){for(var t=[],n=0;n<this._selectedRowsIndexes.length;n++)this._selectedRowsIndexes[n]!=-1&&t.push(this._currentJsonData[this._selectedRowsIndexes[n]]);return t},selectRows:function(i,u){var s,f,e,o;if(!this.model.allowSelection)return!1;if(f=n(this.getGridRows()),s={},this.model.selectedRow!=-1&&(s={currentRowIndex:this.model.selectedRow,currrentRow:f.eq(this.model.selectedRow),currentData:this.model.currentViewData[this.model.selectedRow]}),!this._trigger("rowSelecting",s)){if((this.model.edit.allowEditing||this.model.edit.allowAdding)&&this.model.isEdit&&this.model.autoSaveOnRowSelection){if((this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate")&&n("#"+this._id+"_externalEdit").css("display","none"),this.sendSaveRequest())return;f=n(this.getGridRows())}if(t.isNullOrUndefined(u)||t.isNullOrUndefined(i)){i=t.isNullOrUndefined(i)?u:i;switch(this.model.selectionType){case t.Grid.selectionType.Multiple:if(this._multiSelectCtrlRequest){e=n.inArray(i,this._selectedRowsIndexes),e!=-1&&this.cleanUpSelection(i)&&this._selectedRowsIndexes.splice(e,0),e==-1&&(this._selectedRowsIndexes.push(i),n(f[i]).find(".e-rowcell, .e-detailrowcollapse, .e-detailrowexpand").addClass("e-selectionbackground e-active"));break}case t.Grid.selectionType.Single:this.cleanUpSelection(),this._selectedRowsIndexes=[],this._selectedRowsIndexes.push(i),n(f[i]).find(".e-rowcell, .e-detailrowcollapse, .e-detailrowexpand").addClass("e-selectionbackground e-active")}}else{for(this.cleanUpSelection(),this._selectedRowsIndexes=[],rows=i-u<0?f.slice(i,u+1):f.slice(u,i+1),o=0;o<rows.length;o++)this._selectedRowsIndexes.push(rows[o].rowIndex);n(rows).find(".e-rowcell, .e-detailrowcollapse, .e-detailrowexpand").addClass("e-selectionbackground e-active")}this._previousIndex=this._selectedRowsIndexes.length?i:r,this.model.selectedRow=i,this._trigger("rowSelected",{currentRowIndex:this.model.selectedRow,currrentRow:f.eq(this.model.selectedRow),currentData:this.model.currentViewData[this.model.selectedRow]}),this._multiSelectCtrlRequest=!1}},getColumnByHeaderText:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].headerText==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByIndex:function(n){return n<this.model.columns.length?this.model.columns[n]:null},getColumnIndexByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t},getColumnFieldNames:function(){for(var t=[],n=0;n<this.model.columns.length;n++)this.model.columns[n].field&&t.push(this.model.columns[n].field);return t},_initValidator:function(){var i=this;n("#"+this._id+"EditForm").validate({errorClass:"e-field-validation-error",errorElement:"div",wrapper:"div",errorPlacement:function(r,u){var e=u.closest("td"),f=n(r).addClass("e-error"),o=t.buildTag("div.e-errortail e-toparrow");e.find(".e-error").remove(),u.hasClass("e-numerictextbox")?f.insertAfter(u.closest(".e-numeric")):f.insertAfter(u),f.prepend(o),i.model.edit.editMode!="dialog"&&f.offset({left:u.offset().left}),f.fadeIn("slow")}})},setValidation:function(){this._initValidator();for(var n=0;n<this.model.columns.length;n++)t.isNullOrUndefined(this.model.columns[n].validationRules)||this.setValidationToField(this.model.columns[n].field,this.model.columns[n].validationRules)},setValidationToField:function(i,r){var f=n("#"+this._id+i).length>0?n("#"+this._id+i):n("#"+i),u;f.rules("add",r),u=n("#"+this._id+"EditForm").validate(),t.isNullOrUndefined(r.required)||(u.settings.messages[i]={},u.settings.messages[i].required=this.getColumnByField(i).headerText+" is required")},_columnToSelect:function(){for(var i=[],n=0;n<this.model.columns.length;n++)this.model.columns[n].columnEditType===t.Grid.editingType.Dropdown&&t.isNullOrUndefined(this.model.columns[n].dropdownData)&&i.push(this.model.columns[n].field);return i.length?t.Query().select(i):t.Query()},_ensureDataSource:function(i){var u,c,f,e,o,s,l,r,h;if(this.model.dataSource!=null||this.model.dataSource instanceof t.DataManager){if(this.model.query.requiresCount(),u=this.model.query,this.model.dataSource instanceof t.DataManager||(this.model.currentViewData=this.model.dataSource),!(this.model.dataSource instanceof t.DataManager)&&(this.model.edit.allowEditing||this.model.edit.allowAdding)&&(!t.isNullOrUndefined(this._cModifiedData)||!t.isNullOrUndefined(this._cAddedRecord))){if(t.isNullOrUndefined(this._cAddedRecord)){for(f=0;f<this._primaryKeys.length;f++)u=u.where(this._primaryKeys[f],t.FilterOperators.equal,this._primaryKeyValues[f]);c=this._dataManager.executeLocal(u),n.extend(this.model.dataSource[n.inArray(c.result[0],this.model.dataSource)],this._cModifiedData),this._cModifiedData=null}else this.model.dataSource.unshift(this._cAddedRecord),this._cAddedRecord=null;u.queries=[],this.model.isEdit=!1}if(!this.model.edit.allowDeleting||t.isNullOrUndefined(this._cDeleteData)||this.model.dataSource instanceof t.DataManager||(f=n.inArray(this._cDeleteData[0],this.model.dataSource),this.model.dataSource.splice(f,1)),this.model.sortSettings.sortedColumns.length)for(r=this.model.sortSettings.sortedColumns.length-1;r>=0;r--)u.sortBy(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);if(this.model.allowSearching&&this._searchString.length&&(u.search(this._searchString,this.getColumnFieldNames(),t.FilterOperators.contains,!0),i.requestType=="searching"&&(this.model.pageSettings.currentPage=1)),this.model.allowFiltering&&this.model.filterSettings.filteredColumns.length){for(o=this.model.filterSettings.filteredColumns[0],e=t.Predicate(o.field,o.operator,o.value,!o.matchcase),r=1;r<this.model.filterSettings.filteredColumns.length;r++)e=e[this.model.filterSettings.filteredColumns[r].predicate](this.model.filterSettings.filteredColumns[r].field,this.model.filterSettings.filteredColumns[r].operator,this.model.filterSettings.filteredColumns[r].value,!this.model.filterSettings.filteredColumns[r].matchcase);u.where(e),this.model.dataSource instanceof t.DataManager?t.isNullOrUndefined(i)||i.requestType!=t.Grid.actions.Filtering||(this.model.pageSettings.currentPage=1):(this._filteredRecordsCount=this._dataManager.executeLocal(u).count,s=this._filteredRecordsCount%this.model.pageSettings.pageSize==0?this._filteredRecordsCount/this.model.pageSettings.pageSize:parseInt(this._filteredRecordsCount/this.model.pageSettings.pageSize,10)+1,(this.model.pageSettings.currentPage>s||this._filteredRecordsCount!=0&&this.model.pageSettings.currentPage==0)&&(this.model.pageSettings.currentPage=s)),this.model.allowSummary&&this.model.summaryRows.length>0&&(l=new t.Query,this._filteredRecords=this._dataManager.executeLocal(l.where(e)))}if((this.model.allowPaging||this.model.scrolling.allowVirtualScrolling&&this.model.allowScrolling)&&(this.model.pageSettings.currentPage==0&&(this.model.pageSettings.currentPage=this._prevPageNo),u.page(this.model.pageSettings.currentPage,this.model.pageSettings.pageSize)),this.model.allowGrouping)for(r=0;r<this.model.groupSettings.groupedColumns.length;r++)u.group(this.model.groupSettings.groupedColumns[r]);this.model.dataSource instanceof t.DataManager||(h=this._dataManager.executeLocal(u),this.model.currentViewData=h.result,this._gridRecordsCount=this.model.pageSettings.totalRecordsCount!=this.model.dataSource.length?this.model.dataSource.length:this.model.pageSettings.totalRecordsCount,this._searchCount=this._searchString.length?h.count:null)}},sendDataRenderingRequest:function(i){var d,g,w,b,nt,v,a,h,y,tt,c,s,r,o,l,e,u,p,k,rt,f;if(this.model.currentViewData.length)switch(i.requestType){case t.Grid.actions.Refresh:case t.Grid.actions.Paging:case t.Grid.actions.Sorting:case t.Grid.actions.Filtering:case t.Grid.actions.Save:case t.Grid.actions.Cancel:case t.Grid.actions.Delete:case t.Grid.actions.Search:case t.Grid.actions.Reorder:case t.Grid.actions.BulkSave:if(this.model.groupSettings.groupedColumns.length==0){r=document.createElement("div"),this.getGridContentTable().find("colgroup").first().replaceWith(this._getMetaColGroup()),this.model.detailTemplate!=null&&this.getGridContentTable().find("colgroup").first().prepend(this._getIndentCol()),r.innerHTML=["<table>",n.render[this._id+"_JSONTemplate"](this.model.currentViewData),"<\/table>"].join(""),d=this.model.pageSettings.currentPage,this.getGridContentTable().get(0).replaceChild(this.model.rowTemplate!=null?r.firstChild.lastChild:r.firstChild.firstChild,this.getGridContentTable().get(0).lastChild),this._currentJsonData=this.model.currentViewData,this._gridRows=this.getGridContentTable().get(0).rows,this._eventBindings(),u={},(i.requestType=="sorting"||i.requestType=="filtering")&&this.model.scrolling.allowVirtualScrolling&&(i.requestType=="filtering"&&(this.getGridContent().first().ejScroller("refresh").ejScroller("isVScroll")?this.element.find(".gridheader").addClass("scrollcss"):this.element.find(".gridheader").removeClass("scrollcss"),u=this._refreshVirtualPagerInfo()),this._refreshVirtualContent(d,u),i.requestType=="filtering"&&this.getGridContent().first().ejScroller("refresh"));break}case t.Grid.actions.Grouping:if(this.model.groupSettings.groupedColumns.length&&this.model.currentViewData){for(this._currentJsonData=[],g=this.getGridContentTable().children("tbody"),g.empty(),r=document.createElement("div"),this.model.groupSettings.groupedColumnShow||(this._hideHeaderColumn(this.model.groupSettings.groupedColumns,!0),this.getGridContentTable().children("colgroup").replaceWith(this.getGridHeaderTable().find("colgroup").clone())),this._isReorder=i.requestType=="reorder"?!0:!1,w=this.getGridContentTable().children("colgroup").find("col"),b=w.length-this.model.columns.length,this.model.detailTemplate!=null&&b--,w.length>this.model.columns.length&&this.getGridContentTable().children("colgroup").find("col:lt("+b+")").remove(),this.getGridContentTable().find("colgroup").first().replaceWith(this._getMetaColGroup()),f=0;f<this.model.groupSettings.groupedColumns.length;f++)this.getGridContentTable().children("colgroup").prepend(this._getIndentCol());r.innerHTML=["<table>",n.render[this._id+"_GroupingTemplate"](this.model.currentViewData,{groupedColumns:this.model.groupSettings.groupedColumns}),"<\/table>"].join(""),this.getGridContentTable().get(0).replaceChild(r.firstChild.firstChild,this.getGridContentTable().get(0).lastChild),this._groupingAction(),this._recalculateIndentWidth(),this._gridRows=this.getGridContentTable().find(".e-recordtable").find("tbody").find("tr").toArray(),this._eventBindings()}break;case t.Grid.actions.BeginEdit:for(nt=t.DataManager(this._currentJsonData),v=new t.Query,a=0;a<this._primaryKeys.length;a++)v=v.where(this._primaryKeys[a],t.FilterOperators.equal,this._primaryKeyValues[a]);if(this._currentData=nt.executeLocal(v),r=document.createElement("div"),h=n(r),this.model.edit.editMode=="normal"){for(r.innerHTML=["<table>",n.render[this._id+"_JSONEditingTemplate"](this._currentData,{groupedColumns:this.model.groupSettings.groupedColumns}),"<\/table>"].join(""),h.find("td").first().addClass("e-editcell"),y=h.find("select.e-field"),f=0;f<y.length;f++)y.eq(f).val(this._currentData[0][y[f].name]);this.model.groupSettings.groupedColumns.length>=2&&(tt=i.currentTr.find("td.e-indentcell"),h.find("tr").first().prepend(tt));var it=h.find("tr").first(),c=0,e=this.model.groupSettings.groupedColumnShow?0:this.model.groupSettings.groupedColumns.length;this.model.detailTemplate!=null&&(c++,h.find(".e-editcell").find("tr").prepend(i.currentTr.find("[class*='detailrow']"))),h.find(".e-editcell").get(0).colSpan=this.model.columns.length-this._hiddenColumns.length-e+c,i.currentTr.hasClass("e-alt_row")&&it.addClass("e-alt_row"),i.currentTr.empty().replaceWith(it.addClass("e-editedrow")),this._refreshUnboundTemplate(n("#"+this._id+"EditForm")),this._gridRows=this.getGridContentTable().find("td.e-rowcell").closest("tr").toArray()}else this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate"?(e=this.model.groupSettings.groupedColumnShow?0:this.model.groupSettings.groupedColumns.length,c=0,r.innerHTML=this.model.edit.editMode=="inlineForm"?n.render[this._id+"_JSONDialogEditingTemplate"](this._currentData):n.render[this._id+"_JSONdialogTemplateMode"](this._currentData),s=t.buildTag("tr"),o=t.buildTag("td"),s.addClass("e-editedrow"),o.addClass("e-inlineformedit"),o.prop("colspan",this.model.columns.length-this._hiddenColumns.length-e+c),o.html(n(r).children()),s.append(o),i.currentTr.after(s),n("#"+this._id+"_inlineFormTitle").text(this._getLocalizedLabels("EditFormTitle")+this._currentData[0][this._primaryKeys[0]])):(h.addClass("e-editedrow"),r.innerHTML=this.model.edit.editMode=="dialog"||this.model.edit.editMode=="externalForm"?n.render[this._id+"_JSONDialogEditingTemplate"](this._currentData):n.render[this._id+"_JSONdialogTemplateMode"](this._currentData),this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"?(n("#"+this._id+"_dialogEdit").html(n(r)),u={},u.cssClass=this.model.cssClass,u.rtl=this.model.rtl,u.width="auto",u.resizable=!1,u.contentContainer="#"+this._id,u.modal=!0,u.allowKeyboardNavigation=!1,u.title=this._getLocalizedLabels("EditFormTitle")+this._currentData[0][this._primaryKeys[0]],n("#"+this._id+"_dialogEdit").ejDialog(u),n("#"+this._id+"_dialogEdit").ejDialog("open")):(n("#"+this._id+"_externalEdit").css("display","block").css("z-index",this._maxZindex()+1),n(".e-externalformedit").html(n(r)),n("#"+this._id+"_eFormHeader").find(".e-form-title").text(this._getLocalizedLabels("EditFormTitle")+this._currentData[0][this._primaryKeys[0]]),this._externalFormPosition()));break;case t.Grid.actions.Add:if(r=document.createElement("div"),this.model.edit.editMode=="normal"){if(r.innerHTML=["<table>",n.render[this._id+"_JSONEditingTemplate"](i.data,{groupedColumns:this.model.groupSettings.groupedColumns}),"<\/table>"].join(""),n(r).find("td").first().addClass("e-editcell").end().find("input.e-field").val(""),o=n(r).find(".e-editcell").get(0),this.getGridContentTable().find("tbody").first().prepend(n(r).find("tr").first().addClass("e-addedrow")),l=n("#"+this._id+"EditForm").closest("tr.e-addedrow"),e=this.model.groupSettings.groupedColumnShow?0:this.model.groupSettings.groupedColumns.length,this.model.groupSettings.groupedColumns.length){for(f=0;f<this.model.groupSettings.groupedColumns.length;f++)f==0?l.prepend(t.buildTag("td.e-indentcell")):l.find("tr").prepend(t.buildTag("td.e-indentcell"));this.model.groupSettings.groupedColumns.length>=2?l.find("td.e-editcell").prop("colspan",this.model.columns.length+(this.model.groupSettings.groupedColumns.length-1)-this._hiddenColumns.length-e):l.find("td.e-editcell").prop("colspan",this.model.columns.length-this._hiddenColumns.length-e)}else l.find("td.e-editcell").prop("colspan",this.model.columns.length-this._hiddenColumns.length-e);this._refreshUnboundTemplate(n("#"+this._id+"EditForm")),this._gridRows=this.getGridContentTable().find("td.e-rowcell").closest("tr").toArray()}else if(this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate"){r.innerHTML=this.model.edit.editMode=="inlineForm"?n.render[this._id+"_JSONDialogEditingTemplate"](i.data):n.render[this._id+"_JSONdialogTemplateMode"](i.data),n(r).find("td").end().find("input.e-field").val("");var e=this.model.groupSettings.groupedColumnShow?0:this.model.groupSettings.groupedColumns.length,c=0,s=t.buildTag("tr"),o=t.buildTag("td");if(s.addClass("e-addedrow"),o.addClass("e-inlineformedit e-editcell"),o.prop("colspan",this.model.columns.length-this._hiddenColumns.length-e+c),o.html(n(r).children()),s.append(o),this.getGridContentTable().find("tbody").first().prepend(s),e=this.model.groupSettings.groupedColumnShow?0:this.model.groupSettings.groupedColumns.length,this.model.groupSettings.groupedColumns.length)for(f=0;f<this.model.groupSettings.groupedColumns.length;f++)s.prepend(t.buildTag("td.e-indentcell"));else s.find("td.e-editcell").prop("colspan",this.model.columns.length-this._hiddenColumns.length-e);n("#"+this._id+"_inlineFormTitle").text(this._getLocalizedLabels("AddFormTitle")),this._refreshUnboundTemplate(n("#"+this._id+"EditForm")),this._gridRows=this.getGridContentTable().find("td.e-rowcell").closest("tr").toArray()}else n(r).addClass("e-addedrow"),r.innerHTML=this.model.edit.editMode=="dialog"||this.model.edit.editMode=="externalForm"?n.render[this._id+"_JSONDialogEditingTemplate"](i.data):n.render[this._id+"_JSONdialogTemplateMode"](i.data),this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"?(n("#"+this._id+"_dialogEdit").html(n(r)),u={},u.cssClass=this.model.cssClass,u.modal=!0,u.width="auto",u.resizable=!1,u.contentContainer="#"+this._id,u.modal=!0,u.rtl=this.model.rtl,u.allowKeyboardNavigation=!1,u.title=this._getLocalizedLabels("AddFormTitle"),n("#"+this._id+"_dialogEdit").ejDialog(u),n("#"+this._id+"_dialogEdit").ejDialog("open")):(n("#"+this._id+"_externalEdit").css("display","block").css("z-index",this._maxZindex()+1),n(".e-externalformedit").html(n(r)),n("#"+this._id+"_eFormHeader").find(".e-form-title").text(this._getLocalizedLabels("AddFormTitle")),this._externalFormPosition());break;case t.Grid.actions.Ungrouping:if(p=this.element.children(".e-gridheader"),k=p.find(".e-filterbar").find("th").find("input"),p.find("div").first().empty().append(this._renderGridHeader().find("table")),this.setGridHeaderContent(p),this.model.allowFiltering&&this.model.filterSettings.filterType=="filterbar")for(this._renderFiltering(),rt=this.element.children(".e-gridheader").find(".e-filterbar").find("th").find("input"),f=0;f<k.length;f++)rt.eq(f).val(k.eq(f).val());this.model.groupSettings.groupedColumnShow||this._hideHeaderColumn(this.model.groupSettings.groupedColumns,!0),this.element.find(".e-gridcontent").children("div").first().empty().append(this._renderGridContent().find("table").first());break;case t.Grid.actions.VirtualScroll:this._isVirtualRecordsLoaded||this._replacingContent()}else this.getGridContentTable().find("tbody").empty().append(this._getEmptyTbody());this._completeAction(i)},_replacingContent:function(){var s=document.createElement("div"),u=this.getCurrentIndex(),f=this.getGridContentTable()[0],v=n(f).find("colgroup").first(),h=this.getGridRowHeight(),e,r,o,a,w,i;v.replaceWith(this._getMetaColGroup()),this.model.detailTemplate!=null&&v.prepend(this._getIndentCol());var y=f.tBodies[0],c=n(y).clone(),p=n("<tbody><\/tbody>").append(n.render[this._id+"_JSONTemplate"](this.model.currentViewData)),l=this;this.virtualLoadedPages.push(u>=0?u:0),e=t.dataUtil.mergeSort(t.distinct(this.virtualLoadedPages)),r=n("<tbody><\/tbody>"),n(p).children("tr").attr("name",u),o=t.dataUtil.min(e),a=t.dataUtil.max(e),n(c).find("tr.e-virtualrow").remove(),n(c).append(n(p).children("tr")),n.each(e,function(t,i){var s,u;if(n(r).append(n(c).find("tr[name="+i+"]")),i!=0){var v=i==o?o:e[t-1],y=document.createElement("tr"),f=i-v-l.model.pageSettings.pageSize;f>0&&n(y).addClass("e-virtualrow").css("height",h*f).insertBefore(n(r).children("tr[name="+i+"]:first"))}i==a&&(s=document.createElement("tr"),u=l._gridRecordsCount-a-l.model.pageSettings.pageSize,u>0&&n(s).addClass("e-virtualrow").css("height",h*u).appendTo(r))}),o>0&&(w=document.createElement("tr"),n(w).addClass("e-virtualrow").css("height",h*o).prependTo(r)),i=n(y).html(n(r).html()).find("tr[name="+u+"]")[0],(i&&i.previousSibling&&(n(i.previousSibling).hasClass("e-virtualrow")||i.previousSibling.offsetTop>u*this.getGridContent().height())&&(this._gridRecordsCount-u>this.model.pageSettings.pageSize||i.offsetParent.offsetHeight-i.offsetTop<this.getGridContent().height())||this._lastRow)&&(this._lastRow&&(this._lastRow=!1),this._isVirtualRecordsLoaded=!0,this.getGridContent().children("div").first().scrollTop(this.getGridContent().find(".content").scrollTop()-(this.getGridContent().find(".content").scrollTop()-i.offsetTop))),n(s).append(n("<table><\/table>").append(r)),n(f).get(0).replaceChild(this.model.rowTemplate!=null?s.firstChild.lastChild:s.firstChild.firstChild,n(f).get(0).lastChild),this._currentJsonData=this.model.currentViewData,this._gridRows=n(f).get(0).rows,this._eventBindings()},_hideHeaderColumn:function(t,i){for(var o=this.getGridHeaderTable().find("thead"),h=o.find(".e-headercell"),c=o.find(".e-filterbar").find(".e-filterbarcell"),r=this.getGridHeaderTable().find("colgroup").find("col"),f,e,s,u=0;u<t.length;u++)f=i?this.getColumnByField(t[u]):this.getColumnByHeaderText(t[u]),e=n.inArray(f,this.model.columns),s=h.eq(e).addClass("e-hide").index(),c.eq(s).addClass("e-hide"),r.length>this.model.columns.length&&(r=r.slice(r.length-this.model.columns.length)),r.eq(e).css("display","none")},_hideSummaryColumn:function(t,r){for(r.length>this.model.columns.length&&(r=r.slice(r.length-this.model.columns.length)),i=0;i<this.model.columns.length;i++)this.model.columns[i].visible?r.eq(i).css("display")=="none"&&r.eq(i).css("display",""):(r.eq(i).css("display","none"),n(t[i]).addClass("e-hide"))},_showHeaderColumn:function(t,i){for(var e=this.getGridHeaderTable().find("thead"),s=e.find(".e-headercell"),h=e.find(".e-filterbar").find(".e-filterbarcell"),c=this.getGridHeaderTable().find("colgroup").find("col"),u,f,o,r=0;r<t.length;r++)u=i?this.getColumnByField(t[r]):this.getColumnByHeaderText(t[r]),f=n.inArray(u,this.model.columns),o=s.eq(f).removeClass("e-hide").index(),h.eq(o).removeClass("e-hide"),c.eq(f).css("display","")},_groupingAction:function(){var t=this.getGridHeaderTable().find("thead").find(".e-columnheader").find(".e-grouptopleftcell"),r=this.getGridHeaderTable().find("colgroup").find("col"),i=t.length,n;for(i&&(this.getGridHeaderTable().find("colgroup").replaceWith(this._getMetaColGroup()),this.model.detailTemplate!=null&&this.getGridHeaderTable().find("colgroup").prepend(this._getIndentCol()),t.remove(),this.getGridHeaderTable().find("thead").find(".e-filterbar").find(".e-filterbarcell:lt("+i+")").remove()),this.setWidthToColumns(),n=0;n<this.model.groupSettings.groupedColumns.length;n++)this.getGridHeaderTable().find("colgroup").prepend(this._getIndentCol()),this.getGridHeaderTable().find("thead").find(".e-columnheader").prepend(this._getGroupTopLeftCell()),this.getGridHeaderTable().find("thead").find(".e-filterbar").prepend(this._getEmptyFilterBarCell());this.getGridHeaderTable().find("thead").find("th.e-grouptopleftcell").last().addClass("e-lastgrouptopleftcell")},_completeAction:function(i){var s,f,e,o,u,r;if(this.model.isEdit=!1,this._confirmedValue=!1,t.Grid.actions.Grouping!=i.requestType||!t.isNullOrUndefined(i.columnName)){if(this.model.groupSettings.groupedColumns.length==0&&this.setWidthToColumns(),t.Grid.actions.Paging==i.requestType)this._refreshGridPager();else if(t.Grid.actions.Sorting==i.requestType&&this.model.allowSorting||t.Grid.actions.Refresh==i.requestType){for(this._multiSortRequest||this.getGridHeaderTable().find(".e-columnheader").find(".e-headercelldiv").find(".e-ascending,.e-descending").remove(),r=0;r<this.model.sortSettings.sortedColumns.length;r++)this._addSortElementToColumn(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);this.model.groupSettings.groupedColumns.length&&this._$curSElementTarget!=null&&(f=this._checkEinGroupDrop(n.trim(this._$curSElementTarget.text())),t.isNullOrUndefined(f)||(s=i.columnSortDirection=="ascending"?"e-gupward":"e-gdownward",f.find(".e-ascending,.e-descending").removeClass().addClass("e-icon e-"+i.columnSortDirection+" "+s))),this._refreshGridPager(),this._multiSortRequest=!1}else if((t.Grid.actions.Delete==i.requestType||t.Grid.actions.Save==i.requestType||t.Grid.actions.Search==i.requestType)&&this.model.allowPaging)this.model.filterSettings.filteredColumns.length?this.getGridPager().ejPager({totalRecordsCount:this._searchCount==null?this._filteredRecordsCount:this._searchCount}):this.getGridPager().ejPager({totalRecordsCount:this._searchCount==null?this._gridRecordsCount:this._searchCount});else if(t.Grid.actions.Filtering==i.requestType){if(this._refreshGridPager(),this.model.filterSettings.filterType=="menu"){this._closeFilterDlg();var c=this.getColumnByField(this._$curFieldName),l=n.inArray(c,this.model.columns),a=this,h=!1;n.each(this.model.filterSettings.filteredColumns,function(n,t){if(t.field==a._$curFieldName)return h=!0,!1}),e=this.getGridHeaderTable().find("thead").find(".e-headercell").eq(l).find(".e-filtericon"),h?e.addClass("e-filteredicon e-filternone"):e.removeClass("e-filteredicon e-filternone")}}else if(t.Grid.actions.BeginEdit==i.requestType||t.Grid.actions.Add==i.requestType){if(o=n("#"+this._id+"EditForm"),this.model.isEdit=!0,this.setWidthToColumns(),t.Grid.actions.Add==i.requestType)for(o.find(".e-field:disabled").not(".e-identity").removeAttr("disabled").removeClass("e-disable"),r=0;r<this.model.groupSettings.groupedColumns.length-1;r++)o.find("colgroup").prepend(this._getIndentCol());(this._tdsOffsetWidth.length==0||this.model.groupSettings.groupedColumns.length)&&this._setoffsetWidth(),this.model.edit.editMode!="dialogTemplate"&&this._refreshEditForm(),n.isFunction(n.validator)&&this.setValidation()}else if(t.Grid.actions.Grouping==i.requestType){if(u=this.element.children(".e-groupdroparea"),this.model.groupSettings.groupedColumns.length&&u.find(".e-grid-icon").length==0&&u.empty(),this._initialRender)for(r=0;r<this.model.groupSettings.groupedColumns.length;r++)this._addColumnToGroupDrop(this.model.groupSettings.groupedColumns[r]);else this._addColumnToGroupDrop(i.columnName);for(this.getGridHeaderTable().find(".e-columnheader").find(".e-headercelldiv").find(".e-ascending,.e-descending").remove(),r=0;r<this.model.sortSettings.sortedColumns.length;r++)this._addSortElementToColumn(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);this._initialRender||this._groupHeaderCelldrag(),this.model.allowScrolling&&this.getGridContentTable().parent().scrollLeft(this.getGridHeaderTable().parent().scrollLeft()-1),this.element.children(".e-cloneproperties").remove()}else if(t.Grid.actions.Ungrouping==i.requestType){for(u=this.element.children(".e-groupdroparea"),this._removeColumnFromDrop(i.columnName),this.getGridHeaderTable().find(".e-columnheader").find(".e-headercelldiv").find(".e-ascending,.e-descending").remove(),r=0;r<this.model.sortSettings.sortedColumns.length;r++)this._addSortElementToColumn(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);this.model.groupSettings.groupedColumns.length==0&&(u.html(this.model.enableEffects?"":this._getLocalizedLabels("GroupDropArea")),this.model.groupSettings.showAnimateButton&&u.append(t.buildTag("div.e-animatebutton").addClass(this.model.enableEffects?"e-animatebuttondown e-gdownarrow":"e-animatebuttonup e-guparrow")),u.css("height","auto")),this._headerCellgDragDrop(),this.model.allowScrolling&&this.getGridContentTable().parent().scrollLeft(this.getGridHeaderTable().parent().scrollLeft()+10),this.element.children(".e-cloneproperties").remove()}else t.Grid.actions.BulkSave==i.requestType&&this._refreshGridPager();this.model.toolBar.allowToolBar&&this.refreshToolBar(),this.model.allowSummary&&this.model.summaryRows.length>0&&this._createSummaryRows(n("#"+this._id+"_summaryTable")),this._setCurrentRow(i.requestType),this.refreshBatchEditMode(),i.requestType==(t.Grid.actions.Grouping||t.Grid.actions.Ungrouping||t.Grid.actions.Add||t.Grid.actions.Edit||t.Grid.actions.Filtering)&&(this.model.allowScrolling&&this.getGridContent().first().ejScroller("refresh").ejScroller("isVScroll")?this.element.find(".gridheader").addClass("scrollcss"):this.element.find(".gridheader").removeClass("scrollcss")),this._trigger("actionComplete",i)}},refreshBatchEditMode:function(){this.model.edit.editMode=="batch"&&(this.refreshBatchEditChanges(),this._bulkEditCellDetails._data=n.extend(!0,[],this.getCurrentViewData()))},_refreshGridPager:function(){if(this.getGridPager()!=null){var i=this.getGridPager().ejPager("model"),n={};n.currentPage=this.model.pageSettings.currentPage,this._filteredRecordsCount==0&&this.model.currentViewData.length==0&&(t.isNullOrUndefined(this._prevPageNo)||this._prevPageNo)?(n.currentPage=0,this._prevPageNo=i.currentPage,this.model.pageSettings.currentPage=0):i.currentPage==0&&(t.isNullOrUndefined(this._prevPageNo)||this._prevPageNo)&&(n.currentPage=this._prevPageNo),n.totalRecordsCount=this.model.filterSettings.filteredColumns.length==0?this._searchCount==null?this._gridRecordsCount:this._searchCount:this._filteredRecordsCount,t.util.isNullOrUndefined(n.currentPage)&&(n.currentPage=this.model.pageSettings.currentPage),this.getGridPager().ejPager("option",n)}},_refreshVirtualPagerInfo:function(){var n={};return n.pageSize=this.model.pageSettings.pageSize,n.currentPage=this.model.pageSettings.currentPage,n.totalRecordsCount=this.model.filterSettings.filteredColumns.length==0?this._searchCount==null?this._gridRecordsCount:this._searchCount:this._filteredRecordsCount,n.totalPages=Math.ceil(n.totalRecordsCount/n.pageSize),n},_refreshUnboundTemplate:function(n){var o,f,e,r,i,s,h,u;if(this._isUnboundColumn)for(o=0,f=0;f<this.model.columns.length;f++)if(this.model.columns[f].isUnBound)for(e=n.find(".e-unboundcell.e-"+this.model.columns[f].headerText.replace(/\s+/g,"")).find(".e-unboundcelldiv"),r=this.model.columns[f].commands,i=0;i<r.length;i++)s=t.isNullOrUndefined(r[i].buttonOptions.width)?"52":r[i].buttonOptions.width,h=t.isNullOrUndefined(r[i].buttonOptions.height)?"30":r[i].buttonOptions.height,r[i].buttonOptions.width=t.isNullOrUndefined(r[i].buttonOptions.width)?"52":r[i].buttonOptions.width,r[i].buttonOptions.height=t.isNullOrUndefined(r[i].buttonOptions.height)?"28":r[i].buttonOptions.height,r[i].buttonOptions.cssClass=this.model.cssClass,r[i].buttonOptions.rtl=this.model.rtl,u=e.find(".e-"+r[i].type+"button"),n.closest(".e-editcell").length?r[i].type=="save"||r[i].type=="cancel"?u.show():(u.hasClass("e-deletebutton")&&u.hide(),u.hasClass("e-editbutton")&&u.hide()):r[i].type=="save"||r[i].type=="cancel"?u.hide():(u.hasClass("e-deletebutton")&&u.show(),u.hasClass("e-editbutton")&&u.show()),u.ejButton(r[i].buttonOptions);else continue},refreshToolBar:function(){var r=n("#"+this._id+"_toolbarItems"),i=r.find("li"),t;for(r.ejToolbar("enableItem",i),t=0;t<i.length;t++)switch(i[t].id){case this._id+"_add":case this._id+"_edit":case this._id+"_delete":this.model.isEdit&&(n(i[t]).hasClass("e-hover")&&n(i[t]).removeClass("e-hover"),this._disabledToolItems.push(i[t]));break;case this._id+"_update":case this._id+"_cancel":this.model.isEdit||(n(i[t]).hasClass("e-hover")&&n(i[t]).removeClass("e-hover"),this._disabledToolItems.push(i[t]))}r.ejToolbar("disableItem",this._disabledToolItems),this._disabledToolItems=n()},sendDeleteRequest:function(i){var s,f,h,e,r,u,o,c;if(this.model.edit.allowDeleting){if(this._primaryKeys.length==0&&!this.model.edit.allowEditing&&!this.model.edit.allowAdding)for(r=0;r<this.model.columns.length;r++)this.model.columns[r].key===!0&&(this._primaryKeys.push(n.trim(this.model.columns[r].field)),this._primaryKeys=n.unique(this._primaryKeys));if(this.model.selectedRow==-1&&t.isNullOrUndefined(i)){alert(this._getLocalizedLabels("DeleteOperationAlert"));return}for(t.isNullOrUndefined(i)&&(i=n(this.getGridRows()).eq(this.model.selectedRow)),this._primaryKeyValues=[],f=0;f<this._primaryKeys.length;f++)s=this.getColumnByField(this._primaryKeys[f]),f=n.inArray(s,this.model.columns),this._primaryKeyValues.push(i.find(".e-rowcell").eq(f).html());for(h=t.DataManager(this._currentJsonData),e=new t.Query,r=0;r<this._primaryKeys.length;r++)e=e.where(this._primaryKeys[r],t.FilterOperators.equal,this._primaryKeyValues[r]);if(currentData=h.executeLocal(e),u={},u.tr=i,u.data=currentData[0],u.requestType=t.Grid.actions.Delete,this._trigger("actionBegin",u))return!0;this._cDeleteData=currentData,this.model.dataSource instanceof t.DataManager?(o=this._dataManager.remove(this._primaryKeys[0],currentData[0][this._primaryKeys[0]]),c=this,n.isFunction(o.promise)?(o.done(function(){c._processBindings(u)}),o.fail(function(){})):this._processBindings(u)):this._processBindings(u),this._primaryKeyValues=[],this._cDeleteData=null}},sendEditingRequest:function(i){var f,r,u,e;if(this.model.edit.allowEditing){if(this.model.selectedRow==-1&&t.isNullOrUndefined(i)){alert(this._getLocalizedLabels("EditOperationAlert"));return}for(t.isNullOrUndefined(i)?(this._currentTrIndex=this.model.selectedRow,this._$currentTr=n(this.getGridRows()).eq(this.model.selectedRow)):(this._currentTrIndex=i.index(),this._$currentTr=i),r=0;r<this._primaryKeys.length;r++)f=this.getColumnByField(this._primaryKeys[r]),r=n.inArray(f,this.model.columns),this._primaryKeyValues.push(this._$currentTr.find(".e-rowcell").eq(r).html());if(u={currentTr:this._$currentTr,rowIndex:this._currentTrIndex,primaryKey:this._primaryKeys,primaryKeyValue:this._primaryKeyValues},e=this._trigger("beginEdit",u),e){this._primaryKeyValues=[];return}u.requestType=t.Grid.actions.BeginEdit,this._processBindings(u)}},sendAddRequest:function(){var t,i,u,r,f;if(this.model.edit.allowAdding){for(cloneData={},t=0;t<this.model.columns.length;t++)cloneData[this.model.columns[t].field]="";i={},i.data=cloneData,i.requestType="add",this.cleanUpSelection(),u=this._processBindings(i),u||(this.model.selectedRow=0),r=this.model.groupSettings.groupedColumns.length,r>1&&(f=this.getGridContentTable().find(".e-addedrow").find("table").find("colgroup").children(),n(f.slice(0,r-1)).css("width",this.getGridHeaderTable().find("colgroup").children()[0].style.width))}},sendSaveRequest:function(){var i,h,f,o,e,l,u,s,c,a;if(this.model.isEdit){if(!this.editFormValidate())return!0;if(obj={},this.model.edit.editMode=="batch")this.saveCell();else{for(i=document.getElementById(this._id+"EditForm"),h=this.model.edit.editMode=="normal"||this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate"?n(i).closest("tr"):n(i).closest("div"),f=0;f<i.length;f++)h.hasClass("e-addedrow")&&n(i[f]).hasClass("e-identity")||(o=i[f].name,e=n(i[f]),o!=r&&(o==""&&(o=i[f].id.replace(this._id,"")),o!=""&&obj[o]==null&&(l=this.getColumnByField(o),u=i[f].value,n(i[f]).hasClass("e-datepicker")?(u=e.ejDatePicker("model.value"),e.ejDatePicker("destroy")):n(i[f]).hasClass("e-datetimepicker")?(u=e.ejDateTimePicker("model.value"),e.ejDateTimePicker("destroy")):e.is(".e-numerictextbox")?u=e.ejNumericTextbox("getValue"):e.data("ejDropDownList")&&(u=e.ejDropDownList("getSelectedValue"),e.ejDropDownList("destroy")),l==null?u=isNaN(parseFloat(u))?u:parseFloat(u):l.type=="number"&&u.length&&(u=parseFloat(u)),obj[o]=i[f].type!="checkbox"?u:n(i[f]).is(":checked"))));if(s={data:obj},s.requestType=t.Grid.actions.Save,this._trigger("actionBegin",s))return!0;h.hasClass("e-editedrow")?this._cModifiedData=obj:h.hasClass("e-addedrow")&&(this._cAddedRecord=obj),this.model.dataSource instanceof t.DataManager?(c=t.isNullOrUndefined(this._cModifiedData)?this._dataManager.insert(s.data):this._dataManager.update(this._primaryKeys[0],s.data),a=this,n.isFunction(c.promise)?(c.done(function(){a._processBindings(s)}),c.fail(function(){})):a._processBindings(s)):this._processBindings(s),this._cModifiedData=null,this._cAddedRecord=null,this._primaryKeyValues=[]}}},sendGroupingRequest:function(i){var r,u,f;if(this.model.allowGrouping&&n.inArray(i,this._disabledGroupableColumns)==-1&&!t.isNullOrUndefined(this.getColumnByField(i))&&n.inArray(i,this.model.groupSettings.groupedColumns)==-1){for(this.model.groupSettings.groupedColumns.push(i),r=0;r<this.model.sortSettings.sortedColumns.length;r++)if(this.model.sortSettings.sortedColumns[r].field==i)break;this.model.sortSettings.sortedColumns.length==r&&this.model.sortSettings.sortedColumns.push({field:i,direction:t.sortOrder.Ascending}),u={},u.columnName=i,u.requestType=t.Grid.actions.Grouping,f=this._processBindings(u),f&&this.model.groupSettings.groupedColumns.pop(),this._primaryKeyValues=[]}},sendUngroupingRequest:function(i){var u,r,f;if(this.model.allowGrouping){if(n.inArray(i,this.model.groupSettings.groupedColumns)!=-1)this.model.groupSettings.groupedColumns.splice(n.inArray(i,this.model.groupSettings.groupedColumns),1);else return null;for(u={},r=0;r<this.model.sortSettings.sortedColumns.length;r++)if(this.model.sortSettings.sortedColumns[r].field==i){this.model.sortSettings.sortedColumns.splice(r,1);break}u.columnName=i,u.requestType=t.Grid.actions.Ungrouping,f=this._processBindings(u),f&&this.model.groupSettings.groupedColumns.push(i),this._primaryKeyValues=[]}},sendCancelRequest:function(){var i={};n("#"+this._id+"EditForm").find(".e-datepicker").ejDatePicker("destroy"),i.requestType=t.Grid.actions.Cancel,this._processBindings(i),this._primaryKeyValues=[],this._currentData=null},sendSearchRequest:function(n){var i={};i.requestType=t.Grid.actions.Search,i.keyValue=n,this._searchString=n,this._processBindings(i),this._primaryKeyValues=[]},sendSortingRequest:function(i,u){var f,o,e,s;if(this.model.allowSorting&&n.inArray(i,this._disabledSortableColumns)==-1&&i.length!=0){for(f={},this._multiSortRequest||(o=this,this.model.sortSettings.sortedColumns=n.grep(this.model.sortSettings.sortedColumns,function(t){return n.inArray(t.field,o.model.groupSettings.groupedColumns)!=-1?!0:!1})),f.requestType=t.Grid.actions.Sorting,f.columnName=i,this._cSortedColumn=this.getFieldNameByHeaderText(i),this._cSortedDirection=f.columnSortDirection=u===r?t.sortOrder.Ascending:u,e=0;e<this.model.sortSettings.sortedColumns.length;e++)if(this.model.sortSettings.sortedColumns[e].field==this._cSortedColumn){this.model.sortSettings.sortedColumns.splice(e,1);break}this.model.sortSettings.sortedColumns.push({field:this._cSortedColumn,direction:this._cSortedDirection}),s=this._processBindings(f),s&&(this._cSortedDirection=this._cSortedColumn=null),this._primaryKeyValues=[]}},sendPagingRequest:function(n){if(this.model.allowPaging||this.model.allowScrolling||this.model.scrolling.allowVirtualScrolling){var i={},r;i.previousPage=this.model.pageSettings.currentPage,this.model.pageSettings.currentPage=n,i.endIndex=this.model.pageSettings.currentPage*this.model.pageSettings.pageSize>this._gridRecordsCount?this._gridRecordsCount:this.model.pageSettings.currentPage*this.model.pageSettings.pageSize,i.startIndex=this.model.pageSettings.currentPage*this.model.pageSettings.pageSize-this.model.pageSettings.pageSize,i.currentPage=n,this.model.allowPaging&&(i.requestType=t.Grid.actions.Paging),this.model.scrolling.allowVirtualScrolling&&this.model.allowScrolling&&(i.requestType=t.Grid.actions.VirtualScroll),r=this._processBindings(i),r&&(this.model.pageSettings.currentPage=i.previousPage),this._primaryKeyValues=[]}},_setDateFilters:function(t){var u=new Date(t.value.setDate(t.value.getDate()-1)),f=new Date(t.value.setDate(t.value.getDate()+2)),i=n.extend({},t),r=n.extend({},t);i.value=u,r.value=f,t.operator=="equal"?(i.operator=">",i.predicate="and",r.operator="<",r.predicate="and"):(i.operator="<=",i.predicate="or",r.operator=">=",r.predicate="or"),this.model.filterSettings.filteredColumns.push(i),this.model.filterSettings.filteredColumns.push(r)},sendFilteringRequest:function(i,r,u,f,e){var s,l,p,h,o,w,c,a,y;if(this.model.allowFiltering){for(s={},s.requestType=t.Grid.actions.Filtering,s.currentFilterObject=[],n.isArray(r)||(r=n.makeArray(r)),n.isArray(u)||(u=n.makeArray(u)),l=!1,p=this._filterCollection,t.util.isNullOrUndefined(this._currentFilterColumn)&&(this._currentFilterColumn=this.getColumnByField(i)),h=0;h<r.length;h++){if(o={field:i,operator:r[h],value:u[h],matchcase:e,predicate:f},this.model.filterSettings.filterType=="filterbar"&&(this._$colType=this._currentFilterColumn.type),this.model.filterSettings.filteredColumns.length==0&&o.value!=="")this._$colType=="date"&&(r=="equal"||r=="notequal")?this._setDateFilters(o):this.model.filterSettings.filteredColumns.push(o);else{if(w=this,!l){var b=t.DataManager(this.model.filterSettings.filteredColumns),k=(new t.Query).where("field",t.FilterOperators.equal,o.field),v=b.executeLocal(k);for(c=0;c<v.length;c++)a=n.inArray(v[c],this.model.filterSettings.filteredColumns),a!=-1&&this.model.filterSettings.filteredColumns.splice(a,1)}o.value!==""&&(this._$colType=="date"&&(r=="equal"||r=="notequal")?this._setDateFilters(o):this.model.filterSettings.filteredColumns.push(o))}l=!0,s.currentFilterObject.push(o)}s.filterCollection=this.model.filterSettings.filteredColumns,s.currentFilteringColumn=i,y=this._processBindings(s),y&&(this.model.filterSettings.filteredColumns.reverse().splice(0,r.length),this.model.filterSettings.filteredColumns.reverse())}},sendReorderingRequest:function(n,t){var i=this.model.columns.indexOf(this.getColumnByField(n)),r=this.model.columns.indexOf(this.getColumnByField(t));this.set_dropColumn(i,r)},collapseGroupDropArea:function(){$groupDropArea=this.element.find(".e-groupdroparea").first(),proxy=this,this.model.groupSettings.groupedColumns.length==0&&this.model.enableEffects&&$groupDropArea.animate({height:"10px"},200,function(){proxy.model.groupSettings.groupedColumns.length==0&&(n(this).html("").append(t.buildTag("div.e-animatebutton e-animatebuttondown e-gdownarrow")),n(this).dequeue().css("height","auto"))})},expandGroupDropArea:function(){$groupDropArea=this.element.find(".e-groupdroparea").first(),proxy=this,this.model.groupSettings.groupedColumns.length==0&&proxy.model.enableEffects&&$groupDropArea.animate({height:"30px"},150,function(){proxy.model.groupSettings.groupedColumns.length==0&&$groupDropArea.html(proxy._getLocalizedLabels("GroupDropArea")).append(t.buildTag("div.e-animatebutton e-animatebuttonup e-guparrow")),$groupDropArea.dequeue().css("height","30px")})},columns:function(r,u){var f,e,o;if(!t.isNullOrUndefined(r)){for(f=!1,typeof r=="string"?(r=[r],f=!0):r instanceof Array&&r.length&&typeof r[0]=="string"&&(f=!0),i=0;i<r.length;i++)e=n.inArray(this.getColumnByField(f?r[i]:r[i].field),this.model.columns),u=="add"||t.isNullOrUndefined(u)?e==-1?this.model.columns.push(f?{field:r[i]}:r[i]):this.model.columns[e]=f?{field:r[i]}:r[i]:e!=-1&&this.model.columns.splice(e,1);o=this.element.find(".e-gridheader"),o.find("div").first().empty().append(this._renderGridHeader().find("table")),this._headerCellgDragDrop(),this.refreshGridContent(!0)}},getCurrentEditCellData:function(){if(this.model.isEdit&&n("#"+this._id+"EditForm").length){var r=n("#"+this._id+this._bulkEditCellDetails.fieldName),i;switch(this._bulkEditCellDetails.cellEditType){case t.Grid.editingType.String:i=r.val();break;case t.Grid.editingType.Numeric:i=r.ejNumericTextbox("getValue"),r.ejNumericTextbox("getValue");break;case t.Grid.editingType.Dropdown:i=r.ejDropDownList("getSelectedValue");break;case t.Grid.editingType.Boolean:i=r.is(":checked");break;case t.Grid.editingType.DatePicker:i=r.ejDatePicker("model.value");break;case t.Grid.editingType.DateTimePicker:i=r.ejDateTimePicker("model.value")}return typeof i=="string"&&i.length&&this.model.columns[this._bulkEditCellDetails.columnIndex].type=="number"&&(i=parseFloat(i)),i}return null},cancelEditCell:function(){if(this.model.isEdit){var t=this.getGridRows()[this._bulkEditCellDetails.rowIndex],i={},r;i[this._bulkEditCellDetails.fieldName]=this._bulkEditCellDetails.cellValue,r=n(t).hasClass("e-insertedrow")?t.cells[this._bulkEditCellDetails.columnIndex+this.model.groupSettings.groupedColumns.length]:t.cells[this._bulkEditCellDetails.columnIndex],n(r).removeClass("e-editedbatchcell").empty().html(n(n.templates.Grid_JSONTemplate.render(i))[0].cells[this._bulkEditCellDetails.columnIndex].innerHTML),this.model.isEdit=!1,this.element.focus()}},saveCell:function(i){var f,h;if(this.model.isEdit){if(!this.editFormValidate())return!0;var e=n("#"+this._id+"EditForm"),c=e.closest("tr"),l=e.closest("td"),o,r={},u=this.model.columns[this._bulkEditCellDetails.columnIndex],s=n("#"+this._id+this._bulkEditCellDetails.fieldName);if(r={columnName:u.field,value:this.getCurrentEditCellData(),rowData:this._bulkEditCellDetails.rowData,previousValue:this._bulkEditCellDetails.cellValue,columnObject:u,cell:l},!i&&this._trigger("cellSave",r)){this._focusElements(r.cell),this._bulkEditCellDetails.cancelSave=!0;return}(this._bulkEditCellDetails.cellEditType=="datetimepicker"||this._bulkEditCellDetails.cellEditType=="dropdownedit"||this._bulkEditCellDetails.cellEditType=="datepicker")&&s[s.data("ejWidgets")[0]]("destroy"),t.isNullOrUndefined(u.format)?r.columnObject.type=="boolean"?(f={},f[r.columnObject.field]=r.value,r.cell.empty().html(n(n.templates.Grid_JSONTemplate.render(f))[0].cells[this._bulkEditCellDetails.columnIndex].innerHTML)):r.cell.empty().html(r.value):(o=this.formatting(u.format,r.value),r.cell.empty().html(o)),h=(this._bulkEditCellDetails.cellEditType=="datepicker"||this._bulkEditCellDetails.cellEditType=="datetimepicker")&&r.value instanceof Date&&r.previousValue instanceof Date?r.value.getTime()!==r.previousValue.getTime():r.value!==r.previousValue,this.model.isEdit=!1,h&&(this._enableSaveCancel(),r.cell.addClass("e-updatedtd e-icon e-gupdatenotify"),r.rowData[this._bulkEditCellDetails.fieldName]=typeof r.rowData[this._bulkEditCellDetails.fieldName]=="string"&&r.rowData[this._bulkEditCellDetails.fieldName].length?r.value.toString():r.value,n.inArray(r.rowData,this._batchChanges.changed)==-1&&n.inArray(r.rowData,this._batchChanges.added)==-1&&this._batchChanges.changed.push(r.rowData)),c.removeClass("e-editedrow"),r.cell.removeClass("e-editedbatchcell")}},_enableSaveCancel:function(){this.model.toolBar.allowToolBar&&($toolBar=this.element.find("#"+this._id+"_toolbarItems"),$toolBar.ejToolbar("enableItembyID",this._id+"_update"),$toolBar.ejToolbar("enableItembyID",this._id+"_cancel"))},setCellValue:function(t,i,r){var u=this.getDataByIndex(t),f=this.getGridRows()[t],e=this.getColumnIndexByField(i);u[i]=r,n(f).hasClass("e-insertedrow")?f.cells[e+this.model.groupSettings.groupedColumns.length].innerHTML=r:(n.inArray(u,this._batchChanges.changed)==-1&&this._batchChanges.changed.push(u),f.cells[e].innerHTML=r),this._enableSaveCancel()},setDefaultData:function(i){var i,u,r;if(t.isNullOrUndefined(i)){i=n.extend(!0,{},this._bulkEditCellDetails._data[0]),u=this.getColumnFieldNames();for(r in i)if(n.inArray(r,u)==-1&&delete i[r],i.hasOwnProperty(r))switch(typeof i[r]){case"number":i[r]=0;break;case"string":i[r]="";break;case"boolean":i[r]=!1;break;case"object":i[r]=n.isArray(i[r])?[]:""}}this._bulkEditCellDetails.defaultData=i},bulkDelete:function(i){t.isNullOrUndefined(i)&&(i=this.model.selectedRow);var f=this.getGridRows()[i],r=n(f),i,e=this.getDataByIndex(i),u={};(u={primaryKey:this._primaryKeys,rowIndex:i,rowData:e,row:r},this._trigger("beforeBulkDelete",u))||(r.hasClass("e-insertedrow")?(r.remove(),i=n.inArray(f,this._bulkEditCellDetails.insertedTrCollection),i!=-1&&(this._bulkEditCellDetails.insertedTrCollection.splice(i,1),this._batchChanges.added.splice(i,1))):(r.hide(),this._batchChanges.deleted.push(e)),this._enableSaveCancel(),this.model.selectedRow=-1,u={},this._trigger("bulkDelete",u))},bulkAddRow:function(i){var r={},u,f,o=this.getGridRows(),e;if(t.isNullOrUndefined(i)||(this._bulkEditCellDetails.defaultData=i),t.isNullOrUndefined(this._bulkEditCellDetails.defaultData)&&this.setDefaultData(),r={defaultData:n.extend(!0,{},this._bulkEditCellDetails.defaultData),primaryKey:this._primaryKeys},!this._trigger("beforeBulkAdd",r)){for(u=n(n.render[this._id+"_JSONTemplate"](r.defaultData)).addClass("e-insertedrow"),o!=null&&n(o[0]).hasClass("e-alt_row")&&u.removeClass("e-alt_row"),this.getGridContentTable().find("tbody").first().prepend(u),this._gridRows=this.getGridContentTable().find("td.e-rowcell").closest("tr").toArray(),e=0;e<this.model.groupSettings.groupedColumns.length;e++)u.prepend(t.buildTag("td.e-indentcell"));this._bulkEditCellDetails.insertedTrCollection.push(u.get(0)),this._batchChanges.added.push(r.defaultData),this._enableSaveCancel(),f=this._findNextEditableCell(0),this.selectRows(0),this.bulkEdit(0,this.model.columns[f].field),u.find(".e-rowcell").addClass("e-updatedtd e-icon e-gupdatenotify"),r={defaultData:r.defaultData},n.extend(r,{columnObject:this.model.columns[f],columnIndex:f,row:u,primaryKey:this._primaryKeys,cell:n(u[0].cells[f])}),this._trigger("bulkAdd",r)}},getDataByIndex:function(t){var i=n(this.getGridRows()[t]),r;return i.hasClass("e-insertedrow")?(r=n.inArray(i[0],this._bulkEditCellDetails.insertedTrCollection),this._batchChanges.added[r]):this._bulkEditCellDetails._data[t-this._bulkEditCellDetails.insertedTrCollection.length]},refreshBatchEditChanges:function(){this._bulkEditCellDetails={cellValue:null,rowIndex:-1,_data:null,columnIndex:-1,fieldName:null,cellEditType:"",cancelSave:!1,defaultData:null,insertedTrCollection:[],rowData:null},this._batchChanges={added:[],deleted:[],changed:[]}},bulkCancel:function(){this.sendCancelRequest()},bulkSave:function(){var n={},r=this,i;(this.saveCell(),n.batchChanges=this.getBatchChanges(),this._trigger("beforeBulkSave",n))||(n={},n.requestType="bulksave",i=this._dataManager.saveChanges(this.getBatchChanges(),this._primaryKeys[0],this.model.query._fromTable),this._dataManager instanceof t.DataManager&&!this._dataManager.dataSource.offline?i.done(function(){r._processBindings(n)}):this._processBindings(n))},getBatchChanges:function(){return this._batchChanges},bulkEdit:function(i,r){var c=n("#"+this._id+"EditForm");if(this.model.isEdit&&this.saveCell(),!n.isFunction(n.validator)||!c.length||!c.validate().errorList.length){var o=n(this.getGridRows()[i]),f=this.getColumnIndexByField(r),l=o.find(".e-rowcell").eq(f),e=this.model.columns[f],s=this.getDataByIndex(i),u={validationRules:t.isNullOrUndefined(e.validationRules)?{}:n.extend(!0,{},e.validationRules),columnName:e.field,value:s[r],rowData:s,primaryKey:this._primaryKeys,columnObject:e,cell:l},h=!0;this._trigger("cellEdit",u)||((n.inArray(r,this._primaryKeys)!=-1||u.columnObject.allowEditing===!1||u.columnObject.columnTemplate||u.columnObject.isUnBound)&&(n.extend(this._bulkEditCellDetails,{cellValue:u.value,rowIndex:i,fieldName:r,rowData:u.rowData,columnIndex:f}),h=!1),!o.hasClass("e-insertedrow")||u.columnObject.columnTemplate||u.columnObject.isUnBound||(h=!0),h&&(n.extend(this._bulkEditCellDetails,{rowIndex:i,cellValue:u.value,columnIndex:f,fieldName:r,cellEditType:u.columnObject.columnEditType,rowData:s}),this._renderBulkEditObject(u,l),o.addClass("e-editedrow"),u.cell.addClass("e-editedbatchcell")))}},_findNextEditableCell:function(n){for(var i=this.model.columns.length,t=n;t<i;t++)if(!this.model.columns[t].columnTemplate&&!this.model.columns[t].isUnBound)return t;return-1},_findNextCell:function(i,r){var e,u=[],f,o=this.getGridRows();return f=t.Predicate("visible","equal",!0).and("columnTemplate","notequal",!0),n(o[this._bulkEditCellDetails.rowIndex]).hasClass("e-insertedrow")||(f=f.and("allowEditing","notequal",!1)),e=r=="right"?this.model.columns.slice(i):this.model.columns.slice(0,i+1).reverse(),u=t.DataManager(e).executeLocal(t.Query().where(f)),u.length!=0||r=="left"&&this._bulkEditCellDetails.rowIndex==0||r=="right"&&this._bulkEditCellDetails.rowIndex+1==this.getGridRows().length||(e=r=="right"?this.model.columns.slice(0,i):this.model.columns.slice(i).reverse(),u=t.DataManager(e).executeLocal(t.Query().where(f)),this._bulkEditCellDetails.rowIndex=u.length&&r=="right"?this._bulkEditCellDetails.rowIndex+1:this._bulkEditCellDetails.rowIndex-1),u.length?n.inArray(u[0],this.model.columns):-1},_moveCurrentCell:function(t){var i,r=this._bulkEditCellDetails.rowIndex,u=n("#"+this._id+"EditForm");if(this._bulkEditCellDetails.rowIndex==-1&&this._bulkEditCellDetails.columnIndex==-1)return!0;switch(t){case"right":if(this._bulkEditCellDetails.rowIndex==this.getGridRows().length-1&&this._bulkEditCellDetails.columnIndex==this.model.columns.length-1||!this.element.is(document.activeElement)&&u.length==0)return!0;this._bulkEditCellDetails.columnIndex==this.model.columns.length-1?(i=0,this._bulkEditCellDetails.rowIndex=this._bulkEditCellDetails.rowIndex+1):i=this._bulkEditCellDetails.columnIndex+1,(this.model.columns[i].columnTemplate===!0||this.model.columns[i].visible===!1||this.model.columns[i].allowEditing===!1)&&(i=this._findNextCell(i,t)),this._bulkEditCellDetails.rowIndex!=r&&this.selectRows(this._bulkEditCellDetails.rowIndex),i!=-1&&this.bulkEdit(this._bulkEditCellDetails.rowIndex,this.model.columns[i].field);break;case"left":if(this._bulkEditCellDetails.rowIndex==0&&this._bulkEditCellDetails.columnIndex==0||!this.element.is(document.activeElement)&&u.length==0)return!0;this._bulkEditCellDetails.columnIndex==0?(i=this.model.columns.length-1,this._bulkEditCellDetails.rowIndex=this._bulkEditCellDetails.rowIndex-1,this.selectRows(this._bulkEditCellDetails.rowIndex)):i=this._bulkEditCellDetails.columnIndex-1,(this.model.columns[i].columnTemplate===!0||this.model.columns[i].visible===!1||this.model.columns[i].allowEditing===!1)&&(i=this._findNextCell(i,t)),this._bulkEditCellDetails.rowIndex!=r&&this.selectRows(this._bulkEditCellDetails.rowIndex),i!=-1&&this.bulkEdit(this._bulkEditCellDetails.rowIndex,this.model.columns[i].field);break;case"up":if(this._bulkEditCellDetails.rowIndex==0)return;i=this._bulkEditCellDetails.columnIndex,this.selectRows(this._bulkEditCellDetails.rowIndex-1),this.bulkEdit(this._bulkEditCellDetails.rowIndex-1,this.model.columns[this._bulkEditCellDetails.columnIndex].field);break;case"down":if(this._bulkEditCellDetails.rowIndex==this.getGridRows().length-1)return;i=this._bulkEditCellDetails.columnIndex,this.selectRows(this._bulkEditCellDetails.rowIndex+1),this.bulkEdit(this._bulkEditCellDetails.rowIndex+1,this.model.columns[this._bulkEditCellDetails.columnIndex].field)}return addedRow=!n(this.getGridRows()[this._bulkEditCellDetails.rowIndex]).hasClass("e-insertedrow"),i!=-1&&(this.model.columns[i].isUnbound||this.model.columns[i].key&&addedRow||this.model.columns[i].columnTemplate)&&this.element.focus(),!1},_renderBulkEditObject:function(i,r){var e=t.buildTag("form","",{},{id:this._id+"EditForm"}),s=this._bulkEditTemplate,h=this._id+i.columnObject.field,u,o,f={};f[i.columnObject.field]=i.value,r.empty(),o=s.find("#"+i.columnObject.field+"_BulkEdit").html(),u=n(n.templates(o).render(f)),u.get(0).tagName=="SELECT"&&(u.val(f[i.columnObject.field]),u.val()==null&&u.val(u.find("option").first().val())),e.append(u),r.append(e),this._setoffsetWidth(),this._refreshEditForm(),n.isFunction(n.validator)&&!n.isEmptyObject(i.validationRules)&&(this._initValidator(),this.setValidationToField(i.columnObject.field,i.validationRules)),this.model.isEdit=!0},_wireEvents:function(){var i=this.model.allowFiltering&&this.model.filterSettings.filterType=="menu";this._on(this.element,"click",this._clickHandler),this._on(this.element,t.eventType.click,".e-gridheader",this._mouseClickHandler),this._enableEditingEvents(),this._enableRowHover(),this._on(this.element,"click",".e-gridcontent .e-unboundcelldiv",this._unboundClickHandler),this._enableGroupingEvents(),this._enableFilterEvents(),this.model.allowKeyboardNavigation&&(this.element[0].tabIndex=0,this.element[0].accessKey="e",this._on(this.element,"keyup",this._keyDownHandler)),this._on(this.element,"mousedown",".e-gridheader",this._headerMouseDown),this._on(this.element,"mouseenter mouseleave",".e-groupdroparea,.e-groupheadercell",this._dropAreaHover),this._on(this.element,"mouseover mouseleave",".e-gridheader",this._headerHover),this._on(this.element,t.eventType.mouseMove,".e-gridheader",this._headerHover),this.model.allowResizing&&(this._on(this.element,t.eventType.mouseMove,this._mouseMove),this._on(this.element,"mouseup",this._mouseUp)),this._on(this.element,"swipeleft swiperight",".e-gridcontent .e-table",n.proxy(this._touchGrid,this))},_touchGrid:function(n){var t=this.model.pageSettings.currentPage,i=this._gridRecordsCount/this.model.pageSettings.pageSize,r=i==0?i:parseInt(i,10)+1;switch(n.type){case"swipeleft":this.model.allowPaging&&t!=r&&this.element.ejGrid("sendPagingRequest",t+1);break;case"swiperight":this.model.allowPaging&&t>1&&this.element.ejGrid("sendPagingRequest",t-1)}},_enableGroupingEvents:function(){this.model.allowGrouping&&(this._on(this.element,"click",".e-groupdroparea,.e-groupheadercell",this._groupHeaderCellClick),this._on(this.element,"mousedown",".e-groupheadercell",function(){return!1}))},_enableEditingEvents:function(){if(this.model.edit.allowEditing||this.model.edit.allowAdding){if(this.model.edit.allowEditing&&this.model.edit.editMode!="batch"&&this.model.edit.editEvent=="doubleclick"?this._on(this.element,"dblclick",".e-gridcontent",this._editdblClickHandler):this._off(this.element,"dblclick",".e-gridcontent"),this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"){this._on(n("#"+this._id+"_dialogEdit"),"click keypress","#EditDialog_"+this._id+"_Save ,#EditDialog_"+this._id+"_Cancel",this._buttonClick);n(this.element).on("click",".e-icon",n.proxy(this._buttonClick,this))}else if(this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate"){this._on(n("#"+this._id+"_externalEdit"),"click keypress","#EditExternalForm_"+this._id+"_Save ,#EditExternalForm_"+this._id+"_Cancel",this._buttonClick);n(this.element).on("click",".e-form-toggle-icon",n.proxy(this._buttonClick,this))}else if(this.model.edit.editMode=="batch")this._on(n(document),"mousedown",this._saveCellHandler);else if(this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate")n(this.element).on("click keypress","#InlineEditForm_"+this._id+"_Save ,#InlineEditForm_"+this._id+"_Cancel",n.proxy(this._buttonClick,this))}else this._off(n("#"+this._id+"_dialogEdit"),"click","#EditDialog_"+this._id+"_Save ,#EditDialog_"+this._id+"_Cancel"),n(this.element).off("click",".e-icon"),this._off(n("#"+this._id+"_externalEdit"),"click","#EditExternalForm_"+this._id+"_Save ,#EditExternalForm_"+this._id+"_Cancel"),n(this.element).off("click",".e-form-toggle-icon"),n(this.element).off("click","#InlineEditForm_"+this._id+"_Save ,#InlineEditForm_"+this._id+"_Cancel")},_enableRowHover:function(){this.model.rowHover?this._on(this.element,"mouseenter mouseleave",".e-gridcontent tr td",this._rowHover):this._off(this.element,"mouseenter mouseleave",".e-gridcontent tr td")},_enableFilterEvents:function(){this.model.allowFiltering&&(this.model.filterSettings.filterType=="menu"?this._off(n(document),"click")._on(n(document),"click",this._docClickHandler):this._off(this.element,"keyup",".e-filterbar input")._on(this.element,"keyup",".e-filterbar input",this._filterBarHandler))},_saveCellHandler:function(t){var i=n(t.target);t.stopPropagation(),i.closest(".e-popup").length==0&&i.closest(".e-rowcell").find("#"+this._id+"EditForm").length==0&&this.saveCell()},_dropAreaHover:function(t){var i=n(t.target),r=this;return t.type=="mouseenter"?(this._dragActive?i.hasClass("e-groupdroparea")&&i.addClass("e-hover"):i.removeClass("e-hover"),i.hasClass("e-groupheadercell")&&this.model.groupSettings.showUngroupButton&&i.find(".e-ungroupbutton").show(150)):t.type=="mouseleave"&&(i.hasClass("e-groupdroparea")&&(i.find(".e-ungroupbutton").hide(150),i.removeClass("e-hover")),i.hasClass("e-groupheadercell")&&this.model.groupSettings.showUngroupButton&&i.find(".e-ungroupbutton").hide(150)),!1},_mouseUp:function(n){this.model.allowResizing&&this._resizer._mouseUp(n)},_mouseMove:function(n){this.model.allowResizing&&this._resizer._mouseMove(n)},_headerMouseDown:function(t){if(this.model.allowResizing&&this._resizer._mouseDown(t),n(t.target).hasClass("e-headercelldiv")&&!n(t.target).parent().hasClass("e-grouptopleftcell")||n(t.target).hasClass("e-headercell")){var i=n(t.target).hasClass("e-headercelldiv")?n(t.target).parent():n(t.target);this.model.headerEffects&&i.removeClass("e-hover").addClass("e-headercellactive e-active")}},_headerHover:function(t){var i=n(t.target);t.type=="mouseover"||t.type=="mousemove"||t.type=="touchmove"||t.type=="MSPointerMove"?(this.model.allowResizing&&this._resizer._mouseHover(t),this.model.headerEffects&&!this._dragActive&&(i.hasClass("e-headercelldiv")&&!i.parent().hasClass("e-grouptopleftcell")||i.hasClass("e-headercell"))&&(i.hasClass("e-headercelldiv")&&(i=i.parent()),this.getGridHeaderTable().find(".e-columnheader").find(".e-headercell-hover").removeClass("e-headercell-hover").removeClass("e-hover"),i.addClass("e-headercell-hover e-hover"))):this.model.headerEffects&&this.getGridHeaderTable().find(".e-columnheader").find(".e-headercell-hover").removeClass("e-headercell-hover").removeClass("e-hover")},_groupHeaderCellClick:function(t){var i=n(t.target),r,u;return i.hasClass("e-ungroupbutton")?(r=n.trim(i.parent().text()),u=this.getFieldNameByHeaderText(r),this.sendUngroupingRequest(u)):i.hasClass("e-togglegroupbutton")?(r=n.trim(i.parent().text()),u=this.getFieldNameByHeaderText(r),i.hasClass("e-toggleungroup")&&this.sendUngroupingRequest(u)):i.hasClass("e-animatebutton")&&(this.model.enableEffects?(this.expandGroupDropArea(),this.model.enableEffects=!1):(this.model.enableEffects=!0,this.collapseGroupDropArea())),!1},_rowHover:function(t){var i,r,u;if(this.model.rowHover)return(i=n(t.target),r=n(this.getGridRows()),i.hasClass("e-rowcell")&&i.closest("#"+this._id+"EditForm").length||!i.hasClass("e-rowcell"))?void 0:(t.type!="mouseenter"||this._dragActive?r.removeClass("e-hover"):(r.removeClass("e-hover"),u=r.index(i.parent()),u!=-1&&i.parent().addClass("e-hover")),!1)},_unboundClickHandler:function(t){var i=n(t.target),r,u;i.hasClass("e-unboundcelldiv")||(this.model.allowSelection&&this.selectRows(n(this.getGridRows()).index(i.closest("tr"))),n.isFunction(n.fn.ejDatePicker)&&n("#"+this._id+"EditForm").find(".e-datepicker").ejDatePicker("hide"),i.hasClass("e-editbutton")?(r=n(this.getGridRows()).index(i.closest("tr")),this.model.isEdit&&this.sendCancelRequest(),u=n(this.getGridRows()[r]),this.sendEditingRequest(u)):i.hasClass("e-deletebutton")?this.sendDeleteRequest(i.closest("tr")):i.hasClass("e-savebutton")?this.sendSaveRequest():i.hasClass("e-cancelbutton")&&this.sendCancelRequest())},_docClickHandler:function(t){var i=this.getBrowserDetails();this._$colType&&n(t.target).find(".e-grid.e-dlgcontainer").length>1&&(i.browser=="msie"?t.target.tagName!="BODY"&&this._closeFilterDlg():this._closeFilterDlg())},_closeFilterDlg:function(){n("#"+this._id+"_"+this._$colType+"Dlg").ejDialog("close"),this._$fDlgIsOpen=!1},_clickHandler:function(i){var r=n(i.target),u,f=n("#"+this._id+"EditForm"),e;if(!r.closest("#"+this._id+"EditForm").length){if(r.hasClass("e-rowcell")||r.parent().hasClass("e-rowcell")){if(this._bulkEditCellDetails.cancelSave){this._bulkEditCellDetails.cancelSave=!1;return}if(this.model.edit.editMode=="batch"&&n.isFunction(n.validator)&&f.length&&f.validate().errorList.length>0)return;this.model.edit.editMode=="batch"&&this.element.focus(),e=r.closest("tr").hasClass("e-insertedrow")?this.model.groupSettings.groupedColumns.length:0,this._bulkEditCellDetails.columnIndex=r.hasClass("e-rowcell")?r.index():r.parent().index()-e,this._bulkEditCellDetails.rowIndex=n(this.getGridRows()).index(r.closest("tr")),this.model.allowSelection&&(this.model.selectionType==t.Grid.selectionType.Multiple&&(i.ctrlKey&&(this._multiSelectCtrlRequest=!0),i.shiftKey&&(this._multiSelectShiftRequest=!0,this.selectRows(this._previousIndex,n(this.getGridRows()).index(r.closest("tr"))))),this._multiSelectShiftRequest||this.selectRows(n(this.getGridRows()).index(r.closest("tr"))),this._multiSelectShiftRequest=!1),u=this.model.columns[this._bulkEditCellDetails.columnIndex].field,u&&this.model.edit.allowEditing&&this.model.edit.editMode==t.Grid.editMode.Batch&&this.bulkEdit(n.inArray(r.closest("tr").get(0),this.getGridRows()),u)}this.expandCollapse(r),this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&!r.is(".e-filtericon")&&r.closest(".e-dlgcontainer").length!=1&&this._closeFilterDlg()}},_editdblClickHandler:function(t){var i=n(t.target);return i.hasClass("e-rowcell")&&(this.model.isEdit||(this._$currentTr=i.closest("tr"),this.sendEditingRequest(this._$currentTr))),!1},_keyPressed:function(t,i,r){var f,u,e,o,s,h;if(!this.model.allowKeyboardNavigation||i.tagName=="INPUT"&&r.code!=40&&r.code!=38&&r.code!=13&&r.code!=27&&r.code!=9||String.fromCharCode(r.code).toLowerCase()==this.element[0].accessKey.toLowerCase()||(this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate")&&n(i).closest("#"+this._id+"EditForm").length)return!0;this.getGridPager()!=null&&(f=this.getGridPager().ejPager("model"),u=f.currentPage),e=!1,s=n(i);switch(t){case"insertRecord":this._toolbarOperation(this._id+"_add");break;case"saveRequest":this.model.edit.editMode=="batch"?this._moveCurrentCell("down"):this._toolbarOperation(this._id+"_update");break;case"cancelRequest":this._toolbarOperation(this._id+"_cancel");break;case"deleteRecord":this._toolbarOperation(this._id+"_delete");break;case"editRecord":this._toolbarOperation(this._id+"_edit");break;case"totalGroupCollapse":this.collapseAll();break;case"totalGroupExpand":this.expandAll();break;case"selectedGroupExpand":this._$currentTr=n(this.getGridRows()).eq(this.model.selectedRow),o=this._$currentTr.parents("tr").first().prev().find(".e-recordpluscollapse"),this.expandCollapse(o);break;case"selectedGroupCollapse":this._$currentTr=n(this.getGridRows()).eq(this.model.selectedRow),o=this._$currentTr.parents("tr").first().prev().find(".e-recordplusexpand"),this.expandCollapse(o);break;case"firstRowSelection":this.selectRows(0);break;case"lastRowSelection":this.selectRows(n(this.getGridRows()).length-1);break;case"upArrow":if((i.type=="text"||i.type=="checkbox")&&this.model.isEdit&&this.model.edit.editMode!="batch")return!0;this.model.selectedRow!=0&&(this.selectRows(this.model.selectedRow-1),this.model.edit.editMode=="batch"&&this._moveCurrentCell("up"));break;case"downArrow":if((i.type=="text"||i.type=="checkbox")&&this.model.isEdit&&this.model.edit.editMode!="batch")return!0;h=n(this.getGridRows()).length-1,this.model.selectedRow!=h&&(this.selectRows(this.model.selectedRow+1),this.model.edit.editMode=="batch"&&this._moveCurrentCell("down"));break;case"nextPage":this.getGridPager()!=null&&(u=u+1);break;case"previousPage":this.getGridPager()!=null&&(u=u-1);break;case"lastPage":this.getGridPager()!=null&&(u=f.totalPages);break;case"firstPage":this.getGridPager()!=null&&(u=1);break;case"nextPager":this.getGridPager()!=null&&(u=Math.ceil(f.currentPage/f.pageCount)*f.pageCount+1);break;case"previousPager":this.getGridPager()!=null&&(u=(Math.floor(f.currentPage/f.pageCount)-1)*f.pageCount+1);break;case"moveCellLeft":e=this.model.edit.editMode=="batch"?this._moveCurrentCell("left"):!0;break;case"moveCellRight":e=this.model.edit.editMode=="batch"&&s?this._moveCurrentCell("right"):!0;break;default:e=!0}return this.getGridPager()!=null&&f.currentPage!==u&&this.getGridPager().ejPager("goToPage",u),e},_mouseClickHandler:function(i){var r,f,s,u,e,o;if(n(i.target).is(".e-ascending, .e-descending")&&(i.target=i.target.parentNode),r=n(i.target),this._$fDlgIsOpen&&this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&(n.fx.off=!0,n("#"+this._id+"_"+this._$prevColType+"Dlg").ejDialog("close"),n.fx.off=!1),this.getGridHeaderTable().find(".e-columnheader").find(".e-headercellactive").removeClass("e-headercellactive").removeClass("e-active"),r.hasClass("e-headercelldiv")){if(!this.model.allowSorting)return;u=n.trim(r.text()),f=t.sortOrder.Ascending,this._$prevSElementTarget=this._$curSElementTarget,this._$curSElementTarget=r,f=r.find("span").hasClass("e-ascending")?t.sortOrder.Descending:t.sortOrder.Ascending,this.model.allowMultiSorting&&i.ctrlKey&&(this._multiSortRequest=!0),this.sendSortingRequest(u,f)}else if(r.hasClass("e-togglegroupbutton"))u=n.trim(r.parent().text()),s=this.getFieldNameByHeaderText(u),r.hasClass("e-togglegroup")&&this.sendGroupingRequest(s),r.hasClass("e-toggleungroup")&&this.sendUngroupingRequest(s);else if((r.hasClass("e-filtericon")||r.hasClass("e-filteredicon"))&&(u=n.trim(r.parent().text()),this._$prevFieldName=this._$curFieldName,this.model.allowFiltering)){e=this,n.each(this.model.columns,function(n,t){t.headerText==u&&(e._$colType=t.type,e._$curFieldName=t.field,e._$colFormat=t.format)}),o="#"+this._id+"_"+this._$colType+"Dlg",this._$colType=="string"?n("#"+this._id+"_acString").ejAutocomplete({fields:{text:e._$curFieldName,id:this._getIdField()}}):this._$colType=="date"&&(this._$colFormat=this._$colFormat.replace("{0:","").replace("}",""),n(o).find(".e-datewidget input").ejDatePicker({dateFormat:this._$colFormat.replace("{0:","").replace("}","")})),this._setFilterFieldValues(o);var h=n(document).width(),c=250,l=i.clientX;h-i.clientX<=c&&(l=h-c),n(o).ejDialog({position:{X:l,Y:r.parent().offset().top+32}}).ejDialog("open"),this._$colType=="number"&&n(o).find(".e-numerictextbox").ejNumericTextbox({width:"230px"}),this._$prevColType=this._$colType,this._$fDlgIsOpen=!0}i.preventDefault()},_setFilterFieldValues:function(t){var i="",r=this;this._$curFieldName!=this._$prevFieldName&&(n.each(this.model.filterSettings.filteredColumns,function(n,t){if(t.field==r._$curFieldName)return i=t.value,!1}),this._$colType=="boolean"?i&&i!=""?n(t).find(".e-value input").attr("checked",!0):n(t).find(".e-value input").attr("checked",!1):n(t).find(".e-value input").val(i))},_getIdField:function(){var t;return n.each(this.model.columns,function(n,i){if(i.key)return t=i.field,!1}),t},_gPagerClickHandler:function(n){if(this._prevPageNo!=n.currentPage)return this.model.masterObject.sendPagingRequest(n.currentPage),!1},_toolBarClick:function(t){var f=n(this.itemsContainer).closest(".e-grid"),u=f.ejGrid("instance"),i=f.attr("id");if((t.event!=r||t.target.tagName!="INPUT"||t.currentTarget.id!=i+"_search")&&(n.isFunction(n.fn.ejDatePicker)&&n("#"+i+"EditForm").find(".e-datepicker").ejDatePicker("hide"),!f.ejGrid("instance")._trigger("toolBarClick",t))){switch(t.currentTarget.id){case i+"_add":u._toolbarOperation(i+"_add");break;case i+"_edit":u._toolbarOperation(i+"_edit");break;case i+"_delete":u._toolbarOperation(i+"_delete");break;case i+"_update":u._toolbarOperation(i+"_update");break;case i+"_cancel":u.model.edit.editMode=="batch"?u.sendCancelRequest():u._toolbarOperation(i+"_cancel");break;case i+"_search":u._toolbarOperation(i+"_search",n(t.currentTarget).find("input").val())}return!1}},_toolbarOperation:function(t,i){var e=this.element,r=e.ejGrid("instance"),f=r.model.edit.editMode=="batch",u=e.attr("id"),o;switch(t){case u+"_add":f?r.bulkAddRow():r.sendAddRequest();break;case u+"_edit":f?(o=r.model.columns[r._bulkEditCellDetails.columnIndex].field,o&&r.bulkEdit(r._bulkEditCellDetails.rowIndex,o)):r.sendEditingRequest();break;case u+"_delete":f?r.bulkDelete():r.sendDeleteRequest();break;case u+"_update":f?this._confirmDialog.find(".e-content").html(this._getLocalizedLabels("BulkSaveConifrm")).end().ejDialog("open"):r.sendSaveRequest();break;case u+"_cancel":f?n("#"+u+"ConfirmDialog").ejDialog("isOpened")===!0?this._triggerConfirm():r.cancelEditCell():r.sendCancelRequest();break;case u+"_search":e.ejGrid("sendSearchRequest",i)}return!1},_filterBarHandler:function(t){var f=t.keyCode,i,r,u;if((this.model.filterSettings.filterBarMode=="immediate"||f==13)&&f!=9){if(i=n(t.target),this.filterStatusMsg="",r=i.closest("th").index()-this.model.groupSettings.groupedColumns.length,this.model.detailTemplate!=null&&r--,u=this.getColumnByIndex(r),u==null)return;if(this._currentFilterColumn=u,this._currentFilterColumn!=this._oldFilterColumn&&(this.filterValueOldLength=0),this._currentFilterbarValue=i.val(),this.filterValueCurrentLength=this._currentFilterbarValue.length,(this.filterValueCurrentLength==0&&this.filterValueOldLength==0||this._currentFilterbarValue==this.OldfilterValue)&&this._currentFilterColumn==this._oldFilterColumn){this._showFilterMsg();return}if(this._skipFilterProcess=this._checkForSkipInput(),this._skipFilterProcess)if(this._currentFilterColumn.type=="string")this.filterStatusMsg="Invalid Filter Data",this._showFilterMsg();else{this._skipFilterProcess=!1,this._showFilterMsg();return}else this._processFilter()}},editFormValidate:function(){return n.isFunction(n.validator)?n("#"+this._id+"EditForm").validate().form():!0},_checkEinHeader:function(t){for(var r=this.element.children(".e-gridheader").find("thead").find(".e-columnheader").find(".e-headercell"),i=0;i<r.length;i++)if(n.trim(r.eq(i).text())==t)return r.eq(i);return null},_checkEinGroupDrop:function(t){for(var r=this.element.children(".e-groupdroparea").find(".e-grid-icon"),i=0;i<r.length;i++)if(n.trim(r.eq(i).text())==t)return r.eq(i);return null},_addColumnToGroupDrop:function(n){var i=t.buildTag("div.e-grid-icon e-groupheadercell"),o=this.element.find(".e-groupdroparea").first(),r=t.buildTag("div"),s="e-gupward",h=this.getColumnByField(n),u,f;i.append(r.html(h.headerText)),u=this._checkEinHeader(h.headerText),this.model.groupSettings.toggleGrouping&&(r.append(this._getToggleButton().addClass("e-toggleungroup")),u.find(".e-headercelldiv").find(".e-togglegroupbutton").remove().end().append(this._getToggleButton().addClass("e-toggleungroup"))),f="ascending",u.find(".e-ascending,.e-descending").length&&(f=u.find(".e-ascending,.e-descending").hasClass("e-ascending")?"ascending":"descending",s=f=="ascending"?"e-gupward":"e-gdownward"),r.append(this._createSortElement().addClass("e-"+f+" "+s)),this.model.groupSettings.showUngroupButton&&r.append(t.buildTag("span.e-ungroupbutton e-icon e-gclose"," ",{},{title:"Click here to ungroup"})),o.append(i).css("height","auto");var c=i.offset().left,e=i.clone().css("position","absolute"),l=this;i.css("visibility","hidden"),o.append(e).dequeue(),e.css({left:c+150}).animate({left:c},150,function(){i.css("visibility","visible"),e.remove()})},_removeColumnFromDrop:function(t){for(var u=this.getHeaderTextByFieldName(t),e=this,f=this.element.children(".e-groupdroparea"),r=f.css("height","30px").find(".e-grid-icon"),i=0;i<r.length;i++)n.trim(r.eq(i).text())==u&&(this.model.groupSettings.groupedColumns.length==0?this.collapseGroupDropArea():r.eq(i).remove())},_addSortElementToColumn:function(t,i){var f=this.getColumnByField(t),r,e=n.inArray(f,this.model.columns),u=this.getGridHeaderTable().find("thead").find(".e-headercell").not(".e-detailheadercell").eq(e).find(".e-headercelldiv");u.find(".e-ascending,.e-descending").remove(),r=i=="ascending"?"e-gupward":"e-gdownward",u.append(this._createSortElement().addClass("e-"+i+" "+r))},_removeSortElementFromColumn:function(t){var i=this.getColumnByField(t),r=n.inArray(i,this.model.columns),u=this.getGridHeaderTable().find("thead").find(".e-headercell").not(".e-detailheadercell").eq(r).find(".e-headercelldiv");u.find(".e-ascending,.e-descending").remove()},_refreshEditForm:function(){for(var w=document.getElementById(this._id+"EditForm"),a=!1,v=n(w).find("input,select"),y=86,i,e,l,o,u,f,h,c,s=0;s<v.length;s++)if(i=v.eq(s),!i.closest("td").hasClass("e-unboundcell")){if((this.model.edit.editMode=="externalForm"||this.model.edit.editMode=="externalFormTemplate"||this.model.edit.editMode=="inlineForm"||this.model.edit.editMode=="inlineFormTemplate")&&i.parent().css("width",t.dataUtil.max(this._tdsOffsetWidth)+"px"),this.model.edit.editMode=="batch"&&(y=95),e=this._tdsOffsetWidth[s]*(y/100),i.hasClass("e-numerictextbox")){var o=e,u={},p=i.val();u.width=o,u.rtl=this.model.rtl,u.showSpinButton=!0,u.cssClass=this.model.cssClass,p.length&&(u.value=parseFloat(p)),l=this.getColumnByField(i.prop("name")),t.isNullOrUndefined(l.editParams)||n.extend(u,l.editParams),i.ejNumericTextbox(u),i.prop("name",i.prop("name").replace(this._id,""))}else if(i.hasClass("e-datepicker"))o=e,u={},u.width=o,u.rtl=this.model.rtl,u.cssClass=this.model.cssClass,u.displayDefaultDate=!0,u.showDateIcon=!1,i.val().length&&(u.value=new Date(i.val())),f=this.getColumnByField(i.prop("name")),f.format!==r&&f.format.length>0&&(h=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),c=h.exec(f.format),u.dateFormat=c[2]),t.isNullOrUndefined(f.editParams)||n.extend(u,f.editParams),i.ejDatePicker(u);else if(i.hasClass("e-datetimepicker"))o=e,u={width:o,rtl:this.model.rtl,cssClass:this.model.cssClass,showButton:!1},i.val().length&&(u.value=new Date(i.val())),f=this.getColumnByField(i.prop("name")),f.format!==r&&f.format.length>0&&(h=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),c=h.exec(f.format),u.dateTimeFormat=c[2]),t.isNullOrUndefined(f.editParams)||n.extend(u,f.editParams),i.ejDateTimePicker(u);else if(i.hasClass("e-dropdownlist"))i.ejDropDownList({width:e+"px",rtl:this.model.rtl}),i.ejDropDownList("selectItemByValue",i.val());else switch(i.prop("tagName")){case"INPUT":i.attr("type")!="checkbox"?(i.css("text-align",i.attr("name")!=null&&this.getColumnByField(i.attr("name"))!=null?this.getColumnByField(i.attr("name")).textAlign:"center"),this.model.edit.editMode=="batch"?i.width("100%").height(28):i.outerWidth(e).height(28)):i.width(e>0?i.width()>e?e:i.width():1);break;case"SELECT":i.width(e).height(28)}i.is(":disabled")||a||i.is(":hidden")&&typeof i.data("ejDropDownList")!="object"||(this._focusElements(i.closest("td")),a=!0)}},_focusElements:function(n){if(n.length){var t=n.children();t[0].tagName.toLowerCase()=="select"||t[0].tagName.toLowerCase()=="input"?(t.focus().select(),t[0].focus()):t.find(".e-field.e-dropdownlist").length?t.find(".e-ddl").focus():t.find("input,select").select().focus()}},_processFilter:function(){this._alreadyFilterProcessed?(this._stopTimer(),this._startTimer()):(this._alreadyFilterProcessed=!0,this._startTimer())},_startTimer:function(){var n=this;this._timer=window.setTimeout(function(){n._onTimerTick()},1500)},_stopTimer:function(){this._oldFilterColumn=this._currentFilterColumn,this.filterValueOldLength=this.filterValueCurrentLength,this._timer!=null&&window.clearTimeout(this._timer)},_onTimerTick:function(){this.OldfilterValue=this._currentFilterbarValue,this._findPredicate(),this._skipFilterProcess?this.filterStatusMsg="Invalid Filter Data":this.sendFilteringRequest(this._currentFilterColumn.field,this._operator,this._currentFilterbarValue,this._predicate,this._currentFilterColumn.type=="string"?!1:!0),this._showFilterMsg(),this._stopTimer()},_findPredicate:function(){var e=this._currentFilterbarValue.replace(/ && /i," and ").replace(" || "," or "),r=e.split(" "),i;if(this._predicate="and",r.length!=0)if(n.isFunction(t.Predicate[r[1]])){this._skipFilterProcess=!1,this._predicate=r[1];var u=e.split(" "+r[1]+" "),o=[],f=[];for(i=0;i<u.length;i++)this._validateFilterValue(u[i]),o.push(this._operator),this._currentFilterColumn.type=="number"?f.push(this._currentFilterbarValue):this._currentFilterColumn.type=="string"&&f.push(u[i]);this._currentFilterbarValue=f,this._operator=o}else this._validateFilterValue(n.trim(this._currentFilterbarValue));else this._validateFilterValue(n.trim(this._currentFilterbarValue))},_validateFilterValue:function(n){var r,i,u;switch(this._currentFilterColumn.type){case"number":for(this._operator=t.FilterOperators.equal,r=[">","<","=","!"],i=0;i<n.length;i++)if(jQuery.inArray(n[i],r)!=-1)break;i!=n.length&&(this._getOperator(n.substring(i)),i!=0&&(this._currentFilterbarValue=n.substring(0,i))),this._currentFilterbarValue=this._currentFilterbarValue!=""&&n.length>1?parseFloat(this._currentFilterbarValue):n.length>1?parseFloat(n):n;break;case"date":this._operator=t.FilterOperators.equal,this._getOperator(n),u=this._currentFilterColumn.format==""?Globalize.culture().calendar.patterns.d:this._currentFilterColumn.format.split(":")[1].replace("}",""),this._currentFilterbarValue!=""&&(this._currentFilterbarValue=Globalize.parseDate(this._currentFilterbarValue,u));break;case"string":this._operator=t.FilterOperators.startsWith;break;case"boolean":this._currentFilterbarValue.toLowerCase()=="true"||this._currentFilterbarValue=="1"?this._currentFilterbarValue=!0:(this._currentFilterbarValue.toLowerCase()=="false"||this._currentFilterbarValue=="0")&&(this._currentFilterbarValue=!1),this._operator=t.FilterOperators.equal;break;default:this._operator=t.FilterOperators.equal}},_getOperator:function(n){n.charAt(0)=="="&&(this._operator=t.FilterOperators.equal,this._currentFilterbarValue=n.substring(1)),(t.data.operatorSymbols[n.charAt(0)]!==r||t.data.operatorSymbols[n.slice(0,2)]!==r)&&(this._operator=t.data.operatorSymbols[n.charAt(0)],this._currentFilterbarValue=n.substring(1),this._operator===r&&(this._operator=t.data.operatorSymbols[n.slice(0,2)],this._currentFilterbarValue=n.substring(2))),(this._operator==t.FilterOperators.lessThan||this._operator==t.FilterOperators.greaterThan)&&this._currentFilterbarValue.charAt(0)=="="&&(this._operator=this._operator+"orequal",this._currentFilterbarValue=this._currentFilterbarValue.substring(1))},_checkForSkipInput:function(){var u=!1,e=this,f,i;if(this._currentFilterColumn.type=="number"&&(t.data.operatorSymbols[this._currentFilterbarValue]!==r||n.inArray(this._currentFilterbarValue,["="," ","!"])!=-1)&&(u=!0),this._currentFilterColumn.type=="string")for(f=[">","<","=","!"],i=0;i<this._currentFilterbarValue.length;i++)jQuery.inArray(this._currentFilterbarValue[i],f)!=-1&&(u=!0);return u},_showFilterMsg:function(){var t=jQuery.inArray(this._currentFilterColumn,this.filterColumnCollection);if(this._currentFilterbarValue!==""&&t==-1&&this.filterColumnCollection.push(this._currentFilterColumn),this._currentFilterbarValue==""&&t!=-1&&this.filterColumnCollection.splice(t,1),(!this._skipFilterProcess||this.filterColumnCollection.length>0)&&this.filterStatusMsg!="Invalid Filter Data")for(t=0;t<this.filterColumnCollection.length;t++)t>0&&(this.filterStatusMsg+=" && "),this.filterStatusMsg+=this.filterColumnCollection[t].headerText+": "+n("#"+this.filterColumnCollection[t].field+"_filterBarcell").val();this.model.allowPaging?this.getGridPager().ejPager("model.externalMessage",this.filterStatusMsg):(this.$pagerStatusBarDiv.find("div").html(this.filterStatusMsg),this.filterStatusMsg.length?this.$pagerStatusBarDiv.css("display","block"):this.$pagerStatusBarDiv.hide()),this.filterStatusMsg=="Invalid Filter Data"&&(t=jQuery.inArray(this._currentFilterColumn,this.filterColumnCollection),this.filterColumnCollection.splice(t,1)),this.filterStatusMsg=""},formatting:function(t,i){var r,o,f,e,s,h,u;return t=t.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),r=t,o=t.split("{0:"),s=t.split("}"),f=o[0],e=s[1],t.indexOf("{0:")!=-1?(h=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),u=h.exec(t),u!=null&&i!=null?f!=null&&e!=null?f+Globalize.format(i,u[2])+e:Globalize.format(i,u[2]):i!=null?i:""):this.data!=null&&this.data.Value==null?(n.each(this.data,function(n,t){r=r.replace(new RegExp("\\{"+n+"\\}","gm"),t)}),r):this.data.Value},_destroy:function(){this.element.empty().removeClass("e-grid "+this.model.cssClass)}}),t.Grid.localization={},t.Grid.localization["en-US"]={EmptyRecord:"No records to display",GroupDropArea:"Drag a column header here to group its column",DeleteOperationAlert:"No records selected for delete operation",EditOperationAlert:"No records selected for edit operation",SaveButton:"Save",OkButton:"OK",CancelButton:"Cancel",EditFormTitle:"Details of ",AddFormTitle:"Add New Record",Notactionkeyalert:"This Key-Combination is not avaiable",Keyconfigalerttext:"This Key-Combination has already been assigned to ",GroupCaptionFormat:"items",BulkSaveConifrm:"Are you sure you want to save changes?",BulkSaveLostChanges:"Unsaved changes will be lost. Are you sure you want to continue?",PagerInfo:"{0} of {1} pages ({2} items)"},t.Grid.filterBarMode={Immediate:"immediate",OnEnter:"onenter"},t.Grid.actions={Paging:"paging",Sorting:"sorting",Filtering:"filtering",BeginEdit:"beginedit",Save:"save",Add:"add",Delete:"delete",Cancel:"cancel",Grouping:"grouping",Ungrouping:"ungrouping",Refresh:"refresh",Reorder:"reorder",Search:"searching",BulkSave:"bulksave",VirtualScroll:"virtualscroll"},t.Grid.toolBarItems={Add:"add",Edit:"edit",Delete:"delete",Update:"update",Cancel:"cancel",Search:"search"},t.Grid.editingType={String:"stringedit",Boolean:"booleanedit",Numeric:"numericedit",Dropdown:"dropdownedit",DatePicker:"datepicker",DateTimePicker:"datetimepicker"},t.Grid.unboundType={Edit:"edit",Save:"save",Delete:"delete",Cancel:"cancel"},t.Grid.selectionType={Single:"single",Multiple:"multiple"},t.Grid.editMode={Normal:"normal",Dialog:"dialog",DialogTemplate:"dialogTemplate",Batch:"batch",ExternalForm:"externalForm",ExternalFormTemplate:"externalFormTemplate",InlineForm:"inlineForm",InlineTemplateForm:"inlineTemplateForm"},t.Grid.formPosition={BottomLeft:"bottomLeft",TopRight:"topRight"},t.Grid.editEvent={DoubleClick:"doubleclick",None:"none"},t.Grid.filterType={Menu:"menu",FilterBar:"filterbar"},t.Grid.summaryType={Average:"average",Minimum:"minimum",Maximum:"maximum",Count:"count",Sum:"sum",TrueCount:"truecount",FalseCount:"falsecount",Custom:"custom"}}(jQuery,Syncfusion),gridResize.prototype={_mouseHover:function(n){var i,e;if(!this._$visualElement.is(":visible")&&($(n.target).is(".e-headercelldiv")&&(n.target=n.target.parentNode),i=$(n.target),i.hasClass("e-headercell"))){var f=n.target,r=f.getBoundingClientRect(),t=0,u=0;(n.type="mousemove")?(t=n.clientX,u=n.clientY):(n.type="touchmove")?(t=evt.originalEvent.changedTouches[0].clientX,u=evt.originalEvent.changedTouches[0].clientY):(n.type="MSPointerMove")&&(t=n.originalEvent.clientX,u=n.originalEvent.clientY),e=this.gridInstance.getGridHeaderTable().width()+this.gridInstance.element.children(".e-gridheader").find(".e-columnheader").offset().left,(t>=r.left+document.documentElement.scrollLeft+f.offsetWidth-5||t<=r.left+3)&&t<e&&t>=r.left&&u<=r.top+document.documentElement.scrollTop+n.target.offsetHeight?(i.parent().css("cursor","col-resize"),this._currentCell=f.cellIndex,this._allowStart=!0):(i.parent().css("cursor","pointer"),this._allowStart=!1,this._currentCell=-1)}},_start:function(n,t){var r=this.gridInstance.getGridHeaderTable().find(".e-columnheader")[0],f=r.cells,i,u;(this._currentCell!=-1&&this._currentCell<r.cells.length&&(i=f[this._currentCell]),typeof i!="undefined")&&(u=i.getBoundingClientRect(),this._tableY=u.top+parseInt(navigator.userAgent.indexOf("WebKit")!=-1?document.body.scrollTop:document.documentElement.scrollTop),this._allowStart?(this._$visualElement=$(document.createElement("div")),_height=this.gridInstance.element.find(".e-gridcontent").first().height()+this.gridInstance.element.find(".e-gridheader").height(),this._$visualElement.addClass("e-reSizeColbg").appendTo(this.gridInstance.element).css({height:_height+"px",cursor:"col-resize"}),this._$visualElement.css({left:n,top:this._tableY}),this._oldWidth=i.offsetWidth,this._orgX=n,this._orgY=t,this._extra=n-this._orgX,this._expand=!0):this._currentCell=-1)},_mouseMove:function(n){if(this._expand){var t=0,i=0;(n.type="mousemove")?(t=n.clientX,i=n.clientY):(n.type="touchmove")?(t=evt.originalEvent.changedTouches[0].clientX,i=evt.originalEvent.changedTouches[0].clientY):(n.type="MSPointerMove")&&(t=n.originalEvent.clientX,i=n.originalEvent.clientY),navigator.userAgent.indexOf("WebKit")!=-1&&(t=n.pageX,i=n.pageY),t+=document.documentElement.scrollLeft,n.preventDefault(),this._moveVisual(t)}else this._mouseHover(n)},_reSize:function(n){var c=this,t,r,f,o,i;if(this._initialTableWidth=this.gridInstance.getGridHeaderTable().parent().width(),this.gridInstance.model.rtl||this._getResizableCell(),r=this.gridInstance.getGridHeaderTable().find(".e-columnheader"),this._currentCell!=-1&&this._expand){this._expand=!1;var s=r[0].cells,h=s[this._currentCell],e=h.offsetWidth,u=n-this._orgX;parseInt(u)+parseInt(e)>this._colMinWidth&&(u!=0&&r.css("cursor","default"),this._resizeColumnUsingDiff(e,u),this.gridInstance._findColumnsWidth(),t=this.gridInstance.element.find(".e-gridcontent").first(),this.gridInstance.model.allowScrolling&&t.ejScroller("refresh"),f=this.gridInstance.getBrowserDetails(),f.browser=="msie"&&(o=this.gridInstance.getGridContentTable().width(),i=this.gridInstance._calculateWidth(),this.gridInstance.getGridHeaderTable().width(i),parseInt(f.version,10)>8&&this.gridInstance.model.groupSettings.groupedColumns.length&&(i>o?(this.gridInstance.getGridContentTable().width(i),this.gridInstance.getGridContentTable().children("colgroup").find("col").first().css("width",2e3/t.find("table").first().width()+"%")):(this.gridInstance.getGridContentTable().css("width","100%"),this.gridInstance._groupingAction(),this.gridInstance.getGridContentTable().children("colgroup").find("col").first().css("width",(this.gridInstance.getGridHeaderTable().find("colgroup").find("col").first().width()/t.find("table").first().width()*100).toFixed(2)+"%"))),this.gridInstance.getGridHeaderTable().parent().scrollLeft(t.find(".e-content").scrollLeft()-1)))}this._$visualElement.remove(),this._expand=!1,this._currentCell=-1,this._allowStart=!1},_resizeColumnUsingDiff:function(n,t){var h=this,i=parseInt(t)+parseInt(n),f,e,u,r;if(i>0&&t!=0){i<this._colMinWidth&&(i=this._colMinWidth);var t=i-n,o=this.gridInstance.getGridHeaderTable().find("colgroup").find("col").eq(this._currentCell),s=this.gridInstance.getGridContentTable().find("colgroup").first().find("col").eq(this._currentCell);if(o.width(i),this.gridInstance.model.isEdit&&(f=this.gridInstance.getGridContentTable().find(".e-editedrow,.e-addedrow").find("table").find("colgroup"),$(f[0].children[this._currentCell-this.gridInstance.model.groupSettings.groupedColumns.length]).width(i)),this.gridInstance.model.groupSettings.groupedColumns.length)for(e=this.gridInstance.getGridContentTable().find(".e-recordtable"),u=e.find("colgroup"),r=0;r<u.length;r++)$(u[r].children[this._currentCell-this.gridInstance.model.groupSettings.groupedColumns.length]).width(i);s.width(i),this.gridInstance.getGridHeaderTable().find(".e-columnheader").css("cursor","default")}},_mouseUp:function(n){if(this._expand){var t=n.clientX,i=n.clientY;navigator.userAgent.indexOf("WebKit")!=-1&&(t=n.pageX,i=n.pageY),t+=document.documentElement.scrollLeft,this._reSize(t,i)}},_getResizableCell:function(){for(var r=this.gridInstance.getGridHeaderTable().find(".e-columnheader")[0],t=r.cells,u=navigator.userAgent.indexOf("WebKit")!=-1?document.body.scrollLeft:document.documentElement.scrollLeft,i,n=0;n<t.length;n++)if(point=t[n].getBoundingClientRect(),i=point.left+u+5,i>this._orgX){this._currentCell=n-1;return}},_moveVisual:function(n){var t=this.gridInstance.getGridHeaderTable()[0].getBoundingClientRect();t.left+document.documentElement.scrollLeft+t.width<n||n<t.left+document.documentElement.scrollLeft?this._$visualElement.remove():this._currentCell!=-1&&this._$visualElement.css({left:n,top:this._tableY})},_mouseDown:function(n){if(this._allowStart&&this.gridInstance.getGridHeaderTable().find(".e-columnheader").css("cursor")=="col-resize"){var t=n.clientX,i=n.clientY;navigator.userAgent.indexOf("WebKit")!=-1&&(t=n.pageX,i=n.pageY),t+=document.documentElement.scrollLeft,n.button!=2&&this._start(t,i),n.preventDefault()}return!1}},SfVmlRender=function(n){var t=document;this.vmlNamespace="urn:schemas-microsoft-com:vml",this.vmStyle="#default#VML",t.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ",this._rootId=$(n).attr("id"),this.svgObj=t.createElement("div"),this.svgObj.style.position="relative",this.svgObj.setAttribute("id",this._rootId+"_vml"),this.isdocmode8=t.documentMode===8,this.changeOptions={id:"id",fill:"fillcolor",stroke:"strokecolor","stroke-width":"strokeweight",d:"path","font-size":"font-size","font-family":"font-family","font-style":"font-style","font-weight":"font-weight"}},SfVmlRender.prototype={drawPath:function(n,t){var i=n.d.split(" "),u,f,e,r;$.inArray("A",i)!=-1&&(u=parseFloat(i[4]),f=parseFloat(i[5]),n.d=this.drawArc(u,f,n)),n.d=this.changePathValue(n.d),e=document.createElement("v:shape"),r=$(e),this.applyVMLStyle(r,n),r.appendTo(t)},setFillAttribute:function(n,t){var u=document.createElement("v:fill"),r=t["fill-opacity"]?t["fill-opacity"]:t.opacity,i,f;r=r?r:t.opacity?t.opacity:1,i=t.fill,i=="none"||ej.util.isNullOrUndefined(i)?r=.1:i.match("gradient")?(f=i.replace("gradient",""),u.setAttribute("type","gradient"),u.setAttribute("colors",f)):$(n).attr("fillcolor",i),u.setAttribute("opacity",r),$(u).appendTo(n)},setStrokeAttribute:function(n,t){var u=t.stroke,i,r;u=="transparent"&&(t.opacity=.1),i=t.opacity,i&&(r=document.createElement("v:stroke"),r.setAttribute("opacity",i),$(r).appendTo(n))},changePathValue:function(n){var t,i,r;if(!n.d){for(t=n.split(" "),i=0;i<t.length;i++)r=t[i].match(/\d+/g),r!=null&&(t[i]=Math.round(parseFloat(t[i])));return t.join(" ")}},drawArc:function(n,t,i){var u=0,f=0,o=i.start-1.571,s=i.end-1.571,e=i.r||n||t,l=Math.cos(o),a=Math.sin(o),h=Math.cos(s),v=Math.sin(s),r=i.innerR,y=.08/e,p=r&&.1/r||0,c;return s-o==0?["x"]:(2*Math.PI-s+o<y?h=-y:s-o<p&&(h=Math.cos(o+p)),c=["wa",u-e,f-e,u+e,f+e,u+e*l,f+e*a,u+e*h,f+e*v],i.open&&!r&&c.push("e",M,u,f),c.push("at",u-r,f-r,u+r,f+r,u+r*h,f+r*v,u+r*l,f+r*a,"x","e"),c.join(" "))},changeVMLStyle:function(n,t){var i=this,r=t.stroke;n.css("width",t.width).css("visibility","visible").css("height",t.height).css("position","absolute").css("left",t.x).css("top",t.y),$.each(t,function(r,u){(i.changeOptions[r]!=null||i.changeOptions[r]!=undefined)&&(r=="d"&&(u=i.changePathValue(t[r]).toLowerCase()),u=="transparent"&&(t[r]=u="white",r!="fill"||t.hasOwnProperty("opacity")&&t.opacity||(t.opacity=.1)),n[0].tagName==="SPAN"?r=="fill"?n.css("color",u):r=="id"?n.attr(i.changeOptions[r],u):n.css(i.changeOptions[r],u):i.isdocmode8?n.get(0)[i.changeOptions[r]]=u:n.get(0).setAttribute(i.changeOptions[r],u))}),(t.hasOwnProperty("fill-opacity")||t.hasOwnProperty("opacity")||t.hasOwnProperty("fill"))&&(n[0].tagName==="SPAN"||(i.setFillAttribute(n,t),t.hasOwnProperty("stroke")&&(t.stroke=r,i.setStrokeAttribute(n,t))))},applyVMLStyle:function(n,t){n[0].tagName!=="SPAN"&&(ej.util.isNullOrUndefined(t.width)&&(t.width="1000px"),ej.util.isNullOrUndefined(t.height)&&(t.height="1000px")),ej.util.isNullOrUndefined(t.x)&&(t.x="0px"),ej.util.isNullOrUndefined(t.y)&&(t.y="0px"),this.changeVMLStyle(n,t)},drawLine:function(n,t){var r=document.createElement("v:line"),i=$(r),u=n.x1+","+n.y1,f=n.x2+","+n.y2;i.attr("from",u).attr("to",f),this.applyVMLStyle(i,n),i.appendTo(t)},drawCircle:function(n,t){var r=document.createElement("v:oval"),i=$(r);n.x=n.cx-n.r,n.y=n.cy-n.r,n.width=n.height=2*n.r,this.applyVMLStyle(i,n),i.appendTo(t)},drawEllipse:function(n,t){var r=document.createElement("v:oval"),i=$(r);n.x=n.cx-n.rx,n.y=n.cy-n.ry,n.width=2*n.rx,n.height=2*n.ry,this.applyVMLStyle(i,n),i.appendTo(t)},drawRect:function(n,t){if($("#"+n.id).length>0)this.applyVMLStyle($("#"+n.id),n);else{var r=document.createElement("v:rect"),i=$(r);this.applyVMLStyle(i,n),i.appendTo(t)}},_getAttrVal:function(n,t,i){t=t=="x"?"left":t,t=t=="y"?"top":t;var r=$(n).attr(t),u=r?r:$(n).css(t);return u!=null?u:i},_setAttr:function(n,t){var i,r,u;t.transform&&(i=t.transform,r=i.slice(i.indexOf("(")+1,i.indexOf(")")).split(","),t.x=r[0],t.y=r[1]),u=$(n),u.length>0&&this.changeVMLStyle(u,t)},createGradientElement:function(n,t){var i,f,r,u;if(Object.prototype.toString.call(t)=="[object Array]")for(i="gradient ",f="",r=0,u=t.length-1;u>=0,r<t.length;r++,u--)i+=f+t[r].colorStop+" "+t[u].color,f=",";else i=t;return i},setSpanAttr:function(n,t,i){var f=n["font-size"]>0?n["font-size"]+"px":n["font-size"],r={size:f,fontStyle:n["font-style"],fontFamily:n["font-weight"]},u=SfSvgRender.utils._measureText(t,null,r);$(i).css("white-space","nowrap"),n["text-anchor"]==="middle"?n.x=Math.round(n.x-u.width/2):n["text-anchor"]==="end"&&(n.x=Math.round(n.x-u.width)),n.y=Math.round(n.y-r.size.replace("px","")),this.applyVMLStyle(i,n)},drawText:function(n,t,i,r){var o=document,h=$("#"+n.id),f,u,e,s,c;if(h.length>0)this._textAttrReplace(n,t,r,h);else{if(f=o.createElement("span"),u=$(f),jQuery.type(t)=="array")for(this.setSpanAttr(n,t,u),e=0;e<t.length;e++)s=o.createElement("span"),$(s).html(t[e]),$(s).appendTo(f),c=o.createElement("br"),$(c).appendTo(f);else this.setSpanAttr(n,t,u),u.html(t);u.appendTo(i)}},_textAttrReplace:function(n,t,i,r){var u,f,e;if(jQuery.type(t)=="array")if(u=$("#"+n.id).children("span"),this.setSpanAttr(n,t,r),u.length>0&&u.length==t.length)for(f=0;f<u.length;f++)e=u[f],$(e).text(t[f]);else $("#"+n.id).remove(),this.drawText(n,t,this.gTransToolEle,i);else this.setSpanAttr(n,t,r),r.text(t)},drawImage:function(n,t){var r=document.createElement("img"),i=$(r);i.css({position:"absolute"}),$.each(n,function(n,t){n=="href"&&(n="src"),i.attr(n,t)}),i.appendTo(t)},createDefs:function(){},createGroup:function(n){var t=document.createElement("div"),i;return ej.util.isNullOrUndefined(n.transform)||(i=n.transform.slice(n.transform.indexOf("(")+1,n.transform.indexOf(")")).split(","),$(t).css({position:"absolute",left:i[0]+"px",top:i[1]+"px"})),n.cursor&&$(t).css({cursor:n.cursor}),$.each(n,function(n,i){n!=="transform"&&n!="clip-path"&&$(t).attr(n,i)}),t},createText:function(n,t){var i=document.createElement("span");return $(i).attr(n),ej.util.isNullOrUndefined(t)||(i.textContent=t),i},drawAxesBoundsClipPath:function(n,t,i){var r,f=$(n),u;f.removeAttr("clip-path"),u=this._getTransform(t.xAxis,t.yAxis,i),r={id:n.id+"_ClipRect",x:0,y:0,width:u.width,height:u.height,fill:"white","stroke-width":1,stroke:"transparent"},this.drawClipPath(r,n),f.attr("clip-path","url(#"+r.id+")")},getAttrVal:function(n,t,i){var r=$(n).attr(t);return r!=null?r:i},round:function(n,t,i){return t*(i?Math.ceil(n/t):Math.floor(n/t))},hexFromRGB:function(n){var i=n.R,r=n.G,u=n.B,t=[i.toString(16),r.toString(16),u.toString(16)];return $.each(t,function(n,i){i.length===1&&(t[n]="0"+i)}),t.join("").toUpperCase()},createDelegate:function(n,t){return function(i){t.apply(n,[i,this])}},drawClipPath:function(n,t){if(n.id.indexOf("ChartAreaClipRect")==-1){var i=Math.round(n.x)+"px",r=Math.round(n.y)+"px",u=Math.round(n.width)+"px",f=Math.round(n.height)+"px",e="rect("+r+" "+u+" "+f+" "+i+")";$(t).css("position","absolute").css("clip",e)}},append:function(n,t){$(n).appendTo(t)}},SfSvgRender=function(n){this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=$(n).attr("id"),this.svgObj.setAttribute("id",this._rootId+"_svg")},SfSvgRender.prototype={drawPath:function(n,t){var i=document.createElementNS(this.svgLink,"path");$(i).attr(n).appendTo(t)},drawLine:function(n,t){var i=document.createElementNS(this.svgLink,"line");$(i).attr(n),$(i).appendTo(t)},drawPolygon:function(n,t){var i=document.createElementNS(this.svgLink,"polygon");$(i).attr(n),$(i).appendTo(t)},drawCircle:function(n,t){var i=document.createElementNS(this.svgLink,"circle");$(i).attr(n).appendTo(t)},drawEllipse:function(n,t){var i=document.createElementNS(this.svgLink,"ellipse");$(i).attr(n).appendTo(t)},drawRect:function(n,t){if($("#"+n.id).length>0)$("#"+n.id).attr(n);else{var i=document.createElementNS(this.svgLink,"rect");$(i).attr(n).appendTo(t)}},createGradientElement:function(n,t,i,r,u,f,e){var o,s,h;return Object.prototype.toString.call(t)=="[object Array]"?(s={id:this.svgObj.id+"_"+n+"Gradient",x1:i+"%",y1:r+"%",x2:u+"%",y2:f+"%"},h="#"+this.svgObj.id+"_"+n+"Gradient",$(e).find(h).length==0&&this.drawGradient(s,t,e),o="url(#"+this.svgObj.id+"_"+n+"Gradient)"):o=t,o},drawGradient:function(n,t,i){var e=this.createDefs(),u=document.createElementNS(this.svgLink,"linearGradient"),r,f;for($(u).attr(n),r=0;r<t.length;r++)f=document.createElementNS(this.svgLink,"stop"),$(f).attr({offset:t[r].colorStop,"stop-color":t[r].color,"stop-opacity":1}),$(f).appendTo(u);$(u).appendTo(e),$(e).appendTo(i)},drawText:function(n,t,i,r){var f,e,s,u,o,h;if($("#"+n.id).length>0)this._textAttrReplace(n,t,r);else{if(f=document.createElementNS(this.svgLink,"text"),e=$(f),jQuery.type(t)=="array")for(s=0,e.attr(n),u=0;u<t.length;u++)o=document.createElementNS(this.svgLink,"tspan"),o.textContent=t[u],$(o).attr({x:n.x,dy:s}),$(o).appendTo(f),h=SfSvgRender.utils._measureText(t[u],null,r),s=h.height+2;else f.textContent=t,e.attr(n);e.appendTo(i)}},_textAttrReplace:function(n,t,i){var u,f,r,e,o;if($("#"+n.id).attr(n),jQuery.type(t)=="array")if(u=$("#"+n.id).children("tspan"),f=0,u.length>0&&u.length==t.length)for(r=0;r<u.length;r++)e=u[r],$(e).attr({x:n.x,dy:f}),e.textContent=t[r],o=SfSvgRender.utils._measureText(t[r],null,i),f=o.height+2;else $("#"+n.id).remove(),this.drawText(n,t,this.gTransToolEle,i);else $("#"+n.id).text(t)},drawImage:function(n,t){var i=document.createElementNS(this.svgLink,"image");i.setAttributeNS(null,"height",n.height),i.setAttributeNS(null,"width",n.width),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n.href),i.setAttributeNS(null,"x",n.x),i.setAttributeNS(null,"y",n.y),i.setAttributeNS(null,"id",n.id),i.setAttributeNS(null,"visibility",n.visibility),ej.util.isNullOrUndefined(n.clippath)&&ej.util.isNullOrUndefined(n.preserveAspectRatio)||(i.setAttributeNS(null,"clip-path",n.clippath),i.setAttributeNS(null,"preserveAspectRatio",n.preserveAspectRatio)),$(i).appendTo(t)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(n){var t=document.createElementNS(this.svgLink,"clipPath");return $(t).attr(n),t},createForeignObject:function(n){var t=document.createElementNS(this.svgLink,"foreignObject");return $(t).attr(n),t},createGroup:function(n){var t=document.createElementNS(this.svgLink,"g");return $(t).attr(n),t},createText:function(n,t){var i=document.createElementNS(this.svgLink,"text");return $(i).attr(n),ej.util.isNullOrUndefined(t)||(i.textContent=t),i},createPath:function(n){var t=document.createElementNS(this.svgLink,"path");return $(t).attr(n),t},createCircle:function(n){var t=document.createElementNS(this.svgLink,"circle");return $(t).attr(n),t},createLine:function(n){var t=document.createElementNS(this.svgLink,"line");return $(t).attr(n),t},_getAttrVal:function(n,t,i){var r=$(n).attr(t);return r!=null?r:i},hexFromRGB:function(n){var i=n.R,r=n.G,u=n.B,t=[i.toString(16),r.toString(16),u.toString(16)];return $.each(t,function(n,i){i.length===1&&(t[n]="0"+i)}),t.join("").toUpperCase()},createDelegate:function(n,t){return function(i){t.apply(n,[i,this])}},drawClipPath:function(n,t){var i=this.createDefs(),r=this.createClipPath({id:n.id});this.drawRect(n,r),this.append(r,i),this.append(i,t)},append:function(n,t){$(n).appendTo(t)},_setAttr:function(n,t){$(n).attr(t)}},SfSvgRender.commonChartEventArgs={Cancel:!1,Data:null},SfSvgRender.utils={_decimalPlaces:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_getLabelContent:function(n,t){switch(t._categoryValueType){case"number":var i=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}");return ej.util.isNullOrUndefined(t.labelFormat)?t.labels[Math.floor(n)]:i!=null?t.labelFormat.replace("{value}",t.labels[Math.floor(n)]):Globalize.format(t.labels[Math.floor(n)],t.labelFormat);case"date":return Globalize.format(new Date(t.labels[Math.floor(n)]),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat);case"string":return t.labels[Math.floor(n)];default:return""}},_getMaxLabelWidth:function(n,t){var i={width:0,height:0},f="",r,u,e,o;if(n.visible){for(r=0;r<n.visibleLabels.length;r++)u=this._measureText(n.visibleLabels[r].Text,$(this.svgObject).width(),n.font,n.labelRotation),i.width<u.width&&(i.width=u.width,f=n.visibleLabels[r].Text),i.height<u.height&&(i.height=u.height);n.labelRotation&&n.orientation.toLowerCase()=="horizontal"&&!t.svgRenderer.vmlNamespace&&(e={"font-size":n.font.size,transform:"rotate("+n.labelRotation+",0,0)","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"text-anchor":"middle"},o=t.svgRenderer.createText(e,f),i.height=Math.ceil(this._measureBounds(o,t).height))}return i},_getTransform:function(n,t,i){var r,u,f,e;return i?(r=t.x,u=n.y,f=t.width,e=n.height):(r=n.x,u=t.y,f=n.width,e=t.height),{x:r,y:u,width:f,height:e}},_measureText:function(n,t,i){var r=document.createElement("text"),f=null,e=null,o=null,u,s;return r.innerHTML=n,i!=undefined&&i.size==undefined&&(u=i,u=u.split(" "),f=u[0],e=u[1],o=u[2]),i!=null&&(r.style.fontSize=i.size>0?i.size+"px":i.size?i.size:e,r.style.fontStyle=i.fontStyle?i.fontStyle:f,r.style.fontFamily=i.fontFamily?i.fontFamily:o),r.style.backgroundColor="white",r.style.position="absolute",r.style.top=-100,r.style.left=0,t&&(r.style.maxwidth=t+"px"),document.body.appendChild(r),s={width:r.offsetWidth,height:r.offsetHeight},$(r).remove(),s},_measureBounds:function(n,t){t.svgRenderer.append(n,t.svgObject),t.svgRenderer.append(t.svgObject,t.element);var i=n.getBoundingClientRect(),r={left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.right-i.left,height:i.bottom-i.top};return $(n).remove(),r},_drawAxesBoundsClipPath:function(n,t,i){var r,f=$(n),u=this._getTransform(t.xAxis,t.yAxis,i.model.requireInvertedAxes);r={id:n.id+"_ClipRect",x:0,y:0,width:u.width,height:u.height,fill:"white","stroke-width":1,stroke:"transparent"},i.svgRenderer.drawClipPath(r,n),f.attr("clip-path","url(#"+r.id+")")},_addRegion:function(n,t,i,r,u){var f=$.inArray(i,n.model._visibleSeries),e={SeriesIndex:f,Region:{PointIndex:u,Bounds:t}};n.model.chartRegions.push(e)},_getSvgXY:function(n,t,i,r){var u,f;return r.model.requireInvertedAxes?(u=n+i.yAxis.x,f=t+i.xAxis.y):(u=n+i.xAxis.x,f=t+i.yAxis.y),{X:u,Y:f}},_getPoint:function(n,t){return this._getPointXY(n.X,n.YValues[0],t)},_getPointXY:function(n,t,i){var r=(n-i.xAxis.visibleRange.min)/i.xAxis.visibleRange.delta*i.xAxis.width,u=(1-(t-i.yAxis.visibleRange.min)/i.yAxis.visibleRange.delta)*i.yAxis.height;return{X:r,Y:u}},_dateTimeLabelFormat:function(n){var t="d";return n.toLowerCase()=="years"?t="MMM, yyyy":n.toLowerCase()=="months"?t="dd, MMM":n.toLowerCase()=="days"?t="dd/MM/yyyy":n.toLowerCase()=="hours"?t="dd, hh:mm":n.toLowerCase()=="seconds"||n.toLowerCase()=="minutes"?t="hh:mm:ss":n.toLowerCase()=="milliseconds"&&(t="hh:mm:ss:tt"),t},_getFontString:function(n){return n==null&&(n={}),n.FontFamily||(n.FontFamily="Arial"),n.FontStyle||(n.FontStyle="Normal"),n.Size||(n.Size="12px"),n.FontStyle+" "+n.Size+" "+n.FontFamily},_valueToCoefficient:function(n,t){return(t-n.visibleRange.min)/n.visibleRange.delta},_getBoundingClientRect:function(n,t,i,r){var u=n.getBoundingClientRect(),o=$("#"+t.svgObject.id)[0].getBoundingClientRect(),f,e,s,h;return r?(f=this._getTransform(i.xAxis,i.yAxis,!0).x,e=this._getTransform(i.xAxis,i.yAxis,!0).y):(f=this._getTransform(i.xAxis,i.yAxis,!1).x,e=this._getTransform(i.xAxis,i.yAxis,!1).y),s=u.left-(f+o.left),h=u.top-(e+o.top),{x:s,y:h,width:u.right-u.left,height:u.bottom-u.top}},_minMax:function(n,t,i){return n>i?i:n<t?t:n},_inside:function(n,t){return n===""?!1:n<=t.max&&n>=t.min},_logBase:function(n,t){return Math.log(n)/Math.log(t)},_correctRect:function(n,t,i,r){return{X:Math.min(n,i),Y:Math.min(t,r),Width:Math.abs(i-n),Height:Math.abs(r-t)}},_getValuebyPoint:function(n,t,i){var r=n*i.xAxis.visibleRange.delta/i.xAxis.width+i.xAxis.visibleRange.min,u=t/i.yAxis.height*i.yAxis.visibleRange.delta+i.yAxis.visibleRange.min;return{PointX:r,PointY:u}}},SfSvgRender.chartSymbol={_drawSeriesType:function(n,t,i){switch(i.model.series[t.SeriesIndex].type){case ej.Chart.type.Pie:case ej.Chart.type.Bubble:this._drawCircle(n,t,i,i.gLegendItemEle);break;case ej.Chart.type.Column:this._drawRectangle(n,t,i,i.gLegendItemEle);break;default:this._drawRectangle(n,t,i,i.gLegendItemEle)}},_drawCircle:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=Math.sqrt(u.height*u.height+u.width*u.width)/2,s={id:e.id+"_circlesymbol_"+t.PointIndex+"_"+t.SeriesIndex,cx:n.startX,cy:n.startY,r:o,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity};f.drawCircle(s,r)},_drawLeftArrow:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX-u.width/2)+" "+n.startY+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4),e={id:s.id+"_leftarrowsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawRightArrow:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+u.width/2+u.width)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+u.width)+" "+(n.startY+-u.height/4)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+u.width)+" "+(n.startY+u.height/4);var s=n.startX+u.width/2,h=n.startY,c={id:e.id+"_rightarrowsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(180,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawUpArrow:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+u.width)+" "+(n.startY-u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY-u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+-u.height/2)+" L "+n.startX+" "+(n.startY-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY-u.height/2+u.height/4);var s=n.startX,h=n.startY-u.height/2,c={id:e.id+"_Uparrowsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(90,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawDownArrow:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+u.width)+" "+(n.startY+u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2+u.height/4);var s=n.startX,h=n.startY+u.height/2,c={id:e.id+"_downarrowsymbol"+t.pointindex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(-90,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawCross:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2)+" "+n.startY+" M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2),e={id:s.id+"_crosssymbol"+t.PointIndex,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,d:f},o.drawPath(e,r)},_drawHorizLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2)+" "+n.startY,e={id:s.id+"_horzlinesymbol"+t.PointIndex,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,d:f},o.drawPath(e,r)},_drawVertLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2),e={id:s.id+"_verlinesymbol"+t.PointIndex,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,d:f},o.drawPath(e,r)},_drawTriangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2),e={id:s.id+"_trianglesymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawInvertedTriangle:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2);var s=n.startX,h=n.startY,c={id:e.id+"_inverttrianglesymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(180,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawHexagon:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+(n.startX+u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY,e={id:s.id+"_hexagonsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawWedge:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+3*(u.width/4))+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+n.startY,e={id:s.id+"_wedgesymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawPentagon:function(n,t,i,r){for(var v=i.svgRenderer,y=i.svgObject,f=t.ShapeSize,o=Math.sqrt(f.height*f.height+f.width*f.width)/2,e=syncfusion.getStringBuilder(),l,a,u=0;u<=5;u++){var p=u*72,s=Math.PI/180*p,h=o*Math.cos(s),c=o*Math.sin(s);u==0?e.append("M "+(n.startX+h)+" "+(n.startY+c)+" "):e.append("L "+(n.startX+h)+" "+(n.startY+c)+" ")}l=e.toString(),a={id:y.id+"_pentagonsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:l},v.drawPath(a,r)},_drawStar:function(n,t,i,r){var o=i.svgRenderer,u=t.ShapeSize,s=i.svgObject,f,e;f="M "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+-u.width/3)+" "+(n.startY+-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2),e={id:s.id+"_starsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawRectangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2),e={id:s.id+"_rectsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawTrapezoid:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX+-u.width/2)+" "+n.startY,e={id:s.id+"_trapezoidsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawDiamond:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY,e={id:s.id+"_diamondsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawEllipse:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=n.startX,s=n.startY,h={id:e.id+"_ellipse"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,cx:o,cy:s,rx:u.width,ry:u.height/2};f.drawEllipse(h,r)},_drawImage:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=n.startX+-u.width/2,s=n.startY+-u.width/2,h=u.width,c=u.height,l={id:e.id+"_image"+t.PointIndex,height:c,width:h,href:t.Imageurl,x:o,y:s,visibility:"visible"};f.drawImage(l,r)}},SfSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},SfSvgRender.themes={flatlight:{backInterior:"transparent",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},crossHair:{line:{width:1,color:"Black"}},commonSeriesOptions:{marker:{dataLabel:{connectorLine:{stroke:"Black"}}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultMetro,colors:SfSvgRender.seriesPalette.defaultMetro},flatdark:{backInterior:"#111111",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},crossHair:{line:{width:1,color:"White"}},commonSeriesOptions:{marker:{dataLabel:{connectorLine:{stroke:"White"}}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultMetro,colors:SfSvgRender.seriesPalette.defaultMetro},gradientlight:{backInterior:"transparent",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},crossHair:{line:{width:1,color:"Black"}},commonSeriesOptions:{marker:{dataLabel:{connectorLine:{stroke:"Black"}}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultGradient.borderColors,colors:SfSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{backInterior:"#111111",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},crossHair:{line:{width:1,color:"White"}},commonSeriesOptions:{marker:{dataLabel:{connectorLine:{stroke:"White"}}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultGradient.borderColors,colors:SfSvgRender.seriesPalette.defaultGradient.seriesColors}},$.extend(SfSvgRender.themes,{azure:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueMetro,colors:SfSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueMetro,colors:SfSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueGradient.borderColors,colors:SfSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueGradient.borderColors,colors:SfSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenMetro,colors:SfSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenMetro,colors:SfSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenGradient.borderColors,colors:SfSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenGradient.borderColors,colors:SfSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleMetro,colors:SfSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleMetro,colors:SfSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleGradient.borderColors,colors:SfSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleGradient.borderColors,colors:SfSvgRender.seriesPalette.sandleGradient.seriesColors}}),axisTypes={},SfAxisRenderer=function(){},SfStripline=function(n){this.chart=n},SfAxisRenderer.prototype={AlignRangeStart:function(n,t,i){var r=new Date(n),u,f,e,o,s,h,c;return i.toLowerCase()=="days"?(u=Math.floor(Math.floor(n.getDate()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),u,0,0,0)):i.toLowerCase()=="hours"?(f=Math.floor(Math.floor(n.getHours()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),f,0,0)):i.toLowerCase()=="milliseconds"?(e=Math.floor(Math.floor(n.getMilliseconds()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),e)):i.toLowerCase()=="seconds"?(o=Math.floor(Math.floor(n.getSeconds()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),o,0)):i.toLowerCase()=="minutes"?(s=Math.floor(Math.floor(n.getMinutes()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s,0,0)):i.toLowerCase()=="months"?(h=Math.floor(Math.floor(n.getMonth()/t)*t),r=new Date(n.getFullYear(),h,n.getDate(),0,0,0)):i.toLowerCase()=="years"&&(c=Math.floor(Math.floor(n.getFullYear()/t)*t),r=new Date(c,n.getMonth(),n.getDate(),0,0,0)),r},_increaseDateTimeInterval:function(n,t,i){var r=new Date(n);return i.toLowerCase()=="days"?r.setDate(n.getDate()+t):i.toLowerCase()=="hours"?r.setHours(n.getHours()+t):i.toLowerCase()=="milliseconds"?r.setMilliseconds(n.getMilliseconds()+t):i.toLowerCase()=="seconds"?r.setSeconds(n.getSeconds()+t):i.toLowerCase()=="minutes"?r.setMinutes(n.getMinutes()+t):i.toLowerCase()=="months"?r.setMonth(n.getMonth()+t):i.toLowerCase()=="years"&&r.setYear(n.getFullYear()+t),r},_calculatePadding:function(n){var t=Date.parse(n.range.min),i=Date.parse(n.range.max),k=Date.parse(this._increaseDateTimeInterval(n.range.min,n.range.interval,n.intervalType))-Date.parse(n.range.min),w,u,o,f,r,e,s,c,v,h,b,l,y,a,p;if(!this.chartObj.zoomed&&!n.setRange)if(t=new Date(n.range.min),i=new Date(n.range.max),w=n.intervalType.toLowerCase(),n.rangePadding.toLowerCase()=="none")t=Date.parse(t),i=Date.parse(i);else if(n.rangePadding.toLowerCase()=="additional"||n.rangePadding.toLowerCase()=="round")switch(w){case"years":u=t.getFullYear()/n.range.interval*n.range.interval,o=i.getFullYear()+(t.getFullYear()-u),u<=0&&(u=1),o<=0&&(o=1),n.rangePadding.toLowerCase()=="additional"?(t=Date.parse(new Date(u-n.range.interval,1,1,0,0,0)),i=Date.parse(new Date(o+n.range.interval,1,1,0,0,0))):(t=Date.parse(new Date(u,1,1,0,0,0)),i=Date.parse(new Date(o,1,1,0,0,0)));break;case"months":f=t.getMonth()/n.range.interval*n.range.interval,f<=0&&(f=1),r=i.getMonth()+(t.getMonth()-f),r<=0&&(r=1),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),f,1,0,0,0)),i=Date.parse(new Date(i.getFullYear(),r,r==2?28:30,0,0,0))):(t=Date.parse(new Date(t.getFullYear(),f+-n.range.interval,1,0,0,0)),i=Date.parse(new Date(i.getFullYear(),r+n.range.interval,r==2?28:30,0,0,0)));break;case"days":e=t.getDate()/n.range.interval*n.range.interval,e<=0&&(e=1),s=i.getDate()+(t.getDate()-e),s<=0&&(s=1),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),e,0,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),s,0,0,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),e+-n.range.interval,0,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),s+n.range.interval,0,0,0)));break;case"hours":c=t.getHour()/n.range.interval*n.range.interval,v=i.getHour()+(t.getHour()-c),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),c,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),v,0,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),c+-n.range.interval,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),v+n.range.interval,0,0)));break;case"minutes":h=t.getMinute()/n.range.interval*n.range.interval,b=i.getMinute()+(t.getMinute()-h),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),h,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),b,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),h+-n.range.interval,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),h+n.range.interval,0)));break;case"seconds":l=t.getSecond()/n.range.interval*n.range.interval,y=i.getSecond()+(t.getSecond()-l),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),l,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),y,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),l+-n.range.interval,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),y+n.range.interval,0)));break;case"milliseconds":a=t.getMilliseconds()/n.range.interval*n.range.interval,p=i.getMilliseconds()+(t.getMilliseconds()-a),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),t.getSecond(),a)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),i.getSecond(),p))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),t.getSecond(),a+-n.range.interval)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),i.getSecond(),p+n.range.interval)))}n.actualRange.interval=k,n.actualRange.min=t,n.actualRange.max=i,n._intervalType=n.intervalType,n._interval=n.range.interval,n.actualRange.delta=n.actualRange.max-n.actualRange.min,n.range.min=new Date(t),n.range.max=new Date(i),this._calculateVisibleRange(n)},_calculateVisibleRange:function(n){var o;if(n.visibleRange=$.extend(!0,{},n.actualRange),n._intervalType=n.intervalType,n.zoomFactor<1||n.zoomPosition>0){var i=n.actualRange,t=n.actualRange.min+n.zoomPosition*n.actualRange.delta,r=t+n.zoomFactor*n.actualRange.delta;t<i.min&&(r=r+(i.min-t),t=i.min),r>i.max&&(t=t-(r-i.max),r=i.max);var f=new Date(t),e=new Date(r),u=this.calculateDateTimeNiceInterval(n,f,e);n.visibleRange.min=Date.parse(f),n.visibleRange.max=Date.parse(e),o=Date.parse(this._increaseDateTimeInterval(f,u.interval,u.intervalType))-n.visibleRange.min,n._intervalType=u.intervalType,n.visibleRange.interval=o,n.visibleRange.delta=n.visibleRange.max-n.visibleRange.min,n._interval=u.interval}},_calculateAxisLabels:function(n){for(var i,t=this.chartObj.zoomed||n.zoomed||!n.setRange?Date.parse(this.AlignRangeStart(new Date(n.visibleRange.min),n._interval,n._intervalType)):n.visibleRange.min;t<=n.visibleRange.max;)t>=n.visibleRange.min&&t<=n.visibleRange.max&&n.visibleLabels.push({Value:t,Text:Globalize.format(new Date(t),n.labelFormat?n.labelFormat:SfSvgRender.utils._dateTimeLabelFormat(n._intervalType))}),t=Date.parse(this._increaseDateTimeInterval(new Date(t),n._interval,n._intervalType)),i=$.extend({},SfSvgRender.commonChartEventArgs),i.Data={Label:n.visibleLabels[n.visibleLabels.length-1],Axis:n},this.chartObj._trigger("axesLabelRendering",i.Data),n.visibleLabels[n.visibleLabels.length-1]=i.Data.Label;n._LableMaxWidth=SfSvgRender.utils._getMaxLabelWidth(n,this.chartObj)},calculateDateTimeNiceInterval:function(n,t,i){var u=Math.abs((t.getTime()-i.getTime())/864e5),r=this.calculateNumericNiceInterval(u/365,n),f,e,o,s;return r>=1?{interval:r,intervalType:"Years"}:(r=this.calculateNumericNiceInterval(u/30,n),r>=1)?{interval:r,intervalType:"Months"}:(r=this.calculateNumericNiceInterval(u,n),r>=1)?{interval:r,intervalType:"Days"}:(f=u*24,r=this.calculateNumericNiceInterval(f,n),r>=1)?{interval:r,intervalType:"Hours"}:(e=u*1440,r=this.calculateNumericNiceInterval(e,n),r>=1)?{interval:r,intervalType:"Minutes"}:(o=u*86400,r=this.calculateNumericNiceInterval(o,n),r>=1)?{interval:r,intervalType:"Seconds"}:(s=u/24*36e5,r=this.calculateNumericNiceInterval(s,n),r>=1?{interval:r,intervalType:"Milliseconds"}:void 0)},calculateNumericNiceInterval:function(n,t){for(var f=this.GetActualDesiredIntervalsCount(t,t.length),i=n/f,o=Math.pow(10,Math.floor(SfSvgRender.utils._logBase(i,10))),e=[10,5,2,1],u,r=0;r<e.length;r++){if(u=o*e[r],f<n/u)return i;i=u}return i},GetActualDesiredIntervalsCount:function(n,t){if(ej.util.isNullOrUndefined(n.desiredIntervals)){var i=(n.orientation.toLowerCase()=="horizontal"?.8:1)*2;return i=Math.max(t*(i/100),1),n.desiredIntervals=i,i}return n.desiredIntervals},_calculateRange:function(n,t){var e,s,h,c,l,r,u,i,f,o,a;if(!this.chartObj.zoomed)if(e=new Date,t.length>0&&t[0].points.length>0){for(r={maxX:null,minX:null},u={maxY:null,minY:null},i=0;i<t.length;i++){if(t[i].points.length>0&&t[i].visibility.toLowerCase()==="visible"&&t[i].points.length>0){for(l=s=t[i].points[0].X,c=h=t[i].points[0].YValues[0],f=0;f<t[i].points.length;f++)l>t[i].points[f].X&&(l=t[i].points[f].X),s<t[i].points[f].X&&(s=t[i].points[f].X),h>t[i].points[f].YValues[0]&&(h=t[i].points[f].YValues[0]),c<t[i].points[f].YValues[0]&&(c=t[i].points[f].YValues[0]);t[i].minX=l,t[i].maxX=s,t[i].minY=h,t[i].maxY=c}(r.minX=r.minX==null&&typeof t[i].minX!="number"?t[i].minX:r.minX)>t[i].minX&&(r.minX=typeof t[i].minX!="number"?t[i].minX:r.minX),(r.maxX=r.maxX==null&&typeof t[i].maxX!="number"?t[i].maxX:r.maxX)<t[i].maxX&&(r.maxX=typeof t[i].maxX!="number"?t[i].maxX:r.maxX),u.minY>t[i].minY&&(u.minY=t[i].minY),u.maxY<t[i].maxY&&(u.maxY=t[i].maxY)}r.minX=r.minX==null?e:r.minX,r.maxX=r.maxX==null?new Date((new Date).setMonth(e.getMonth()+5)):r.maxX,r.minX==r.maxX&&(r.minX=new Date(Date.parse(r.minX)-2592e6),r.maxX=new Date(Date.parse(r.maxX)+2592e6)),o=this.calculateDateTimeNiceInterval(n,r.minX,r.maxX),n.orientation.toLowerCase()=="horizontal"&&(n.setRange?(ej.util.isNullOrUndefined(n.actual_Range)&&(ej.util.isNullOrUndefined(n.range.interval)&&(n.range.interval=o.interval),n.range.max||(n.range.max=r.maxX),n.range.min||(n.range.min=r.minX),n.intervalType||(n.intervalType=o.intervalType),typeof n.range.min=="string"&&n.range.min.indexOf("/Date(")!=-1&&(n.range.min=new Date(parseInt(n.range.min.substr(6)))),typeof n.range.max=="string"&&n.range.max.indexOf("/Date(")!=-1&&(n.range.max=new Date(parseInt(n.range.max.substr(6)))),n.actual_Range=$.extend(!0,{},n.range),n.interval_Type=n.intervalType,n.setRange=!0),n.range={min:n.actual_Range.min,max:n.actual_Range.max,interval:n.actual_Range.interval},n.intervalType=n.interval_Type):(n.range={min:r.minX,max:r.maxX,interval:o.interval},n.intervalType=o.intervalType)),n.orientation.toLowerCase()=="vertical"&&(n.setRange?(ej.util.isNullOrUndefined(n.actual_Range)&&(typeof n.range.min=="string"&&n.range.min.indexOf("/Date(")!=-1&&(n.range.min=new Date(parseInt(n.range.min.substr(6)))),typeof n.range.max=="string"&&n.range.max.indexOf("/Date(")!=-1&&(n.range.max=new Date(parseInt(n.range.max.substr(6)))),n.actual_Range=$.extend(!0,{},n.range),n.interval_Type=n.intervalType,n.setRange=!0),n.range={min:n.actual_Range.min,max:n.actual_Range.max,interval:n.actual_Range.interval},n.intervalType=n.interval_Type):(u.minY=r.minY==null?e:u.minY,u.maxY=r.maxY==null?new Date((new Date).setMonth(e.getMonth()+5)):u.maxY,a=this.calculateDateTimeNiceInterval(n,u.minY,u.maxY),n.range={min:r.minX,max:r.maxX,interval:a.interval},n.intervalType=a.intervalType))}else n.setRange||(n.range={min:e,max:new Date((new Date).setMonth(e.getMonth()+5)),interval:1},n.intervalType="Months")},_calculateRanges:function(n,t,i){this.chartObj=n,this._calculateRange(t,i),this._calculatePadding(t),this._calculateAxisLabels(t)}},sfDateTimeValue=sfExtendClass(SfAxisRenderer),axisTypes.datetime=sfDateTimeValue,sfDoubleValue=sfExtendClass(SfAxisRenderer,{_calculateRange:function(n,t,i){var c,s,l,h,f,u,r,e,o,a,v;if(!n.zoomed)if(i.length>0&&i[0].points.length>0){for(f={maxX:null,minX:null},u={maxY:null,minY:null},r=0;r<i.length;r++){if(i.length>0&&i[0].points.length>0&&i[r].points.length>0&&n.model.AreaType=="cartesianaxes"&&i[r].visibility.toLowerCase()==="visible"&&i[r].points.length>0){for(l=c=i[r].points[0].X,h=s=i[r].points[0].YValues[0],e=0;e<i[r].points.length;e++)if(l>i[r].points[e].X&&(l=i[r].points[e].X),c<i[r].points[e].X&&(c=i[r].points[e].X),i[r]._hiloTypes)for(o=0;o<2;o++)s>i[r].points[e].YValues[o]&&(s=i[r].points[e].YValues[o]),h<i[r].points[e].YValues[o]&&(h=i[r].points[e].YValues[o]);else s>i[r].points[e].YValues[0]&&(s=i[r].points[e].YValues[0]),h<i[r].points[e].YValues[0]&&(h=i[r].points[e].YValues[0]);i[r].minX=l,i[r].maxX=c,i[r].minY=s,i[r].maxY=h}r==0&&(f.maxX=i[0].maxX,f.minX=i[0].minX,u.maxY=i[0].maxY,u.minY=i[0].minY),f.minX>i[r].minX&&(f.minX=i[r].minX),f.maxX<i[r].maxX&&(f.maxX=i[r].maxX),u.minY>i[r].minY&&(u.minY=i[r].minY),u.maxY<i[r].maxY&&(u.maxY=i[r].maxY)}this.chartObj.model.stackedValue[t.axisName]&&(u.minY>this.chartObj.model.stackedValue[t.axisName].min&&(u.minY=this.chartObj.model.stackedValue[t.axisName].min),u.maxY<this.chartObj.model.stackedValue[t.axisName].max&&(u.maxY=this.chartObj.model.stackedValue[t.axisName].max)),f.maxX==f.minX&&(f.maxX+=1),u.maxY==u.minY&&(u.maxY+=1),a=f.maxX-f.minX,v=u.maxY-u.minY,t.orientation.toLowerCase()=="horizontal"&&(t.range=n.model.requireInvertedAxes?this._getDoubleAutoRange(t,u.minY,u.maxY,v):this._getDoubleAutoRange(t,f.minX,f.maxX,a)),t.orientation.toLowerCase()=="vertical"&&(t.range=n.model.requireInvertedAxes?this._getDoubleAutoRange(t,f.minX,f.maxX,a):this._getDoubleAutoRange(t,u.minY,u.maxY,v))}else t.setRange||(t.range={min:0,max:5,interval:1,Delta:4})},_getDoubleAutoRange:function(n,t,i,r){var u=this.calculateNumericNiceInterval(r,n);return n.setRange?(ej.util.isNullOrUndefined(n.range.interval)&&(n.range.interval=u),ej.util.isNullOrUndefined(n.range.max)&&(n.range.max=i),ej.util.isNullOrUndefined(n.range.min)&&(n.range.min=t),ej.util.isNullOrUndefined(n.actual_Range)&&(n.actual_Range=$.extend(!0,{},n.range),n.setRange=!0),n.range={min:n.actual_Range.min,max:n.actual_Range.max,interval:n.actual_Range.interval,delta:n.actual_Range.max-n.actual_Range.min}):n.range={min:t,max:i,interval:u,Delta:r}},_calculatePadding:function(n,t,i){var u=i.min,e=i.max,r,o,f;t.setRange||n.zoomed||(t.rangePadding.toLowerCase()=="normal"?(r=0,u=i.min,u<0?(u=0,r=i.min+i.min/20,o=i.interval+r%i.interval,.365*i.interval>=o&&(r-=i.interval),r%i.interval<0&&(r=r-i.interval-r%i.interval)):(r=i.min<5/6*i.max?0:i.min-(i.max-i.min)/2,r%i.interval>0&&(r-=r%i.interval)),f=e+(e-u)/20,o=i.interval-f%i.interval,.365*i.interval>=o&&(f+=i.interval),f%i.interval>0&&(f=f+i.interval-f%i.interval),i.interval=this.calculateNumericNiceInterval(f-r,t),u=t.roundingPlaces?parseFloat(r.toFixed(t.roundingPlaces)):parseFloat(r.toFixed(SfSvgRender.utils._decimalPlaces(i.interval)==0?1:SfSvgRender.utils._decimalPlaces(i.interval))),e=t.roundingPlaces?parseFloat(f.toFixed(t.roundingPlaces)):parseFloat(f.toFixed(SfSvgRender.utils._decimalPlaces(i.interval)==0?1:SfSvgRender.utils._decimalPlaces(i.interval)))):(t.rangePadding.toLowerCase()=="additional"||t.rangePadding.toLowerCase()=="round")&&(u=Math.floor(u/i.interval)*i.interval,e=Math.ceil(e/i.interval)*i.interval,t.rangePadding.toLowerCase()=="additional"&&(u-=i.interval,e+=i.interval))),t.actualRange.min=u,t.actualRange.max=e,t.actualRange.interval=i.interval,t.range.min=u,t.range.max=e,t.range.interval=i.interval,t.actualRange.delta=e-u,this._calculateVisibleRange(t)},_calculateVisibleRange:function(n){var u,f;if(n.visibleRange=$.extend(!0,{},n.actualRange),n.zoomFactor<1||n.zoomPosition>0){var r=n.actualRange,t=n.actualRange.min+n.zoomPosition*n.actualRange.delta,i=t+n.zoomFactor*n.actualRange.delta;t<r.min&&(i=i+(r.min-t),t=r.min),i>r.max&&(t=t-(i-r.max),i=r.max),u=i-t,n.visibleRange.interval=this.calculateNumericNiceInterval(u,n),f=ej.util.isNullOrUndefined(n.roundingPlaces)?SfSvgRender.utils._decimalPlaces(n.visibleRange.interval)==0?1:SfSvgRender.utils._decimalPlaces(n.visibleRange.interval):n.roundingPlaces,n.visibleRange.interval=parseFloat(n.visibleRange.interval.toFixed(f)),n.visibleRange.min=t,n.visibleRange.max=i,n.visibleRange.delta=u,n.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed}},_calculateAxisLabels:function(n,t){for(var u,f,r,i=n.zoomed||t.zoomed?t.visibleRange.min-t.visibleRange.min%t.visibleRange.interval:t.visibleRange.min;i<=t.visibleRange.max;i+=t.visibleRange.interval)i=t.roundingPlaces?parseFloat(i.toFixed(t.roundingPlaces)):parseFloat(i.toFixed(SfSvgRender.utils._decimalPlaces(t.visibleRange.interval)==0?1:SfSvgRender.utils._decimalPlaces(t.visibleRange.interval))),SfSvgRender.utils._inside(i,t.visibleRange)&&(u=t.labelFormat?t.labelFormat.match("{value}"):null,f=t.labelFormat?u!=null?t.labelFormat.replace("{value}",i):Globalize.format(i,t.labelFormat):i,t.visibleLabels.push({Value:i,Text:f}),r=$.extend({},SfSvgRender.commonChartEventArgs),r.Data={Label:t.visibleLabels[t.visibleLabels.length-1],Axis:t},n._trigger("axesLabelRendering",r.Data),t.visibleLabels[t.visibleLabels.length-1]=r.Data.Label);t._LableMaxWidth=SfSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateRanges:function(n,t,i){this.chartObj=n,this._calculateRange(n,t,i),this._calculatePadding(n,t,t.range),this._calculateAxisLabels(n,t)}}),axisTypes.double=sfDoubleValue,sfCategoryValue=sfExtendClass(SfAxisRenderer,{_calculateCategoryRange:function(n,t){var r,i,u,f,e;if(!this.chartObj.zoomed)if(r={maxX:null,minX:0},t.length>0&&t[0].points.length>0){for(i=0;i<t.length;i++){for(t[i]._pointCollection=[],u=0;u<t[i].points.length;u++)t[i]._pointCollection.push(t[i].points[u].x),t[i].points[u].X=u,t[i].minX=0,t[i].maxX=t[i]._pointCollection.length-1;i==0&&(r.maxX=t[i]._pointCollection.length-1,n.labels=t[i]._pointCollection,n._categoryValueType=t[i]._xAxisValueType),r.maxX<t[i].maxX&&(r.maxX=t[i].maxX,n.labels=[],n.labels=t[i]._pointCollection)}f=r.maxX-r.minX,e=this._calculateActualInterval(f,n),n.range={min:r.minX,max:r.maxX,interval:e,Delta:f}}else n.labels.length>0&&(n.range={min:0,max:n.labels.length-1,interval:1,Delta:n.labels.length-1})},_calculateActualInterval:function(n,t){return t.categoryInterval==null?Math.max(1,Math.floor(n/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(n){if(!this.chartObj.zoomed){var t=n.labelPlacement===null||n.labelPlacement===undefined?-.5:n.labelPlacement.toLowerCase()=="betweenticks"?-.5:0;n.range.min=n.range.min+t,n.range.max=n.range.max-t,n.range.delta=n.range.max-n.range.min,n.actualRange=n.range}this._calculateVisibleRange(n)},_calculateVisibleRange:function(n){var u;if(n.visibleRange=$.extend(!0,{},n.actualRange),n.zoomFactor<1||n.zoomPosition>0){var r=n.actualRange,t=n.actualRange.min+n.zoomPosition*n.actualRange.delta,i=t+n.zoomFactor*n.actualRange.delta;t<r.min&&(i=i+(r.min-t),t=r.min),i>r.max&&(t=t-(i-r.max),i=r.max),u=i-t,n.visibleRange.interval=this._calculateActualInterval(u,n),n.visibleRange.min=t,n.visibleRange.max=i,n.visibleRange.delta=u,n.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed}},_calculateAxisLabels:function(n){for(var u=n.visibleRange.interval,t=n.visibleRange.min-n.visibleRange.min%n.range.interval,r,i;t<=n.visibleRange.max;t+=u)SfSvgRender.utils._inside(t,n.visibleRange)&&(r=Math.round(t),n.visibleLabels.push({Value:r,Text:SfSvgRender.utils._getLabelContent(r,n)}),i=$.extend({},SfSvgRender.commonChartEventArgs),i.Data={Label:n.visibleLabels[n.visibleLabels.length-1],Axis:n},this.chartObj._trigger("axesLabelRendering",i.Data),n.visibleLabels[n.visibleLabels.length-1]=i.Data.Label);n._LableMaxWidth=SfSvgRender.utils._getMaxLabelWidth(n,this.chartObj)},_calculateRanges:function(n,t,i){this.chartObj=n,this._calculateCategoryRange(t,i),this._applyRangePadding(t),this._calculateAxisLabels(t)}}),axisTypes.category=sfCategoryValue,SfAxisRenderer.prototype={_drawAxes:function(n,t){t.orientation.toLowerCase()=="horizontal"&&(this._drawXAxisGridLine(n,t),t.visible&&(this._drawXAxisLabels(n,t),this._drawXTitle(n,t))),t.orientation.toLowerCase()=="vertical"&&(this._drawYAxisGridLine(n,t),t.visible&&(this._drawYAxisLabels(n,t),this._drawYTitle(n,t)))},_drawXAxisGridLine:function(n,t){var y,p,w,b,k=syncfusion.getStringBuilder(),d=syncfusion.getStringBuilder(),g=syncfusion.getStringBuilder(),nt=syncfusion.getStringBuilder(),o,s,i=t.x,st=t.x+t.width,r=t.y,ht=t.y,e=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid_"+n}),tt,c,l,u,f,a,h,it,v,rt,ut,ft,et,ot;for(t.axisLine.visible&&(tt={id:this.svgObject.id+"_XAxisLine",x1:i,y1:r,x2:st,y2:ht,"stroke-dasharray":t.axisLine.dashArray,"stroke-width":t.axisLine.lineWidth,stroke:t.axisLine.color,opacity:this.vmlRendering?.1:1},this.svgRenderer.drawLine(tt,e)),t.labelPlacement=t.labelPlacement?t.labelPlacement:ej.Chart.labelPlacement.BetweenTicks,c=t.labels.length>1&&t.labelPlacement.toLowerCase()=="betweenticks"?-.5:0,l=t.visibleLabels.length,t.valueType.toLowerCase()==ej.Chart.valueType.Category&&c<0&&(l=t.labels.length+1),u=0;u<l;u++)if(f=t.labels.length>1&&c<0?u+c:t.visibleLabels[u].Value,f=t.roundingPlaces?parseFloat(f.toFixed(t.roundingPlaces)):parseFloat(f.toFixed(SfSvgRender.utils._decimalPlaces(t.visibleRange.interval)==0?1:SfSvgRender.utils._decimalPlaces(t.visibleRange.interval))),SfSvgRender.utils._inside(f,t.visibleRange)){if(t.hidePartialLabels&&(u==0||u==l-1))continue;if(t.minorGridLines.visible||t.minorTickLines.visible)for(a=0,h=f;a<t.minorTicksPerInterval;a++)h+=t.visibleRange.interval/(t.minorTicksPerInterval+1),h<t.visibleRange.max&&h>t.visibleRange.min&&(s=Math.ceil((h-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*t.width),t.minorTickLines&&t.minorTickLines.visible&&(it=t.opposedPosition?r-t.minorTickLines.size:t.minorTickLines.size+r,k.append("M "+(s+i)+" "+it+" L "+(s+i)+" "+r+" ")),t.minorGridLines&&t.minorGridLines.visible&&d.append("M "+(s+i)+" "+r+" L "+(s+i)+" "+this.model.m_AreaBounds.Y+" "));(t.majorTickLines.visible||t.majorGridLines.visible)&&(o=Math.ceil((f-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*t.width),t.majorTickLines.visible&&(v=t.majorTickLines.size+t.axisLine.lineWidth/2,rt=t.opposedPosition?r-v:v+r,g.append("M "+(o+i)+" "+rt+" L "+(o+i)+" "+(r+(t.opposedPosition?-t.axisLine.lineWidth/2:t.axisLine.lineWidth/2))+" ")),t.majorGridLines.visible&&nt.append("M "+(o+i)+" "+(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height)+" L "+(o+i)+" "+this.model.m_AreaBounds.Y+" "))}t.minorTickLines.visible&&t.visible&&(w=k.toString(),ut={id:this.svgObject.id+"_XAxisMinorTicks",fill:"none","stroke-width":t.minorTickLines.lineWidth,stroke:t.minorTickLines.color,"stroke-dasharray":t.minorTickLines.dashArray,d:w},this.svgRenderer.drawPath(ut,e)),t.minorGridLines.visible&&(b=d.toString(),ft={id:this.svgObject.id+"_XAxisMinorGridLines",fill:"none","stroke-width":t.minorGridLines.lineWidth,stroke:t.minorGridLines.color,d:b},this.svgRenderer.drawPath(ft,e)),t.majorTickLines.visible&&t.visible&&(p=g.toString(),et={id:this.svgObject.id+"_XAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.lineWidth,stroke:t.majorTickLines.color,d:p},this.svgRenderer.drawPath(et,e)),y=nt.toString(),t.majorGridLines.visible&&(ot={id:this.svgObject.id+"_XAxisMajorGridLines",fill:"none","stroke-width":t.majorGridLines.lineWidth,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:y},this.svgRenderer.drawPath(ot,e)),$(e).appendTo(this.gXaxisEle)},_drawYAxisGridLine:function(n,t){var l="",a="",v="",y="",f=0,o=t.x,i=t.y+t.height,et=t.x,ot=t.y,p=syncfusion.getStringBuilder(),w=syncfusion.getStringBuilder(),b=syncfusion.getStringBuilder(),k=syncfusion.getStringBuilder(),u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid_"+n}),d,g,e,r,c,s,h,nt,tt,it,rt,ut,ft;for(t.axisLine.visible&&(d={id:this.svgObject.id+"_YAxisLine",x1:o,y1:ot,x2:et,y2:i,"stroke-width":t.axisLine.lineWidth,"stroke-dasharray":t.axisLine.dashArray,stroke:t.axisLine.color,opacity:this.vmlRendering?.1:1},this.svgRenderer.drawLine(d,u)),t.axisBottomLine&&t.axisBottomLine.visible&&(g={id:this.svgObject.id+"_YAxisBottomLine",x1:this.model.m_AreaBounds.X,y1:i,x2:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width,y2:i,"stroke-width":t.axisBottomLine.lineWidth,stroke:t.axisBottomLine.color},this.svgRenderer.drawLine(g,u)),e=0;e<t.visibleLabels.length;e++)if(r=t.visibleLabels[e].Value,r=t.roundingPlaces?parseFloat(r.toFixed(t.roundingPlaces)):parseFloat(r.toFixed(SfSvgRender.utils._decimalPlaces(t.visibleRange.interval)==0?1:SfSvgRender.utils._decimalPlaces(t.visibleRange.interval))),SfSvgRender.utils._inside(r,t.visibleRange)){if(t.hidePartialLabels&&(e==0||e==t.visibleLabels.length-1))continue;if(t.minorGridLines.visible||t.minorTickLines.visible)for(c=0,s=r;c<t.minorTicksPerInterval;c++)s+=t.visibleRange.interval/(t.minorTicksPerInterval+1),s<t.visibleRange.max&&s>t.visibleRange.min&&(h=(s-t.visibleRange.min)/t.visibleRange.delta*t.height,t.minorTickLines.visible&&(nt=t.opposedPosition?t.minorTickLines.size:-t.minorTickLines.size,p.append("M "+(nt+o)+" "+(h*-1+i)+" L "+o+" "+(h*-1+i)+" ")),t.minorGridLines.visible&&w.append("M "+this.model.m_AreaBounds.X+" "+(h*-1+i)+" L "+(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+" "+(h*-1+i)+" "));(t.majorTickLines.visible||t.majorGridLines.visible)&&(t.majorTickLines.visible&&(f=(r-t.visibleRange.min)/t.visibleRange.delta*t.height,tt=t.opposedPosition?t.majorTickLines.size+t.axisLine.lineWidth/2:-(t.majorTickLines.size+t.axisLine.lineWidth/2),b.append("M "+(tt+o)+" "+(f*-1+i)+" L "+(o+(t.opposedPosition?t.axisLine.lineWidth/2:t.axisLine.lineWidth/2))+" "+(f*-1+i)+" ")),t.majorGridLines.visible&&(f=(r-t.visibleRange.min)/t.visibleRange.delta*t.height,k.append("M "+this.model.m_AreaBounds.X+" "+(f*-1+i)+" L "+(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+" "+(f*-1+i)+" ")))}t.minorTickLines.visible&&t.visible&&(v=p.toString(),it={id:this.svgObject.id+"_YAxisMinorTicks",fill:"none","stroke-width":t.minorTickLines.lineWidth,stroke:t.minorTickLines.color,d:v},this.svgRenderer.drawPath(it,u)),t.minorGridLines.visible&&(y=w.toString(),rt={id:this.svgObject.id+"_YAxisMinorGridLines",fill:"none","stroke-width":t.minorGridLines.lineWidth,stroke:t.minorGridLines.color,"stroke-dasharray":t.minorGridLines.dashArray,d:y},this.svgRenderer.drawPath(rt,u)),t.majorTickLines.visible&&t.visible&&(a=b.toString(),ut={id:this.svgObject.id+"_YAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.lineWidth,stroke:t.majorTickLines.color,d:a},this.svgRenderer.drawPath(ut,u)),l=k.toString(),t.majorGridLines.visible&&(ft={id:this.svgObject.id+"_YAxisMajorGridLines",fill:"none","stroke-width":t.majorGridLines.lineWidth,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,stroke:t.majorGridLines.color,d:l},this.svgRenderer.drawPath(ft,u)),$(u).appendTo(this.gYaxisEle)},_drawXAxisLabels:function(n,t){for(var l=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+n}),i,f,a,h,v,e,c,r=0;r<t.visibleLabels.length;r++)if(i=t.visibleLabels[r],SfSvgRender.utils._inside(i.Value,t.visibleRange)&&(f=Math.abs(Math.floor((i.Value-t.visibleRange.min)/t.visibleRange.delta*t.width)),a=SfSvgRender.utils._measureText(i.Text,this.model.m_AreaBounds.Width,t.font).width,!ej.util.isNullOrUndefined(i.Text))){var o=null,s=t.opposedPosition?t.y-t.majorTickLines.size-t.axisLine.lineWidth/2-t._LableMaxWidth.height/2-5:t.y+t.majorTickLines.size+t.axisLine.lineWidth/2+t._LableMaxWidth.height/2+5,u={id:this.svgObject.id+"_XLabel_"+r,x:f+t.x,y:t.opposedPosition?t.y-t.majorTickLines.size-t.axisLine.lineWidth/2-t._LableMaxWidth.height/2-5:t.y+t.majorTickLines.size+t.axisLine.lineWidth/2+t._LableMaxWidth.height/2+5,fill:t.font.color,"font-size":t.font.size,"font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"font-weight":t.font.fontWeight,opacity:t.font.opacity,"text-anchor":"middle"};if(t.hidePartialLabels&&(r==0||r==t.visibleLabels.length-1))continue;t.labelRotation&&t.labelRotation!=0&&!this.svgRenderer.vmlNamespace&&(h=t.labelRotation>360?t.labelRotation-360:t.labelRotation<-360?t.labelRotation+360:t.labelRotation,o="rotate("+h+","+(f+t.x)+","+s+")",$(u).attr("transform",o),v=this.svgRenderer.createText(u,i.Text),e=Math.ceil(SfSvgRender.utils._measureBounds(v,this).height-SfSvgRender.utils._measureText(i.Text,null,t.font).height),e=t._LableMaxWidth.height-e-SfSvgRender.utils._measureText(i.Text,null,t.font).height,c=t.opposedPosition?e/2:-e/2,o="rotate("+h+","+(f+t.x)+","+(s+c)+")",$(u).attr("transform",o),$(u).attr({y:s+c})),!this.zoomed&&!t.zoomed&&!t.labelRotation&&f+t.x+a>$(this.svgObject).width()&&($(u).attr("x",$(this.svgObject).width()-2),$(u).attr("text-anchor","end")),this.svgRenderer.drawText(u,i.Text,l)}$(l).appendTo(this.gXaxisEle)},_drawYAxisLabels:function(n,t){for(var u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels_"+n}),r,f,e,i=0;i<t.visibleLabels.length;i++)if(r=t.visibleLabels[i],SfSvgRender.utils._inside(r.Value,t.visibleRange)){if(f=Math.abs((r.Value-t.visibleRange.min)/t.visibleRange.delta*t.height),e={id:this.svgObject.id+"_YLabel_"+i,x:t.opposedPosition?t.majorTickLines.size+t.axisLine.lineWidth/2+t.x+5:t.x-t.axisLine.lineWidth/2-5-t.majorTickLines.size,y:f*-1+(t.y+t.height)+3,fill:t.font.color,"font-size":t.font.size,"font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"font-weight":t.font.fontWeight,opacity:t.font.opacity,"text-anchor":t.opposedPosition?"start":"end"},t.hidePartialLabels&&(i==0||i==t.visibleLabels.length-1))continue;this.svgRenderer.drawText(e,r.Text,u)}$(u).appendTo(this.gYaxisEle)},_drawXTitle:function(n,t){var r;if(t.title.text!=""&&t.title.text){var u=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTitle_"+n}),f=this.model.elementSpacing+t._LableMaxWidth.height,e=SfSvgRender.utils._measureText(t.title.text,t.width,t.title.font).height/2,i=$.extend({},SfSvgRender.commonChartEventArgs);i.Data={Title:t.title.text,Location:{X:t.width/2,Y:f+e+t.majorTickLines.size+t.axisLine.lineWidth},Axes:t},this._trigger("axesTitleRendering",i),r={id:this.svgObject.id+"_XAxisTitle_"+n,x:i.Data.Location.X+t.x,y:t.opposedPosition?t.y-i.Data.Location.Y:i.Data.Location.Y+t.y,fill:t.title.font.color,"font-size":t.title.font.size,"font-family":t.title.font.fontFamily,"font-style":t.title.font.fontStyle,"font-weight":t.title.font.fontWeight,opacity:t.title.font.opacity,"text-anchor":"middle","dominant-baseline":"middle"},$(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+n).length>0?$(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+n).attr(r):this.svgRenderer.drawText(r,i.Data.Title,u),$(u).appendTo(this.gXaxisEle)}},_drawYTitle:function(n,t){var r,u;if(t.title.text!=""&&t.title.text){var f=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTitle_"+n}),o=SfSvgRender.utils._measureText(t.title.text,t.height,t.title.font),e=t.opposedPosition?t.x+(3*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.lineWidth):t.x-(3*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.lineWidth),i=$.extend({},SfSvgRender.commonChartEventArgs);i.Data={Title:t.title.text,Location:{X:o.width/2,Y:0},Axes:t},this._trigger("axesTitleRendering",i),r=i.Data.Location.Y+(t.y+t.height)+t.height/-2,u={id:this.svgObject.id+"_YAxisTitle_"+n,x:e,y:r,fill:t.title.font.color,transform:"rotate(-90,"+e+","+r+")","font-size":t.title.font.size,"font-family":t.title.font.fontFamily,"font-style":t.title.font.fontStyle,"font-weight":t.title.font.fontWeight,opacity:t.title.font.opacity,"text-anchor":"middle","dominant-baseline":"middle"},$(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+n).length>0?$(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+n).attr(u):this.svgRenderer.drawText(u,i.Data.Title,f),$(f).appendTo(this.gYaxisEle)}}},SfStripline.prototype={_drawStripline:function(n,t){var i=0,r=0,tt=0,u=0,c=0,a=0,f=0,l=0,e=0,o=0,s,v,h,p,w,b,k,d,g,nt,y,it,rt,ut;t.visible&&(s=t.zOrder=="over"?this.gStriplineOver:this.gStriplineBehind,v=!0,n.orientation.toLowerCase()=="horizontal"?(h=0,t.startFromAxis?(p=ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset,h=(p-n.visibleRange.min)/n.visibleRange.delta*n.width+n.x,l=(p+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/n.visibleRange.delta*n.width):ej.util.isNullOrUndefined(t.start)&&(ej.util.isNullOrUndefined(t.end)||ej.util.isNullOrUndefined(t.width))?v=!1:(t.start=jQuery.type(t.start)=="date"?Date.parse(t.start):t.start,ej.util.isNullOrUndefined(t.end)||jQuery.type(t.end)!="date"||(t.end=Date.parse(t.end)),h=(t.start-n.visibleRange.min)/n.visibleRange.delta*n.width+n.x,w=(t.end-n.visibleRange.min)/n.visibleRange.delta*n.width+n.x,b=(t.start+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/n.visibleRange.delta*n.width+n.x,l=w>b?w-h:b-h),f=l,r=this.chart.model.m_AreaBounds.Height,i=h,u=this.chart.model.m_AreaBounds.Y,tt=-90,k=SfSvgRender.utils._measureText(t.text,null,t.font).height,t.textAlignment=="middletop"?(e=i,o=Math.abs(u+r/2)):t.textAlignment=="middlecenter"?(e=Math.floor(i+f/2)+k/3,o=Math.abs(u+r/2)):t.textAlignment=="middlebottom"&&(e=i+f+k,o=Math.abs(u+r/2))):(t.startFromAxis?(d=ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset,c=n.y+n+r-(d-n.visibleRange.min)/n.visibleRange.delta*n.height,l=(d+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/n.visibleRange.delta*n.height,a=l):ej.util.isNullOrUndefined(t.start)&&(ej.util.isNullOrUndefined(t.end)||ej.util.isNullOrUndefined(t.width))?v=!1:(t.start=jQuery.type(t.start)=="date"?Date.parse(t.start):t.start,ej.util.isNullOrUndefined(t.end)||jQuery.type(t.end)!="date"||(t.end=Date.parse(t.end)),c=n.y+n.height-(t.start-n.visibleRange.min)/n.visibleRange.delta*n.height,g=n.y+n.height-((ej.util.isNullOrUndefined(t.end)?0:t.end)-n.visibleRange.min)/n.visibleRange.delta*n.height,nt=n.y+n.height-(t.start+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/n.visibleRange.delta*n.height,a=g<nt?c-g:c-nt),r=a,i=this.chart.model.m_AreaBounds.X,f=this.chart.model.m_AreaBounds.Width,u=c-a,y=SfSvgRender.utils._measureText(t.text,f,t.font).height,t.textAlignment=="middletop"?(e=i+f/2,o=u-y/3):t.textAlignment=="middlecenter"?(e=i+f/2,o=Math.abs(u+r/2)+y/3):t.textAlignment=="middlebottom"&&(e=i+f/2,o=u+r+y)),v&&(ej.util.isNullOrUndefined(t.imageUrl)?(rt={id:s.id+"_striplineRect",x:i,y:u,width:f,height:r,fill:t.color,opacity:t.opacity,"stroke-width":t.borderWidth,stroke:t.borderWidth==0?"transparent":t.borderColor},ut={id:s.id+"_striplineRectText",x:e,y:o,fill:t.font.color,transform:"rotate("+tt+","+e+","+o+")","font-size":t.font.size,"font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"font-weight":t.font.fontWeight,"text-anchor":"middle"},this.svgRenderer.drawRect(rt,s),this.svgRenderer.drawText(ut,t.text,s)):(it={height:r,width:f,href:t.imageUrl,x:i,y:u,id:s.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"},this.svgRenderer.drawImage(it,s))))}},SfLegendRender=function(n){this.chartObj=n},SfLegendRender.prototype={drawLegendItem:function(n,t,i){var e=this.chartObj.model.legend.itemSize,s={startX:t+e.width/2,startY:i},h={ShapeSize:e,Style:n.LegendStyle,Gradient:n.Gradient,SeriesIndex:n.SeriesIndex},u,c,l,r,a;for(name in this.chartObj.model.symbolShape)if(n.Shape.toLowerCase()==name.toLowerCase()){u=name;break}u=="None"&&(u="SeriesType"),c=ej.util.isNullOrUndefined(n.PointIndex)?n.SeriesIndex:n.PointIndex,l=this.chartObj.model.AreaType=="cartesianaxes"&&!this.chartObj.zoomed?"pointer":"default",this.chartObj.gLegendItemEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_Legend"+c,cursor:l}),r=$.extend({},SfSvgRender.commonChartEventArgs),r.Data={LegendItem:n,Location:s,Legend:!0,model:this.chartObj.model,svgRenderer:this.chartObj.svgRenderer,svgObject:this.chartObj.svgObject,SymbolShape:u,Style:h,gLegendItemEle:this.chartObj.gLegendItemEle},this.chartObj._trigger("legendItemRendering",r),SfSvgRender.chartSymbol["_draw"+r.Data.SymbolShape](r.Data.Location,r.Data.Style,r.Data,this.chartObj.gLegendItemEle),a=n.LegendStyle.Color&&n.LegendStyle.Color.toLowerCase()!=="gray"?this.chartObj.model.legend.textOption.font.color:"gray";var f=this.chartObj.model.legend.textOption.font,v=r.Data.LegendItem,y=SfSvgRender.utils._measureText(v.Text,this.chartObj.model.LegendBounds.Width,f).height,o={id:this.chartObj.svgObject.id+"_LegendItemText",x:e.width+t+this.chartObj.model.legend.itemPadding/2,y:r.Data.Location.startY,fill:a,"font-size":f.size,"font-style":f.fontStyle,"font-family":f.fontFamily,"font-weight":f.fontWeight,"text-anchor":"start"},p=jQuery.uaMatch(navigator.userAgent);p.browser.toLowerCase()=="msie"?o.y=r.Data.Location.startY+y/3:this.chartObj.svgRenderer._setAttr($(o),{"dominant-baseline":"middle"}),this.chartObj.svgRenderer.drawText(o,r.Data.LegendItem.Text,this.chartObj.gLegendItemEle),this.chartObj.svgRenderer.append(this.chartObj.gLegendItemEle,this.chartObj.gLegendEle);var w={X:this.chartObj.model.LegendBounds.X,Y:this.chartObj.model.LegendBounds.Y},b={X:t,Y:i},k={LegendBound:w,ItemBound:b},d={LegendItem:n,Location:s,SymbolShape:u,Style:h,Bounds:k};this.chartObj.model.legendRegion.push(d)},drawLegend:function(){var u,f,e,t,i,o,s,n,r;if(!ej.util.isNullOrUndefined(this.chartObj.model.legend)&&this.chartObj.model.legend.visible){for(this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.bottom?(this.chartObj.model.LegendBounds.Y=$(this.chartObj.svgObject).height()-this.chartObj.model.margin.bottom-this.chartObj.model.LegendBounds.Height,this.chartObj.model.LegendBounds.X=$(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendBounds.Width/2):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.top?(this.chartObj.model.LegendBounds.Y=(this.chartObj.model._titleLocation?this.chartObj.model._titleLocation.Y:0)+this.chartObj.model.margin.top,this.chartObj.model.LegendBounds.X=$(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendBounds.Width/2):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.right?(this.chartObj.model.LegendBounds.Y=$(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendBounds.Height/2,this.chartObj.model.LegendBounds.X=$(this.chartObj.svgObject).width()-this.chartObj.model.margin.right-this.chartObj.model.LegendBounds.Width):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.left?(this.chartObj.model.LegendBounds.Y=$(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendBounds.Height/2,this.chartObj.model.LegendBounds.X=this.chartObj.model.margin.left):(this.chartObj.model.LegendBounds.Y=this.chartObj.model.legend.location.Y<$(this.chartObj.svgObject).height()?this.chartObj.model.legend.location.Y:0,this.chartObj.model.LegendBounds.X=this.chartObj.model.legend.location.X<$(this.chartObj.svgObject).width()?this.chartObj.model.legend.location.X:0),this.chartObj.model.legend.position.toLowerCase()=="left"||this.chartObj.model.legend.position.toLowerCase()=="right"?this.chartObj.model.LegendBounds.Y=this.chartObj.model.legend.alignment.toLowerCase()=="center"?$(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendBounds.Height/2:this.chartObj.model.legend.alignment.toLowerCase()=="near"?this.chartObj.model.m_Spacing.Top+this.chartObj.model.elementSpacing+this.chartObj.model.legend.itemPadding/2:$(this.chartObj.svgObject).height()-this.chartObj.model.m_Spacing.Bottom-this.chartObj.model.LegendBounds.Height-this.chartObj.model.elementSpacing-5:this.chartObj.model.legend.position.toLowerCase()!="custom"&&(this.chartObj.model.LegendBounds.X=this.chartObj.model.legend.alignment.toLowerCase()=="center"?$(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendBounds.Width/2:this.chartObj.model.legend.alignment.toLowerCase()=="near"?this.chartObj.model.m_Spacing.Left+this.chartObj.model.elementSpacing+this.chartObj.model.legend.itemPadding/2:$(this.chartObj.svgObject).width()-this.chartObj.model.m_Spacing.Right-this.chartObj.model.LegendBounds.Width-this.chartObj.model.elementSpacing-5),u=this.chartObj.model.LegendBounds.X,f=this.chartObj.model.LegendBounds.Y,ej.util.isNullOrUndefined(this.chartObj.svgRenderer.vmlNamespace)?this.chartObj.svgRenderer._setAttr($(this.chartObj.gLegendEle),{transform:"translate("+u+","+f+")"}):$(this.chartObj.gLegendEle).css({position:"absolute",left:u,top:f}),this.chartObj.model.legend.showBorder&&(e={id:this.chartObj.svgObject.id+"_LegendArea",x:0,y:0,width:this.chartObj.model.LegendBounds.Width,height:this.chartObj.model.LegendBounds.Height,fill:"none","stroke-width":this.chartObj.model.legend.borderWidth,stroke:this.chartObj.model.legend.borderColor},this.chartObj.svgRenderer.drawRect(e,this.chartObj.gLegendEle)),t=o=this.chartObj.model.legend.itemPadding,i=s=this.chartObj.model.legend.itemPadding*2,n=0;n<this.chartObj.model.legendCollection.length;n++)r=this.chartObj.model.legend.position.toLowerCase(),r==this.chartObj.model.legendPosition.top||r==this.chartObj.model.legendPosition.bottom||r==this.chartObj.model.legendPosition.custom||this.chartObj.model.legend.rowCount||this.chartObj.model.legend.columnCount?(t+this.chartObj.model.legendCollection[n].Bounds.Width>this.chartObj.model.LegendBounds.Width+o&&(t=this.chartObj.model.legend.itemPadding,i+=this.chartObj.model.legendCollection[n].Bounds.Height),this.drawLegendItem(this.chartObj.model.legendCollection[n],t,i),t+=this.chartObj.model.legendCollection[n].Bounds.Width):(i+this.chartObj.model.legendCollection[n].Bounds.Height>this.chartObj.model.LegendBounds.Height+s&&(i=this.chartObj.model.legend.itemPadding*2,t=this.chartObj.model.legendCollection[n].Bounds.Width+this.chartObj.model.legend.itemPadding),this.drawLegendItem(this.chartObj.model.legendCollection[n],t,i),i+=this.chartObj.model.legendCollection[n].Bounds.Height);this.chartObj.svgRenderer.append(this.chartObj.gLegendEle,this.chartObj.svgObject)}}},seriesTypes={},sfSeriesRender=function(){},sfSeriesRender.prototype={setLineSeriesStyle:function(n){var i=$.extend(!0,{},this.chartObj.model.seriesStyle,n.style),t=$.inArray(n,this.chartObj.model._visibleSeries),r=this.chartObj.model.seriesColors[t],u=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(n)+t,r,0,0,0,$(this.chartObj.svgObject).height(),this.chartObj.gSeriesEle),f=this.chartObj.model.seriesBorderColors[t];return{SeriesStyle:i,SeriesInterior:u,SeriesBorder:f}},getSeriesName:function(n){return n.name?n.name.replace(/\s/g,""):"series"},setPieSeriesStyle:function(n,t){var i=$.extend(!0,this.chartObj.model.seriesStyle,t.style);i=$.extend(!0,i,n.style);var r=$.inArray(n,t.points),f=this.chartObj.model.pointColors[r],u=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+r,f,0,0,0,$(this.chartObj.svgObject).height(),this.chartObj.gSeriesEle),e=ej.util.isNullOrUndefined(i.borderColor)?u:i.borderColor;return{SeriesStyle:i,PointInterior:u,BorderColor:e}},drawAreaPath:function(n,t,i){var r=$.inArray(n,this.chartObj.model.series),f=n.xAxis.x,e=n.yAxis.y,o={id:this.chartObj.svgObject.id+"_SeriesGroup_"+r,transform:"translate("+f+","+e+")"},u;this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(o),u={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(n)+"_"+r,fill:t.SeriesInterior,"fill-opacity":t.SeriesStyle.opacity,"stroke-width":t.SeriesStyle.borderWidth,stroke:t.SeriesStyle.borderColor,"stroke-linecap":t.SeriesStyle.lineCap,"stroke-linejoin":t.SeriesStyle.lineJoin,d:i},this.chartObj.svgRenderer.drawPath(u,this.gSeriesGroupEle)},setAreaSeriesStyle:function(n){var f=$.extend(!0,{},this.chartObj.model.seriesStyle,n.style),t=$.inArray(n,this.chartObj.model._visibleSeries),e=Math.max.apply(0,$.map(n.points,function(n){return n.YValues[0]})),o=Math.min.apply(0,$.map(n.points,function(n){return n.YValues[0]})),i=Math.min.apply(0,$.map(n.points,function(n){return n.X})),r=SfSvgRender.utils._getPointXY(i,o,n),u=SfSvgRender.utils._getPointXY(i,e,n),s=this.chartObj.model.seriesColors[t],h=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(n)+t,s,r.X,r.Y,u.X,u.Y,this.chartObj.gSeriesEle);return{SeriesStyle:f,SeriesInterior:h}},naturalSpline:function(n){var h=n.length,f=0,i=[],u=[],t,s,r;for(i[0]=u[0]=0,i[n.length-1]=0,t=1;t<h-1;t++){var e=n[t].X-n[t-1].X,c=n[t+1].X-n[t-1].X,o=n[t+1].X-n[t].X,l=n[t+1].YValues[f]-n[t].YValues[f],a=n[t].YValues[f]-n[t-1].YValues[f];e==0||c==0||o==0?(i[t]=0,u[t]=0):(s=1/(e*i[t-1]+2*c),i[t]=-s*o,u[t]=s*(6*(l/o-a/e)-e*u[t-1]))}for(r=h-2;r>=0;r--)i[r]=i[r]*i[r+1]+u[r];return i},getBezierControlPoints:function(n,t,i,r,u){var o,s,f=1/3,e=t.X-n.X;e=e*e;var h=2*n.X+t.X,c=n.X+2*t.X,l=2*n.YValues[u]+t.YValues[u],a=n.YValues[u]+2*t.YValues[u],v=f*(l-f*e*(i+.5*r)),y=f*(a-f*e*(.5*i+r));return o={X:h*f,YValues:[v]},s={X:c*f,YValues:[y]},{controlPoint1:o,controlPoint2:s}},improveChartPerformance:function(n){for(var u=[],f=0,e=0,s=n.xAxis.visibleRange.max-n.xAxis.visibleRange.min,h=n.yAxis.visibleRange.max-n.yAxis.visibleRange.min,c=Math.abs(s*1/this.chartObj.model.m_AreaBounds.Width),l=Math.abs(h*1/this.chartObj.model.m_AreaBounds.Height),i=0,o,r,t=0;t<n.points.length;t++)o=n.points[t].isEmpty===null||n.points[t].isEmpty===undefined?!1:n.points[t].isEmpty,n.points[t].visible=n.points[t].visible===null||n.points[t].visible===undefined?!0:n.points[t].visible,n.points[t].X===null||n.points[t].X===undefined?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].X=n.xAxis.visibleRange.min):n.points[t].isEmpty=o,n.points[t].YValues[0]==null||n.points[t].YValues[0]=="undefined"?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].YValues[0]=n.yAxis.visibleRange.min):(n.points[t].isEmpty=n.points[t].isEmpty,n.points[t].visible=n.points[t].isEmpty?!n.points[t].isEmpty:n.points[t].visible),i=n.points[t].X,r=n.points[t].YValues[0],(Math.abs(f-i)>=c||Math.abs(e-r)>=l)&&(u.push(n.points[t]),f=i,e=r);return u},_isVisiblePoints:function(n){for(var i,t=0;t<n.points.length;t++)i=ej.util.isNullOrUndefined(n.points[t].isEmpty)?!1:n.points[t].isEmpty,n.points[t].visible=ej.util.isNullOrUndefined(n.points[t].visible)?!0:n.points[t].visible,ej.util.isNullOrUndefined(n.points[t].X)?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].X=n.xAxis.visibleRange.min):n.points[t].isEmpty=i,n.points[t].YValues[0]==null||n.points[t].YValues[0]=="undefined"?(n.points[t].isEmpty=!0,n.points[t].visible=!1,ej.util.isNullOrUndefined(n.points[t].YValues)&&(n.points[t].YValues=[]),n.points[t].YValues[0]=n.yAxis.visibleRange.min):(n.points[t].isEmpty=n.points[t].isEmpty,n.points[t].visible=n.points[t].isEmpty?!n.points[t].isEmpty:n.points[t].visible),jQuery.type(n.points[t].X)=="date"&&(n.points[t].X=Date.parse(n.points[t].X));return n.points},_pieVisiblePoints:function(n){for(var i=[],t=0;t<n.points.length;t++)point=n.points[t],ej.util.isNullOrUndefined(point.visible)&&(point.visible=!0),point.visible==!0&&point.x&&point.y&&i.push(point);return n.visiblePoints=i,i},_drawHiloPath:function(n,t,i,r,u,f){var h={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(n)+"_"+u,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":t.borderWidth,stroke:i,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,d:r},e,o,s;this.chartObj.svgRenderer.drawPath(h,this.gSeriesGroupEle),x=f.point2.X+n.xAxis.x-t.borderWidth,y=f.point2.Y+n.yAxis.y,f.point1.Y-f.point2.Y>0?(e=t.borderWidth+t.borderWidth/2,o=Math.abs(f.point1.Y-f.point2.Y)):(e=Math.abs(f.point2.X-f.point1.X),o=t.borderWidth+t.borderWidth/2),s={X:x,Y:y,Width:e,Height:o},SfSvgRender.utils._addRegion(this.chartObj,s,n,null,u)},_calculateArcData:function(n,t,i,r){var ht=this._pieVisiblePoints(r),u=n,k=-.5*Math.PI,o=u.model.arcData[t].startAngle+k,s=u.model.arcData[t].endAngle+k-1e-6,w=s-o<Math.PI?0:1,f=(o+s)/2,b,v,c,l,a,it;(t==r.explodeIndex||r.explodeAll)&&!u.vmlRendering?(u.model.startX[t]=u.model.centerX+Math.cos(f)*r.explodeOffset,u.model.startY[t]=u.model.centerY+Math.sin(f)*r.explodeOffset):(u.model.startX[t]=u.model.centerX,u.model.startY[t]=u.model.centerY);var d=u.model.startX[t]+u.model.Radius*Math.cos(o),g=u.model.startY[t]+u.model.Radius*Math.sin(o),nt=u.model.startX[t]+u.model.Radius*Math.cos(s),tt=u.model.startY[t]+u.model.Radius*Math.sin(s);if(r.type.toLowerCase()=="doughnut"){var rt=u.model.startX[t]+u.model.dRadius*Math.cos(o),ut=u.model.startY[t]+u.model.dRadius*Math.sin(o),ft=u.model.startX[t]+u.model.dRadius*Math.cos(s),et=u.model.startY[t]+u.model.dRadius*Math.sin(s);b="M "+d+" "+g+" A "+u.model.Radius+" "+u.model.Radius+" 0 "+w+" 1 "+nt+" "+tt+" L "+ft+" "+et+" A "+u.model.dRadius+" "+u.model.dRadius+" 1 "+w+" 0 "+rt+" "+ut+" z"}else b="M "+d+" "+g+" A "+u.model.Radius+" "+u.model.Radius+" 0 "+w+" 1 "+nt+" "+tt+" L "+u.model.startX[t]+" "+u.model.startY[t]+" z";if(r.marker.showText){ej.util.isNullOrUndefined(r.marker)||ej.util.isNullOrUndefined(r.marker.textOffset)?(text=ej.util.isNullOrUndefined(i.text)?i.YValues[0]:i.text,v=SfSvgRender.utils._measureText(text,null,r.marker.dataLabel.font).height):v=r.marker.textOffset;var e=0,h=0,y=this.getXCordinate(u.model.startX[t],u.model.Radius,f),p=this.getYCordinate(u.model.startY[t],u.model.Radius,f),ot=this.getXCordinate(u.model.startX[t],u.model.dRadius,f),st=this.getYCordinate(u.model.startY[t],u.model.dRadius,f);r.labelPosition.toLowerCase()=="outside"?(c=this.getXCordinate(u.model.startX[t],u.model.Radius+v,f),l=this.getYCordinate(u.model.startY[t],u.model.Radius+v,f),c<u.model.startX[t]?(a=c-u.model.elementSpacing,e=a):(a=c+u.model.elementSpacing,e=a),h=l,it="M "+y+" "+p+" L "+c+" "+l+" M "+c+" "+l+" L "+a+" "+l):r.type.toLowerCase()=="doughnut"?(e=(y+ot)/2,h=(p+st)/2):(e=(y+u.model.startX[t])/2,h=(p+u.model.startY[t])/2,e=(y+e)/2,h=(p+h)/2)}return{Connector:it,PositionX:e,PositionY:h,Direction:b}},getXCordinate:function(n,t,i){return n+t*Math.cos(i)},getYCordinate:function(n,t,i){return n+t*Math.sin(i)},getDoubleRange:function(n,t){var i,r;n>t?(i=t,r=n):(i=n,r=t);var u=r-i,f=(i+r)/2,e=isNaN(i)||isNaN(r);return{Start:i,End:r,Delta:u,Median:f,IsEmpty:e}},getMinPointsDelta:function(){var n=this;return isNaN(n.m_minPointsDelta)&&(n.m_minPointsDelta=Number.MAX_VALUE,$.each(this.chartObj.model._visibleSeries,function(t,i){var r,u;i.visibility.toLowerCase()=="visible"&&(r=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal(),r.length==1?(u=r[0].X-i.xAxis.visibleRange.min,u!=0&&(n.m_minPointsDelta=Math.min(n.m_minPointsDelta,u))):$.each(r,function(t,i){if(t>0){var u=i.X-r[t-1].X;u!=0&&(n.m_minPointsDelta=Math.min(n.m_minPointsDelta,u))}}))}),n.m_minPointsDelta==Number.MAX_VALUE&&(n.m_minPointsDelta=1)),n.m_minPointsDelta},isDependentSeries:function(n){var t=n.type.toLowerCase();return this.chartObj.model.requireInvertedAxes?t==ej.Chart.type.Bar||t==ej.Chart.type.StackingBar?!0:!1:t==ej.Chart.type.Candle||t==ej.Chart.type.Column||t==ej.Chart.type.Hilo||t==ej.Chart.type.HiloOpenClose||t==ej.Chart.type.StackingColumn||t==ej.Chart.type.RangeColumn?!0:!1},getPointXYOrgin:function(n,t,i){var r=SfSvgRender.utils._valueToCoefficient(i.xAxis,n)*i.xAxis.width,u=(1-SfSvgRender.utils._valueToCoefficient(i.yAxis,t))*i.yAxis.height;return{X:r,Y:u}},getRectangle:function(n,t,i,r,u){var f=this.getPointXYOrgin(n,t,u),e=this.getPointXYOrgin(i,r,u);return SfSvgRender.utils._correctRect(f.X,f.Y,e.X,e.Y)},calculateSides:function(n,t){var i=n.X+t.Start,r=n.X+t.End;return{x1:i,x2:r}},getSideBySidePositions:function(n){var r=this,u=[],t=r.chartObj.model,f,i;return ej.util.isNullOrUndefined(r.chartObj.model.SBSInfoCalculated)&&(f=t.requireInvertedAxes?t.vAxes:t.hAxes,i=t.requireInvertedAxes?t.hAxes:t.vAxes,$.each(f,function(n,f){for(var h=0,o=[],e,s=0;s<t._visibleSeries.length;s++)f.axisName==t._visibleSeries[s].xAxisName&&o.push(t._visibleSeries[s]);for(e=0;e<o.length;e++)for(s=0;s<i.length;s++)if(r.isDependentSeries(o[e]))if(o[e].type.toLowerCase().indexOf("stacking")!=-1){if(o[e].yAxisName==i[s].axisName){o[e].stackingGroup?ej.util.isNullOrUndefined(u[o[e].stackingGroup])?(h++,o[e].position=h,u[o[e].stackingGroup]=h):o[e].position=u[o[e].stackingGroup]:ej.util.isNullOrUndefined(i[s].position)?(h++,o[e].position=h,i[s].position=h):o[e].position=i[s].position;break}}else if(o[e].yAxisName==i[s].axisName){h++,o[e].position=h;break}$.each(i,function(n,t){t.position=null}),f.seriesCount=h}),t.SBSInfoCalculated=!0),{all:n.xAxis.seriesCount,pos:n.position}},getSideBySideInfo:function(n){var u,f,e=this.getSideBySidePositions(n),i,r;u=e.pos,f=e.all;var o=this.getMinPointsDelta()*(1-.3),s=1/f,h=.5-s*(u-1),t=this.getDoubleRange(-h,-h+s);return t.IsEmpty||(t=this.getDoubleRange(t.Start*o,t.End*o),i=.5*1*t.Delta,r=t.Median,t=this.getDoubleRange(r-i,r+i)),t},draw:function(n,t){var r;this.chartObj=n;var s,h=syncfusion.getStringBuilder(),i=t,a=this.setLineSeriesStyle(i);i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal());var u=this.improveChartPerformance(i),f=null,e,o=-1;for(r=0;r<u.length;r++)if(e=u[r],e.visible){if(f!=null&&u.length>o+1){var v=u[o+1],c=SfSvgRender.utils._getPoint(f,i),l=SfSvgRender.utils._getPoint(v,i);h.append("M "+c.X+" "+c.Y+" L "+l.X+" "+l.Y+" ")}f=e,o=r}else f=null;s=h.toString(),this._drawLinePath(i,a,s),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},_doLineSymbol:function(n,t,i,r,u){var a=parseInt(i*t),f=this.chartObj,e=SfSvgRender.utils._getBoundingClientRect(n,f,r,u),h=e.x+e.width/2,c=e.y+e.height/2,l,o=$(n),s=f.svgRenderer._getAttrVal(o,"transform");s=ej.util.isNullOrUndefined(s)?" ":s,f.svgRenderer._setAttr(o,{transform:"scale(0)"}),o.delay(a).animate({scale:1},{duration:200,step:function(n){l=n,f.svgRenderer._setAttr(o,{transform:"translate("+h+" "+c+") scale("+l+") translate("+-h+" "+-c+")"+s})}})},animateSymbol:function(n,t,i,r){var u=this.chartObj,f=SfSvgRender.utils._getBoundingClientRect(n,u,i,r),s=f.x+f.width/2,h=f.y+f.height/2,c,e=$(n),o=u.svgRenderer._getAttrVal(e,"transform");o=ej.util.isNullOrUndefined(o)?" ":o,u.svgRenderer._setAttr(e,{transform:"scale(0)"}),e.delay(t).each(function(){this.scale=.5}).animate({scale:1},{duration:500,step:function(n){c=n,u.svgRenderer._setAttr(e,{transform:"translate("+s+" "+h+") scale("+c+") translate("+-s+" "+-h+")"+o})}})},animateStackingRect:function(n,t,i){var r=this.chartObj,s=(1-SfSvgRender.utils._valueToCoefficient(t.yAxis,0))*t.yAxis.height,h=SfSvgRender.utils._getBoundingClientRect(n,r,t,i),u,f,e=$(n),o;r.svgRenderer._getAttrVal(e,"plot")&&(u=h.x,f=s),e.animate({scale:1},{duration:1e3,step:function(n){o=n,r.svgRenderer._setAttr(e,{transform:"translate("+u+" "+f+") scale(1,"+o+") translate("+-u+" "+-f+")"})}})},animateRect:function(n,t){var f=this.chartObj,i=SfSvgRender.utils._getBoundingClientRect(n,f,t,!1),r,u,e=$(n),o;f.svgRenderer._getAttrVal(e,"plot")?f.svgRenderer._getAttrVal(e,"plot")==="negative"?(r=i.x,u=i.y):(r=i.x+i.width,u=i.y+i.height):(r=i.x+i.width/2,u=i.y+i.height/2),e.animate({scale:1},{duration:1e3,step:function(n){o=n,f.svgRenderer._setAttr(e,{transform:"translate("+r+" "+u+") scale(1,"+o+") translate("+-r+" "+-u+")"})}})},animateBarRect:function(n,t,i){var e=this.chartObj,r=SfSvgRender.utils._getBoundingClientRect(n,e,t,i),u,f,o=$(n),s;e.svgRenderer._getAttrVal(o,"plot")==="negative"?(u=r.x+r.width,f=r.y+r.height):(u=r.x,f=r.y),o.animate({scale:1},{duration:1e3,step:function(n){s=n,e.svgRenderer._setAttr(o,{transform:"translate("+u+" "+f+") scale("+s+",1) translate("+-u+" "+-f+")"})}})},animateStackingBar:function(n,t,i){var f=this.chartObj,s=SfSvgRender.utils._valueToCoefficient(t.yAxis,0)*t.yAxis.width,h=SfSvgRender.utils._getBoundingClientRect(n,f,t,i),r,u,e=$(n),o;r=s,u=h.y,e.animate({scale:1},{duration:1e3,step:function(n){o=n,f.svgRenderer._setAttr(e,{transform:"translate("+r+" "+u+") scale("+o+",1) translate("+-r+" "+-u+")"})}})},_doLineAnimation:function(n){var t=this.chartObj,u=$(t.gSeriesEle).find("#"+this.gSeriesGroupEle.id+"_ClipRect").children(),r,f,i,e;for($(u).animate({width:parseFloat(t.svgRenderer._getAttrVal($(t.gSeriesEle).find("#"+this.gSeriesGroupEle.id+"_ClipRect").children(),"width"))},{duration:2e3,step:function(n){t.svgRenderer._setAttr($(u),{width:n})}}),r=$(t.gSymbolGroupEle).children().not("defs"),f=2e3/r.length,i=0;i<r.length;i++)e=r[i],this._doLineSymbol(e,f,i,n,this.chartObj.model.requireInvertedAxes)},doAnimation:function(n){this._doLineAnimation(n)},_drawLinePath:function(n,t,i){var r=$.inArray(n,this.chartObj.model._visibleSeries),f=n.xAxis.x,e=n.yAxis.y,o={id:this.chartObj.svgObject.id+"_SeriesGroup_"+r,transform:"translate("+f+","+e+")"},u;this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(o),u={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(n)+"_"+r,fill:"none","stroke-dasharray":t.SeriesStyle.dashArray,"stroke-width":t.SeriesStyle.borderWidth,stroke:t.SeriesInterior,"stroke-linecap":t.SeriesStyle.lineCap,"stroke-linejoin":t.SeriesStyle.lineJoin,d:i},this.chartObj.svgRenderer.drawPath(u,this.gSeriesGroupEle)},drawDisplayText:function(n,t,i,r,u){var f,c,p;if(i.visible){var l=n.yAxis.labelFormat?n.yAxis.labelFormat:"",a=i.text?i.text:i.y+l.substring(l.indexOf("}")+1),v=$.inArray(n,this.chartObj.model.series),s,h,e=i.font?i.font:n.marker.dataLabel.font,w={size:e.size,fontStyle:e.fontStyle,fontFamily:e.fontFamily},o=SfSvgRender.utils._measureText(a,null,w);if(ej.util.isNullOrUndefined(n.marker.textOffset)&&(n.marker.textOffset=10),n.marker.textAlignment.toLowerCase()=="center"?s="center":n.marker.textAlignment.toLowerCase()=="near"?(s="left",r-=o.width+n.marker.textOffset):(s="right",r+=o.width+n.marker.textOffset),n.marker.textPosition.toLowerCase()=="bottom"?(h="bottom",u+=o.height+n.marker.textOffset):n.marker.textPosition.toLowerCase()=="middle"?h="middle":(h="top",u-=n.marker.textOffset+o.height/2),f=$.extend({},SfSvgRender.commonChartEventArgs),f.Data={Text:a,Location:{X:r,Y:u}},this.chartObj._trigger("displayTextRendering",f),c=i.offset?i.offset:n.marker.dataLabel.offset,n.marker.dataLabel.offset&&(f.Data.Location.Y=n.marker.textPosition=="bottom"?f.Data.Location.Y+c:f.Data.Location.Y-c),!f.Cancel){var b={id:this.chartObj.svgObject.id+"_SeriesText"+t+v,x:f.Data.Location.X,y:f.Data.Location.Y,fill:e.color,"font-size":e.size,"font-family":e.fontFamily,"font-style":e.fontStyle,"font-weight":e.fontWeight,"text-anchor":"middle"},k=o.width,y=o.height,d={X:f.Data.Location.X,Y:f.Data.Location.Y};ej.util.isNullOrUndefined(n.marker.dataLabel.templateID)?(p=i.shape?i.shape:n.marker.dataLabel.shape?n.marker.dataLabel.shape:"None",$.each(this.chartObj.model.symbolShape,function(n){p.toLowerCase()==n.toLowerCase()&&(symbolName=n)}),this.dataLabelSymbol(v,n,t,f.Data.Location.X,f.Data.Location.Y-y/4,k,y,symbolName,this.chartObj),this.chartObj.svgRenderer.drawText(b,f.Data.Text,this.chartObj.gSeriesTextEle)):this.drawLabelTemplate(n,i,t,d)}}},drawLabelTemplate:function(n,t,i,r){var s,e,o,u,h,c;this.chartObj.model.AreaType=="cartesianaxes"&&(s=this.chartObj.model.m_AreaBounds);var l=this.chartObj.model.AreaType=="cartesianaxes"?s.X:0,a=this.chartObj.model.AreaType=="cartesianaxes"?s.Y:0,v=$.inArray(n,this.chartObj.model._visibleSeries),y=this.chartObj.model.AreaType=="cartesianaxes"?this.chartObj.model.seriesColors[v]:this.chartObj.model.pointColors[i],f=this.chartObj._id;e=$("#template_group_"+f).length!=0?$("#template_group_"+f):$("<div><\/div>").attr("id","template_group_"+f),e.css("position","relative").css("z-index",1e3),o=$("#"+n.marker.dataLabel.templateID).clone(),u=$(o),u.css("background-color",y).css("position","absolute"),t.count=1,h={series:n,point:t},u.html(u.html().parseTemplate(h)),c=this.chartObj.model.AreaType=="cartesianaxes"||!n.animation||n.type.toLowerCase()=="pyramid"?"block":"none",u.css("display",c).appendTo($(e)),$(e).appendTo("#"+f);var p=this.chartObj.model.AreaType=="cartesianaxes"?$(o).width()/2:this.chartObj.model.centerX>r.X?$(o).width():0,w=r.X+l-p,b=this.chartObj.model.AreaType=="cartesianaxes"?u.height():u.height()/2,k=a+r.Y-b;u.css("left",w).css("top",k).css("display","block")},drawSymbolImage:function(n,t){var i=n.points[t],r,u;if(i.visible){if(i.marker&&(!(i.marker.visible||n.marker.visible)||i.marker.shape!=this.chartObj.model.symbolShape.image))return;r=i.marker?i:n,r.marker.shape.toLowerCase()=="image"&&(u=new Image,u.src=r.marker.imageUrl,r.marker.image=u)}},changeCrossHairSymbol:function(n,t,i,r,u){var f,e;return t&&(f={},f=$.extend(!0,{},this.chartObj.model.crossHair.marker,f),ej.util.isNullOrUndefined(f.shape)&&(f.shape=n.shape),ej.util.isNullOrUndefined(f.style.interior)&&u.type.toLowerCase()!="bubble"&&u.type.toLowerCase()!="scatter"&&(f.style.interior=f.shape.toLowerCase()=="cross"||f.shape.toLowerCase()=="horizline"||f.shape.toLowerCase()=="vertline"?jQuery.type(this.chartObj.model.seriesColors[r])=="array"?this.chartObj.model.seriesColors[r][0].color:this.chartObj.model.seriesColors[r]:n.style.borderColor),u.type.toLowerCase()=="bubble"?(e=$(this.chartObj.gSeriesEle).find("#"+this.chartObj.svgObject.id+"_circlesymbol_"+i+"_"+r)[0].getBoundingClientRect(),f.size.width=(e.right-e.left)/2+15,f.size.height=(e.bottom-e.top)/2+15):(f.size.width<=n.size.width&&(f.size.width=n.size.width+2),f.size.height<=n.size.height&&(f.size.height=n.size.height+2),f.style.borderColor=ej.util.isNullOrUndefined(f.style.borderColor)&&ej.util.isNullOrUndefined(n.style.interior)?jQuery.type(this.chartObj.model.seriesColors[r])=="array"?this.chartObj.model.seriesColors[r][0].color:this.chartObj.model.seriesColors[r]:jQuery.type(n.style.interior)=="array"?n.style.interior._gradientStop[0].color:n.style.interior)),u._trackMarker=f,f},dataLabelSymbol:function(n,t,i,r,u,f,e,o,s){var c=s;if(o!="None"){var h=t.points[i],l={startX:r,startY:u},a=c.gSymbolGroupEle,v=h.marker?h.marker:t.marker,y=h.style?h.style:t.marker.dataLabel.style,p={style:y,gradientName:"symbol",symbolEle:a,width:f,height:e,point:h,location:l,seriesIndex:n,pointIndex:i,element:v,symbolName:o};this.drawSymbolStyle(p,c)}},drawSymbolStyle:function(n,t){var i=t,c,l,a,r=n.style,w=n.gradientName,u=n.symbolEle,b=n.width,k=n.height,h=n.point,d=n.location,e=n.seriesIndex,v=n.pointIndex,y=n.element,g=n.symbolName,s,o,p,f;r!=null&&(r.borderColor!=""&&(c=r.borderColor?r.borderColor:"transparent"),a=r.opacity,r.borderWidth&&(l=r.borderWidth)),s=null,r.interior?s=ej.util.isNullOrUndefined(r.interior._gradientStop)?r.interior:r.interior._gradientStop:(o=h.style?h.style:h,s=o.interior?ej.util.isNullOrUndefined(o.interior._gradientStop)?o.interior:o.interior._gradientStop:i.model.seriesColors[e]?i.model.seriesColors[e]:i.model.pointColors[v]),i.symbolColorName=i.svgRenderer.createGradientElement(w+e,s,0,0,0,$(i.svgObject).height(),u),p={ShapeSize:{width:b,height:k},Style:{BorderColor:c,BorderWidth:l,Opacity:a,Color:i.symbolColorName},PointIndex:v,SeriesIndex:e,Imageurl:y.imageUrl,Image:y.image},f=$.extend({},SfSvgRender.commonChartEventArgs),f.Data={Location:d,Style:p},i._trigger("symbolRendering",f),f.Cancel||SfSvgRender.chartSymbol["_draw"+g](f.Data.Location,f.Data.Style,i,u),i.model.AreaType=="none"&&$(u).children().not("defs").length>i.model._visibleSeries[e].visiblePoints.length&&$(u.childNodes[n.pointIndex]).replaceWith($(u.childNodes[$(u.childNodes).length-1]))},drawSymbol:function(n,t,i,r,u,f,e){var o;if(ej.util.isNullOrUndefined(this.chartObj)&&(this.chartObj=f),o=t.points[i],o.visible){if(o.marker&&(!(o.marker.visible||t.marker.visible)||o.marker.shape==this.chartObj.model.symbolShape.None))return;var h="None",c=this.changeCrossHairSymbol(o.marker?o.marker:t.marker,e,i,n,t),s=e?c:o.marker?o.marker:t.marker;if($.each(this.chartObj.model.symbolShape,function(n){s.shape.toLowerCase()==n.toLowerCase()&&(h=n)}),h=="None")return;var l={startX:r,startY:u},a=e?c.style:s.style,v=e?this.chartObj.gTrackerEle:this.chartObj.gSymbolGroupEle,y=e?"TrackSymbol":"symbol",p=s.size.width,w=s.size.height,b={style:a,gradientName:y,symbolEle:v,width:p,height:w,point:o,location:l,seriesIndex:n,pointIndex:i,element:s,symbolName:h};this.drawSymbolStyle(b,this.chartObj)}},chartAreaType:"cartesianAxes",requireInvertedAxes:!1,stackingSeries:!1,hiloTypes:!1},sfLineSeries=sfExtendClass(sfSeriesRender),seriesTypes.line=sfLineSeries,sfStepLineSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var r,a,c,f;this.chartObj=n;var l,h=syncfusion.getStringBuilder(),i=t,v=this.setLineSeriesStyle(i);i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal());var u=this.improveChartPerformance(i),o=null,e,s=0;for(i.xAxis.valueType.toLowerCase()=="category"&&i.xAxis.labelPlacement.toLowerCase()!="onticks"&&(s=.5),r=0;r<=u.length;r++)r<u.length&&u[r].visible?(e={X:u[r].X-s,YValues:[u[r].y]},f=SfSvgRender.utils._getPoint(e,i),o!=null&&u.length>0&&(a={X:e.X,YValues:[o.YValues[0]]},c=SfSvgRender.utils._getPoint(a,i),h.append("M "+f.X+" "+f.Y+" L "+c.X+" "+c.Y+" L "+point2.X+" "+point2.Y+" ")),o=e,point2=f):r==u.length&&s>0?(e={X:u[r-1].X+s,YValues:[u[r-1].y]},f=SfSvgRender.utils._getPoint(e,i),h.append("M "+f.X+" "+f.Y+" L "+point2.X+" "+point2.Y+" ")):o=null;l=h.toString(),this._drawLinePath(i,v,l),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}}),sfStepAreaSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var r,v,l,f;this.chartObj=n;var a,o=syncfusion.getStringBuilder(),i=t,y=this.setAreaSeriesStyle(i);i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal());var u=this.improveChartPerformance(i),s=0,h=null,e;i.xAxis.valueType.toLowerCase()=="category"&&i.xAxis.labelPlacement.toLowerCase()!="onticks"&&(s=.5);var p=Math.max(t.yAxis.visibleRange.min,0),w={X:u[0].X,YValues:[p]},c=SfSvgRender.utils._getPoint(w,i);for(r=0;r<=u.length;r++)r<u.length&&u[r].visible?(e={X:u[r].X-s,YValues:[u[r].y]},f=SfSvgRender.utils._getPoint(e,i),h!=null&&(v={X:e.X,YValues:[h.YValues[0]]},l=SfSvgRender.utils._getPoint(v,i),r==1&&o.append("M "+point2.X+" "+c.Y+" L "+point2.X+" "+point2.Y+" "),o.append("L "+l.X+" "+l.Y+" L "+f.X+" "+f.Y+" "),s==0&&r==u.length-1&&o.append("L "+f.X+" "+c.Y+" ")),point2=f,h=e):r==u.length&&s>0?(e={X:u[r-1].X+s,YValues:[u[r-1].y]},f=SfSvgRender.utils._getPoint(e,i),o.append("L "+f.X+" "+f.Y+" L "+f.X+" "+c.Y+" ")):h=null;a=o.toString(),this.drawAreaPath(i,y,a),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}}),seriesTypes.steparea=sfStepAreaSeries,seriesTypes.stepline=sfStepLineSeries,sfColumnSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var v,u,o,w,i,b,k,d,l;this.chartObj=n;var r=t,s=$.inArray(r,this.chartObj.model._visibleSeries),g=Math.max(t.yAxis.visibleRange.min,0),e=$.extend(!0,{},this.chartObj.model.seriesStyle,r.style),nt=this.getSideBySideInfo(r),a=this._isVisiblePoints(r),h,tt=r.xAxis.x,it=r.yAxis.y,rt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+s,transform:"translate("+tt+","+it+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(rt),h=e.interior?ej.util.isNullOrUndefined(e.interior._gradientStop)?e.interior:e.interior._gradientStop:this.chartObj.model.seriesColors[s],v=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"_"+s,h,0,0,0,100,this.gSeriesGroupEle),u=this,o=0;o<a.length;o++){var y=o,f=a[o],c=f.YValues[0],ut=g;if(f.visible){var p=u.calculateSides(f,nt),ft=p.x1,et=p.x2;f.interior&&(h=f.interior._gradientStop?f.interior._gradientStop:f.interior,w=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"Point"+o,h,0,0,0,100,this.gSeriesGroupEle)),i=u.getRectangle(ft,c,et,ut,r),i.X<0&&(i.Width=i.Width+i.X,i.X=0),i.Width=i.X+i.Width>u.chartObj.model.m_AreaBounds.Width?u.chartObj.model.m_AreaBounds.Width-i.X:i.Width,b=Math.min(0,i.Width),k=Math.min(0,i.Height),(b==0||k==0)&&(t={id:u.chartObj.svgObject.id+"_Series"+s+"_Point"+y,x:i.X,y:i.Y,width:i.Width,height:i.Height,fill:f.interior?w:v,"stroke-width":e.borderWidth,plot:c<0?"negative":"positive",opacity:e.opacity,stroke:e.borderColor},u.chartObj.svgRenderer.drawRect(t,u.gSeriesGroupEle),l=SfSvgRender.utils._getSvgXY(i.X,i.Y,r,u.chartObj),d={X:l.X,Y:l.Y,Width:i.Width,Height:i.Height},SfSvgRender.utils._addRegion(u.chartObj,d,r,f,y)),(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)&&r.marker.showText)&&(f.symbolLocation={X:i.X+i.Width/2,Y:c<0?i.Y+i.Height:i.Y})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var u=$(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),f,r,i,e,t=0;t<u.length;t++)f=u[t],this.animateRect(f,n);for(r=$(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<r.length;i++)e=r[i],this._doLineSymbol(e,500,2,n,this.chartObj.model.requireInvertedAxes)}}),seriesTypes.column=sfColumnSeries,sfStackingColumnSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var v,u,e,w,i,b,k,d,l;this.chartObj=n;var r=t,s=$.inArray(r,this.chartObj.model._visibleSeries),o=$.extend(!0,{},this.chartObj.model.seriesStyle,r.style),g=this.getSideBySideInfo(r),a=this._isVisiblePoints(r),h,nt=r.xAxis.x,tt=r.yAxis.y,it={id:this.chartObj.svgObject.id+"_SeriesGroup_"+s,transform:"translate("+nt+","+tt+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(it),h=o.interior?ej.util.isNullOrUndefined(o.interior._gradientStop)?o.interior:o.interior._gradientStop:this.chartObj.model.seriesColors[s],v=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"_"+s,h,0,0,0,100,this.gSeriesGroupEle),u=this,e=0;e<a.length;e++){var y=e,f=a[e],rt=r.stackedValue.StartValues[e],c=r.stackedValue.EndValues[e];if(f.visible){var p=u.calculateSides(f,g),ut=p.x1,ft=p.x2;f.interior&&(h=f.interior._gradientStop?f.interior._gradientStop:f.interior,w=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"Point"+e,h,0,0,0,100,this.gSeriesGroupEle)),i=u.getRectangle(ut,c,ft,rt,r),i.X<0&&(i.Width=i.Width+i.X,i.X=0),i.Width=i.X+i.Width>u.chartObj.model.m_AreaBounds.Width?u.chartObj.model.m_AreaBounds.Width-i.X:i.Width,b=Math.min(0,i.Width),k=Math.min(0,i.Height),(b==0||k==0)&&(t={id:u.chartObj.svgObject.id+"_Series"+s+"_Point"+y,x:i.X,y:i.Y,width:i.Width,height:i.Height,fill:f.interior?w:v,"stroke-width":o.borderWidth,plot:c<0?"negative":"positive",opacity:o.opacity,stroke:o.borderColor},u.chartObj.svgRenderer.drawRect(t,u.gSeriesGroupEle),l=SfSvgRender.utils._getSvgXY(i.X,i.Y,r,u.chartObj),d={X:l.X,Y:l.Y,Width:i.Width,Height:i.Height},SfSvgRender.utils._addRegion(u.chartObj,d,r,f,y)),(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)&&r.marker.showText)&&(f.symbolLocation={X:i.X+i.Width/2,Y:c<0?i.Y+i.Height:i.Y})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var u=$(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),f,r,i,e,t=0;t<u.length;t++)f=u[t],this.animateStackingRect(f,n,this.chartObj.model.requireInvertedAxes);for(r=$(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<r.length;i++)e=r[i],this._doLineSymbol(e,500,2,n,this.chartObj.model.requireInvertedAxes)},stackingSeries:!0}),seriesTypes.stackingcolumn=sfStackingColumnSeries,seriesTypes.rangecolumn=sfRangeColumnSeries,sfRangeColumnSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var v,f,o,b,i,c,k,d,g,l;this.chartObj=n;var r=t,s=$.inArray(r,this.chartObj.model._visibleSeries),e=$.extend(!0,{},this.chartObj.model.seriesStyle,r.style),nt=this.getSideBySideInfo(r),a=this._isVisiblePoints(r),h,tt=r.xAxis.x,it=r.yAxis.y,rt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+s,transform:"translate("+tt+","+it+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(rt),h=e.interior?ej.util.isNullOrUndefined(e.interior._gradientStop)?e.interior:e.interior._gradientStop:this.chartObj.model.seriesColors[s],v=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"_"+s,h,0,0,0,100,this.gSeriesGroupEle),f=this,o=0;o<a.length;o++){var y=o,u=a[o],p=u.YValues[0],ut=u.YValues[1];if(u.visible){var w=f.calculateSides(u,nt),ft=w.x1,et=w.x2;u.interior&&(h=u.interior._gradientStop?u.interior._gradientStop:u.interior,b=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"Point"+o,h,0,0,0,100,this.gSeriesGroupEle)),i=f.getRectangle(ft,p,et,ut,r),i.X<0&&(i.Width=i.Width+i.X,i.X=0),c=f.chartObj.model.m_AreaBounds.Width,i.Width=i.X+i.Width>c?c-i.X:i.Width,k=Math.min(0,i.Width),d=Math.min(0,i.Height),(k==0||d==0)&&(t={id:f.chartObj.svgObject.id+"_series"+s+"_Point"+y,x:i.X,y:i.Y,width:i.Width,height:i.Height,fill:u.interior?b:v,"stroke-width":e.borderWidth,opacity:e.opacity,stroke:e.borderColor},f.chartObj.svgRenderer.drawRect(t,f.gSeriesGroupEle),l=SfSvgRender.utils._getSvgXY(i.X,i.Y,r,f.chartObj),g={X:l.X,Y:l.Y,Width:i.Width,Height:i.Height},SfSvgRender.utils._addRegion(f.chartObj,g,r,u,y)),(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)&&r.marker.showText)&&(u.symbolLocation={X:i.X+i.Width/2,Y:p<0?i.Y+i.Height:i.Y})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var u=$(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),f,r,i,e,t=0;t<u.length;t++)f=u[t],this.animateRect(f,n);for(r=$(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<r.length;i++)e=r[i],this._doLineSymbol(e,500,2,n,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0}),seriesTypes.rangecolumn=sfRangeColumnSeries,sfStackingBarSeries=sfExtendClass(sfSeriesRender,{getPointXYOrgin:function(n,t,i){var r=(1-SfSvgRender.utils._valueToCoefficient(i.xAxis,n))*i.xAxis.height,u=SfSvgRender.utils._valueToCoefficient(i.yAxis,t)*i.yAxis.width;return{X:u,Y:r}},getRectangle:function(n,t,i,r,u){var f=this.getPointXYOrgin(n,t,u),e=this.getPointXYOrgin(i,r,u);return SfSvgRender.utils._correctRect(f.X,f.Y,e.X,e.Y)},calculateSides:function(n,t){var i=n.X+t.Start,r=n.X+t.End;return{x1:i,x2:r}},draw:function(n,t){var v,f,e,b,k,c;this.chartObj=n;var i=t,s=$.inArray(i,this.chartObj.model._visibleSeries),o=$.extend(!0,{},this.chartObj.model.seriesStyle,i.style),d=this.getSideBySideInfo(i),l=this._isVisiblePoints(i),h,a=SfSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.chartObj.model.requireInvertedAxes),g={id:this.chartObj.svgObject.id+"_SeriesGroup_"+s,transform:"translate("+a.x+","+a.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(g),h=o.interior?ej.util.isNullOrUndefined(o.interior._gradientStop)?o.interior:o.interior._gradientStop:this.chartObj.model.seriesColors[s],v=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(i)+"_"+s,h,0,0,0,100,this.gSeriesGroupEle),f=this,e=0;e<l.length;e++){var y=e,u=l[e],p=i.stackedValue.EndValues[e],nt=i.stackedValue.StartValues[e];if(u.visible){var w=f.calculateSides(u,d),tt=w.x1,it=w.x2;u.interior&&(h=u.interior._gradientStop?u.interior._gradientStop:u.interior,b=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(i)+"Point"+e,h,0,0,0,100,this.gSeriesGroupEle));var r=f.getRectangle(tt,p,it,nt,i),rt=Math.min(0,r.Width),ut=Math.min(0,r.Height);(rt==0||ut==0)&&(t={id:f.chartObj.svgObject.id+"_Series"+s+"_Point"+y,x:r.X,y:r.Y,width:r.Width,height:r.Height,fill:u.interior?b:v,"stroke-width":o.borderWidth,opacity:o.opacity,stroke:o.borderColor},f.chartObj.svgRenderer.drawRect(t,f.gSeriesGroupEle),c=SfSvgRender.utils._getSvgXY(r.X,r.Y,i,f.chartObj),k={X:c.X,Y:c.Y,Width:r.Width,Height:r.Height},SfSvgRender.utils._addRegion(f.chartObj,k,i,u,y)),(!ej.util.isNullOrUndefined(i.marker)&&i.marker.visible||!ej.util.isNullOrUndefined(i.marker)&&i.marker.showText)&&(u.symbolLocation={X:p>0?r.X+r.Width:r.X,Y:r.Y+r.Height/2})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var u=$(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),f,r,i,e,t=0;t<u.length;t++)f=u[t],this.animateStackingBar(f,n,this.chartObj.model.requireInvertedAxes);for(r=$(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<r.length;i++)e=r[i],this._doLineSymbol(e,500,2,n,this.chartObj.model.requireInvertedAxes)},stackingSeries:!0,requireInvertedAxes:!0}),seriesTypes.stackingbar=sfStackingBarSeries,sfBarSeries=sfExtendClass(sfSeriesRender,{getPointXYOrgin:function(n,t,i,r,u){var f=(1-SfSvgRender.utils._valueToCoefficient(u.xAxis,n))*u.xAxis.height,e=SfSvgRender.utils._valueToCoefficient(u.yAxis,t)*u.yAxis.width;return{X:e,Y:f}},getRectangle:function(n,t,i,r,u){var f=u.xAxis.visibleRange.min,e=Math.max(u.yAxis.visibleRange.min,0),o=this.getPointXYOrgin(n,t,f,e,u),s=this.getPointXYOrgin(i,r,f,e,u);return SfSvgRender.utils._correctRect(o.X,o.Y,s.X,s.Y)},calculateSides:function(n,t){var i=n.X+t.Start,r=n.X+t.End;return{x1:i,x2:r}},draw:function(n,t){var y,f,o,b,k,l;this.chartObj=n;var i=t,s=$.inArray(i,this.chartObj.model._visibleSeries),d=Math.max(t.yAxis.visibleRange.min,0),e=$.extend(!0,{},this.chartObj.model.seriesStyle,i.style),g=this.getSideBySideInfo(i),a=this._isVisiblePoints(i),h,v=SfSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.chartObj.model.requireInvertedAxes),nt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+s,transform:"translate("+v.x+","+v.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(nt),h=e.interior?ej.util.isNullOrUndefined(e.interior._gradientStop)?e.interior:e.interior._gradientStop:this.chartObj.model.seriesColors[s],y=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(i)+"_"+s,h,0,0,0,100,this.gSeriesGroupEle),f=this,o=0;o<a.length;o++){var p=o,u=a[o],c=u.YValues[0],tt=d;if(u.visible){var w=f.calculateSides(u,g),it=w.x1,rt=w.x2;u.interior&&(h=u.interior._gradientStop?u.interior._gradientStop:u.interior,b=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(i)+"Point"+o,h,0,0,0,100,this.gSeriesGroupEle));var r=f.getRectangle(it,c,rt,tt,i),ut=Math.min(0,r.Width),ft=Math.min(0,r.Height);(ut==0||ft==0)&&(t={id:f.chartObj.svgObject.id+"_Series"+s+"_Point"+p,x:r.X,y:r.Y,width:r.Width,height:r.Height,fill:u.interior?b:y,"stroke-width":e.borderWidth,plot:c<0?"negative":"positive",opacity:e.opacity,stroke:e.borderColor},f.chartObj.svgRenderer.drawRect(t,f.gSeriesGroupEle),l=SfSvgRender.utils._getSvgXY(r.X,r.Y,i,f.chartObj),k={X:l.X,Y:l.Y,Width:r.Width,Height:r.Height},SfSvgRender.utils._addRegion(f.chartObj,k,i,u,p)),(!ej.util.isNullOrUndefined(i.marker)&&i.marker.visible||!ej.util.isNullOrUndefined(i.marker)&&i.marker.showText)&&(u.symbolLocation={X:c>0?r.X+r.Width:r.X,Y:r.Y+r.Height/2})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var u=$(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),f,r,i,e,t=0;t<u.length;t++)f=u[t],this.animateBarRect(f,n,this.chartObj.model.requireInvertedAxes);for(r=$(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<r.length;i++)e=r[i],this._doLineSymbol(e,500,2,n,this.chartObj.model.requireInvertedAxes)},requireInvertedAxes:!0}),seriesTypes.bar=sfBarSeries,sfStackingAreaSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var i;this.chartObj=n;var c,o=syncfusion.getStringBuilder(),r=t,a=this.setAreaSeriesStyle(r);r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var u=this._isVisiblePoints(r),v=Math.max(t.yAxis.visibleRange.min,0),y={X:u[0].X,YValues:[v]},l=SfSvgRender.utils._getPoint(y,r);for(o.append("M "+l.X+" "+l.Y+" "),i=0;i<r.stackedValue.EndValues.length;i++)u[i].visible&&u.length>i+1&&(s={X:u[i].X,YValues:[r.stackedValue.EndValues[i]]},h={X:u[i+1].X,YValues:[r.stackedValue.EndValues[i+1]]},f=SfSvgRender.utils._getPoint(s,r),e=SfSvgRender.utils._getPoint(h,r),o.append(" L "+f.X+" "+f.Y+"  L "+e.X+" "+e.Y+" "));for(i=r.stackedValue.StartValues.length-1;i>0;i--)if(u[i].visible){var s={X:u[i].X,YValues:[r.stackedValue.StartValues[i]]},h={X:u[i-1].X,YValues:[r.stackedValue.StartValues[i-1]]},f=SfSvgRender.utils._getPoint(s,r),e=SfSvgRender.utils._getPoint(h,r);o.append(f.X+" "+f.Y+" "+e.X+" "+e.Y+" ")}c=o.toString(),this.drawAreaPath(r,a,c),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)},stackingSeries:!0}),seriesTypes.stackingarea=sfStackingAreaSeries,sfAreaSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var u,a,e;this.chartObj=n;var o,f=syncfusion.getStringBuilder(),i=t,v=this.setAreaSeriesStyle(i);i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var r=this._isVisiblePoints(i),s=Math.max(t.yAxis.visibleRange.min,0),y={X:r[0].X,YValues:[s]},h=SfSvgRender.utils._getPoint(y,i);for(f.append("M "+h.X+" "+h.Y+" "),u=0;u<r.length;u++)if(r[u].visible&&r.length>u+1){var p=r[u+1],c=SfSvgRender.utils._getPoint(r[u],i),l=SfSvgRender.utils._getPoint(p,i);f.append(" L "+c.X+" "+c.Y+"  L "+l.X+" "+l.Y+" ")}a={X:r[r.length-1].X,YValues:[s]},e=SfSvgRender.utils._getPoint(a,i),f.append(" L "+e.X+" "+e.Y+" "),o=f.toString(),this.drawAreaPath(i,v,o),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}}),seriesTypes.area=sfAreaSeries,sfSplineSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var e,f,o;this.chartObj=n;var i=t,s="",h=syncfusion.getStringBuilder(),d=this.setLineSeriesStyle(i),c=this.naturalSpline(i.points),r=null,u=null,l=-1;for(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal(),e=this._isVisiblePoints(i),f=0;f<e.length;f++)if(o=f,u=e[f],u.visible){if(r!=null){var a=null,v=null,y=this.getBezierControlPoints(r,u,c[l],c[o],0);a=y.controlPoint1,v=y.controlPoint2;var p=SfSvgRender.utils._getPoint(r,i),w=SfSvgRender.utils._getPoint(u,i),b=SfSvgRender.utils._getPoint(a,i),k=SfSvgRender.utils._getPoint(v,i);h.append("M "+p.X+" "+p.Y+" C "+b.X+" "+b.Y+" "+k.X+" "+k.Y+" "+w.X+" "+w.Y+" ")}r=u,l=o}else r=null;s=h.toString(),this._drawLinePath(i,d,s),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}}),seriesTypes.spline=sfSplineSeries,sfSplineAreaSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var f,e;this.chartObj=n;var i=t,l="",o=syncfusion.getStringBuilder(),g=this.setAreaSeriesStyle(i),a=this.naturalSpline(i.points),r=null,u=null,v=-1;i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var s=this._isVisiblePoints(i),nt=Math.max(t.yAxis.visibleRange.min,0),tt={X:s[0].X,YValues:[nt]},y=SfSvgRender.utils._getPoint(tt,i);for(f=0;f<s.length;f++)if(e=f,u=s[f],u.visible){if(r!=null){var p=null,w=null,b=this.getBezierControlPoints(r,u,a[v],a[e],0);p=b.controlPoint1,w=b.controlPoint2;var h=SfSvgRender.utils._getPoint(r,i),c=SfSvgRender.utils._getPoint(u,i),k=SfSvgRender.utils._getPoint(p,i),d=SfSvgRender.utils._getPoint(w,i);e==1&&o.append("M "+h.X+" "+y.Y+" L "+h.X+" "+h.Y+" "),o.append("C "+k.X+" "+k.Y+" "+d.X+" "+d.Y+" "+c.X+" "+c.Y+" "),e==s.length-1&&o.append("L "+c.X+" "+y.Y)}r=u,v=e}else r=null;l=o.toString(),this.drawAreaPath(i,g,l),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}}),seriesTypes.splinearea=sfSplineAreaSeries,sfScatterSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){this.chartObj=n;var i=t;this._isVisiblePoints(i),i.marker.visible||(i.marker.visible=!0)},doAnimation:function(n){for(var i=$(this.chartObj.gSymbolGroupEle).children().not("defs"),t=0;t<i.length;t++){var r=0,u=Math.floor(Math.random()*(20-r)+r),f=parseInt(u*50);this.animateSymbol(i[t],f,n,this.chartObj.model.requireInvertedAxes)}}}),seriesTypes.scatter=sfScatterSeries,sfBubbleSeries=sfExtendClass(sfSeriesRender,{setBubbleStyle:function(n,t,i,r){var f=$.inArray(t,this.chartObj.model.series),o=null,s=null,h=null,e,c="bubble",u;return n!=null&&(o=n.borderColor?n.borderColor:"transparent",n.opacity&&(h=n.opacity),n.borderWidth&&(s=n.borderWidth)),i.interior?(u=ej.util.isNullOrUndefined(i.interior._gradientStop)?i.interior:i.interior._gradientStop,e=this.chartObj.svgRenderer.createGradientElement(c+f+r,u,0,0,0,$(this.chartObj.svgObject).height(),this.gSeriesGroupEle)):(u=n&&n.interior?ej.util.isNullOrUndefined(n.interior._gradientStop)?n.interior:n.interior._gradientStop:this.chartObj.model.seriesColors[f],e=this.chartObj.svgRenderer.createGradientElement(c+f,u,0,0,0,$(this.chartObj.svgObject).height(),this.gSeriesGroupEle)),{BorderColor:o,Opacity:h,BorderWidth:s,ColorName:e}},createBubbleGroup:function(n){var t=$.inArray(n,this.chartObj.model.series),i=n.xAxis.x,r=n.yAxis.y,u={id:this.chartObj.svgObject.id+"_SeriesGroup_"+t,transform:"translate("+i+","+r+")"};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(u)},draw:function(n,t){var i,r,u,w;this.chartObj=n,i=t,i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var b=$.inArray(i,this.chartObj.model._visibleSeries),s=this._isVisiblePoints(i),c=1,l=t.bubbleOptions&&t.bubbleOptions.minRadius?t.bubbleOptions.minRadius:10,k=t.bubbleOptions&&t.bubbleOptions.maxRadius?t.bubbleOptions.maxRadius:30,d=k-l,h,g=Math.max.apply(0,$.map(s,function(n){return n.YValues[c]}));for(this.createBubbleGroup(i),r=0;r<s.length;r++)if(u=s[r],u.visible){h=l+d*Math.abs(u.YValues[c]/g);var f=SfSvgRender.utils._getPoint(u,i),e=this.setBubbleStyle(i.style,i,u,r),nt={id:this.chartObj.svgObject.id+"_circlesymbol_"+r+"_"+b,cx:f.X,cy:f.Y,r:h,fill:e.ColorName,"stroke-width":e.BorderWidth,opacity:e.Opacity,stroke:e.BorderColor};this.chartObj.svgRenderer.drawCircle(nt,this.gSeriesGroupEle);var tt=f.X,it=f.Y,o=h,a,v,y,p;v=tt-o+i.xAxis.x,y=it-o+i.yAxis.y,p=2*o,a=2*o,w={X:v,Y:y,Width:a,Height:p},SfSvgRender.utils._addRegion(this.chartObj,w,i,null,r)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var i=$(this.gSeriesGroupEle).children().not("defs"),t=0;t<i.length;t++){var r=0,u=Math.floor(Math.random()*(20-r)+r),f=parseInt(u*50);this.animateSymbol(i[t],f,n,this.chartObj.model.requireInvertedAxes)}}}),seriesTypes.bubble=sfBubbleSeries,sfhiloSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var r,u,a,f,v,s,h,c,l,p;this.chartObj=n,r=t,r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var y=this._isVisiblePoints(r),e=this.getSideBySideInfo(r),i=null,o=$.inArray(r,this.chartObj.model._visibleSeries),w=r.xAxis.x,b=r.yAxis.y,k={id:this.chartObj.svgObject.id+"_SeriesGroup_"+o,transform:"translate("+w+","+b+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(k),u=$.extend(!0,this.chartObj.model.seriesStyle,r.style),a=u.interior?ej.util.isNullOrUndefined(u.interior._gradientStop)?u.interior:u.interior._gradientStop[0].color:jQuery.type(this.chartObj.model.seriesColors[o])=="array"?this.chartObj.model.seriesColors[o][0].color:this.chartObj.model.seriesColors[o],f=0;f<y.length;f++)if(i=y[f],i.visible){if(v="",ej.util.isNullOrUndefined(i.YValues[0])||ej.util.isNullOrUndefined(i.YValues[1]))continue;i.interior&&(a=i.interior._gradientStop?i.interior._gradientStop[0].color:i.interior),s={},h={},i.YValues[0]<i.YValues[1]?(s={X:i.X+e.Median,YValues:[i.YValues[0]]},h={X:i.X+e.Median,YValues:[i.YValues[1]]}):(s={X:i.X+e.Median,YValues:[i.YValues[1]]},h={X:i.X+e.Median,YValues:[i.YValues[0]]}),c=SfSvgRender.utils._getPoint(s,r),l=SfSvgRender.utils._getPoint(h,r),v="M "+c.X+" "+c.Y+" L "+l.X+" "+l.Y+" ",p={point1:c,point2:l},this._drawHiloPath(r,u,a,v,f,p)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var i=$(this.gSeriesGroupEle).children().not("defs"),u=2e3/i.length,r,t=0;t<i.length;t++)r=i[t],this._doLineSymbol(r,u,t,n,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0}),seriesTypes.hilo=sfhiloSeries,sfhiloopencloseSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var i,e,o,s,u,g,nt,l,a,tt;this.chartObj=n,i=t,i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var d=this._isVisiblePoints(i),f=this.getSideBySideInfo(i),r=null,it=$.inArray(i,this.chartObj.model._visibleSeries),rt=i.xAxis.x,ut=i.yAxis.y,ft={id:this.chartObj.svgObject.id+"_SeriesGroup_"+it,transform:"translate("+rt+","+ut+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ft),e=$.extend(!0,this.chartObj.model.seriesStyle,i.style),s=0;s<d.length;s++)if(r=d[s],r.visible){u="",i.hiloOpenCloseOptions=ej.util.isNullOrUndefined(i.hiloOpenCloseOptions)?{}:i.hiloOpenCloseOptions;var et=ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.drawMode)?!0:i.hiloOpenCloseOptions.drawMode.toLowerCase()=="both"||i.hiloOpenCloseOptions.drawMode.toLowerCase()=="open"?!0:!1,ot=ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.drawMode)?!0:i.hiloOpenCloseOptions.drawMode.toLowerCase()=="both"||i.hiloOpenCloseOptions.drawMode.toLowerCase()=="close"?!0:!1,v={},y={},h={},c={};if(ej.util.isNullOrUndefined(r.YValues[0])||ej.util.isNullOrUndefined(r.YValues[1])||ej.util.isNullOrUndefined(r.YValues[2])||ej.util.isNullOrUndefined(r.YValues[3]))continue;if(r.YValues[0]<r.YValues[1]?(v={X:r.X+f.Median,YValues:[r.YValues[0]]},y={X:r.X+f.Median,YValues:[r.YValues[1]]},h={X:r.X,YValues:[r.YValues[2]]},c={X:r.X,YValues:[r.YValues[3]]}):(v={X:r.X+f.Median,YValues:[r.YValues[1]]},y={X:r.X+f.Median,YValues:[r.YValues[0]]},h={X:r.X,YValues:[r.YValues[2]]},c={X:r.X,YValues:[r.YValues[3]]}),o=r.YValues[2]<r.YValues[3]?ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.bearFillColor)?"#339933":i.hiloOpenCloseOptions.bearFillColor:ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.bearFillColor)?"#E51400":i.hiloOpenCloseOptions.bullFillColor,e.interior&&(o=ej.util.isNullOrUndefined(e.interior._gradientStop)?e.interior:e.interior._gradientStop[0].color),r.interior?o=r.interior._gradientStop?r.interior._gradientStop[0].color:r.interior:r.interior=o,et){var st={X:h.X+f.Median,YValues:h.YValues},p=SfSvgRender.utils._getPoint(st,i),ht={X:h.X+f.Start,YValues:h.YValues},w=SfSvgRender.utils._getPoint(ht,i);u="M "+p.X+" "+p.Y+" L "+w.X+" "+w.Y+" ",g={point1:p,point2:w},this._drawHiloPath(i,e,o,u,s,g),u=""}if(ot){var ct={X:c.X+f.Median,YValues:c.YValues},b=SfSvgRender.utils._getPoint(ct,i),lt={X:c.X+f.End,YValues:c.YValues},k=SfSvgRender.utils._getPoint(lt,i);u="M "+b.X+" "+b.Y+" L "+k.X+" "+k.Y+" ",nt={point1:b,point2:k},this._drawHiloPath(i,e,o,u,s,nt),u=""}l=SfSvgRender.utils._getPoint(v,i),a=SfSvgRender.utils._getPoint(y,i),u="M "+l.X+" "+l.Y+" L "+a.X+" "+a.Y+" ",tt={point1:l,point2:a},this._drawHiloPath(i,e,o,u,s,tt)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var i=$(this.gSeriesGroupEle).children().not("defs"),u=2e3/i.length,r,t=0;t<i.length;t++)r=i[t],this._doLineSymbol(r,u,t,n,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0}),seriesTypes.hiloopenclose=sfhiloopencloseSeries,sfCandleSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var r,u,f,e,v,l,a,d,w,it;this.chartObj=n,r=t,r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var b=this._isVisiblePoints(r),o=this.getSideBySideInfo(r),i=null,k=$.inArray(r,this.chartObj.model._visibleSeries),rt=r.xAxis.x,ut=r.yAxis.y,ft={id:this.chartObj.svgObject.id+"_SeriesGroup_"+k,transform:"translate("+rt+","+ut+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ft),u=$.extend(!0,this.chartObj.model.seriesStyle,r.style),e=0;e<b.length;e++)if(i=b[e],i.visible){v="",r.candleOptions=ej.util.isNullOrUndefined(r.candleOptions)?{}:r.candleOptions;var y={},p={},s={},h={};if(ej.util.isNullOrUndefined(i.YValues[0])||ej.util.isNullOrUndefined(i.YValues[1])||ej.util.isNullOrUndefined(i.YValues[2])||ej.util.isNullOrUndefined(i.YValues[3]))continue;i.YValues[0]<i.YValues[1]?(y={X:i.X+o.Median,YValues:[i.YValues[0]]},p={X:i.X+o.Median,YValues:[i.YValues[1]]},s={X:i.X,YValues:[i.YValues[2]]},h={X:i.X,YValues:[i.YValues[3]]}):(y={X:i.X+o.Median,YValues:[i.YValues[1]]},p={X:i.X+o.Median,YValues:[i.YValues[0]]},s={X:i.X,YValues:[i.YValues[2]]},h={X:i.X,YValues:[i.YValues[3]]}),i.YValues[2]<i.YValues[3]?(s={X:i.X,YValues:[i.YValues[2]]},h={X:i.X,YValues:[i.YValues[3]]},f=ej.util.isNullOrUndefined(r.candleOptions.bearFillColor)?"#339933":r.candleOptions.bearFillColor):(s={X:i.X,YValues:[i.YValues[3]]},h={X:i.X,YValues:[i.YValues[2]]},f=ej.util.isNullOrUndefined(r.candleOptions.bearFillColor)?"#E51400":r.candleOptions.bullFillColor),u.interior&&(f=ej.util.isNullOrUndefined(u.interior._gradientStop)?u.interior:u.interior._gradientStop[0].color),i.interior?f=i.interior._gradientStop?i.interior._gradientStop[0].color:i.interior:i.interior=f,l=SfSvgRender.utils._getPoint(y,r),a=SfSvgRender.utils._getPoint(p,r),v="M "+l.X+" "+l.Y+" L "+a.X+" "+a.Y+" ",d={point1:l,point2:a},this._drawHiloPath(r,u,f,v,e,d);var et={X:h.X+o.Start,YValues:h.YValues},c=SfSvgRender.utils._getPoint(et,r),ot={X:s.X+o.End,YValues:s.YValues},g=SfSvgRender.utils._getPoint(ot,r),nt=Math.abs(g.X-c.X),tt=Math.abs(g.Y-c.Y),st={id:this.chartObj.svgObject.id+"_Series"+k+"_Point"+e,x:c.X,y:c.Y,width:nt,height:tt,fill:f,"stroke-width":u.borderWidth,stroke:u.borderColor};this.chartObj.svgRenderer.drawRect(st,this.gSeriesGroupEle),w=SfSvgRender.utils._getSvgXY(c.X,c.Y,r,this.chartObj),it={X:w.X,Y:w.Y,Width:nt,Height:tt},SfSvgRender.utils._addRegion(this.chartObj,it,r,i,e)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){for(var i=$(this.gSeriesGroupEle).children().not("defs"),u=2e3/i.length,r,t=0;t<i.length;t++)r=i[t],this._doLineSymbol(r,u,t,n,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0}),seriesTypes.candle=sfCandleSeries,sfPieSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var s,o,l,r,k,c,rt,y,ut,ft,et,f,ot,st,ht,p,ct,w;this.chartObj=n;var i=t,h=this._pieVisiblePoints(i),b=0,d=0,g=[];for(this.chartObj.model.arcData=[],this.chartObj.model.chartRegions=[],this.chartObj.model.sumofYValues=0,this.chartObj.model.centerX=0,this.chartObj.model.centerY=0,this.chartObj.model.startX=[],this.chartObj.model.startY=[],this.chartObj.model.Radius=0,s=0,f=0;f<h.length;f++)h[f].YValues[0]>0&&(this.chartObj.model.sumofYValues+=h[f].YValues[0]);i.startAngle&&(i.startAngle>360||i.startAngle==360?i.startAngle=i.startAngle%360:i.startAngle<0&&((i.startAngle<-360||i.startAngle==-360)&&(i.startAngle=i.startAngle%360),i.startAngle+=360),s=i.startAngle?this.chartObj.model.sumofYValues/360*i.startAngle:0,s=s/this.chartObj.model.sumofYValues,this.chartObj.model.itemCurrentXPos=s),o=this.chartObj.model.legend,o.visible&&o.position.toLowerCase()!="custom"&&(o.position.toLowerCase()=="right"||o.position.toLowerCase()=="left"?b=(o.position.toLowerCase()=="right"?this.chartObj.model.margin.right:this.chartObj.model.margin.left)+this.chartObj.model.LegendBounds.Width:d=(o.position.toLowerCase()=="top"?this.chartObj.model.margin.top:this.chartObj.model.margin.bottom)+this.chartObj.model.LegendBounds.Height);var nt=(this.chartObj.model.text?this.chartObj.model._titleLocation.Y:0)+d,tt=$(n.svgObject).width()-b,it=$(n.svgObject).height()-nt;for(this.chartObj.model.centerX=tt*.5+(o.position.toLowerCase()==="left"?b:0),this.chartObj.model.centerY=it*.5+(o.position.toLowerCase()==="top"?nt:this.chartObj.model.text?this.chartObj.model._titleLocation.Y:0),this.chartObj.model.Radius=.5*i.pieCoefficient*Math.min(tt,it),l=0;l<h.length;l++)u=h[l],r=l,this.chartObj.model.arcData[r]={},this.chartObj.model.arcData[r].startAngle=2*Math.PI*s,this.chartObj.model.arcData[r].endAngle=2*Math.PI*(s+u.YValues[0]/this.chartObj.model.sumofYValues),s+=u.YValues[0]/this.chartObj.model.sumofYValues;for(c=$.inArray(i,this.chartObj.model._visibleSeries),rt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+c},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(rt),y=i.animation?"hidden":"visible",i.marker.showText&&(ut={id:this.chartObj.svgObject.id+"_textGroup_"+c,visibility:y},this.gSeriesTextEle=this.chartObj.svgRenderer.createGroup(ut),i.labelPosition.toLowerCase()=="outside"&&(ft={id:this.chartObj.svgObject.id+"_symbolGroup_"+c,visibility:y},this.chartObj.gSymbolGroupEle=this.chartObj.svgRenderer.createGroup(ft),p={id:this.chartObj.svgObject.id+"_connectorGroup_"+c,visibility:y},this.gSeriesConnectorEle=this.chartObj.svgRenderer.createGroup(p))),et=ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)?2:this.chartObj.model.roundingPlaces,f=0;f<h.length;f++){r=f;var u=h[f],e=this._calculateArcData(this.chartObj,r,u,i),a=this.setPieSeriesStyle(u,i);if(t={id:i.name+"path"+r,fill:a.PointInterior,"stroke-width":a.SeriesStyle.borderWidth,stroke:a.BorderColor,"stroke-linecap":a.SeriesStyle.lineCap,"stroke-linejoin":a.SeriesStyle.lineJoin,d:e.Direction,start:this.chartObj.model.arcData[r].startAngle,end:this.chartObj.model.arcData[r].endAngle,innerR:0,x:this.chartObj.model.centerX,y:this.chartObj.model.centerY},this.chartObj.svgRenderer.drawPath(t,this.gSeriesGroupEle),i.marker.showText){ot=i.labelPosition.toLowerCase()=="outside"?e.PositionX<this.chartObj.model.centerX?"end":"start":"middle",k=Math.round(u.YValues[0])==u.YValues[0]?u.YValues[0]:u.YValues[0].toFixed(et);var lt={size:i.marker.dataLabel.font.size,fontStyle:i.marker.dataLabel.font.fontStyle,fontFamily:i.marker.dataLabel.font.fontFamily},v=SfSvgRender.utils._measureText(ej.util.isNullOrUndefined(u.text)?k:u.text,null,lt),at=e.PositionX<this.chartObj.model.centerX?-v.width:v.width;i.marker.dataLabel.templateID&&i.labelPosition.toLowerCase()!="inside"||(st={id:i.name+"text"+r,x:e.PositionX,y:e.PositionY+v.height/4,fill:i.marker.dataLabel.font.color,"font-size":i.marker.dataLabel.font.size,"font-family":i.marker.dataLabel.font.fontFamily,"font-style":i.marker.dataLabel.font.fontStyle,"font-weight":i.marker.dataLabel.font.fontWeight,opacity:i.marker.dataLabel.font.opacity,"text-anchor":ot},this.chartObj.svgRenderer.drawText(st,ej.util.isNullOrUndefined(u.text)?k:u.text,this.gSeriesTextEle)),i.labelPosition.toLowerCase()=="outside"&&(i.marker.dataLabel.templateID?(Location={X:e.PositionX,Y:e.PositionY},this.drawLabelTemplate(i,u,r,Location)):(ht=u.shape?u.shape:i.marker.dataLabel.shape,$.each(this.chartObj.model.symbolShape,function(n){ht.toLowerCase()==n.toLowerCase()&&(symbolName=n)}),this.dataLabelSymbol(c,i,r,e.PositionX+at/2,e.PositionY,v.width,v.height,symbolName,this.chartObj)),p={id:i.name+"line"+r,stroke:i.marker.dataLabel.connectorLine.stroke,"stroke-width":i.marker.dataLabel.connectorLine.strokeWidth,d:e.Connector},this.chartObj.svgRenderer.drawPath(p,this.gSeriesConnectorEle))}w={PointIndex:r,StartAngle:this.chartObj.model.arcData[r].startAngle,EndAngle:this.chartObj.model.arcData[r].endAngle,StartX:this.chartObj.model.startX[r],StartY:this.chartObj.model.startY[r]},g.push(w)}ct={Radius:this.chartObj.model.Radius,CenterX:this.chartObj.model.centerX,CenterY:this.chartObj.model.centerY},w={Series:i,SeriesData:ct,Region:g,SeriesIndex:$.inArray(i,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(w),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.gSeriesConnectorEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSymbolGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.gSeriesTextEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject)},doAnimation:function(n){var t=this.chartObj,i=this,r=t.model.arcData[0]?t.model.arcData[0].startAngle:0;$.each(n.visiblePoints,function(u,f){var o=t.model.arcData[u].startAngle,s=t.model.arcData[u].endAngle,e;Radius=t.model.Radius,t.model.arcData[u].startAngle=0,t.model.arcData[u].endAngle=t.model.arcData[u].startAngle,t.model.Radius=0,e=$(t.gSeriesEle).find("#"+i.gSeriesGroupEle.id)[0].childNodes[u],$(e).each(function(){this.StartAngle=r,this.EndAngle=r}).animate({StartAngle:o,EndAngle:s,pieRadius:Radius},{duration:1200,queue:!1,step:function(r,o){o.prop.toString()==="StartAngle"?(t.model.arcData[u].startAngle=r,t.model.arcData[u].endAngle=t.model.arcData[u].startAngle):o.prop.toString()=="pieRadius"?t.model.Radius=r:t.model.arcData[u].endAngle=r;var s=i._calculateArcData(t,u,f,n);t.svgRenderer._setAttr($(e),{d:s.Direction}),t.model.Radius=Radius},complete:function(){var f,r,e;if(u==n.visiblePoints.length-1){if(n.marker.showText){if(t.svgRenderer._setAttr($(t.gSeriesEle).find("#"+i.gSeriesTextEle.id),{visibility:"visible"}),t.gSymbolGroupEle&&t.svgRenderer._setAttr($(t.gSeriesEle).find("#"+t.gSymbolGroupEle.id),{visibility:"visible"}),n.marker.dataLabel.templateID)for(f=$(t.element[0].childNodes[0].childNodes),r=0;r<f.length;r++)$(f[r]).css("display","block");i.gSeriesConnectorEle&&t.svgRenderer._setAttr($(t.gSeriesEle).find("#"+i.gSeriesConnectorEle.id),{visibility:"visible"})}t.model.AnimationComplete=!0,e=$.extend({},SfSvgRender.commonChartEventArgs),e.Data=t.model,t._trigger("animationComplete",e)}}})})},chartAreaType:"None"}),seriesTypes.pie=sfPieSeries,sfDoughnutSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var s,o,c,y,it,rt,f,ft,et,p,ot,w;this.chartObj=n;var i=t,h=this._pieVisiblePoints(i),b=0,k=0,d=[];this.chartObj.model.arcData=[],this.chartObj.model.chartRegions=[],this.chartObj.model.sumofYValues=0,this.chartObj.model.centerX=0,this.chartObj.model.centerY=0,this.chartObj.model.startX=[],this.chartObj.model.startY=[],s=0,o=this.chartObj.model.legend,o.visible&&o.position.toLowerCase()!="custom"&&(o.position.toLowerCase()=="right"||o.position.toLowerCase()=="left"?b=(o.position.toLowerCase()=="right"?this.chartObj.model.margin.right:this.chartObj.model.margin.left)+this.chartObj.model.LegendBounds.Width:k=(o.position.toLowerCase()=="top"?this.chartObj.model.margin.top:this.chartObj.model.margin.bottom)+this.chartObj.model.LegendBounds.Height);var g=(this.chartObj.model.text?this.chartObj.model._titleLocation.Y:0)+k,nt=$(n.svgObject).width()-b,tt=$(n.svgObject).height()-g;for(this.chartObj.model.centerX=nt*.5+(o.position.toLowerCase()==="left"?b:0),this.chartObj.model.centerY=tt*.5+(o.position.toLowerCase()==="top"?g:this.chartObj.model.text?this.chartObj.model._titleLocation.Y:0),this.chartObj.model.Radius=.5*i.doughnutSize*Math.min(nt,tt),this.chartObj.model.dRadius=i.doughnutCoefficient*this.chartObj.model.Radius,f=0;f<h.length;f++)h[f].YValues[0]>0&&(this.chartObj.model.sumofYValues+=h[f].YValues[0]);for(i.startAngle&&(i.startAngle>360||i.startAngle==360?i.startAngle=i.startAngle%360:i.startAngle<0&&((i.startAngle<-360||i.startAngle==-360)&&(i.startAngle=i.startAngle%360),i.startAngle+=360),s=i.startAngle?this.chartObj.model.sumofYValues/360*i.startAngle:0,s=s/this.chartObj.model.sumofYValues,this.chartObj.model.itemCurrentXPos=s),c=0;c<h.length;c++)u=h[c],r=c,this.chartObj.model.arcData[r]={},this.chartObj.model.arcData[r].startAngle=2*Math.PI*s,this.chartObj.model.arcData[r].endAngle=2*Math.PI*(s+u.YValues[0]/this.chartObj.model.sumofYValues),s+=u.YValues[0]/this.chartObj.model.sumofYValues;var st=ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)?2:this.chartObj.model.roundingPlaces,l=$.inArray(i,this.chartObj.model._visibleSeries),ht={id:this.chartObj.svgObject.id+"_SeriesGroup_"+l};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ht),y=i.animation?"hidden":"visible",i.marker.showText&&(it={id:this.chartObj.svgObject.id+"_textGroup_"+l,visibility:y},this.gSeriesTextEle=this.chartObj.svgRenderer.createGroup(it),i.labelPosition.toLowerCase()=="outside"&&(rt={id:this.chartObj.svgObject.id+"_symbolGroup_"+l,visibility:y},this.chartObj.gSymbolGroupEle=this.chartObj.svgRenderer.createGroup(rt),p={id:this.chartObj.svgObject.id+"_connectorGroup_"+l,visibility:y},this.gSeriesConnectorEle=this.chartObj.svgRenderer.createGroup(p))),f=0;f<h.length;f++){var r=f,u=h[f],e=this._calculateArcData(this.chartObj,r,u,i),a=this.setPieSeriesStyle(u,i);if(t={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(i)+"_path"+r,fill:a.PointInterior,"stroke-width":a.SeriesStyle.borderWidth,stroke:a.BorderColor,"stroke-linecap":a.SeriesStyle.lineCap,"stroke-linejoin":a.SeriesStyle.lineJoin,d:e.Direction,start:this.chartObj.model.arcData[r].startAngle,end:this.chartObj.model.arcData[r].endAngle,innerR:this.chartObj.model.dRadius,x:this.chartObj.model.centerX,y:this.chartObj.model.centerY},this.chartObj.svgRenderer.drawPath(t,this.gSeriesGroupEle),i.marker.showText){var ct=i.labelPosition.toLowerCase()=="outside"?e.PositionX<this.chartObj.model.centerX?"end":"start":"middle",ut=Math.round(u.YValues[0])==u.YValues[0]?u.YValues[0]:u.YValues[0].toFixed(st),lt={size:i.marker.dataLabel.font.size,fontStyle:i.marker.dataLabel.font.fontStyle,fontFamily:i.marker.dataLabel.font.fontFamily},v=SfSvgRender.utils._measureText(ej.util.isNullOrUndefined(u.text)?ut:u.text,null,lt),at=e.PositionX<this.chartObj.model.centerX?-v.width:v.width;i.marker.dataLabel.templateID&&i.labelPosition.toLowerCase()!="inside"||(ft={id:i.name+"text"+r,x:e.PositionX,y:e.PositionY+v.height/4,fill:i.marker.dataLabel.font.color,"font-size":i.marker.dataLabel.font.size,"font-family":i.marker.dataLabel.font.fontFamily,"font-style":i.marker.dataLabel.font.fontStyle,"font-weight":i.marker.dataLabel.font.fontWeight,opacity:i.marker.dataLabel.font.opacity,"text-anchor":ct},this.chartObj.svgRenderer.drawText(ft,ej.util.isNullOrUndefined(u.text)?ut:u.text,this.gSeriesTextEle)),i.labelPosition.toLowerCase()=="outside"&&(i.marker.dataLabel.templateID?(Location={X:e.PositionX,Y:e.PositionY},this.drawLabelTemplate(i,u,r,Location)):(et=u.shape?u.shape:i.marker.dataLabel.shape,$.each(this.chartObj.model.symbolShape,function(n){et.toLowerCase()==n.toLowerCase()&&(symbolName=n)}),this.dataLabelSymbol(l,i,r,e.PositionX+at/2,e.PositionY,v.width,v.height,symbolName,this.chartObj)),p={id:i.name+"line"+r,stroke:i.marker.dataLabel.connectorLine.stroke,"stroke-width":i.marker.dataLabel.connectorLine.strokeWidth,d:e.Connector},this.chartObj.svgRenderer.drawPath(p,this.gSeriesConnectorEle))}w={PointIndex:r,StartAngle:this.chartObj.model.arcData[r].startAngle,EndAngle:this.chartObj.model.arcData[r].endAngle,StartX:this.chartObj.model.startX[r],StartY:this.chartObj.model.startY[r]},d.push(w)}ot={Radius:this.chartObj.model.Radius,DRadius:this.chartObj.model.dRadius,CenterX:this.chartObj.model.centerX,CenterY:this.chartObj.model.centerY},w={Series:i,SeriesData:ot,Region:d,SeriesIndex:$.inArray(i,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(w),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.gSeriesConnectorEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSymbolGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.gSeriesTextEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject)},doAnimation:function(n){var t=this.chartObj,i=this,r=t.model.arcData[0]?t.model.arcData[0].startAngle:0;$.each(n.visiblePoints,function(u,f){var o=t.model.arcData[u].startAngle,s=t.model.arcData[u].endAngle,e;t.model.arcData[u].startAngle=r,t.model.arcData[u].endAngle=t.model.arcData[u].startAngle,e=$(t.gSeriesEle).find("#"+i.gSeriesGroupEle.id)[0].childNodes[u],$(e).each(function(){this.StartAngle=r,this.EndAngle=r}).animate({StartAngle:o,EndAngle:s},{duration:1200,queue:!1,step:function(r,o){o.prop.toString()==="StartAngle"?(t.model.arcData[u].startAngle=r,t.model.arcData[u].endAngle=t.model.arcData[u].startAngle):t.model.arcData[u].endAngle=r;var s=i._calculateArcData(t,u,f,n);t.svgRenderer._setAttr($(e),{d:s.Direction})},complete:function(){var f,r,e;if(u==n.visiblePoints.length-1){if(n.marker.showText){if(t.svgRenderer._setAttr($(t.gSeriesEle).find("#"+i.gSeriesTextEle.id),{visibility:"visible"}),t.gSymbolGroupEle&&t.svgRenderer._setAttr($(t.gSeriesEle).find("#"+t.gSymbolGroupEle.id),{visibility:"visible"}),n.marker.dataLabel.templateID)for(f=$(t.element[0].childNodes[0].childNodes),r=0;r<f.length;r++)$(f[r]).css("display","block");i.gSeriesConnectorEle&&t.svgRenderer._setAttr($(t.gSeriesEle).find("#"+i.gSeriesConnectorEle.id),{visibility:"visible"})}t.model.AnimationComplete=!0,e=$.extend({},SfSvgRender.commonChartEventArgs),e.Data=t.model,t._trigger("animationComplete",e)}}})})},chartAreaType:"None"}),seriesTypes.doughnut=sfDoughnutSeries,sfPyramidSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var s,k,h,c,f,tt,it,p,e,u,l,rt,ut,ft,w;this.chartObj=n;var r,d=this,i=t,o=this._pieVisiblePoints(i),g=[];this.chartObj.model.chartRegions=[],this.chartObj.model.sumofYValues=0;var y=0,b,nt=this.chartObj.model.text?SfSvgRender.utils._measureText(this.chartObj.model.text,$(this.svgObject).width()-this.chartObj.model.margin.left-this.chartObj.model.margin.right,this.chartObj.model.titleFont):0,et=this.chartObj.model.margin.left+this.chartObj.model.elementSpacing+this.chartObj.model.margin.right+this.chartObj.model.elementSpacing+(this.chartObj.model.legend.position.toLowerCase()==="right"||this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendBounds.Width:0),ot=(this.chartObj.model.text?this.chartObj.model._titleLocation.Y+nt.height:this.chartObj.model.elementSpacing)+this.chartObj.model.margin.top+this.chartObj.model.elementSpacing+this.chartObj.model.margin.bottom+this.chartObj.model.elementSpacing+(this.chartObj.model.legend.position.toLowerCase()==="top"||this.chartObj.model.legend.position.toLowerCase()==="bottom"?this.chartObj.model.LegendBounds.Height:0);if(i.labelPosition.toLowerCase()==="outside"){for(s=0;s<o.length;s++)k=SfSvgRender.utils._measureText(ej.util.isNullOrUndefined(o[s].text)?o[s].YValues[0]:o[s].text,null,i.marker.dataLabel.font).width,y<k&&(y=k);this.chartObj.model.textSize=y}for(this.chartObj.model.actualWidth=$(n.svgObject).width()-et-y,this.chartObj.model.actualHeight=$(n.svgObject).height()-ot,h=(this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,c=(this.chartObj.model.legend.position.toLowerCase()==="top"?this.chartObj.model.LegendBounds.Height:0)+(this.chartObj.model.text?this.chartObj.model._titleLocation.Y+nt.height:this.chartObj.model.margin.top+this.chartObj.model.elementSpacing),f=0;f<o.length;f++)o[f].YValues[0]>0&&(this.chartObj.model.sumofYValues+=o[f].YValues[0]);var st=ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)?2:this.chartObj.model.roundingPlaces,a=$.inArray(i,this.chartObj.model._visibleSeries),ht={id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:"translate("+h+","+c+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ht),i.marker.showText&&(tt={id:this.chartObj.svgObject.id+"_textGroup_"+a,transform:"translate("+h+","+c+")"},this.gSeriesTextEle=this.chartObj.svgRenderer.createGroup(tt),i.labelPosition.toLowerCase()==="outside"&&(it={id:this.chartObj.svgObject.id+"_symbolGroup_"+a,transform:"translate("+h+","+c+")"},this.chartObj.gSymbolGroupEle=this.chartObj.svgRenderer.createGroup(it),p={id:this.chartObj.svgObject.id+"_connectorGroup_"+a,transform:"translate("+h+","+c+")"},this.gSeriesConnectorEle=this.chartObj.svgRenderer.createGroup(p))),i.pyramidMode.toLowerCase()=="linear"?this.calculateLinearSegments(i):this.calculateSurfaceSegments(i),f=0;f<o.length;f++){if(e=f,r=o[f],u=this._getPyramidData(i,e),l=this.setPieSeriesStyle(r,i),t={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(i)+"_path"+e,fill:l.PointInterior,"stroke-width":l.SeriesStyle.borderWidth,stroke:l.BorderColor,"stroke-linecap":l.SeriesStyle.lineCap,"stroke-linejoin":l.SeriesStyle.lineJoin,d:u.Direction},this.chartObj.svgRenderer.drawPath(t,this.gSeriesGroupEle),$(this.gSeriesGroupEle.childNodes[e]).bind("mousemove",function(n){n.target=d.gSeriesGroupEle.childNodes[e],d.chartObj.chartInteractiveBehavior(n)}),i.marker.showText){rt=i.labelPosition.toLowerCase()==="outside"?u.PositionX<this.chartObj.model.centerX?"end":"start":"middle",b=Math.round(r.YValues[0])==r.YValues[0]?r.YValues[0]:r.YValues[0].toFixed(st);var ct={size:i.marker.dataLabel.font.size,fontStyle:i.marker.dataLabel.font.fontStyle,fontFamily:i.marker.dataLabel.font.fontFamily},v=SfSvgRender.utils._measureText(ej.util.isNullOrUndefined(r.text)?b:r.text,$(this.svgObject).width()-this.chartObj.model.margin.left-this.chartObj.model.margin.right,ct),lt=u.PositionX<this.chartObj.model.centerX?-v.width:v.width;i.marker.dataLabel.templateID&&i.labelPosition.toLowerCase()!="inside"||(ut={id:i.name+"text"+e,x:u.PositionX+4,y:u.PositionY+v.height/4,fill:i.marker.dataLabel.font.color,"font-size":i.marker.dataLabel.font.size,"font-family":i.marker.dataLabel.font.fontFamily,"font-style":i.marker.dataLabel.font.fontStyle,"font-weight":i.marker.dataLabel.font.fontWeight,opacity:i.marker.dataLabel.font.opacity,"text-anchor":rt},this.chartObj.svgRenderer.drawText(ut,ej.util.isNullOrUndefined(r.text)?b:r.text,this.gSeriesTextEle)),i.labelPosition.toLowerCase()=="outside"&&(i.marker.dataLabel.templateID?(Location={X:u.PositionX+h,Y:u.PositionY+c},this.drawLabelTemplate(i,r,e,Location)):(ft=r.shape?r.shape:i.marker.dataLabel.shape,$.each(this.chartObj.model.symbolShape,function(n){ft.toLowerCase()==n.toLowerCase()&&(symbolName=n)}),this.dataLabelSymbol(a,i,e,u.PositionX+lt/2,u.PositionY,v.width+10,v.height,symbolName,this.chartObj)),p={id:i.name+"line"+e,stroke:i.marker.dataLabel.connectorLine.stroke,"stroke-width":i.marker.dataLabel.connectorLine.strokeWidth,d:u.Connector},this.chartObj.svgRenderer.drawPath(p,this.gSeriesConnectorEle))}w={PointIndex:e},g.push(w)}w={Series:i,Region:g,SeriesIndex:$.inArray(i,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(w),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.gSeriesConnectorEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSymbolGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.gSeriesTextEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject)},doAnimation:function(){},_getPyramidData:function(n,t){var i=this.chartObj.model,o=n.explodeIndex==t||n.explodeAll?n.explodeOffset:0,l=i.pyramidData[t].CurrY,h=i.pyramidData[t].CurrY+i.pyramidData[t].Height,a=.5*(1-i.pyramidData[t].CurrY),v=.5*(1-h),s={x:o+a*i.actualWidth,y:l*i.actualHeight},f={x:o+(1-a)*i.actualWidth,y:l*i.actualHeight},e={x:o+(1-v)*i.actualWidth,y:h*i.actualHeight},y={x:o+v*i.actualWidth,y:h*i.actualHeight},k="M  "+s.x+" "+s.y+" L "+f.x+" "+f.y+" L "+e.x+" "+e.y+" L "+y.x+" "+y.y+" z",r,u,p,c;if(n.marker.showText)if(n.labelPosition.toLowerCase()==="outside"){r=(f.x+e.x)/2,u=(f.y+e.y)/2,p=(this.chartObj.model.legend.position.toLowerCase()=="left"||this.chartObj.model.legend.position.toLowerCase()=="right"?this.chartObj.model.LegendBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,c=ej.util.isNullOrUndefined(n.marker.textOffset)?$(this.chartObj.svgObject).width()-(p+r+this.chartObj.model.textSize+this.chartObj.model.elementSpacing):n.marker.textOffset;var w=this.getXCordinate(r,c,0),b=this.getYCordinate(u,c,0),d="M "+r+" "+u+" L "+w+" "+b;r=w,u=b}else r=(s.x+f.x)/2,u=(e.y+s.y)/2;return{Direction:k,PositionX:r,PositionY:u,Connector:d}},calculateLinearSegments:function(n){var u=0,i=this.chartObj.model,f,e,t,r;for(i.pyramidData=[],f=1/(i.sumofYValues*(1+n.gapRatio/(1-n.gapRatio))),e=n.points.length,t=0;t<n.points.length;t++)r=f*n.points[t].YValues[0],i.pyramidData[t]={CurrY:u,Height:r},u+=n.gapRatio/(e-1)+r},calculateSurfaceSegments:function(n){var r=n.points.length,u=this.chartObj.model,e,t,c;u.pyramidData=[];var i=0,o=[],f=[],s=n.gapRatio/(r-1),h=this.getSurfaceHeight(0,u.sumofYValues);for(t=0;t<r;t++)o[t]=i,f[t]=this.getSurfaceHeight(i,Math.abs(n.points[t].YValues[0])),i+=f[t]+s*h;for(e=1/(i-s*h),t=0;t<r;t++)c=e*o[t],u.pyramidData[t]={CurrY:c,Height:e*f[t]}},getSurfaceHeight:function(n,t){var i=this.solveQuadraticEquation(1,2*n,-t);return i?i:0},solveQuadraticEquation:function(n,t,i){var r,u,f,e;if(n!=0){if(f=t*t-4*n*i,f>=0)return e=Math.sqrt(f),r=(-t-e)/(2*n),u=(-t+e)/(2*n),Math.max(r,u)}else if(t!=0)return r=-i/t,u=-i/t,Math.max(r,u);return!1},chartAreaType:"None"}),seriesTypes.pyramid=sfPyramidSeries,String.prototype.parseTemplate=function(){var n=this;return $.each(arguments[0],function(t,i){i.count>0?$.each(i,function(i,r){n=n.replace(new RegExp("\\#"+t+"."+i+"\\#","gm"),r)}):n=n.replace(new RegExp("\\#"+t+"\\#","gm"),i)}),n},Gradient=function(n){this._gradientStop=[];for(var t=0;t<n.length;t++)this._gradientStop.push(n[t])},ejChart={_renderSfChart:function(){var n=window.SVGSVGElement?!0:!1;return n?(this.svgRenderer=new SfSvgRender(this.element),this._createChart(),$(this.svgObject).appendTo(this.element)):(this.svgRenderer=new SfVmlRender(this.element),this._createChart(),$(this.svgObject).appendTo(this.element)),!0},_createChart:function(){var u,n,r,i,t;if(this.svgObject=this.svgRenderer.svgObj,$(this.svgObject).width(this.model.size.width?this.model.size.width:$(this.element).width()),$(this.svgObject).height(this.model.size.height),this.svgWidth=$(this.svgObject).width(),this.svgHeight=$(this.svgObject).height(),u=$.extend({},SfSvgRender.commonChartEventArgs),this._trigger("load",u),this.setTheme(SfSvgRender.themes,this.model.theme),n=this.model,!n.series&&!n.dataSource){for(n.series=[],r=[],i=1;i<=10;i++)r.push({x:i,y:Math.floor(Math.random()*-30)+40});n.series.push({points:r})}if(this.chartCross={visible:n.crossHair.visible,mArea:n.crossHair.moveToArea},this.serAnimation=[],n.series)for(t=0;t<n.series.length;t++)n.series[t]=ej.copyObject({},n.commonSeriesOptions,n.series[t]),this.serAnimation.push(n.series[t].animation===null||n.series[t].animation===undefined?n.commonSeriesOptions.animation:n.series[t].animation);($(this.element).is(":visible")||$(this.element).css("visibility")!="hidden"||$(this.element).css("display")!="none")&&(this.bindEvents(),this.bindTo())},setTheme:function(n,t){var i=t.toLowerCase();(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")==-1&&i.indexOf("dark")==-1?n[i]=$.extend(!0,{},n.flatlight,n[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark"))>=0&&i.indexOf("gradient")==-1?n[i]=$.extend(!0,{},n.flatdark,n[i]):(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")>=0&&i.indexOf("dark")==-1?n[i]=$.extend(!0,{},n.gradientlight,n[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark")>=0)&&i.indexOf("gradient")>=0&&(n[i]=$.extend(!0,{},n.gradientdark,n[i])),this.model=this.model._themeChanged?ej.copyObject({},this.model,n[i]):ej.copyObject({},n[i],this.model)},_drawBackInterior:function(){if(this.model.backInterior&&this.model.backInterior._gradientStop){var n={id:this.svgObject.id+"_backGradient",x1:"0%",y1:"0%",x2:"0%",y2:$(this.svgObject).height()+"%"};this.svgRenderer.drawGradient(n,this.model.backInterior._gradientStop)}},redraw:function(){$(this.svgObject).empty(),this.bindTo()},_drawBackImage:function(){var n={height:$(this.svgObject).height(),width:$(this.svgObject).width(),href:this.model.backGroundImageUrl,x:0,y:0,id:this.svgObject.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"};this.svgRenderer.drawImage(n,this.svgObject)},_getDataType:function(n){var t=typeof n;return t==="number"||t==="string"?t:jQuery.type(n)=="date"?"date":!1},addedXYValues:function(){var r,o,u,n,f,e,t,i;if(!this.zoomed){for(r=0;r<this.model.series.length;r++)if(o=!1,this.model.series[r].dataSource){for(n=this.model.series[r],f=0;f<n.points.length;f++)if(u=n.points[f].x,!ej.util.isNullOrUndefined(u)){n._xAxisValueType=this._getDataType(u);break}}else for(this.model.series[r]=$.extend(!0,{},this.model.commonSeriesOptions,this.model.series[r]),n=this.model.series[r],t=0;t<n.points.length;t++)n.points[t].YValues=[],n.points[t].X=n.points[t].x,o||(u=n.points[t].x,u&&(n._xAxisValueType=this._getDataType(u),o=!0)),n._hiloTypes?(n.points[t].high&&(n.points[t].YValues[0]=n.points[t].high,n.points[t].y=n.points[t].high),n.points[t].low&&(n.points[t].YValues[1]=n.points[t].low),n.points[t].open&&(n.points[t].YValues[2]=n.points[t].open),n.points[t].close&&(n.points[t].YValues[3]=n.points[t].close)):(n.points[t].YValues[0]=n.points[t].y,n.points[t].size&&(n.points[t].YValues[1]=n.points[t].size));for(e=this.model.series[0].type.toLowerCase(),seriesTypes[e].prototype.chartAreaType=="cartesianAxes"?this.model.AreaType="cartesianaxes":seriesTypes[e].prototype.chartAreaType=="None"&&(this.model.AreaType="none"),this.model.requireInvertedAxes=seriesTypes[e].prototype.requireInvertedAxes,this.model._visibleSeries=[],t=0;t<this.model.series.length;t++)i=this.model.series[t],this.model.AreaType=="cartesianaxes"&&seriesTypes[i.type.toLowerCase()].prototype.chartAreaType=="cartesianAxes"?(i._zOrder=i.zOrder?i.zOrder:0,this.model._visibleSeries.push(i)):this.model.AreaType=="none"&&seriesTypes[i.type.toLowerCase()].prototype.chartAreaType=="None"&&(i._zOrder=i.zOrder?i.zOrder:0,this.model._visibleSeries.push(i))}},colorNameToHex:function(n){var t=n,i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return Object.prototype.toString.call(t)=="[object Array]"?t:typeof i[t.toLowerCase()]!="undefined"?i[t.toLowerCase()]:t},draw:function(){var l,s,a,u,h,n,f,e,t,r,i,g,nt,y,p,w,tt,o,c,b;for(this._drawBackInterior(),this.model.chartRegions=[],this.model.stackedValue={},this.addedXYValues(),this.vmlRendering=this.svgRenderer.vmlNamespace?!0:!1,l=$.extend({},SfSvgRender.commonChartEventArgs),l.Data={},this._trigger("preRender",l),this.gLegendEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_Legend"}),this.gTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartTitle"}),this._createAxisLabelAndRange(),this._initializeSeriesColors(),i=0;i<this.model.series.length;i++)ej.util.isNullOrUndefined(this.model.series[i].style)||ej.util.isNullOrUndefined(this.model.series[i].style.interior)||(s=this.model.series[i].style.interior,s=this.colorNameToHex(s),this.model.series[i].style.interior=s);for(this._calculateLegendBounds(),this.legendRender=new SfLegendRender(this),a=$.extend({},SfSvgRender.commonChartEventArgs),a.Data={LegendBound:this.model.LegendBounds},this._trigger("lengendBoundsCalculate",a),r=0;r<this.model._visibleSeries.length;r++)for(u=this.model._visibleSeries[r],i=0;i<u.points.length;i++)typeof u.points[i].X=="string"&&u.points[i].X.indexOf("/Date(")!=-1&&(u.points[i].X=new Date(parseInt(u.points[i].X.substr(6))));this.model.hAxes=[],this.model.vAxes=[];var v=this,k=!1,d=!1;for(this._arrangeAxis(),h=0;h<this.model.axes.length;h++){for(n=this.model.axes[h],f=[],e=0;e<n.stripline.length;e++)n.stripline[e]=$.extend(!0,{},this.model.striplineDefault,n.stripline[e]),n.stripline[e].zOrder.toLowerCase()=="over"?k=!0:d=!0;for(j=0;j<this.model._visibleSeries.length;++j)if(this.model._visibleSeries[j].visibility.toLowerCase()=="visible"&&(t=this.model._visibleSeries[j],t.xAxisName=t.xAxisName?t.xAxisName:v.model.axes[0].axisName,t.yAxisName=t.yAxisName?t.yAxisName:v.model.axes[1].axisName,(t.xAxisName||t.yAxisName)&&(t.xAxisName.toLowerCase()==n.axisName.toLowerCase()||t.yAxisName.toLowerCase()==n.axisName.toLowerCase()))){if(n.orientation.toString()=="Horizontal"&&n.valueType&&n.valueType.toString()=="datetime")for(r=0;r<t.points.length;r++)typeof t.points[r].X!="string"||isNaN(Date.parse(t.points[r].X))||(t.points[r].X=new Date(Date.parse(t.points[r].X)));t._xAxisValueType=="string"&&(n.valueType=n.orientation.toLowerCase()=="horizontal"&&!this.model.requireInvertedAxes?"category":n.orientation.toLowerCase()=="vertical"&&this.model.requireInvertedAxes?"category":"double"),t._xAxisValueType=="date"&&(n.valueType=n.orientation.toLowerCase()=="horizontal"&&!this.model.requireInvertedAxes?"datetime":n.orientation.toLowerCase()=="vertical"&&this.model.requireInvertedAxes?"datetime":"double"),f.push(t)}if(n.orientation.toLowerCase()==(this.model.requireInvertedAxes?"horizontal":"vertical"))for(i=0;i<f.length;i++)if(g=f[i].type.toLowerCase(),seriesTypes[g].prototype.stackingSeries){this._calculateStackingValues(f,n);break}n.valueType||(n.valueType="double"),nt=new axisTypes[n.valueType.toLowerCase()],nt._calculateRanges(v,n,f),y=$.extend({},SfSvgRender.commonChartEventArgs),y.Data={range:n.range},this._trigger("axesRangeCalculate",y)}if(p=$.extend({},SfSvgRender.commonChartEventArgs),p.Data={Axes:this.model.axes},this._trigger("axesLabelsInitialize",p),this._calculateAreaBounds(),this.model.AreaType=="cartesianaxes"){for(w=$.extend({},SfSvgRender.commonChartEventArgs),w.Data={AreaBound:this.model.m_AreaBounds},this._trigger("chartAreaBoundsCalculate",w),this._drawChartAreaRect(),this._calculateAxisSize(),this.gXaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis"}),this.gYaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxis"}),$.extend(SfAxisRenderer.prototype,this),this.chartaxis=new SfAxisRenderer(this),tt=this.chartaxis,o=0;o<this.model.axes.length;o++)tt._drawAxes(o,this.model.axes[o]);this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject),c={id:this.svgObject.id+"_ChartAreaClipRect",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(c,this.svgObject)}else this._drawChartAreaRect(),c={id:this.svgObject.id+"_ChartAreaClipRect",x:0,y:0,width:$(this.svgObject).width(),height:$(this.svgObject).height(),fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(c,this.svgObject);this.model.text!=""&&this.model.text&&this._drawTitle(),d&&this.model.AreaType=="cartesianaxes"&&(this.gStriplineBehind=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineBehind","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("behind")),this.model.initSeriesRender&&this.seriesRender(),k&&this.model.AreaType=="cartesianaxes"&&(this.gStriplineOver=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineOver","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("over")),this.legendRender.drawLegend(),b=$.extend({},SfSvgRender.commonChartEventArgs),b.Data={Model:this.model},this._trigger("loaded",b)},seriesRender:function(){var h=this,c,n,i,f,t,u,e,r,l,a,o,s,v;for($(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").remove(),c={id:this.svgObject.id+"_SeriesCollection","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.gSeriesEle=this.svgRenderer.createGroup(c),n=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),i=0;i<n.length;i++)for(ej.util.isNullOrUndefined(n[i].xAxis)||(n[i].xAxis=null,n[i].yAxis=null),f=0;f<this.model.axes.length;f++)t=this.model.axes[f],e=i,t.axisName&&t.orientation.toLowerCase()=="horizontal"&&t.axisName.toLowerCase()==n[i].xAxisName.toLowerCase()?n[i].xAxis=t:t.axisName&&t.orientation.toLowerCase()=="vertical"&&t.axisName.toLowerCase()==n[i].yAxisName.toLowerCase()&&(n[i].yAxis=t),this.model.requireInvertedAxes&&(t.axisName&&t.orientation.toLowerCase()=="vertical"&&t.axisName.toLowerCase()==n[i].xAxisName.toLowerCase()?n[i].xAxis=t:t.axisName&&t.orientation.toLowerCase()=="horizontal"&&t.axisName.toLowerCase()==n[i].yAxisName.toLowerCase()&&(n[i].yAxis=t));for(u=0;u<n.length;u++)e=u,r=n[u],this.model.AreaType=="none"&&r.visibility.toLowerCase()==="visible"?e===0&&(l=r.type.toLowerCase(),r=$.extend(!0,{},this.model.textStyle,r),a=$.inArray(n[0],this.model._visibleSeries),this.model._visibleSeries[a]=n[0]=$.extend(!0,r,n[0]),o=$.extend({},SfSvgRender.commonChartEventArgs),o.Data={series:r},this._trigger("seriesRendering",o),s=new seriesTypes[l],s.draw(h,r),r.animation&&!this.vmlRendering&&s.doAnimation(r)):r.visibility.toLowerCase()==="visible"&&this.renderSeries(r);this.svgRenderer.vmlNamespace&&this.model.AreaType!="none"&&this.svgRenderer.append(this.gSeriesEle,this.svgObject),$(this.svgObject).find("#"+this.svgObject.id+"_StriplineOver").length>0&&(v=$(this.svgObject).find("#"+this.svgObject.id+"_StriplineOver").detach(),v.appendTo(this.svgObject)),h.model.initSeriesRender=!0},_renderStripline:function(n){var u,r,t,i;for($.extend(SfStripline.prototype,this),this.chartstripline=new SfStripline(this),u=this.chartstripline,r=0;r<this.model.axes.length;r++)for(t=this.model.axes[r],i=0;i<t.stripline.length;i++)t.stripline[i].zOrder.toLowerCase()==n&&u._drawStripline(t,t.stripline[i]);n=="over"?this.svgRenderer.append(this.gStriplineOver,this.svgObject):this.svgRenderer.append(this.gStriplineBehind,this.svgObject)},renderSeries:function(n){for(var d=this,s=$.inArray(n,this.model._visibleSeries),c,u,t,h,e,a,o,v,y,p,w,b,i=0;i<n.points.length;i++)typeof n.points[i].x=="string"&&n.points[i].x.indexOf("/Date(")!=-1&&(n.points[i].x=new Date(parseInt(n.points[i].x.substr(6))));n.xAxis=n.xAxis===null||n.xAxis===undefined?this.model.axes[0]:n.xAxis,n.yAxis=n.yAxis===null||n.yAxis===undefined?this.model.axes[1]:n.yAxis;var r=n.type.toLowerCase(),l,f=SfSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),k={id:this.svgObject.id+"_TextGroup_"+s,transform:"translate("+f.x+","+f.y+")"};if(l=r!="scatter"?{id:this.svgObject.id+"_symbolGroup_"+s,transform:"translate("+f.x+","+f.y+")"}:{id:this.svgObject.id+"_SeriesGroup_"+s,transform:"translate("+f.x+","+f.y+")"},this.gSymbolGroupEle=this.svgRenderer.createGroup(l),this.gSeriesTextEle=this.svgRenderer.createGroup(k),c=$.extend({},SfSvgRender.commonChartEventArgs),c.Data={series:n},this._trigger("seriesRendering",c),u=new seriesTypes[r],u.draw(this,n),t=u.gSeriesGroupEle,t&&SfSvgRender.utils._drawAxesBoundsClipPath(t,n,this),n.marker&&n.marker.visible&&!(r=="candle"||r=="hilo"||r=="hiloopenclose"))if($.each(n.points,function(t,i){u.drawSymbolImage(n,t);var r=i.symbolLocation?i.symbolLocation:SfSvgRender.utils._getPoint(i,n);u.drawSymbol(s,n,t,r.X,r.Y)}),r!="scatter")this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),n.marker.visible&&(t=this.gSymbolGroupEle,SfSvgRender.utils._drawAxesBoundsClipPath(t,n,this)),n.marker.showText&&(t=this.gSeriesTextEle,SfSvgRender.utils._drawAxesBoundsClipPath(t,n,this));else if(t=this.gSymbolGroupEle,SfSvgRender.utils._drawAxesBoundsClipPath(t,n,this),this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),this.model.showTooltip||r=="scatter"){for(h=$(this.gSymbolGroupEle).children().not("defs"),this.vmlRendering?(this.cloneSeriesEle=$(this.gSeriesEle).clone(),this.cloneobj=$(this.element).clone(),this.svgclone=$(this.svgObject).clone(),$(document.body).append(this.cloneobj),this.svgRenderer.append(this.cloneSeriesEle,this.svgclone),this.svgRenderer.append(this.svgclone,this.cloneobj)):(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element)),e=0;e<h.length;e++)a=this.vmlRendering?$("#"+h[e].id)[0]:h[e],o=SfSvgRender.utils._getBoundingClientRect(a,this,n,!1),y=o.x+n.xAxis.x,p=o.y+n.yAxis.y,w=o.height,v=o.width,b={X:y,Y:p,Width:v,Height:w},SfSvgRender.utils._addRegion(this,b,n,null,e);this.vmlRendering&&($(this.cloneobj).remove(),$(this.svgclone).remove())}!ej.util.isNullOrUndefined(n.marker.showText)&&n.marker.showText&&($.each(n.points,function(t,i){var r=i.symbolLocation?i.symbolLocation:SfSvgRender.utils._getPoint(i,n);(ej.util.isNullOrUndefined(i.showText)||i.showText)&&u.drawDisplayText(n,t,i,r.X,r.Y)}),this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle)),this.vmlRendering||(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element),n.animation&&u.doAnimation(n))},_processOData:function(n){var t=this,i=n.dataSource.data.executeQuery(n.dataSource.query);i.done(function(i){t._processJsonData(i.result,n),$(t.svgObject).empty(),t.draw()})},_processJsonData:function(n,t){for(var b=[],r=t.dataSource,s=r.xName,p=r.yNames,u,o,f,c,l,a,v,h,k,w,y,i,e=0;e<n.length;e++)typeof n[e][s]=="string"&&n[e][s].indexOf("/Date(")!=-1?(n[e][s]=new Date(parseInt(n[e][s].substr(6))),b.push(n[e][s]?n[e][s]:e)):b.push(n[e][s]?n[e][s]:e);if(u=[],o=0,!p&&t._hiloTypes){for(f=[],c=0;c<n.length;c++)f.push(n[c][r.high]===null||n[c][r.high]===undefined?n[c][r.high]:parseFloat(n[c][r.high]));for(u[o]=f,o=o+1,f=[],l=0;l<n.length;l++)f.push(n[l][r.low]===null||n[l][r.low]===undefined?n[l][r.low]:parseFloat(n[l][r.low]));if(u[o]=f,o=o+1,t.type.toLowerCase()!=="hilo"){for(f=[],a=0;a<n.length;a++)f.push(n[a][r.open]===null||n[a][r.open]===undefined?n[a][r.open]:parseFloat(n[a][r.open]));for(u[o]=f,o=o+1,f=[],v=0;v<n.length;v++)f.push(n[v][r.close]===null||n[v][r.close]===undefined?n[v][r.close]:parseFloat(n[v][r.close]));u[o]=f}}if(p){for(h=0;h<p.length;h++){for(k=[],w=0;w<n.length;w++)k.push(n[w][p[h]]?parseFloat(n[w][p[h]]):n[w][p[h]]);u[h]=k,o=h+1}if(t.type.toLowerCase()=="bubble"){for(f=[],y=0;y<n.length;y++)f.push(n[y][r.size]===null||n[y][r.size]===undefined?n[y][r.size]:parseFloat(n[y][r.size]));u[o]=f}}for(i=0;i<b.length;i++)t.points[i]={x:b[i],X:b[i],y:u[0][i],YValues:[],visible:!0},t.type.toLowerCase()=="bubble"?(t.points[i].YValues.push(u[0][i]),t.points[i].size=t.points[i].YValues[1]=u[1][i]):t._hiloTypes?(t.points[i].high=t.points[i].YValues[0]=u[0][i],t.points[i].low=t.points[i].YValues[1]=u[1][i],t.type.toLowerCase()!="hilo"&&t.type.toLowerCase()!="rangecolumn"&&(t.points[i].open=t.points[i].YValues[2]=u[2][i],t.points[i].close=t.points[i].YValues[3]=u[3][i])):t.points[i].YValues.push(u[0][i])},bindTo:function(){var t,n;if(this.model.series){if(t=this.model.series,!this.zoomed&&!this.panning)for(n=0;n<t.length;n++)(t[n].visibility==null||t[n].visibility==undefined)&&(t[n].visibility="visible",t[n].type&&(t[n]._hiloTypes=seriesTypes[t[n].type.toLowerCase()].prototype.hiloTypes)),t[n].points||(t[n].points=[]),t[n].dataSource&&(t[n].dataSource.data instanceof ej.DataManager?this._processOData(t[n]):t[n].dataSource.data!=null&&t[n].dataSource.data.length>0&&this._processJsonData(t[n].dataSource.data,t[n]));this.draw()}},chartResize:function(){var n=this,t=$(n.svgObject);this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){n.isDevice()?(t.width($(n.element).width()),t.height($(n.element).height())):(t.width($(n.element).width()),n.svgHeight>$(this).height()?t.height($(this).height()):t.height(n.svgHeight)),$(n.svgObject).empty(),$("#template_group_"+n.instance._id).remove(),n.disableAnimation(),n.draw(),n.enableAnimation()},500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},bindEvents:function(){var n,t,i;this._on($(this.svgObject),"mousedown",this.chartMouseDown),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on($(document),"mouseup",this.chartMouseUp),n=!!navigator.userAgent.match(/Trident\/7\./),this.isDevice()&&!n?window.navigator.msPointerEnabled?(this._on(this.element,"MSPointerMove",this.chartMouseMove),this._on(this.element,"MSPointerDown",this.chartMouseClick)):(this._on(this.element,"touchmove",this.chartTouchMove),this._on($(this.svgObject),"touchstart",this.chartTouchClick)):(this._on(this.element,"mousemove",this.chartMouseMove),this._on($(this.svgObject),"click",this.chartMouseClick)),this.model.needResize&&(!this.isDevice()||window.navigator.msPointerEnabled?this._on($(window),"resize",this.chartResize):this._on($(window),"orientationchange",this.chartResize)),t=jQuery.uaMatch(navigator.userAgent),i=t.browser.toLowerCase()=="mozilla"?"DOMMouseScroll":"mousewheel",this._on(this.element,i,this.chartMouseWheel)},calZoomFactors:function(n,t,i,r){var u,f;return n==1?(u=1,f=0):(u=SfSvgRender.utils._minMax(1/n,0,1),f=r+(i-u)*t),{zoomMFactor:u,zoomMPosition:f}},doMouseWheelZoom:function(n,t,i){if(n>=1){var r=this.calZoomFactors(n,t,i.zoomFactor,i.zoomPosition);if(i.zoomPosition!=r.zoomMPosition)return i.zoomPosition=r.zoomMPosition,i.zoomFactor=r.zoomMPosition+r.zoomMFactor>1?1-r.zoomMPosition:r.zoomMFactor,!0}return!1},enableAnimation:function(){for(var t,n=0;n<this.model._visibleSeries.length;n++)t=this.model._visibleSeries[n],t.animation=this.serAnimation[n]},disableAnimation:function(){for(var t=this,i,n=0;n<t.model._visibleSeries.length;n++)i=t.model._visibleSeries[n],i.animation=!1},_removeTrackBall:function(){var n="#"+this.svgObject.id;$(this.svgObject).find(n+"_Tracker,"+n+"_TrackAxisToolTip,"+n+"_CrosshairVertical,"+n+"_CrosshairHorizontal,"+n+"_AxisCrossToolTip").remove(),$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove()},enableTrackBall:function(){this.model.crossHair.visible=this.chartCross.visible,this.model.crossHair.moveToArea=this.chartCross.mArea},disableTrackBall:function(){this.model.crossHair.visible=!1,this.model.crossHair.moveToArea=!1,this._removeTrackBall()},_enableZoomingButtons:function(){var n=this;$(n.svgObject).find("#"+this.svgObject.id+"_ResetZoom").length==0&&(this.resetZoomButton(),this.panButton(),this.zoomButton())},chartMouseWheel:function(n){var t,r,i,o,s;if(this.model.zooming.enableMouseWheel){t=this,this.zoomed=!0;var e,u=!1,f="#"+t.svgObject.id,h=jQuery.uaMatch(navigator.userAgent),c=h.browser.toLowerCase()=="mozilla"?-n.originalEvent.detail/3>0?1:-1:n.originalEvent.wheelDelta/120>0?1:-1;for(r=0;r<this.model.axes.length;r++)i=this.model.axes[r],(i.orientation.toLowerCase()=="vertical"&&(t.model.zooming.type.toLowerCase()=="y"||t.model.zooming.type.trim().toLowerCase()=="x,y")||i.orientation.toLowerCase()=="horizontal"&&(t.model.zooming.type.toLowerCase()=="x"||t.model.zooming.type.trim().toLowerCase()=="x,y"))&&(o=Math.max(1/SfSvgRender.utils._minMax(i.zoomFactor,0,1),1),s=Math.max(o+.25*c,1),u=u|t.doMouseWheelZoom(s,.5,i)),e=i.zoomFactor==1&&i.zoomPosition==0?!1:!0;this.disableAnimation(),this.disableTrackBall(),u&&t.redraw(),this._enableZoomingButtons(),this.mouseWheelCoords={x:n.originalEvent.pageX,y:n.originalEvent.pageY},e||($(t.svgObject).find(f+"_ResetZoom,"+f+"_PanBtn,"+f+"_ZoomBtn").remove(),this.enableAnimation()),n.preventDefault&&n.preventDefault(),n.returnValue=!1}$(".tooltipDiv").remove()},getLegendData:function(n){var u=this.calMousePosition(n),i,r,t;return(this.mousemoveX=u.X,this.mousemoveY=u.Y,i=this.mousemoveX,r=this.mousemoveY,!ej.util.isNullOrUndefined(n.target.id)&&this.svgRenderer._getAttrVal($(n.target).parents(":eq(1)"),"id")==this.svgObject.id+"_Legend"&&($.each(this.model.legendRegion,function(n,u){i>=u.Bounds.LegendBound.X+u.Bounds.ItemBound.X&&i<=u.Bounds.LegendBound.X+u.Bounds.ItemBound.X+u.LegendItem.Bounds.Width&&r>=u.Bounds.LegendBound.Y+u.Bounds.ItemBound.Y-u.LegendItem.Bounds.Height/2&&r<=u.Bounds.LegendBound.Y+u.Bounds.ItemBound.Y+u.LegendItem.Bounds.Height&&(t=u)}),!ej.util.isNullOrUndefined(t)))?{LegendItem:t,Series:this.model._visibleSeries[t.LegendItem.SeriesIndex]}:!1},GetSeriesPoint:function(n){var i=this.mousemoveX,r=this.mousemoveY,f,u,e,o,s,t;if(this.model.AreaType=="cartesianaxes"){if(i>this.model.m_AreaBounds.X&&i<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&r>this.model.m_AreaBounds.Y&&r<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&$.each(this.model.chartRegions,function(n,t){if(i>=t.Region.Bounds.X&&i<=t.Region.Bounds.X+t.Region.Bounds.Width&&r>t.Region.Bounds.Y&&r<t.Region.Bounds.Y+t.Region.Bounds.Height)return f=t,!1}),f)return{Region:f,location:{X:i,Y:r}}}else if(u=this,u.model.chartRegions[0].Series.type.toLowerCase()=="pyramid"){if(s=$(n.target)[0].nodeName,(s=="path"||s=="shape")&&$($(n.target).parent())[0].id==u.svgObject.id+"_SeriesGroup_"+u.model.chartRegions[0].SeriesIndex)return o=u.model.chartRegions[0],index=parseInt($(n.target)[0].id.match(/(\d+)/g)[0]),o.Region.PointIndex=index,t={},t.pointIndex=index,f={Region:o,PointData:t,location:{X:i,Y:r}}}else return $.each(u.model.chartRegions,function(n,o){var d=-.5*Math.PI,a=o.SeriesData,h=o.Region,g=u.model._visibleSeries[o.SeriesIndex].type.toLowerCase()=="doughnut"?a.DRadius:0,v,y,c,nt,tt,it,b,k,l;v=i-a.CenterX,y=r-a.CenterY;var p=u.model._visibleSeries[o.SeriesIndex],w=p.startAngle?2*Math.PI*u.model.itemCurrentXPos:0,s=Math.atan2(y,v)-d-w;for(s<0&&(s=2*Math.PI+s),t=[],c=0;c<h.length;c++)if(nt=h[c].StartAngle-w,tt=h[c].EndAngle-w,s>=nt&&s<=tt){t.push(h[c]);break}if(t.length>0)if(it=p.explodeAll||p.explodeIndex==t[0].PointIndex,it){for(b=i-t[0].StartX,k=r-t[0].StartY,s=Math.atan2(k,b)-d,s<0&&(s=2*Math.PI+s),t=[],l=0;l<h.length;l++)s>=h[l].StartAngle&&s<=h[l].EndAngle&&t.push(h[l]);t.length>0&&(e=Math.sqrt(Math.pow(Math.abs(b),2)+Math.pow(Math.abs(k),2)),e<=a.Radius&&e>g&&(h.PointIndex=t[0].PointIndex,f={Region:o,PointData:t,location:{X:i,Y:r}}))}else e=Math.sqrt(Math.pow(Math.abs(v),2)+Math.pow(Math.abs(y),2)),e<=a.Radius&&e>g&&(h.PointIndex=t[0].PointIndex,f={Region:o,PointData:t,location:{X:i,Y:r}})}),f},mousePosition:function(n){if(ej.util.isNullOrUndefined(n.pageX))if(ej.util.isNullOrUndefined(n.originalEvent.pageX)){if(!ej.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX))return{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}}else return{x:n.originalEvent.pageX,y:n.originalEvent.pageY};else return{x:n.pageX,y:n.pageY}},calMousePosition:function(n){var u=jQuery.uaMatch(navigator.userAgent),r=this.mousePosition(n),t,i;return n.pageX=r.x,n.pageY=r.y,u.browser.toLowerCase()=="webkit"?(t=n.pageX-$(this.svgObject).parent().offset().left,i=n.pageY-$(this.svgObject).parent().offset().top):(t=n.pageX-$(this.svgObject).offset().left,i=n.pageY-$(this.svgObject).offset().top),{X:t,Y:i}},cancelEvent:function(n){return n.stopPropagation(),n.preventDefault(),n.returnValue=!1,n.cancelBubble=!0,!1},resetZoom:function(){var n=this,t="#"+n.svgObject.id;n.zoomed&&($.each(this.model.axes,function(n,t){t.zoomFactor=1,t.zoomPosition=0}),$(n.svgObject).find(t+"_ResetZoom,"+t+"_PanBtn,"+t+"_ZoomBtn").remove(),n.zoomed=!1,n.panning=!1,n.redraw(),n.enableAnimation(),n.enableTrackBall(),n.svgRenderer._setAttr($(n.svgObject).find(t+"_XAxis,"+t+"_ChartArea,"+t+"_YAxis,"+t+"_SeriesCollection"),{cursor:"default"}))},startZoom:function(){var n=this,t="#"+n.svgObject.id,i=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";n.svgRenderer._setAttr($(t+"_ZoomBtn"),{selected:"true"}),n.svgRenderer._setAttr($(t+"_ZoomPath"),{fill:"#14B9FF"}),n.svgRenderer._setAttr($(t+"_ZoomIcon"),{fill:"#FFFFFF"}),n.svgRenderer._setAttr($(t+"_PanPath"),{fill:"#B7B7B7"}),n.svgRenderer._setAttr($(t+"_panIcon"),{fill:i}),this._cursorToDefault(),n.panning=!1,n.enableTrackBall()},startPan:function(){var n=this,t="#"+n.svgObject.id,i=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";n.svgRenderer._setAttr($(t+"_ZoomBtn"),{selected:"false"}),n.svgRenderer._setAttr($(t+"_PanBtn"),{selected:"true"}),n.svgRenderer._setAttr($(t+"_ZoomPath"),{fill:"#B7B7B7"}),n.svgRenderer._setAttr($(t+"_ZoomIcon"),{fill:i}),n.svgRenderer._setAttr($(t+"_PanPath"),{fill:"#14B9FF"}),n.svgRenderer._setAttr($(t+"_panIcon"),{fill:"#FFFFFF"}),this._cursorToPointer(),n.panning=!0,n.disableTrackBall()},zoomButton:function(){var i=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-116),r=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),u=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",n=this.svgRenderer.createGroup({id:this.svgObject.id+"_ZoomBtn",transform:"translate("+i+","+r+")",selected:"true"}),f={id:this.svgObject.id+"_ZoomPath",d:"M32,27c0,2.75-2.25,5-5,5H5c-2.75,0-5-2.25-5-5V5c0-2.75,2.25-5,5-5h22c2.75,0,5,2.25,5,5V27z",fill:this.panning?"#b7b7b7":"#14B9FF"},t;this.svgRenderer.drawPath(f,n),t={id:this.svgObject.id+"_ZoomIcon",d:"M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571",fill:this.panning?u:"#FFFFFF"},this.svgRenderer.drawPath(t,n),this.svgRenderer.append(n,this.svgObject),this._on($(n),"click",this.startZoom)},panButton:function(){var i=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-79),r=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),u=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",n=this.svgRenderer.createGroup({id:this.svgObject.id+"_PanBtn",transform:"translate("+i+","+r+")",selected:"false"}),f={id:this.svgObject.id+"_PanPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:this.panning?"#14B9FF":"#b7b7b7"},t;this.svgRenderer.drawPath(f,n),t={id:this.svgObject.id+"_panIcon",points:"26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789",fill:this.panning?"#FFFFFF":u},this.svgRenderer.drawPolygon(t,n),this.svgRenderer.append(n,this.svgObject),this._on($(n),"click",this.startPan)},resetZoomButton:function(){var e=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-42),o=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),n=this.svgRenderer.createGroup({id:this.svgObject.id+"_ResetZoom",transform:"translate("+e+","+o+")",selected:"false"}),t=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",s={id:this.svgObject.id+"_ResetZoomPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:"#b7b7b7"},i,r,u,f;this.svgRenderer.drawPath(s,n),i={id:this.svgObject.id+"_ptIcon",points:"11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186",fill:t},this.svgRenderer.drawPolygon(i,n),r={id:this.svgObject.id+"_ptIcon1",points:"19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072",fill:t},this.svgRenderer.drawPolygon(r,n),u={id:this.svgObject.id+"_ptIcon2",points:"11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123",fill:t},this.svgRenderer.drawPolygon(u,n),f={id:this.svgObject.id+"_ptIcon3",points:"19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23",fill:t},this.svgRenderer.drawPolygon(f,n),this.svgRenderer.append(n,this.svgObject),this._on($(n),"click",this.resetZoom)},doZoom:function(n,t,i){var u=this,e;for($("#"+this.svgObject.id+"_ZoomArea").remove(),this.drag=!1,this.zoomed=!0,e=0;e<this.model.axes.length;e++){var r=this.model.axes[e],f=r.zoomFactor,o=r.zoomPosition;r.orientation.toLowerCase()=="horizontal"?(r.zoomFactor=u.model.zooming.type.toLowerCase()!="y"?f*(t/u.model.m_AreaBounds.Width):1,r.zoomPosition=u.model.zooming.type.toLowerCase()!="y"?o+Math.abs((parseFloat(u.svgRenderer._getAttrVal($(n),"x"))-u.model.m_AreaBounds.X)/u.model.m_AreaBounds.Width)*f:0,parseFloat(r.zoomFactor.toFixed(3))<=.001&&(r.zoomFactor=f,r.zoomPosition=o)):(r.zoomFactor=u.model.zooming.type.toLowerCase()!="x"?f*i/u.model.m_AreaBounds.Height:1,r.zoomPosition=u.model.zooming.type.toLowerCase()!="x"?o+(1-Math.abs((i+(parseFloat(u.svgRenderer._getAttrVal($(n),"y"))-u.model.m_AreaBounds.Y))/u.model.m_AreaBounds.Height))*f:0,parseFloat(r.zoomFactor.toFixed(3))<=.001&&(r.zoomFactor=f,r.zoomPosition=o))}this.disableAnimation(),this.redraw(),this._enableZoomingButtons()},_cursorToDefault:function(){var n="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection,"+n+"_StriplineBehind,"+n+"_StriplineOver"),{cursor:"default"})},_cursorToPointer:function(){var n="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection,"+n+"_StriplineBehind,"+n+"_StriplineOver"),{cursor:"pointer"})},chartMouseUp:function(){var n=this;if(this.model.zooming.enabled&&this.model.AreaType=="cartesianaxes"){var t=$("#"+this.svgObject.id+"_ZoomArea"),i=$(t),r=parseFloat(this.svgRenderer._getAttrVal(i,"width")),u=parseFloat(this.svgRenderer._getAttrVal(i,"height"));r>0&&u>0?n.doZoom(t,r,u):this.drag=!1,n.panning||this.enableTrackBall()}this.doPan&&(this.doPan=!1)},chartMouseDown:function(n){var t,i;this.svgRenderer.vmlNamespace||(this.oPreviousCoords={},this.svgRenderer._getAttrVal($(n.target).parent(),"id")!=this.svgObject.id+"_ResetZoom"&&this.svgRenderer._getAttrVal($(n.target).parent(),"id")!=this.svgObject.id+"_PanBtn"&&this.model.zooming.enabled&&!this.panning&&this.model.AreaType=="cartesianaxes"?(t=this.calMousePosition(n),this.mouseDownX=t.X,this.mouseDownY=t.Y,this.mouseDownX>=this.model.m_AreaBounds.X&&this.mouseDownX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mouseDownY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mouseDownY>=this.model.m_AreaBounds.Y&&(this.drag=!0,this.disableTrackBall())):this.panning&&(i=this.calMousePosition(n),this.mousePanX=i.X,this.mousePanY=i.Y,this.mousePanX>=this.model.m_AreaBounds.X&&this.mousePanX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousePanY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousePanY>=this.model.m_AreaBounds.Y&&(this.doPan=!0,this.oPreviousCoords={x:n.pageX,y:n.pageY})))},chartMouseLeave:function(){$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").remove(),$(".tooltipDiv").hasClass(this.svgObject.id)||$(".tooltipDiv").remove(),this._removeTrackBall()},chartTouchClick:function(n){n=n.originalEvent.touches[0],this._doClick(n)},_doClick:function(n){for(var c,t,f,e,u,o,r,s,i=0;i<this.model._visibleSeries.length;i++)if(c=i,t=this.model._visibleSeries[i],this.model.AreaType=="cartesianaxes"&&t.visibility.toLowerCase()=="visible"&&t.type.toLowerCase()!=="scatter"&&t.type.toLowerCase()!=="bubble"&&t.type.toLowerCase()!=="column"&&t.type.toLowerCase()!=="bar"&&t.type.toLowerCase()!=="stackingbar"&&t.type.toLowerCase()!=="stackingcolumn"&&!t._hiloTypes){var h=this.calMousePosition(n);this.mousemoveX=h.X,this.mousemoveY=h.Y,f=this.getClosesPointXY([],[],t,this.mousemoveX,this.mousemoveY),ej.util.isNullOrUndefined(f.point)||(e=$.extend({},SfSvgRender.commonChartEventArgs),e.Data={point:f.point,series:t},this._trigger("pointRegionClick",e))}if(u=this.GetSeriesPoint(n),u&&$($(n.target).parent())[0].id==this.svgObject.id+"_SeriesGroup_"+u.Region.SeriesIndex&&(o=$.extend({},SfSvgRender.commonChartEventArgs),o.Data=u,this._trigger("pointRegionClick",o)),r=this.getLegendData(n),r&&($("#template_group_"+this.instance._id).remove(),s=$.extend({},SfSvgRender.commonChartEventArgs),s.Data=r,this._trigger("legendItemClick",s),this.model.AreaType=="cartesianaxes"&&!this.zoomed)){for(r.Series.visibility=r.Series.visibility.toLowerCase()==="visible"?"hidden":"visible",$(this.svgObject).empty(),this.model.seriesCollapsed=!1,i=0;i<this.model.series.length;i++)if(this.model.series[i].visibility.toLowerCase()=="hidden"){this.model.seriesCollapsed=!0;break}this.disableAnimation(),this.draw(),this.enableAnimation()}},chartMouseClick:function(n){window.navigator.msPointerEnabled&&(n=n.originalEvent),this._doClick(n)},drawTrackerSymbol:function(n,t,i,r,u){var o=n.type.toLowerCase(),s=new seriesTypes[o],f=SfSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),e;this.model.AreaType=="cartesianaxes"&&u.X+f.x<=f.x+f.width&&(u.X+f.x>=f.x||u.X==0)&&(Math.abs(u.Y+f.y)>=f.y||u.Y==0)&&(e={"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",id:this.svgObject.id+"_TrackSymbol_"+t},this.gTrackerEle=this.svgRenderer.createGroup(e),this.model.crossHair.marker.visible&&s.drawSymbol(t,n,i,u.X+f.x,u.Y+f.y,this,r),this.svgRenderer.append(this.gTrackerEle,this.svgObject))},getClosesPointXY:function(n,t,i,r,u){var l,e=SfSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.model.requireInvertedAxes),a=SfSvgRender.utils._getValuebyPoint(Math.abs(r-e.x),Math.abs(u-(e.y+e.height)),i),y=a.PointX,p=a.PointY,v,o,s,h,c,f;if(u<=e.y+e.height&&e.y<=u&&e.x<=r&&r<=e.x+e.width){for(f=0;f<i.points.length;f++)o=i.points[f],s=f,n.push(o.X),t.push(o.YValues[0]);if(h=this.getClosest(n,y),c=this.getClosest(t,p),!ej.util.isNullOrUndefined(h)&&!ej.util.isNullOrUndefined(c))for(f=0;f<i.points.length;f++)o=i.points[f],s=f,o.X==h&&o.YValues[0]==c&&(l=o,v=s)}return{point:l,index:v}},getClosestPointX:function(n,t,i,r){var e=[],u=SfSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.model.requireInvertedAxes),s=SfSvgRender.utils._getValuebyPoint(Math.abs(i-u.x),Math.abs(r-(u.y+u.height)),t),h=s.PointX,o=[],f;return $.each(t.points,function(t,i){n.push(i.X)}),f=this.getClosest(n,h),ej.util.isNullOrUndefined(f)||$.each(t.points,function(n,t){t.X==f&&(e.push(t),o.push(n))}),{point:e,index:o}},getClosest:function(n,t){var r=null,u=Math.min.apply(null,n),f=Math.max.apply(null,n),i;if(t>=u&&t<=f+1)for(i=0;i<n.length;i++)(r==null||Math.abs(n[i]-t)<Math.abs(r-t))&&(r=n[i]);return r},createTooltip:function(n,t){var i=this.model._visibleSeries[n.SeriesIndex],a=i.points[n.Region.PointIndex],u=$.extend(!0,{},a),h,o,r,c,s,l,f,e;u.x=u.X,h=u.x+": "+u.YValues[0],o=$.extend({},SfSvgRender.commonChartEventArgs),o.Data={ToolTip:h,Region:n,Series:i},this._trigger("toolTipInitialize",o),r=$(".tooltipDiv"),$(".tooltipDiv").length==0?(this.tooltipFirst=!0,r=$("<div class='tooltipDiv' style='position: absolute; z-index: 13000; display: block;'><\/div>"),$(document.body).append(r),$(".tooltipDiv").addClass(this.svgObject.id)):this.tooltipFirst=!1,this.model.AreaType=="cartesianaxes"&&(i.xAxis.valueType.toLowerCase()=="datetime"&&(u.x=Globalize.format(new Date(u.X),ej.util.isNullOrUndefined(i.xAxis.labelFormat)?SfSvgRender.utils._dateTimeLabelFormat(i.xAxis.intervalType):i.xAxis.labelFormat)),i.xAxis.valueType.toLowerCase()=="category"&&(u.x=SfSvgRender.utils._getLabelContent(n.Region.PointIndex,i.xAxis))),i.pointsTooltipTemplateID!=null?(c=$("#"+i.pointsTooltipTemplateID).clone(),$(".tooltipDiv")[0].innerHTML="",$(c).css("display","block").appendTo(r),i.count=1,u.count=1,s=this.getSeriesColor(u,n.SeriesIndex),$(r).css("background-color",jQuery.type(s)=="array"?s[0].color:s),l={series:i,point:u},$(r).html($(r).html().parseTemplate(l))):$(r).html(o.Data.ToolTip),f=t.clientX+$(document).scrollLeft()+10,e=t.clientY+$(document).scrollTop()+10,f=f+$(r).width()<$(window).width()?f:f-$(r).width(),e=e+$(r).height()<$(window).height()?e:e-$(r).height(),(f===undefined||f===null)&&(f=t.clientX+$(document).scrollLeft()+10),(e===undefined||e===null)&&(e=t.clientY+$(document).scrollTop()+10),$(r).css("left",f),$(r).css("top",e),i.toolTipOptions&&i.toolTipOptions.animation&&$(r).css({"transition-property":"left,top","-moz-transition-property":"left,top","-webkit-transition-property":"left,top","-o-transition-property":"left,top","transition-duration":i.toolTipOptions.duration,"-moz-transition-duration":i.toolTipOptions.duration,"-webkit-transition-duration":this.tooltipFirst?"0s":i.toolTipOptions.duration,"-o-transition-duration":i.toolTipOptions.duration})},translate:function(n,t,i,r){var u=n.orientation.toLowerCase()=="horizontal"?t/this.model.m_AreaBounds.Width/r:i/this.model.m_AreaBounds.Height/r;n.zoomPosition=n.orientation.toLowerCase()=="horizontal"?SfSvgRender.utils._minMax(n.zoomPosition+u,0,1-n.zoomFactor):SfSvgRender.utils._minMax(n.zoomPosition-u,0,1-n.zoomFactor)},tooltip:function(n,t){var k=!1,u,y,nt,tt,o,it,rt,d,f,w,h,ut,e,r,ft,et,g,st,v,p,b,ht,ct;if(!this.model.crossHair.visible&&!this.model.crossHair.moveToArea&&this.model.AreaType=="cartesianaxes")for(h=0;h<this.model._visibleSeries.length;h++)u=this.model._visibleSeries[h],y=h,u.visibility.toLowerCase()!="visible"||u.type.toLowerCase()==="scatter"||u.type.toLowerCase()==="bubble"||u.type.toLowerCase()==="column"||u.type.toLowerCase()==="bar"||u.type.toLowerCase()==="stackingbar"||u.type.toLowerCase()==="stackingcolumn"||u._hiloTypes||($("#"+n.svgObject.id+"_TrackToolTipTemplate_"+y).remove(),$(".tooltipDiv").hasClass(n.svgObject.id)||$(".tooltipDiv").remove(),$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackSymbol_"+y).remove(),nt=[],tt=[],e=null,o=n.getClosesPointXY(tt,nt,u,n.mousemoveX,n.mousemoveY),o.point&&(e=SfSvgRender.utils._getPoint(o.point,u)),(u.marker.visible&&o.point||u.type.toLowerCase()=="bubble"&&o.point)&&($(n.svgObject).find('[id*="_TrackSymbol_"]').remove(),n.drawTrackerSymbol(u,y,o.index,!0,e)),n.model.showTooltip&&o.point&&(r=SfSvgRender.utils._getTransform(u.xAxis,u.yAxis,n.model.requireInvertedAxes),e.X+r.x<=r.x+r.width&&(e.X+r.x>=r.x||e.X==0)&&Math.abs(e.Y-(r.y+r.height))<=r.y+r.height&&(Math.abs(e.Y-(r.y+r.height))>=r.y||e.Y==0)&&($(n.svgObject).find("#"+n.svgObject.id+"_TrackToolTip").length==0&&(it={id:n.svgObject.id+"_TrackToolTip",transform:"translate("+r.x+","+r.y+")"},n.gTransToolEle=n.svgRenderer.createGroup(it)),n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_TrackToolTip"),{transform:"translate("+r.x+","+r.y+")"}),ej.util.isNullOrUndefined(u.pointsTooltipTemplateID)?(k=!0,$(".tooltipDiv").remove(),n.displayShowTooltip(e,o.point,u,o.index)):(k=!0,$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").remove(),rt={SeriesIndex:y,Region:{PointIndex:o.index}},n.createTooltip(rt,t)),d=$.extend({},SfSvgRender.commonChartEventArgs),d.Data={point:o.point,series:u},n._trigger("pointRegionMouseMove",d))));if(f=this.GetSeriesPoint(t),$(".tooltipDiv").hasClass(this.svgObject.id)||$(".tooltipDiv").remove(),f){if(this.model.AreaType=="none"&&this.model._visibleSeries[f.Region.SeriesIndex].explode&&(this.model._visibleSeries[f.Region.SeriesIndex].animation?this.model.AnimationComplete&&this.pieExplosion(f,t):this.pieExplosion(f,t)),i=this.model._visibleSeries[f.Region.SeriesIndex],w=this.model._visibleSeries[f.Region.SeriesIndex].points[f.Region.Region.PointIndex],w&&(i.type.toLowerCase()=="bubble"||i.type.toLowerCase()=="scatter")){for(h=0;h<this.model._visibleSeries.length;h++)$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackSymbol_"+h).remove();ut=SfSvgRender.utils._getPoint(w,i),this.drawTrackerSymbol(i,f.Region.SeriesIndex,f.Region.Region.PointIndex,!0,ut)}this.model.showTooltip&&!k&&i.visibility.toLowerCase()=="visible"&&(ej.util.isNullOrUndefined(i.pointsTooltipTemplateID)?(this.model.AreaType=="cartesianaxes"?(r=SfSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.model.requireInvertedAxes),$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(ft={id:this.svgObject.id+"_TrackToolTip",transform:"translate("+r.x+","+r.y+")"},this.gTransToolEle=this.svgRenderer.createGroup(ft)),this.svgRenderer._setAttr($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip"),{transform:"translate("+r.x+","+r.y+")"}),e={X:f.location.X-r.x,Y:Math.abs(f.location.Y-r.y)}):($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(et={id:this.svgObject.id+"_TrackToolTip"},this.gTransToolEle=this.svgRenderer.createGroup(et)),e={X:f.location.X,Y:Math.abs(f.location.Y)}),$(".tooltipDiv").remove(),this.displayShowTooltip(e,w,i,f.Region.Region.PointIndex)):($("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").remove(),this.createTooltip(f.Region,t))),g=$.extend({},SfSvgRender.commonChartEventArgs),g.Data=f,this._trigger("pointRegionMouseMove",g)}else if(!ej.util.isNullOrUndefined(this.model.explodeValue)){var lt=this.model.series[0].type,i=this.model.series[0],s=this.model.explodeValue,ot=new seriesTypes[lt],l,a,c=ot._calculateArcData(this,s,this.model.series[0].points[s],i);a=this.svgObject.id+"_SeriesGroup_0",l=$(this.gSeriesEle).children("#"+a)[0],this.svgRenderer._setAttr($(l.childNodes[s]),{d:c.Direction}),this.model._visibleSeries[0].marker.showText&&(i.labelPosition.toLowerCase()!="inside"&&i.marker.dataLabel.templateID||(a=this.svgObject.id+"_textGroup_0",l=$(this.gSeriesEle).children("#"+a)[0],st={size:i.marker.dataLabel.font.size,fontStyle:i.marker.dataLabel.font.fontStyle,fontFamily:i.marker.dataLabel.font.fontFamily},v=SfSvgRender.utils._measureText(ej.util.isNullOrUndefined(i.points[s].text)?i.points[s].YValues[0]:i.points[s].text,null,st),this.svgRenderer._setAttr($(l.childNodes[s]),{x:c.PositionX,y:c.PositionY+v.height/4})),i.labelPosition.toLowerCase()=="outside"&&(i.marker.dataLabel.templateID?(p=$(this.element[0].childNodes[0].childNodes[this.model.explodeValue]),b=this.model.centerX>c.PositionX?p.width():0,p.css("left",c.PositionX-b),p.css("top",c.PositionY-p.height()/2)):(b=c.PositionX<this.model.centerX?-v.width:v.width,ct=i.points[s].shape?i.points[s].shape:i.marker.dataLabel.shape,$.each(this.model.symbolShape,function(n){ct.toLowerCase()==n.toLowerCase()&&(ht=n)}),ot.dataLabelSymbol(0,i,s,c.PositionX+b/2,c.PositionY,v.width,v.height,ht,this)),a=this.svgObject.id+"_connectorGroup_0",l=$(this.gSeriesEle).children("#"+a)[0],this.svgRenderer._setAttr($(l.childNodes[s]),{d:c.Connector}))),this.model.explodeValue=null}},chartCrossHair:function(n,t){var r,o,i,e,c,u,f,s,l,h,a,y,p,v;if(this.model.crossHair.visible&&!this.model.crossHair.moveToArea){for($("#"+n.svgObject.id).find(n.gTrackAxisEle).remove(),this.model.crossHair.tooltipTemplate!=null&&$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),n.gTransToolEle&&n.gTrackerEle&&$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').remove(),e=0;e<this.model._visibleSeries.length;e++)if(o=e,i=this.model._visibleSeries[e],i.visibility.toLowerCase()=="visible")if(c=[],u=n.getClosestPointX(c,i,n.mousemoveX,n.mousemoveY),u.point)for(f=0;f<u.point.length;f++)r=SfSvgRender.utils._getPoint(u.point[f],i),s="M "+(r.X+i.xAxis.x)+" "+n.model.m_AreaBounds.Y+" L "+(r.X+i.xAxis.x)+" "+(n.model.m_AreaBounds.Y+n.model.m_AreaBounds.Height),l={id:n.svgObject.id+"_Tracker",fill:"none","stroke-width":n.model.crossHair.line.width,"clip-path":"url(#"+n.svgObject.id+"_ChartAreaClipRect)",stroke:n.model.crossHair.line.color,d:s},$(n.svgObject).find("#"+n.svgObject.id+"_Tracker").length==0?n.svgRenderer.drawPath(l,n.svgObject):n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_Tracker"),{d:s}),h=SfSvgRender.utils._getTransform(i.xAxis,i.yAxis,n.model.requireInvertedAxes),a={transform:"translate("+h.x+","+h.y+")",id:n.svgObject.id+"_TrackToolTip_"+o},n.gTransToolEle=n.svgRenderer.createGroup(a),n.drawTrackerSymbol(i,o,u.index[f],!0,r),n.model.crossHair.tooltipTemplate||n.displayTooltip(r,u.point[f],i,u.index[f]),n.displayTemplateTooltip(y,p,r,u.point[f],i,o,u.index[f]);else $(n.svgObject).find('[id*="_Tracker"]').remove();v={id:n.svgObject.id+"_TrackAxisToolTip"},n.gTrackAxisEle=n.svgRenderer.createGroup(v),r&&($.each(n.model.axes,function(i,u){var f,e;u.orientation.toLowerCase()=="horizontal"&&u.showCrossHairLabel&&(f=(r.X/u.width*u.visibleRange.delta+u.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),u.valueType.toLowerCase()=="datetime"&&(f=Globalize.format(new Date(Math.floor(f)),ej.util.isNullOrUndefined(u.labelFormat)?SfSvgRender.utils._dateTimeLabelFormat(u.intervalType):u.labelFormat)),u.valueType.toLowerCase()=="category"&&(f=SfSvgRender.utils._getLabelContent(Math.floor(f),u)),e={X:r.X+u.x,Y:u.opposedPosition?u.y+u.height-u.majorTickLines.size:u.y+u.height+u.majorTickLines.size+10},n.displayAxisTooltip(e,f,u,i,t))}),$(n.gTrackAxisEle).children().length>0&&n.svgRenderer.append(n.gTrackAxisEle,n.svgObject))}},chartAreaCrossHair:function(n,t){var r;if(this.model.crossHair.moveToArea){$("#"+n.svgObject.id).find(n.gTrackAxisEle).remove();var i="M "+this.mousemoveX+" "+this.model.m_AreaBounds.Y+" L "+this.mousemoveX+" "+(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height),u="M "+this.model.m_AreaBounds.X+" "+this.mousemoveY+" L "+(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width)+" "+this.mousemoveY,f={id:n.svgObject.id+"_CrosshairVertical",fill:"none","stroke-width":n.model.crossHair.line.width,stroke:n.model.crossHair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:i},e={id:n.svgObject.id+"_CrosshairHorizontal",fill:"none","stroke-width":n.model.crossHair.line.width,stroke:n.model.crossHair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:i};$(n.svgObject).find("#"+n.svgObject.id+"_CrosshairVertical").length==0?n.svgRenderer.drawPath(f,n.svgObject):n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_CrosshairVertical"),{d:i}),$(n.svgObject).find("#"+n.svgObject.id+"_CrosshairHorizontal").length==0?n.svgRenderer.drawPath(e,n.svgObject):n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_CrosshairHorizontal"),{d:u}),r={id:n.svgObject.id+"_AxisCrossToolTip"},n.gTrackAxisEle=n.svgRenderer.createGroup(r),$.each(n.model.axes,function(i,r){var u,e,f,o;r.orientation.toLowerCase()=="horizontal"&&r.showCrossHairLabel?(u=((n.mousemoveX-r.x)/r.width*r.visibleRange.delta+r.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),r.valueType.toLowerCase()=="datetime"&&(u=Globalize.format(new Date(Math.floor(u)),ej.util.isNullOrUndefined(r.labelFormat)?SfSvgRender.utils._dateTimeLabelFormat(r.intervalType):r.labelFormat)),r.valueType.toLowerCase()=="category"&&(u=SfSvgRender.utils._getLabelContent(u,r)),e={X:n.mousemoveX,Y:r.y},n.displayAxisTooltip(e,u,r,i,t)):r.orientation.toLowerCase()=="vertical"&&r.showCrossHairLabel&&n.mousemoveY<=r.y+r.height&&r.y<=n.mousemoveY&&(f=(Math.abs(1-(n.mousemoveY-r.y)/r.height)*r.visibleRange.delta+r.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),r.valueType.toLowerCase()=="datetime"&&(f=Globalize.format(new Date(Math.floor(f)),ej.util.isNullOrUndefined(r.labelFormat)?SfSvgRender.utils._dateTimeLabelFormat(r.intervalType):r.labelFormat)),r.valueType.toLowerCase()=="category"&&(f=SfSvgRender.utils._getLabelContent(f,r)),o={X:r.x,Y:n.mousemoveY},n.displayAxisTooltip(o,f,r,i,t))}),$(n.gTrackAxisEle).children().length>0&&n.svgRenderer.append(n.gTrackAxisEle,n.svgObject)}},chartTouchMove:function(n){n=n.originalEvent.touches[0],this.chartInteractiveBehavior(n)},chartInteractiveBehavior:function(n){var f=this.calMousePosition(n),r,e,o,t,u,i;this.mousemoveX=f.X,this.mousemoveY=f.Y,r="#"+this.svgObject.id,this.mouseWheelCoords&&(e=Math.abs(this.mouseWheelCoords.x-n.pageX),o=Math.abs(this.mouseWheelCoords.y-n.pageY),(e>0||o>0)&&!this.panning?this.enableTrackBall():this.disableTrackBall()),t=this,t.model.AreaType=="cartesianaxes"&&this.mousemoveX>=this.model.m_AreaBounds.X&&this.mousemoveX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousemoveY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousemoveY>=this.model.m_AreaBounds.Y&&this.model.initSeriesRender?(u={x:t.mousemoveX,y:t.mousemoveY},i=t.svgRenderer._getAttrVal($(n.target).parent(),"id"),i!=undefined&&(i==t.svgRenderer._getAttrVal($(this.svgObject).find(r+"_ZoomBtn"),"id")||i==t.svgRenderer._getAttrVal($(this.svgObject).find(r+"_ResetZoom"),"id")||i==t.svgRenderer._getAttrVal($(this.svgObject).find(r+"_PanBtn"),"id"))?this.disableTrackBall():this.enableTrackBall(),this.tooltip(t,n),this.chartCrossHair(t,u),this.chartAreaCrossHair(t,u)):t.model.AreaType=="none"?this.tooltip(t,n):($("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").remove(),$(".tooltipDiv").remove(),this._removeTrackBall())},chartMouseMove:function(n){var c=this,t,i,r,u,f,h,e,o,s;this.panning||(this.drag||this.chartInteractiveBehavior(n),t="#"+this.svgObject.id,this.model.zooming.enabled&&this.model.AreaType=="cartesianaxes"&&this.drag&&(this.disableTrackBall(),$("#"+this.svgObject.id+"_ZoomArea").remove(),this.model.zooming.type.toLowerCase()=="x"?(i=Math.abs(this.mousemoveX-this.mouseDownX),r=this.model.m_AreaBounds.Height,u=this.mousemoveX>this.mouseDownX?this.mouseDownX:this.mousemoveX,f=this.model.m_AreaBounds.Y):this.model.zooming.type.toLowerCase()=="y"?(i=this.model.m_AreaBounds.Width,r=Math.abs(this.mousemoveY-this.mouseDownY),u=this.model.m_AreaBounds.X,f=this.mousemoveY>this.mouseDownY?this.mouseDownY:this.mousemoveY):(i=Math.abs(this.mousemoveX-this.mouseDownX),r=Math.abs(this.mousemoveY-this.mouseDownY),u=this.mousemoveX>this.mouseDownX?this.mouseDownX:this.mousemoveX,f=this.mousemoveY>this.mouseDownY?this.mouseDownY:this.mousemoveY),$(this.svgObject).css({"-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}),this.zooming=!0,h={id:this.svgObject.id+"_ZoomArea",x:u,y:f,width:i,height:r,fill:"rgba(69,114,167,0.25)","stroke-width":1,stroke:"rgba(69,114,167,0.25)","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(h,this.svgObject))),this.panning&&this.doPan&&this.model.AreaType=="cartesianaxes"&&(e={x:this.oPreviousCoords.x-n.pageX,y:this.oPreviousCoords.y-n.pageY},this.oPreviousCoords={x:n.pageX,y:n.pageY},$.each(this.model.axes,function(n,t){var i=Math.max(1/SfSvgRender.utils._minMax(t.zoomFactor,0,1),1);c.translate(t,e.x,e.y,i)}),this.redraw(),this._cursorToPointer(),this._enableZoomingButtons()),$(this.svgObject).find(t+"_ResetZoom,"+t+"_PanBtn,"+t+"_ZoomBtn").length>0&&$(this.svgObject).find(t+"_ResetZoom,"+t+"_PanBtn,"+t+"_ZoomBtn").appendTo(this.svgObject),o=this.getLegendData(n),o&&(s=$.extend({},SfSvgRender.commonChartEventArgs),s.Data=o,this._trigger("legendItemMouseMove",s))},pieExplosion:function(n){var i=n,u,f,c,t=i.Region.Series,l=new seriesTypes[t.type],v=t.explodeIndex,r,a,e,o,s,h;v==i.PointData[0].PointIndex||i.Region.Series.explodeAll||(t.explodeIndex=i.PointData[0].PointIndex,ej.util.isNullOrUndefined(this.model.explodeValue)||(r=l._calculateArcData(this,this.model.explodeValue,t.points[this.model.explodeValue],i.Region.Series),u=this.svgObject.id+"_SeriesGroup_"+i.Region.SeriesIndex,f=$(this.gSeriesEle).children("#"+u)[0],this.svgRenderer._setAttr($(f.childNodes[this.model.explodeValue]),{d:r.Direction}),t.marker.showText&&(t.labelPosition.toLowerCase()!="inside"&&t.marker.dataLabel.templateID||(u=this.svgObject.id+"_textGroup_"+i.Region.SeriesIndex,f=$(this.gSeriesEle).children("#"+u)[0],a={size:t.marker.dataLabel.font.size,fontStyle:t.marker.dataLabel.font.fontStyle,fontFamily:t.marker.dataLabel.font.fontFamily},e=SfSvgRender.utils._measureText(ej.util.isNullOrUndefined(t.points[this.model.explodeValue].text)?t.points[this.model.explodeValue].YValues[0]:t.points[this.model.explodeValue].text,null,a),this.svgRenderer._setAttr($(f.childNodes[this.model.explodeValue]),{x:r.PositionX,y:r.PositionY+e.height/4})),t.labelPosition.toLowerCase()=="outside"&&(t.marker.dataLabel.templateID?(o=$(this.element[0].childNodes[0].childNodes[this.model.explodeValue]),s=this.model.centerX>r.PositionX?o.width():0,o.css("left",r.PositionX-s),o.css("top",r.PositionY-o.height()/2)):(s=r.PositionX<this.model.centerX?-e.width:e.width,h=t.points[this.model.explodeValue].shape?t.points[this.model.explodeValue].shape:t.marker.dataLabel.shape,$.each(this.model.symbolShape,function(n){h.toLowerCase()==n.toLowerCase()&&(c=n)}),l.dataLabelSymbol(i.Region.SeriesIndex,t,this.model.explodeValue,r.PositionX+s/2,r.PositionY,e.width,e.height,c,this)),u=this.svgObject.id+"_connectorGroup_"+i.Region.SeriesIndex,f=$(this.gSeriesEle).children("#"+u)[0],this.svgRenderer._setAttr($(f.childNodes[this.model.explodeValue]),{d:r.Connector})))),r=l._calculateArcData(this,i.PointData[0].PointIndex,this.model.chartRegions[0].Series.points[i.PointData[0].PointIndex],i.Region.Series),u=this.svgObject.id+"_SeriesGroup_"+i.Region.SeriesIndex,f=$(this.gSeriesEle).children("#"+u)[0],this.svgRenderer._setAttr($(f.childNodes[i.PointData[0].PointIndex]),{d:r.Direction}),t.marker.showText&&(t.labelPosition.toLowerCase()!="inside"&&t.marker.dataLabel.templateID||(u=this.svgObject.id+"_textGroup_"+i.Region.SeriesIndex,f=$(this.gSeriesEle).children("#"+u)[0],a={size:t.marker.dataLabel.font.size,fontStyle:t.marker.dataLabel.font.fontStyle,fontFamily:t.marker.dataLabel.font.fontFamily},e=SfSvgRender.utils._measureText(ej.util.isNullOrUndefined(t.points[i.PointData[0].PointIndex].text)?t.points[i.PointData[0].PointIndex].YValues[0]:t.points[i.PointData[0].PointIndex].text,null,a),this.svgRenderer._setAttr($(f.childNodes[i.PointData[0].PointIndex]),{x:r.PositionX,y:r.PositionY+e.height/4})),t.labelPosition.toLowerCase()=="outside"&&(t.marker.dataLabel.templateID?(o=$(this.element[0].childNodes[0].childNodes[i.PointData[0].PointIndex]),s=this.model.centerX>r.PositionX?o.width():0,o.css("left",r.PositionX-s),o.css("top",r.PositionY-o.height()/2)):(s=r.PositionX<this.model.centerX?-e.width:e.width,h=t.points[i.PointData[0].PointIndex].shape?t.points[i.PointData[0].PointIndex].shape:t.marker.dataLabel.shape,$.each(this.model.symbolShape,function(n){h.toLowerCase()==n.toLowerCase()&&(c=n)}),l.dataLabelSymbol(i.Region.SeriesIndex,t,i.PointData[0].PointIndex,r.PositionX+s/2,r.PositionY,e.width,e.height,c,this)),u=this.svgObject.id+"_connectorGroup_"+i.Region.SeriesIndex,f=$(this.gSeriesEle).children("#"+u)[0],this.svgRenderer._setAttr($(f.childNodes[i.PointData[0].PointIndex]),{d:r.Connector}))),this.model.explodeValue=i.PointData[0].PointIndex),i.Region.Series.explodeIndex=v},displayTemplateTooltip:function(n,t,i,r,u,f,e){var s=$.extend(!0,{},r),c,h,l;s.x=s.X,u.xAxis.valueType.toLowerCase()=="datetime"&&(s.x=Globalize.format(new Date(s.X),ej.util.isNullOrUndefined(u.xAxis.labelFormat)?SfSvgRender.utils._dateTimeLabelFormat(u.xAxis.intervalType):u.xAxis.labelFormat)),u.xAxis.valueType.toLowerCase()=="category"&&(s.x=SfSvgRender.utils._getLabelContent(e,u.xAxis));var a=i.X+n+15,v=i.Y+t+15,o=$("<div style='position: absolute; z-index: 13000; display: block;'><\/div>");$(o).addClass("TrackToolTipTemplate"),this.svgRenderer._setAttr($(o),{id:this.svgObject.id+"_TrackToolTipTemplate_"+f}),this.model.crossHair.tooltipTemplate!=null&&(c=$("#"+this.model.crossHair.tooltipTemplate).clone(),$(c).css("display","block").appendTo(o),u.count=1,s.count=1,h=this.getSeriesColor(s,f),$(o).css("background-color",jQuery.type(h)=="array"?h[0].color:h),l={series:u,point:s},$(o).html($(o).html().parseTemplate(l))),$(document.body).append(o),$(o).css("left",a+$(o).width()),$(o).css("top",v+$(o).height())},displayAxisTooltip:function(n,t,i,r,u){for(var o=0,v,c,h=0;h<this.model.axes.length;h++)this.model.axes[h].majorTickLines.size>o&&(o=this.model.axes[h].majorTickLines.size);if(v=i.opposedPosition?o+10+(i.x+i.width):i.x+i.width,n.X>=0&&n.X<=v){var e=n.X,l=n.Y,f=5,y=t,s=SfSvgRender.utils._measureText(t,null,i.crossHairLabelStyle.textOptions);i.orientation.toLowerCase()=="horizontal"&&(e=e-s.width/2+f,i.opposedPosition==!0&&(l=i.Location.Y1-s.height+f-3-o),i.opposedPosition==!1&&(l=i.Location.Y1+s.height-f+3+o)),!i.opposedPosition&&e+s.width>this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&(e=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X-s.width+f+this.model.elementSpacing),i.orientation.toLowerCase()=="vertical"&&(i.opposedPosition==!0&&(e=i.x+2*f-2+o),i.opposedPosition==!1&&(e=i.x-s.width-o)),c=$.extend({},SfSvgRender.commonChartEventArgs),c.Data={axisIndex:r,chartAxis:i,currentTrackText:y,location:u},this._trigger("trackAxisToolTip",c);var p={id:this.svgObject.id+"_AxisToolTipText_"+r,x:e,y:l,fill:i.crossHairLabelStyle.textOptions.color,"font-size":i.crossHairLabelStyle.textOptions.size,"font-family":i.crossHairLabelStyle.textOptions.fontFamily,"font-style":i.crossHairLabelStyle.textOptions.fontStyle,"font-weight":i.crossHairLabelStyle.textOptions.fontWeight,"text-anchor":"start",opacity:i.crossHairLabelStyle.textOptions.opacity,"dominant-baseline":"middle"},a=SfSvgRender.utils._measureText(c.Data.currentTrackText,this.model.m_AreaBounds.Width,i.crossHairLabelStyle.textOptions),w={id:this.svgObject.id+"_AxisToolTipRect_"+r,x:e-f,y:l-a.height/2-f,width:a.width+2*f,height:a.height+f,rx:i.crossHairLabelStyle.rectOptions.rx,ry:i.crossHairLabelStyle.rectOptions.ry,fill:i.crossHairLabelStyle.rectOptions.fillColor,"stroke-width":i.crossHairLabelStyle.rectOptions.borderWidth,stroke:i.crossHairLabelStyle.rectOptions.borderColor};this.svgRenderer.drawRect(w,this.gTrackAxisEle),this.svgRenderer.drawText(p,c.Data.currentTrackText,this.gTrackAxisEle)}},displayTooltip:function(n,t,i,r){var s,u,v,b,y,tt;if((n.X+this.model.m_AreaBounds.X>this.model.m_AreaBounds.X||n.X==0)&&n.X+this.model.m_AreaBounds.X<=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&n.Y+this.model.m_AreaBounds.Y>this.model.m_AreaBounds.Y&&n.Y+this.model.m_AreaBounds.Y<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height){var c=$.inArray(i,this.model._visibleSeries),e=5,o=n.X+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width)+e+1,p=n.Y,it=i.tooltipFormat,rt=ej.util.isNullOrUndefined(i.yAxis.roundingPlaces?2:i.yAxis.roundingPlaces),k=this.getTooltipFormat(t,i,c,r,it,rt),d=SfSvgRender.utils._measureText(k),ut=this.getSeriesColor(t,c),l=this.getTooltipOptions(ut,i),ft=l.rectBColor,et=l.rectFColor,ot=l.rectTextColor,st=l.rectX,ht=l.rectY,g={id:this.svgObject.id+"_ToolTipRect_"+c+"_"+r,x:o,y:p,width:d.width,height:d.height,fill:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.fillColor:et,"stroke-width":i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderWidth:1,stroke:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderColor:ft,"fill-opacity":.85,rx:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.rx:st,ry:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.ry:ht};this.svgRenderer.drawRect(g,this.gTransToolEle),s=$.extend({},SfSvgRender.commonChartEventArgs),s.Data={serIndex:c,pointIndex:r,currentText:k},this._trigger("trackToolTip",s);var nt=0,h=i.toolTipOptions.textOptions,f=h&&h.font?$.extend(!1,i.font,{},h.font):i.font,a={id:this.svgObject.id+"_ToolTipText_"+c+"_"+r,x:o,y:p,fill:h&&h.font&&h.font.color?f.color:ot,"font-size":f.size,"font-family":f.fontFamily,"font-style":f.fontStyle,"font-weight":f.fontWeight,"text-anchor":"start"},w=s.Data.currentText;if(s.Data.currentText.indexOf("<br/>")>=0&&(w=s.Data.currentText.split("<br/>")),this.svgRenderer.drawText(a,w,this.gTransToolEle,f),this.svgRenderer.append(this.gTransToolEle,this.svgObject),nt=SfSvgRender.utils._measureText(w,i.xAxis.width,f).height,u=$("#"+a.id)[0].getBoundingClientRect(),o+(u.right-u.left)>=this.model.m_AreaBounds.Width){for(v=o-(u.right-u.left+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:0:i._trackMarker.size.width)+4*e),this.svgRenderer._setAttr("#"+a.id,{x:v}),b=$("#"+a.id).children("tspan"),y=0;y<b.length;y++)tt=b[y],this.svgRenderer._setAttr(tt,{x:v});o=v}this.svgRenderer._setAttr("#"+g.id,{x:o-e,y:p-nt/2-e,width:u.right-u.left+2*e,height:u.bottom-u.top+e})}},getTooltipOptions:function(n,t){var i,r,f,e,u;return this.model.theme.indexOf("gradient")>=0?(i=jQuery.type(n)=="array"?n[0].color:n,r="white",u="#333333",f=5,e=5):(t.type.toLowerCase()!="column"&&t.type.toLowerCase()!="stackingcolumn"&&t.type.toLowerCase()!="stackingbar"&&this.model.AreaType!="none"?(r=jQuery.type(n)=="array"?n[0].color:n,i="transparent",u="white"):(i="#333333",r="white",u="#333333"),f=0,e=0),{rectBColor:i,rectFColor:r,rectTextColor:u,rectX:f,rectY:e}},getSeriesColor:function(n,t){return n.interior?n.interior._gradientStop?n.interior._gradientStop[0].color:n.interior:this.model.seriesColors[t]},getTooltipFormat:function(n,t,i,r,u,f){var e=$.extend(!0,{},n),o;return t.count=1,e.count=1,e.x=e.X,this.model.AreaType=="cartesianaxes"?(t.xAxis.valueType.toLowerCase()=="datetime"&&(e.x=Globalize.format(new Date(e.X),ej.util.isNullOrUndefined(t.xAxis.labelFormat)?SfSvgRender.utils._dateTimeLabelFormat(t.xAxis.intervalType):t.xAxis.labelFormat)),t.xAxis.valueType.toLowerCase()=="category"&&(e.x=SfSvgRender.utils._getLabelContent(r,t.xAxis))):t._xAxisValueType=="date"&&(e.x=Globalize.format(new Date(e.X),SfSvgRender.utils._dateTimeLabelFormat("days"))),e.y=SfSvgRender.utils._decimalPlaces(e.y)==0?e.y:e.y.toFixed(f),o={series:t,point:e},u.parseTemplate(o)},displayShowTooltip:function(n,t,i,r){var v=$.inArray(i,this.model._visibleSeries),g,y,o=7,f,c,l,tt=i.tooltipFormat,p,s,ut,u,k,nt,d,ft;this.model.AreaType=="cartesianaxes"?(p=i.yAxis.roundingPlaces===null||i.yAxis.roundingPlaces===undefined?2:i.yAxis.roundingPlaces,f=n.X+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width)+o+1,c=n.Y,l=this.getTooltipFormat(t,i,v,r,tt,p),g=this.getSeriesColor(t,v),y=SfSvgRender.utils._measureText(l)):(f=n.X+i.marker.size.width+o,c=n.Y,p=ej.util.isNullOrUndefined(this.model.roundingPlaces)?2:chartObj.model.roundingPlaces,l=this.getTooltipFormat(t,i,v,r,tt,p),y=SfSvgRender.utils._measureText(l),g=this.model.pointColors[r]);var a=this.getTooltipOptions(g,i),et=a.rectBColor,ot=a.rectFColor,st=a.rectTextColor,ht=a.rectX,ct=a.rectY,it={id:this.svgObject.id+"_ToolTipRect",x:f,y:c,width:y.width,height:y.height,fill:i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.fillColor:ot,"stroke-width":i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderWidth:1,stroke:i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderColor:et,"fill-opacity":.95,rx:i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.rx:ht,ry:i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.ry:ct};this.svgRenderer.drawRect(it,this.gTransToolEle),s=$.extend({},SfSvgRender.commonChartEventArgs),s.Data={serIndex:v,pointIndex:r,currentText:l},this._trigger("toolTipInitialize",s);var rt=0,h=i.toolTipOptions.textOptions,e=h&&h.font?$.extend(!1,i.font,{},h.font):i.font,w={id:this.svgObject.id+"_ToolTipText",x:f,y:c,fill:h&&h.font&&h.font.color?e.color:st,"font-size":e.size,"font-family":e.fontFamily,"font-style":e.fontStyle,"font-weight":e.fontWeight,"text-anchor":"start"},b=s.Data.currentText;if(s.Data.currentText.indexOf("<br/>")>=0&&(b=s.Data.currentText.split("<br/>")),rt=this.model.AreaType=="cartesianaxes"?SfSvgRender.utils._measureText(b,i.xAxis.width,e).height:SfSvgRender.utils._measureText(b,null,e).height,ut=this.model.AreaType=="cartesianaxes"?this.model.m_AreaBounds.Width:$(this.svgObject).width(),this.svgRenderer.drawText(w,b,this.gTransToolEle,e),$(this.svgObject).find("#"+this.svgObject.id+ + "_TrackToolTip").length==0&&this.svgRenderer.append(this.gTransToolEle,this.svgObject),u=$("#"+w.id)[0].getBoundingClientRect(),f+(u.right-u.left)>=ut){for(k=f-(u.right-u.left+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:0:i._trackMarker.size.width)+4*o),this.svgRenderer._setAttr("#"+w.id,{x:k}),nt=$("#"+w.id).children("tspan"),d=0;d<nt.length;d++)ft=nt[d],this.svgRenderer._setAttr(ft,{x:k});f=k}this.svgRenderer._setAttr("#"+it.id,{x:f-o,y:c-rt/2-o,width:u.right-u.left+2*o,height:u.bottom-u.top+o})},_initializeSeriesColors:function(){for(var t=this,n,u,r,i=0;i<this.model._visibleSeries.length;i++)if(n=this.model._visibleSeries[i],n.visibility.toLowerCase()==="visible"&&t.model.AreaType=="cartesianaxes")t.model.seriesColors[i]=!ej.util.isNullOrUndefined(n.style)&&n.style.interior?ej.util.isNullOrUndefined(n.style.interior._gradientStop)?n.style.interior:n.style.interior._gradientStop:t.model.colors[i%10],t.model.seriesBorderColors[i]=ej.util.isNullOrUndefined(n.style)||ej.util.isNullOrUndefined(n.style.borderColor)?t.model.seriesBorderDefaultColors[i%10]:n.style.borderColor;else if(n.visibility.toLowerCase()==="visible")for(u=0;u<n.points.length;u++)r=n.points[u],t.model.pointColors[u]=!ej.util.isNullOrUndefined(r)&&r.interior?ej.util.isNullOrUndefined(r.interior._gradientStop)?r.interior:r.interior._gradientStop:t.model.colors[u%10],t.model.pointBorderColors[u]=ej.util.isNullOrUndefined(r.style)||ej.util.isNullOrUndefined(r.style.borderColor)?t.model.seriesBorderDefaultColors[i%10]:n.style.borderColor},_createAxisLabelAndRange:function(){var u=!1,t,r,i,n;for(this.model.axes=this.model.axes?this.model.axes:[],t=0;t<this.model.axes.length;t++)n=this.model.axes[t],n.orientation=n.orientation?n.orientation:"vertical",this.model.axes[t]=n.orientation.toLowerCase()=="horizontal"?$.extend(!0,{},this.model.secondaryX,n):$.extend(!0,{},this.model.secondaryY,n);for(this.model.primaryYAxis.axisName="SecondaryAxis",this.model.primaryXAxis.axisName="PrimaryAxis",r=0;r<this.model.axes.length;r++)n=this.model.axes[r],(n.axisName===this.model.primaryXAxis.axisName||n.axisName===this.model.primaryYAxis.axisName)&&(u=!0);for(u||(this.model.axes.unshift(this.model.primaryYAxis),this.model.axes.unshift(this.model.primaryXAxis)),i=0;i<this.model.axes.length;i++)n=this.model.axes[i],u||this.model.requireInvertedAxes&&(n.axisName===this.model.primaryYAxis.axisName||n.axisName===this.model.primaryXAxis.axisName)&&(n.orientation.toLowerCase()=="horizontal"?n.orientation="vertical":(n.orientation="horizontal",n.labelPlacement=n.labelPlacement?n.labelPlacement:ej.Chart.labelPlacement.OnTicks)),n.visibleLabels=[],n.setRange=n.range?ej.util.isNullOrUndefined(n.setRange)?!0:n.setRange:!1,n.setRange=n.actual_Range||n.setRange!=!1?!0:!1,n.actualRange=n.actualRange?n.actualRange:n.range==null?{}:n.range,n.visibleRange=n.visibleRange?n.visibleRange:n.range==null?{}:n.range,n.axisName=n.axisName?n.axisName:i.toString()},_drawTitle:function(){var t=SfSvgRender.utils._measureText(this.model.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.titleFont),e=this.model.text==""?0:t.height+this.model.elementSpacing,o=this.model.legend.position.toLowerCase()=="left"?this.model.LegendBounds.Width/2:this.model.legend.position.toLowerCase()=="right"?-this.model.LegendBounds.Width/2:0,r=this.model.AreaType=="none"?o:this.model.m_AreaBounds.X,u,i,n,f;this.model.text!=""&&this.model.text!=null&&(u=this.model.margin.top+e/2+this.model.elementSpacing,i=(this.model.AreaType=="none"?$(this.svgObject).width()/2:this.model.m_AreaBounds.Width/2)-t.width/2,this.model.textAlignment||(this.model.textAlignment="center"),this.model.textAlignment.toLowerCase()=="near"?i=0:this.model.textAlignment.toLowerCase()=="far"&&(i=$(this.svgObject).width()-(this.model.margin.right+this.model.elementSpacing+this.model.m_AreaBounds.X)-t.width),n=$.extend({},SfSvgRender.commonChartEventArgs),n.Data={Title:this.model.text,Location:{X:i,Y:u},Size:t},this._trigger("titleRendering",n),this.model._titleLocation={X:n.Data.Location.X+r,Y:n.Data.Location.Y},f={id:this.svgObject.id+"_ChartTitle",x:n.Data.Location.X+r,y:n.Data.Location.Y,fill:this.model.titleFont.color,"font-size":this.model.titleFont.size,"font-family":this.model.titleFont.fontFamily,"font-style":this.model.titleFont.fontStyle,"font-weight":this.model.titleFont.fontWeight,"text-anchor":"start"},this.svgRenderer.drawText(f,n.Data.Title,this.gTitleEle),this.svgRenderer.append(this.gTitleEle,this.svgObject))},_getLegendSize:function(n){var u=this.model.legend.textOption.font,i=SfSvgRender.utils._measureText(n.name,null,u),r=this.model.legend.itemSize,t=this.model.legend.itemPadding,f=t+r.width+t+i.width,e=Math.max(r.height+t,i.height+t);return{Width:f,Height:e}},_getYValues:function(n){for(var i=[],t=0;t<n.points.length;t++)i.push(n.points[t].y);return i},_getXValues:function(){for(var t=[],n=0;n<series.points.length;n++)t.push(series.points[n].X);return t},_calculateStackingValues:function(n,t){var c,h,f,e,i,r,l,u,o,s;for(this.model.stackedValue[t.axisName]=[],this.model.stackedValue[t.axisName].min=0,this.model.stackedValue[t.axisName].max=0,c=this.model.requireInvertedAxes?this.model.vAxes:this.model.hAxes,h=0;h<c.length;h++)for(u=0,f=[],e=[],i=0;i<n.length;i++)if(n[i].xAxisName==c[h].axisName&&n[i].type.toLowerCase().indexOf("stacking")!=-1){for(r={},r.StartValues=[],r.EndValues=[],n[i].stackingGroup&&n[i].type.toLowerCase()!="stackingarea"?ej.util.isNullOrUndefined(f[n[i].stackingGroup])&&(f[n[i].stackingGroup]=[],e[n[i].stackingGroup]=[]):(n[i].stackingGroup="",ej.util.isNullOrUndefined(f[n[i].stackingGroup])&&(f[n[i].stackingGroup]=[],e[n[i].stackingGroup]=[])),series=n[i],l=this._getYValues(series),u=0;u<l.length;u++)o=0,s=l[u],f[n[i].stackingGroup].length<=u&&f[n[i].stackingGroup].push(0),e[n[i].stackingGroup].length<=u&&e[n[i].stackingGroup].push(0),r.StartValues.length<=u&&(r.StartValues.push(0),r.EndValues.push(0)),s>0?(o=f[n[i].stackingGroup][u],f[n[i].stackingGroup][u]+=s):(o=e[n[i].stackingGroup][u],e[n[i].stackingGroup][u]+=s),r.StartValues[u]=o,r.EndValues[u]=s+o,series.points[u].YValues=[r.EndValues[u]];r.stackedSeries=!1,this.model.stackedValue[t.axisName].push(r),this.model.stackedValue[t.axisName].min>Math.min.apply(0,r.StartValues)&&(this.model.stackedValue[t.axisName].min=Math.min.apply(0,r.StartValues)),this.model.stackedValue[t.axisName].max<Math.max.apply(0,r.EndValues)&&(this.model.stackedValue[t.axisName].max=Math.max.apply(0,r.EndValues)),series.stackedValue=r}},_legendItemBounds:function(n,t,i){var r=this.model.legend,u,o,f=0,e=0;return ej.util.isNullOrUndefined(r.columnCount)&&r.rowCount?(u=r.rowCount,o=Math.ceil(n/u),f=t*o,e=i*u):ej.util.isNullOrUndefined(r.rowCount)&&r.columnCount?(u=Math.ceil(n/r.columnCount),f=t*this.model.legend.columnCount,e=i*u):r.rowCount&&r.columnCount&&(r.columnCount<r.rowCount?(u=r.rowCount,o=Math.ceil(n/u),f=t*o):(u=Math.ceil(n/r.columnCount),f=t*r.columnCount),e=i*u),e+=this.model.elementSpacing,{LegendWidth:f,LegendHeight:e}},_calculateLegendBounds:function(){var n=this,i,u,d,y,g,ut,a,p,w,nt,tt,it,b,rt,r,k,v,h;this.model.legendCollection=[],this.model.legendRegion=[];var t=0,o=0,s=0,f=0,e=0,c=0,l=1;if(this.model._visibleSeries&&this.model.legend.visible){if(y=null,this.model.AreaType=="none"){for(r=this.model._visibleSeries[0],ut=new seriesTypes[r.type],a=ut._pieVisiblePoints(r),h=0;h<a.length;h++)p=a[h],w=h,nt={name:p.X,Font:r.font},i=n._getLegendSize(nt),s=Math.max(i.Width,s),f=Math.max(i.Height,f);for((n.model.legend.columnCount||n.model.legend.rowCount)&&(v=this._legendItemBounds(a.length,s,f),e=v.LegendWidth,c=v.LegendHeight),b=0;b<a.length;b++)p=a[b],w=b,nt={name:p.X,Font:r.font},i=n._getLegendSize(nt),n.model.legend.rowCount||n.model.legend.columnCount||(n.model.legend.position.toLowerCase()==n.model.legendPosition.top||n.model.legend.position.toLowerCase()==n.model.legendPosition.bottom||n.model.legend.position.toLowerCase()==n.model.legendPosition.custom?(t+=i.Width,t>$(n.svgObject).width()?(t-=i.Width,e=Math.max(e,t),t=i.Width,l++,c=f*l+this.model.elementSpacing):e=Math.max(e,t),o=Math.max(o,f)):(o+=f,e=Math.max(t,s))),u=n.model.legend.style,u!=null&&(d=u.opacity,y=u.interior?u.interior._gradientStop?u.interior._gradientStop:u.interior:n.model.pointColors[w],g=n.svgRenderer.createGradientElement("legend"+w,y,0,0,0,$(n.svgObject).height(),n.gLegendEle),tt=r.font?r.font:n.model.legend.textOption.font,rt=n.model.legend.rowCount||n.model.legend.columnCount?{Width:s,Height:f}:i,it={Text:p.X,Shape:n.model.legend.shape,LegendStyle:{BorderColor:n.model.legend.itemSize.borderColor,BorderWidth:n.model.legend.itemSize.borderWidth,Opacity:d,Color:g,Font:tt},Bounds:rt,SeriesIndex:0,PointIndex:w},n.model.legendCollection.push(it))}else{for(k=0;k<this.model._visibleSeries.length;k++)r=this.model._visibleSeries[k],i=n._getLegendSize(r),s=Math.max(i.Width,s),f=Math.max(i.Height,f);for((n.model.legend.columnCount||n.model.legend.rowCount)&&(v=this._legendItemBounds(this.model._visibleSeries.length,s,f),e=v.LegendWidth,c=v.LegendHeight),h=0;h<this.model._visibleSeries.length;h++)index=h,r=this.model._visibleSeries[h],i=n._getLegendSize(r),n.model.legend.rowCount||n.model.legend.columnCount||(n.model.legend.position.toLowerCase()==n.model.legendPosition.top||n.model.legend.position.toLowerCase()==n.model.legendPosition.bottom||n.model.legend.position.toLowerCase()==n.model.legendPosition.custom?(t+=i.Width,t>$(n.svgObject).width()&&(t-=i.Width,e=Math.max(e,t),t=i.Width,l++,c=f*l+this.model.elementSpacing),o=Math.max(o,i.Height)):(o+=f,t=Math.max(t,s))),u=n.model.legend.style,u!=null&&(d=u.opacity),y=u.interior?u.interior._gradientStop?u.interior._gradientStop:u.interior:n.model.seriesColors[index],g=r.visibility.toLowerCase()==="visible"?n.svgRenderer.createGradientElement("legend"+index,y,0,0,0,$(n.svgObject).height(),n.gLegendEle):"gray",tt=r.font?r.font:n.model.legend.textOption.font,rt=n.model.legend.rowCount||n.model.legend.columnCount?{Width:s,Height:f}:i,it={Text:r.name?r.name:"series"+k,Shape:n.model.legend.shape,LegendStyle:{BorderColor:n.model.legend.itemSize.borderColor,BorderWidth:n.model.legend.itemSize.borderWidth,Opacity:d,Color:g,Font:tt},Bounds:rt,SeriesIndex:index},n.model.legendCollection.push(it)}this.model.legend.position.toLowerCase()===this.model.legendPosition.top||this.model.legend.position.toLowerCase()===this.model.legendPosition.bottom||this.model.legend.position.toLowerCase()===this.model.legendPosition.custom?(t+=n.model.legend.itemPadding,o+=n.model.legend.itemPadding,this.model.LegendBounds={Width:Math.max(e,t),Height:Math.max(c,o),Rows:l}):(t+=n.model.legend.itemPadding,o+=n.model.legend.itemPadding,this.model.LegendBounds={Width:Math.max(e,t),Height:Math.max(c,o),Columns:l})}else this.model.LegendBounds={Width:0,Height:0}},GetPointXYOrgin:function(n,t,i,r){var u=(n-i)/(this.model.axes.PrimaryXaxis.visibleRange.max-i)*this.model.m_AreaBounds.Width,f=(t-r)/(this.model.axes.PrimaryYaxis.visibleRange.max-r)*(this.model.m_AreaBounds.Height-this.GetPointXY(this.model.axes.PrimaryXaxis.visibleRange.min,Math.max(this.model.axes.PrimaryYaxis.visibleRange.min,0)).Y);return{X:u,Y:f}},AddRegion:function(n,t,i,r){var u=$.inArray(t,this.model._visibleSeries),f={SeriesIndex:u,Region:{PointIndex:r,Bounds:n}};this.model.chartRegions.push(f)},_drawChartAreaRect:function(){var n=(this.model.backInterior&&this.model.backInterior._gradientStop)?"url(#"+this.svgObject.id+"_backGradient)":this.model.backInterior,t,i;(this.model.backGroundImageUrl||this.model.AreaType=="none")&&(n="transparent"),t={id:this.svgObject.id+"_SvgRect",x:0,y:0,width:$(this.svgObject).width()-this.model.chartBorder.width,height:$(this.svgObject).height()-this.model.chartBorder.width,fill:n,"stroke-width":this.model.chartBorder.width,stroke:this.model.chartBorder.color},this.svgRenderer.drawRect(t,this.svgObject),this.model.backGroundImageUrl&&this._drawBackImage(),this.model.chartAreaBorder.visible&&this.model.AreaType=="cartesianaxes"&&(i={id:this.svgObject.id+"_ChartArea",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:n,"stroke-width":this.model.chartAreaBorder.width,opacity:this.model.chartAreaBorder.opacity,stroke:this.model.chartAreaBorder.color},this.svgRenderer.drawRect(i,this.svgObject))},axesCount:function(n){var t=[];return $.each(n,function(n,i){n==0?t.push(i):i.orientation.toLowerCase()=="vertical"?i.rowIndex!=t[t.length-1].rowIndex&&t.push(i):i.columnIndex!=t[t.length-1].columnIndex&&t.push(i)}),t.length},_calculateAxisSpace:function(n){for(var t=[],i=[],u,o,f,r=0;r<n.length;r++){var s=r,h=0,e=n[r];s==0?t.push(e.AxisMaxWidth):n[s-1].rowIndex==e.rowIndex?(h=h+e.AxisMaxWidth,t.push(h)):(i.push({item:t,Count:t.length}),t=[],t.push(e.AxisMaxWidth)),s==n.length-1&&i.push({item:t,Count:t.length})}if(t=[],i.length>0)for(i=i.sort(function(n,t){return n.Count-t.Count}),u=0;u<i[i.length-1].Count;u++){for(o=0,f=0;f<i.length;f++)o<i[f].item[u]&&(o=i[f].item[u]);t.push(o)}return t},_arrangeYAxis:function(n){for(var r=[],u=[],i,f,e,t=0;t<n.length;t++)i=n[t],i.opposedPosition?u.push(i):r.push(i);return f=this._calculateAxisSpace(r),e=this._calculateAxisSpace(u),{normalAxis:f,oppAxis:e}},_calculateAxisSize:function(){var t,i,e,n,f,v,nt,y,l,rt,b,a,k,d,ut,g;for(this.model.axisCollection=[],t=this,i=[],i.push({RowIndex:0,Y1:0,Y2:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height}),v=0;v<this.model.hAxes.length;v++)this.model.axisCollection.push(this.model.hAxes[v]);for(nt=this._arrangeYAxis(this.model.vAxes),y=0;y<this.model.vAxes.length;y++)n=this.model.vAxes[y],t.model.axisCollection.push(n);var h=0,c=0,tt=0,r=0,u=0,p=0,w=0,o=!0,s=!0,it=!0;for(l=0;l<this.model.axisCollection.length;l++){if(e=l,n=this.model.axisCollection[l],n.orientation.toLowerCase()=="horizontal"){for(u=0,h==0?h++:t.model.axisCollection[e-1].orientation.toLowerCase()=="horizontal"&&t.model.axisCollection[e-1].columnIndex==n.columnIndex?t.model.axisCollection[e-1].opposedPosition==n.opposedPosition&&(u=tt+t.model.axisCollection[e-1].AxisMaxHeight,tt=u):h++,rt=Math.floor(t.model.m_AreaBounds.Width/t.axesCount(t.model.hAxes)),b=[],f=t.model.m_AreaBounds.X;f<=t.model.m_AreaBounds.X+t.model.m_AreaBounds.Width;f=f+rt)b.push({Value:f});r=0,r=n.opposedPosition?t.model.m_AreaBounds.Y-u:t.model.m_AreaBounds.Y+t.model.m_AreaBounds.Height+u,n.Location={},n.Location.X1=b[h-1].Value,n.Location.Y1=r,n.Location.X2=b[h].Value,n.Location.Y2=r,n.x=n.Location.X1,n.y=n.Location.Y1,n.width=n.Location.X2-n.Location.X1,n.height=n.Location.Y2-n.Location.Y1}if(n.orientation.toLowerCase()=="vertical")if(a=t.model.rowDefinitions?t.model.rowDefinitions[n.rowIndex]?t.model.rowDefinitions[n.rowIndex]:t.model.rowDefinitions[0]:null,u=0,c==0?(o=n.opposedPosition?o:!1,s=n.opposedPosition?!1:s,p=0,w=0,c++):t.model.axisCollection[e-1].orientation.toLowerCase()=="vertical"&&t.model.axisCollection[e-1].rowIndex==n.rowIndex?(it||t.model.axisCollection[e-1].opposedPosition==n.opposedPosition)&&(n.opposedPosition==!1?(o||(u=nt.normalAxis[p],p++),o=!1):(s||(u=nt.oppAxis[w],w++),s=!1)):(o=n.opposedPosition?o:!1,s=n.opposedPosition?!1:s,c++,it=!1,p=0,w=0),a)k=0,i.length==1?(i[i.length-1].RowIndex=n.rowIndex,k=i[i.length-1].Y2):k=i[i.length-1].RowIndex!=n.rowIndex?i[i.length-1].Y2:i[i.length-1].Y1,r=t.model.m_AreaBounds.X-u,n.opposedPosition&&(r=t.model.m_AreaBounds.X+t.model.m_AreaBounds.Width+u),d=0,d=a.unit.toLowerCase()=="percentage"?Math.floor(t.model.m_AreaBounds.Height*(a.rowHeight/100)):a.rowHeight,n.Location={},n.Location.X1=r,n.Location.Y1=k,n.Location.X2=r,n.Location.Y2=n.Location.Y1-d<t.model.m_AreaBounds.Y?t.model.m_AreaBounds.Y:n.Location.Y1-d,n.x=n.Location.X1,n.y=n.Location.Y2,n.height=n.Location.Y1-n.Location.Y2,n.width=n.axisLine.lineWidth,i.push({RowIndex:n.rowIndex,Y1:n.Location.Y1,Y2:n.Location.Y2});else{for(ut=Math.floor(t.model.m_AreaBounds.Height/t.axesCount(t.model.vAxes)),g=[],f=t.model.m_AreaBounds.Y+t.model.m_AreaBounds.Height;f>=t.model.m_AreaBounds.Y;f=f-ut)g.push({Value:f});r=t.model.m_AreaBounds.X-u,n.opposedPosition&&(r=t.model.m_AreaBounds.X+t.model.m_AreaBounds.Width+u),n.Location={},n.Location.X1=r,n.Location.Y1=g[c-1].Value,n.Location.X2=r,n.Location.Y2=g[c].Value,n.x=n.Location.X1,n.y=n.Location.Y2,n.height=n.Location.Y1-n.Location.Y2,n.width=n.axisLine.lineWidth}}},_arrangeAxis:function(){for(var t=this,n,i,u,f,r=0;r<this.model.axes.length;r++)n=this.model.axes[r],n.orientation.toLowerCase()=="horizontal"?(t.model.hAxes.push(n),n.columnIndex=ej.util.isNullOrUndefined(n.columnIndex)?0:n.columnIndex,t.model.hAxes[t.model.hAxes.length-1].columnIndex=n.columnIndex):n.orientation.toLowerCase()=="vertical"&&(t.model.vAxes.push(n),n.rowIndex=ej.util.isNullOrUndefined(n.rowIndex)?0:n.rowIndex,t.model.vAxes[t.model.vAxes.length-1].rowIndex=n.rowIndex,i=ej.util.isNullOrUndefined(t.model.rowDefinitions)?null:t.model.rowDefinitions[n.rowIndex],i&&(n.axisBottomLine={},n.axisBottomLine.visible=!0,n.axisBottomLine.lineWidth=i.lineWidth,n.axisBottomLine.color=i.lineColor));this.model.hAxes=ej.DataManager(this.model.hAxes,ej.Query().sortBy("columnIndex")).executeLocal(),this.model.vAxes=ej.DataManager(this.model.vAxes,ej.Query().sortBy("rowIndex")).executeLocal();var o=this.model.legend.position.toLowerCase()==this.model.legendPosition.Left?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,s=this.model.legend.position.toLowerCase()==this.model.legendPosition.right?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,h=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right-this.model.elementSpacing*2-o-s,e=Math.floor(h/this.axesCount(t.model.hAxes)),c=this.model.legend.position.toLowerCase()==this.model.legendPosition.top?this.model.LegendBounds.Height+this.model.legend.itemPadding/2+this.model.elementSpacing:0,l=this.model.legend.position.toLowerCase()==this.model.legendPosition.bottom?this.model.LegendBounds.Height+this.model.legend.itemPadding/2+this.model.elementSpacing:0,a=this.model.text==""?0:SfSvgRender.utils._measureText(this.model.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.titleFont).height+this.model.elementSpacing,v=$(this.svgObject).height()-this.model.margin.top-this.model.margin.bottom-this.model.elementSpacing*2-c-l-a,y=Math.floor(v/this.axesCount(t.model.vAxes));for(u=0;u<this.model.axes.length;u++)n=this.model.axes[u],n.orientation.toLowerCase()=="horizontal"?n.length=e:n.orientation.toLowerCase()=="vertical"&&(i=ej.util.isNullOrUndefined(t.model.rowDefinitions)?null:t.model.rowDefinitions[n.rowIndex],f=y,i&&(f=i.unit.toLowerCase()=="percentage"?Math.floor(e*(i.rowHeight/100)):i.rowHeight),n.length=f)},_calculateAreaBounds:function(){for(var o=this,p=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,r=[],t=[],n,h,w,b,c,l,s,f,a,v,y,d,u=0;u<this.model.vAxes.length;u++)n=this.model.vAxes[u],h=u,s=n.title.text==""||!n.visible?0:SfSvgRender.utils._measureText(n.title.text,p,n.title.font).height+2*o.model.elementSpacing,f=0,h>0&&(t.length>0&&n.opposedPosition?f=t[t.length-1].RowIndex==n.rowIndex&&t[t.length-1].OpposedPosition?t[t.length-1].MaxWidth:0:r.length>0&&!n.opposedPosition&&(f=r[r.length-1].RowIndex==n.rowIndex?r[r.length-1].MaxWidth:0)),n.AxisMaxWidth=o.model.elementSpacing+s+n._LableMaxWidth.width+n.majorTickLines.size+n.axisLine.lineWidth,n.opposedPosition?t.push({MaxWidth:f+n.AxisMaxWidth,RowIndex:n.rowIndex,OpposedPosition:n.opposedPosition}):r.push({MaxWidth:f+n.AxisMaxWidth,RowIndex:n.rowIndex,OpposedPosition:n.opposedPosition});w=this.model.legend.position.toLowerCase()==this.model.legendPosition.left?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,b=this.model.legend.position.toLowerCase()==this.model.legendPosition.right?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,r=r.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),c=r.length>0?r[r.length-1].MaxWidth:0,l=c+w+o.model.margin.left,t=t.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),c=t.length>0?t[t.length-1].MaxWidth:0;var k=c+b+o.model.margin.right+o.model.margin.left,g=$(this.svgObject).width()-(l+k),nt=this.model.legend.position.toLowerCase()==this.model.legendPosition.top?this.model.LegendBounds.Height:0,tt=this.model.legend.position.toLowerCase()==this.model.legendPosition.bottom?this.model.LegendBounds.Height:0,it=this.model.text==""?0:SfSvgRender.utils._measureText(this.model.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.titleFont).height+this.model.elementSpacing,e=[],i=[];for(u=0;u<this.model.hAxes.length;u++)n=this.model.hAxes[u],h=u,s=n.title.text==""||!n.visible?0:SfSvgRender.utils._measureText(n.title.text,p,n.title.font).height+o.model.elementSpacing,f=0,h>0&&(i.length>0&&n.opposedPosition?f=i[i.length-1].ColumnIndex==n.columnIndex&&i[i.length-1].OpposedPosition?i[i.length-1].MaxWidth:0:e.length>0&&!n.opposedPosition&&(f=e[e.length-1].ColumnIndex==n.columnIndex?e[e.length-1].MaxWidth:0)),n.AxisMaxHeight=o.model.elementSpacing+s+n._LableMaxWidth.height+3+n.majorTickLines.size+n.axisLine.lineWidth,n.opposedPosition?i.push({MaxWidth:f+n.AxisMaxHeight,ColumnIndex:n.columnIndex,OpposedPosition:n.opposedPosition}):e.push({MaxWidth:f+n.AxisMaxHeight,ColumnIndex:n.columnIndex,OpposedPosition:n.opposedPosition});i=i.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),a=i.length>0?i[i.length-1].MaxWidth:0,v=a+this.model.margin.top+this.model.elementSpacing+it+nt,e=e.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),a=e.length>0?e[e.length-1].MaxWidth:0,y=a+this.model.margin.bottom+tt,d=Math.abs($(this.svgObject).height()-(v+y)),this.model.m_AreaBounds={X:l,Y:v,Width:g,Height:d},this.model.m_Spacing={Left:l,Top:v,Right:k,Bottom:y}}},jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},syncfusion={getStringBuilder:function(){var n=[],t=0;return{append:function(i){return n[t++]=i,this},remove:function(t,i){return n.splice(t,i||1),this},insert:function(t,i){return n.splice(t,0,i),this},toString:function(t){return n.join(t||"")}}}},function(n,t){t.widget("ejChart","ej.Chart",{element:null,model:null,validTags:["div"],defaults:{chartBorder:{color:"transparent",width:0},chartAreaBorder:{visible:!0,color:"Gray",width:.5,opacity:.3},primaryXAxis:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!0,opacity:.3},majorTickLines:{lineWidth:.8,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},minorTicksPerInterval:null,rowIndex:null,valueType:null,axisName:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],stripline:[],title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular"}},rangePadding:"None",additionalPadding:[1,1],orientation:"Horizontal",opposedPosition:!1,axisLine:{visible:!0,lineWidth:.5,dashArray:""},hidePartialLabels:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1},visible:!0,showCrossHairLabel:!1,zoomFactor:1,zoomPosition:0},primaryYAxis:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!0,opacity:.3},majorTickLines:{lineWidth:1,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},minorTicksPerInterval:null,columnIndex:null,valueType:null,axisName:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular"}},rangePadding:"Normal",stripline:[],orientation:"Vertical",hidePartialLabels:!1,showCrossHairLabel:!1,visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"},axisLine:{visible:!0,lineWidth:.5,dashArray:""},zoomFactor:1,zoomPosition:0},secondaryX:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!1},majorTickLines:{lineWidth:1,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},rowIndex:null,valueType:null,axisName:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,minorTicksPerInterval:null,title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular"}},labels:[],stripline:[],orientation:"Horizontal",opposedPosition:!1,axisLine:{visible:!0,lineWidth:.5,dashArray:""},hidePartialLabels:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular"},rangePadding:"None",showCrossHairLabel:!1,visible:!0,zoomFactor:1,zoomPosition:0},secondaryY:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!0},majorTickLines:{lineWidth:1,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},minorTicksPerInterval:null,columnIndex:null,valueType:null,axisName:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",fontWeight:"regular",opacity:1}},stripline:[],visible:!0,rangePadding:"Normal",orientation:"Vertical",hidePartialLabels:!1,showCrossHairLabel:!1,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular"},axisLine:{visible:!0,lineWidth:.5,dashArray:""},zoomFactor:1,zoomPosition:0},striplineDefault:{visible:!0,startFromAxis:!1,text:"stripline",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",color:"black"},start:null,end:null,color:"gray",borderColor:"black",zOrder:"over",borderWidth:1},rowDefinitions:null,text:"",titleFont:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"20px",opacity:.5,fontWeight:"regular"},lineCap:{butt:"butt",round:"round",rquare:"square"},lineJoin:{round:"round",bevel:"bevel",miter:"miter"},legendAlignment:{near:"near",center:"center",far:"far"},legendPosition:{top:"top",bottom:"bottom",right:"right",left:"left",custom:"custom"},animation:!0,legend:{borderColor:"black",borderWidth:1,showBorder:!1,visible:!0,itemPadding:10,shape:"None",alignment:"Center",position:"Bottom",location:{X:0,Y:0},itemSize:{height:10,width:10,borderColor:"transparent",borderWidth:1},style:{opacity:1,interior:null},rowCount:null,columnCount:null,textOption:{font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px"}}},commonSeriesOptions:{type:"line",animation:!0,doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",labelPosition:"inside",gapRatio:0,pieCoefficient:.8,doughnutSize:.8,dataSource:null,startAngle:null,xAxisName:null,yAxisName:null,explodeAll:null,explodeIndex:null,toolTipOptions:{animation:!0,duration:"500ms"},tooltipFormat:"#point.x# : #point.y#",marker:{shape:"circle",size:{width:6,height:6},visible:!1,textAlignment:"center",textPosition:"top",style:{opacity:1,interior:null,borderColor:"white",borderWidth:3},dataLabel:{shape:"none",style:{opacity:1,interior:null,borderColor:"white",borderWidth:.1},connectorLine:{strokeWidth:.5},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},showText:!1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},crossHair:{marker:{visible:!0,size:{width:10,height:10},style:{opacity:1,borderWidth:3}},moveToArea:!1},seriesStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:"transparent",borderWidth:1,dashArray:""},pointStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:null,borderWidth:1},textStyle:{marker:{textAlignment:"center",textPosition:"top"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},symbolShape:{None:0,LeftArrow:1,RightArrow:2,Circle:3,Cross:4,HorizLine:5,VertLine:6,Diamond:7,Rectangle:8,Triangle:9,InvertedTriangle:10,Hexagon:11,Pentagon:12,Star:13,Ellipse:14,Wedge:15,Trapezoid:16,UpArrow:17,DownArrow:18,Image:19},initSeriesRender:!0,theme:"flatlight",needResize:!1,zooming:{enabled:!1,type:"x,y",enableMouseWheel:!1},load:"",axesLabelRendering:"",axesRangeCalculate:"",axesTitleRendering:"",chartAreaBoundsCalculate:"",legendItemRendering:"",lengendBoundsCalculate:"",preRender:"",seriesRendering:"",symbolRendering:"",titleRendering:"",axesLabelsInitialize:"",pointRegionClick:"",pointRegionMouseMove:"",legendItemClick:"",legendItemMouseMove:"",displayTextRendering:"",toolTipInitialize:"",trackAxisToolTip:"",trackToolTip:"",animationComplete:"",destroy:"",create:"",margin:{left:10,right:10,top:10,bottom:10},size:{height:450},elementSpacing:10,showTooltip:!1,seriesColors:[],seriesBorderColors:[],dateStart:25568.791666666668,pointColors:[],pointBorderColors:[]},dataTypes:{dataSource:"data",axes:"array",series:"array",showTooltip:"boolean",rowDefinitions:"array",seriesColors:"array",seriesBorderColors:"array",pointColors:"array",pointBorderColors:"array",initSeriesRender:"boolean",theme:"enum",needResize:"boolean",load:"string",elementSpacing:"number",primaryXAxis:{labels:"array",stripline:"array",orientation:"enum",rangePadding:"enum",showCrossHairLabel:"boolean",hidePartialLabels:"boolean",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},primaryYAxis:{labels:"array",stripline:"array",orientation:"enum",rangePadding:"enum",showCrossHairLabel:"boolean",hidePartialLabels:"boolean",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},legend:{showBorder:"boolean",shape:"enum",alignment:"enum",position:"enum",itemPadding:"number"},zooming:{enabled:"boolean",type:"string",enableMouseWheel:"boolean"},size:{width:"number",height:"number"}},observables:["dataSource.data"],_init:function(){this._renderSfChart()},_destroy:function(){n(this.element).removeClass("e-chart e-js").find("#"+this.svgObject.id).remove()},_setModel:function(t){var i,r,u;for(i in t){this.disableAnimation();switch(i){case"theme":for(this.model._themeChanged=!0,this.model.theme=t[i],this.setTheme(SfSvgRender.themes,this.model.theme),n.extend(!0,this.model.axes[0],SfSvgRender.themes[this.model.theme].primaryXAxis),n.extend(!0,this.model.axes[1],SfSvgRender.themes[this.model.theme].primaryYAxis),r=2;r<this.model.axes.length;r++)this.model.axes[r].orientation.toLowerCase()=="horizontal"?n.extend(!0,this.model.axes[r],SfSvgRender.themes[this.model.theme].secondaryX):n.extend(!0,this.model.axes[r],SfSvgRender.themes[this.model.theme].secondaryY);break;case"series":n.extend(!0,this.model.series,{},t[i]);break;case"legend":n.extend(!0,this.model.legend,{},t[i]);break;case"axes":n.extend(!0,this.model.axes,{},t[i]);break;case"primaryXAxis":this.model.axes[0].setRange=t[i].range?!0:!1,this.model.axes[0].actual_Range=this.model.axes[0].setRange?null:this.model.axes[0].actual_Range,n.extend(!0,this.model.axes[0],{},t[i]);break;case"primaryYAxis":this.model.axes[1].setRange=t[i].range?!0:!1,this.model.axes[1].actual_Range=this.model.axes[1].setRange?null:this.model.axes[1].actual_Range,n.extend(!0,this.model.axes[1],{},t[i]);break;case"drilldown":this.model.series=[],this.model.explodeValue=null,n.extend(!0,this.model,{},t[i]);break;case"datasource":for(u=0;u<this.model.series.length;u++)this.model.series[u].dataSource=null,this.model.series[u].points=null;n.extend(!0,this.model,{},t[i]);break;default:n.extend(!0,this.model,{},t[i])}}n(this.svgObject).empty(),this.bindTo()}}),t.Chart.valueType={Double:"double",DateTime:"datetime",Category:"category"},t.Chart.type={Line:"line",Spline:"spline",Column:"column",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",Hilo:"hilo",HiloOpenClose:"hiloopenclose",Candle:"candle",Bubble:"bubble",Bar:"bar",StackingArea:"stackingarea",RangeColumn:"rangecolumn",StackingColumn:"stackingcolumn",StackingBar:"stackingbar",Pyramid:"pyramid"},t.Chart.labelPlacement={BetweenTicks:"betweenTicks",OnTicks:"onTicks"},n.extend(t.Chart.prototype,ejChart)}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("ejOlapGrid","ej.OlapGrid",{_rootCSS:"e-olapgrid",element:null,model:null,validTags:["div","span"],defaults:{url:"",cssClass:"",gridLayout:"Normal",enableCellContext:!1,cellContextEvent:"",enableValueCellHyperlink:!1,enableRowHeaderHyperlink:!1,enableColumnHeaderHyperlink:!1,enableSummaryCellHyperlink:!1,valueCellHyperlinkClick:"",rowHeaderHyperlinkClick:"",columnHeaderHyperlinkClick:"",summaryCellHyperlinkClick:"",customObject:{},beforeServiceInvoke:null,drillSuccess:null,progressMode:"infinite",serviceMethods:{initialize:"InitializeOlapGrid",drillDown:"DrillOlapGrid",exportOptions:"ExportOptions"}},dataTypes:{serviceMethods:"data",customObject:"data"},getOlapReport:function(){return this._olapReport},setOlapReport:function(n){this._olapReport=n},getJSONRecords:function(){return this._JSONRecords},setJSONRecords:function(n){this._JSONRecords=$.parseJSON(n)},_init:function(){this._initPrivateProperties(),this._load()},_destroy:function(){this.element.empty().removeClass("e-olapgrid"+this.model.cssClass)},_initPrivateProperties:function(){this._id=this.element.attr("id"),this._olapReport="",this._JSONRecords=null,this._drillCaption="",this._drillAction="",this._startDrilldown=!1,ogridWaitingPopup=null,_proxy=this,ogridProgressBar=null,ogridprogressText=null,oGridTimer=null},_load:function(){this.element.addClass(this.model.cssClass),typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.show():_proxy.model.progressMode=="infinite"?($("#"+this._id).ejWaitingPopup({autoDisplay:!0}),ogridWaitingPopup=$("#"+this._id).data("ejWaitingPopup")):($("#"+_proxy._id+"progressContainer").remove(),this._createProgressBar(),this._progressStatus(0,70,140)),this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{Action:ej.OlapGrid.gridAction.Initialize,Element:this.element,CustomObject:this.model.customObject});var n=JSON.stringify(this.model.customObject);_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query..."),this.element[0]!=null&&this.element.parents().find(".controlPanel").length>0&&this.model.gridLayout!=""&&this.model.gridLayout!=ej.OlapGrid.gridLayout.Normal?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeGrid",olapReport:this.model.olapReport,gridLayout:this.model.gridLayout,customObject:n}),this._renderControlSuccess):this.element[0]!=null&&this.element.parents().find(".controlPanel").length>0?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeGrid",olapReport:this.model.olapReport,customObject:n}),this._renderControlSuccess):this.model.gridLayout!=""&&this.model.gridLayout!=ej.OlapGrid.gridLayout.Normal?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeGrid",gridLayout:this.model.gridLayout,customObject:n}),this._renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeGrid",customObject:n}),this._renderControlSuccess)},_setModel:function(n){for(var t in n)switch(t){case"OlapReport":this.setOlapReport(n[t]);break;case"JsonData":this.setOlapReport(n[t]);break;case"RefreshOlapGrid":this.element.renderControlFromJSON(n[t]);break;case"GridLayout":this.model.gridLayout=n[t];break;case"CustomObject":this.model.customObject=n[t]}},_wireEvents:function(){this.model.enableCellContext&&(document.addEventListener?(document.removeEventListener("contextmenu",_proxy._cellContext,!1),document.addEventListener("contextmenu",_proxy._cellContext,!1)):(document.detachEvent("oncontextmenu",_proxy._cellContext),document.attachEvent("oncontextmenu",_proxy._cellContext))),this.drillDownHandler=$.proxy(this._drillDown,this),this.addHyperlinkHandler=$.proxy(this._addHyperlink,this),this.removeHyperlinkHandler=$.proxy(this._removeHyperlink,this),this._on(this.element,"mouseover",".value, .rowheader, .colheader",this.addHyperlinkHandler),this._on(this.element,"mouseleave",".value, .rowheader, .colheader",this.removeHyperlinkHandler),this._on(this.element,"click",".value, .colheader, .rowheader",function(e){var cellclick=null;if(this.model.enableSummaryCellHyperlink&&e.target.className.indexOf("summary value")>=0&&this.model.summaryCellHyperlinkClick!=""?cellclick=eval(this.model.summaryCellHyperlinkClick):this.model.enableValueCellHyperlink&&e.target.className.indexOf("value")>=0&&this.model.valueCellHyperlinkClick!=""?cellclick=eval(this.model.valueCellHyperlinkClick):this.model.enableRowHeaderHyperlink&&e.target.className.indexOf("rowheader")>=0&&this.model.rowHeaderHyperlinkClick!=""?cellclick=eval(this.model.rowHeaderHyperlinkClick):this.model.enableColumnHeaderHyperlink&&e.target.className.indexOf("colheader")>=0&&this.model.columnHeaderHyperlinkClick!=""&&(cellclick=eval(this.model.columnHeaderHyperlinkClick)),cellclick!=null){var cellPos=$(e.target).attr("p"),rawdata=this.getJSONRecords()[parseInt(parseInt(cellPos.split(",")[0])*rowCount+parseInt(cellPos.split(",")[1]))].Info,cellInfo={cellValue:e.target.innerHTML,cellPosition:cellPos,cellType:e.target.className.split(" ")[0],uniqueName:rawdata.split("::")[0],args:e,rawdata:rawdata};cellInfo.cellValue!=""&&cellclick(cellInfo)}}),this._on(this.element,"click",".expand, .collapse",ej.proxy(this._drillDown,this)),this._on(this.element,"mouseover",".colheader, .rowheader, .expand, .collapse",function(n){if(n.target.className.indexOf("expand")>-1&&!$(n.target).hasClass("header-hover-expand"))$(n.target).addClass("header-hover-expand");else if(n.target.className.indexOf("collapse")>-1&&!$(n.target).hasClass("header-hover-collapse"))$(n.target).addClass("header-hover-collapse");else if((n.target.className.indexOf("expand")<0||n.target.className.indexOf("collapse")<0)&&$(n.target).children("span").length>0){var t=$(n.target).children("span")[0];!$(t).hasClass("header-hover-expand")&&t.className.indexOf("expand")>-1?$(t).addClass("header-hover-expand"):!$(t).hasClass("header-hover-collapse")&&t.className.indexOf("collapse")>-1&&$(t).addClass("header-hover-collapse")}}),this._on(this.element,"mouseleave",".colheader, .rowheader, .expand, .collapse",function(){this.element.find(".expand, .collapse").removeClass("header-hover-expand header-hover-collapse")})},_unWireEvents:function(){this._off(this.element,"click",".expand, .collapse"),this._off(this.element,"click",".value, .colheader, .rowheader"),this._off(this.element,"mouseover",".colheader, .rowheader, .expand, .collapse"),this._off(this.element,"mouseleave",".colheader, .rowheader, .expand, .collapse"),this._off(this.element,"mouseover",".value, .rowheader, .colheader",this.addHyperlinkHandler),this._off(this.element,"mouseleave",".value, .rowheader, .colheader",this.removeHyperlinkHandler)},_drillDown:function(n){var i,r,t;this._off(this.element,"click",".expand, .collapse"),i=n.target.className,this._startDrilldown=!0,i=i.split(" "),i[0]=="expand"?this._drillAction="drilldown":i[0]=="collapse"&&(this._drillAction="drillup"),this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{Action:ej.OlapGrid.gridAction.DrillDown,Element:this.element,CustomObject:this.model.customObject}),r=JSON.stringify(this.model.customObject),t=$(n.target).parent().attr("p"),this._drillCaption=$.trim($(n.currentTarget).parent().text()),typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.show():_proxy.model.progressMode=="infinite"?ogridWaitingPopup.show():(this._progressStatus(0,70,140),_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query...")),this.model.gridLayout!=""||this.model.gridLayout!="Normal"?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.drillDown,JSON.stringify({action:"drillDownGrid",cellPosition:t,currentReport:this.getOlapReport(),headerInfo:this.getJSONRecords()[parseInt(parseInt(t.split(",")[0])*rowCount+parseInt(t.split(",")[1]))].Info,gridLayout:this.model.gridLayout,customObject:r}),this._drillDownSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.drillDown,JSON.stringify({action:"drillDownGrid",cellPosition:t,currentReport:this.getOlapReport(),headerInfo:this.getJSONRecords()[parseInt(parseInt(t.split(",")[0])*rowCount+parseInt(t.split(",")[1]))].Info,customObject:r}),this._drillDownSuccess)},_addHyperlink:function(n){$(".hyperlinkValueCell")[0]&&$($(".hyperlinkValueCell")[0]).removeClass("hyperlinkValueCell"),$(".hyperlinkHeaderCell")[0]&&$($(".hyperlinkHeaderCell")[0]).removeClass("hyperlinkHeaderCell"),n.target.className=="value"&&this.model.enableValueCellHyperlink?$(n.target).addClass("hyperlinkValueCell"):n.target.className=="summary value"&&this.model.enableSummaryCellHyperlink?$(n.target).addClass("hyperlinkValueCell"):n.target.className=="rowheader"&&this.model.enableRowHeaderHyperlink?$(n.target).addClass("hyperlinkHeaderCell"):n.target.className=="colheader"&&this.model.enableColumnHeaderHyperlink&&$(n.target).addClass("hyperlinkHeaderCell")},_removeHyperlink:function(n){$(n.target).removeClass("hyperlinkValueCell").removeClass("hyperlinkHeaderCell")},_cellContext:function(e){var currentCell=e.target||e.srcElement,cellPos;if(_proxy.model.enableCellContext&&$(currentCell).parents("#"+_proxy._id)[0]&&(cellPos=$(currentCell).attr("p"),cellPos)){var cellPos=$(currentCell).attr("p"),rawdata=_proxy.getJSONRecords()[parseInt(parseInt(cellPos.split(",")[0])*rowCount+parseInt(cellPos.split(",")[1]))].Info,cellInfo={cellValue:currentCell.innerHTML,cellPosition:cellPos,cellType:currentCell.className.split(" ")[0],uniqueName:rawdata.split("::")[0],args:e,rawdata:rawdata},clickevent=eval(_proxy.model.cellContextEvent);cellInfo.cellType!=""&&cellInfo.cellValue!=""&&clickevent(cellInfo),e.target?e.preventDefault():window.event.returnValue=!1}},exportToExcel:function(){var n={currentReport:_proxy.getOlapReport(),layout:_proxy.model.gridLayout,summaryCellColor:$(".summary").css("background-color")};this.doFullPost(_proxy.model.url+"/"+_proxy.model.serviceMethods.exportOptions,n)},_createProgressBar:function(){var r=ej.buildTag("div#"+this._id+"progressContainer.progressContainer","",{top:typeof oclientProxy!="undefined"?oclientProxy.model.displayOptions.controlPlacement=="tab"||oclientProxy.model.displayOptions.mode!="chartAndGrid"?oclientProxy.progressPos.top+300:oclientProxy.model.displayOptions.defaultView=="chart"?oclientProxy.progressPos.top+500:oclientProxy.progressPos.top+200:$("#"+this._id).position().top+$("#"+this._id).height()/2-30,left:typeof oclientProxy!="undefined"?oclientProxy.progressPos.left+550:$("#"+this._id).position().left+$("#"+this._id).width()/3-100})[0].outerHTML,n=ej.buildTag("div#"+this._id+"progressBar.progressBar","")[0].outerHTML,t=ej.buildTag("div#"+this._id+"blockDiv.blockDiv","",{width:typeof oclientProxy!="undefined"?$("#"+oclientProxy._id).width():$("#"+this._id).width(),display:"block",opacity:"0.3",backgroundColor:"#E9E9E9",height:typeof oclientProxy!="undefined"?$("#"+oclientProxy._id).height():$("#"+this._id).height(),position:"fixed",top:typeof oclientProxy!="undefined"?oclientProxy.progressPos.top:$("#"+this._id).position().top,left:typeof oclientProxy!="undefined"?oclientProxy.progressPos.left:$("#"+this._id).position().left})[0].outerHTML,i;$("#"+_proxy._id).after(r),_proxy.model.progressMode=="normal"?($("#"+this._id+"progressContainer").css({width:0,height:0}),$("#"+_proxy._id+"progressContainer").append(n).append(t)):(i=ej.buildTag("span#"+this._id+"progressText.progressText","OlapGrid initial loading...")[0].outerHTML,$("#"+_proxy._id+"progressContainer").append(n).append(i).append(t)),$("#"+_proxy._id+"progressBar").ejProgressBar({value:0,text:"0 %",complete:"progressbarCompleted"}),ogridProgressBar=$("#"+_proxy._id+"progressBar").data("ejProgressBar"),ogridProgressText=$("#"+_proxy._id+"progressText")},_progressStatus:function(n,t,i){if(jQuery.type(t)==="string"){var r=t.split(":");r!=undefined&&(t=parseInt(r[0]))}ogridProgressBar.setModel({value:n,text:n+" %"}),$("#"+_proxy._id+"progressContainer").show(),$("#"+_proxy._id+"blockDiv").position=$("#"+_proxy._id).position(),oGridTimer=window.setInterval(function(){ogridProgressBar.setModel({value:n,text:n+" %"}),n++,n>=t&&(window.clearInterval(oGridTimer),r!=undefined&&ogridProgressBar.setModel({value:100,text:r[1]}))},i)},_renderControlSuccess:function(n){_proxy.model.progressMode!="infinite"&&(_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="MDX query executed successfully..."),window.clearInterval(oGridTimer));try{_proxy.model.progressMode!="infinite"?(_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="Rendering started..."),_proxy._progressStatus(70,85,50),window.setTimeout(function(){t()},300)):window.setTimeout(function(){t()},1);function t(){n[0]!=undefined&&n.length>0?(_proxy.setJSONRecords(n[0].Value),_proxy.setOlapReport(n[1].Value)):n.d!=undefined&&n.d.length>0?(_proxy.setJSONRecords(n.d[0].Value),_proxy.setOlapReport(n.d[1].Value)):n.length>0&&(_proxy.setJSONRecords(n.PivotRecords),_proxy.setOlapReport(n.OlapReport)),_proxy.getJSONRecords()!=null&&_proxy.getJSONRecords().length>0&&_proxy.renderControlFromJSON(_proxy.getJSONRecords()),_proxy.model.progressMode!="infinite"?_proxy._JSONRecords==null?$("#"+_proxy._id+"progressContainer").hide():_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="Rendering succeeded..."):typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.hide():ogridWaitingPopup.hide()}}catch(i){_proxy.model.progressMode!="infinite"&&(_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="Rendering failed!!!"),window.clearInterval(oChartTimer),ogridProgressBar.setModel({value:70,text:" Failed"}))}},_drillDownSuccess:function(n){_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="MDX query executed successfully..."),n[0]!=undefined?(this.setJSONRecords(n[0].Value),this.setOlapReport(n[1].Value)):n.d!=undefined?(this.setJSONRecords(n.d[0].Value),this.setOlapReport(n.d[1].Value)):(this.setJSONRecords(n.PivotRecords),this.setOlapReport(n.OlapReport)),_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="Rendering started..."),this.renderControlFromJSON(this.getJSONRecords()),this._trigger("drillSuccess",this.element),typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.hide():_proxy.model.progressMode=="infinite"&&(ogridWaitingPopup=$("#"+this._id).data("ejWaitingPopup"),ogridWaitingPopup.hide())},doAjaxPost:function(n,t,i,r,u){$.ajax({type:n,url:t,contentType:"application/json; charset=utf-8",dataType:"json",data:i,success:$.proxy(r,this),complete:$.proxy(u,this),error:function(n,t,i){_proxy.model.progressMode!="infinite"?(window.clearInterval(oGridTimer),_proxy.model.progressMode=="progress"&&($("#"+_proxy._id+"progressText")[0].innerHTML="MDX query execution failed!!!"),$("#"+ogridProgressBar._id).show(),ogridProgressBar.setModel({value:0,text:i})):ogridWaitingPopup.hide()}})},doFullPost:function(n,t){var r=$("<form>").attr({action:n,method:"POST",name:"export"}),u=function(n,t){var i=$('<input type="hidden">').attr({id:n,name:n,value:t}).appendTo(r)},i;for(i in t)u(i,t[i]);r.appendTo(document.body).submit().remove()},renderControlFromJSON:function(n){var t;if(_proxy.model.progressMode!="infinite"&&window.clearInterval(oGridTimer),t=$('<table cellspacing="0" cellpadding="0"><\/table>'),rowCount=0,n!=null){jQuery.each(n,function(){this.Index[0]==0&&rowCount++});var r=$("<thead><\/thead>"),u=$("<tbody><\/tbody>"),f=!0,i=0;if(n[0].CSS=="none"?i=n[0].RowSpan-1:(jQuery.each(n,function(t){return i++,n[t].CSS=="colheader"}),i=i-2),jQuery.each(n,function(t){var s,e,o,h;if(t<rowCount)if(f){for(f=t>=i?!1:!0,s="<tr>",e=t;e<n.length;e=e+rowCount)if(n[e].Span!="Block")if(s=s+"<th"+(n[e].CSS=="none"?"":" class="+n[e].CSS)+" p="+n[e].Index+" colspan="+n[e].ColSpan+" rowspan="+n[e].RowSpan+">"+(n[e].State==2?'<span class="expand">&nbsp;<\/span>':n[e].State==1?'<span class="collapse">&nbsp;<\/span>':"")+n[e].Value+"<\/th>",n[e].RowSpan>1&&n[e].ColSpan<=1)for(o=e+1;o<e+n[e].RowSpan;o++)n[o].Span="Block";else if(n[e].ColSpan>1&&n[e].RowSpan<=1)for(o=e+rowCount;o<e+n[e].ColSpan*rowCount;o=o+rowCount)n[o].Span="Block";else if(n[e].ColSpan>1&&n[e].RowSpan>1)for(o=e;o<e+n[e].RowSpan;o++){for(h=o+rowCount;h<o+n[e].ColSpan*rowCount;h=h+rowCount)n[h].Span="Block";n[o].Span="Block"}s+="<\/tr>",$(r).append(s)}else{for(s="<tr>",e=t;e<n.length;e=e+rowCount)if(n[e].Span!="Block")if(s=n[e].CSS=="rowheader"||n[e].CSS=="summary"||n[e].CSS=="summary"?s+"<th"+(n[e].CSS=="none"?"":' class="'+n[e].CSS)+'" p='+n[e].Index+" colspan="+n[e].ColSpan+" rowspan="+n[e].RowSpan+">"+(n[e].State==2?'<span class="expand">&nbsp;<\/span>':n[e].State==1?'<span class="collapse">&nbsp;<\/span>':"")+n[e].Value+"<\/th>":s+"<td"+(n[e].CSS=="none"?"":' class="'+n[e].CSS)+'" p='+n[e].Index+" colspan="+n[e].ColSpan+" rowspan="+n[e].RowSpan+">"+(n[e].State==2?'<span class="expand">&nbsp;<\/span>':n[e].State==1?'<span class="collapse">&nbsp;<\/span>':"")+n[e].Value+"<\/td>",n[e].RowSpan>1&&n[e].ColSpan<=1)for(o=e+1;o<e+n[e].RowSpan;o++)n[o].Span="Block";else if(n[e].ColSpan>1&&n[e].RowSpan<=1)for(o=e+rowCount;o<e+n[e].ColSpan*rowCount;o=o+rowCount)n[o].Span="Block";else if(n[e].ColSpan>1&&n[e].RowSpan>1)for(o=e;o<e+n[e].RowSpan;o++){for(h=o+rowCount;h<o+n[e].ColSpan*rowCount;h=h+rowCount)n[h].Span="Block";n[o].Span="Block"}s+="<\/tr>",$(u).append(s)}}),_proxy.model.progressMode!="infinite"){window.clearInterval(oGridTimer),this._progressStatus(85,90,80),window.setTimeout(function(){e()},400);function e(){$(t).append(r),$(t).append(u)}}else $(t).append(r),$(t).append(u)}if(_proxy.model.progressMode!="infinite"){window.clearInterval(oGridTimer),this._progressStatus(90,"101:100%",80),window.setTimeout(function(){o()},900);function o(){_proxy.element.html(""),_proxy.element.append(t),_proxy._unWireEvents(),_proxy._wireEvents(),$("#"+_proxy._id+"progressContainer").hide()}}else this.element.html(""),this.element.append(t),this._unWireEvents(),this._wireEvents()}}),ej.OlapGrid.gridLayout={Normal:"Normal",NormalTopSummary:"NormalTopSummary",NoSummaries:"NoSummaries",ExcelLikeLayout:"ExcelLikeLayout"},ej.OlapGrid.gridAction={Initialize:"initialize",DrillDown:"drillDown"},ej.OlapGrid.progressMode={Infinite:"infinite",Normal:"normal",Progress:"progress"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejOlapClient","ej.OlapClient",{_rootCSS:"e-olapclient",element:null,model:null,validTags:["div","span"],defaults:{url:"",cssClass:"",title:"",gridLayout:"Normal",displayOptions:{mode:"chartAndGrid",defaultView:"chart",controlPlacement:"tab",togglePanel:!1},serviceMethods:{initialize:"InitializeOlapClient",removeSplitButton:"RemoveSplitButton",filterElement:"FilterElement",toolbarSelection:"ToolbarSelection",nodeDropped:"NodeDropped",fetchMemberTreeNodes:"FetchMemberTreeNodes",cubeChanged:"CubeChanged",toolbarServices:"ToolbarOperations",memberExpand:"MemberExpanded",saveReport:"SaveReportToDB",fetchReportList:"FetchReportListFromDB",loadReport:"LoadReportFromDB"},clientSuccess:null,clientError:null,clientComplete:null,load:null,progressMode:"infinite",chartPreRender:""},dataTypes:{displayOptions:"data",serviceMethods:"data"},_init:function(){this._initPrivateProperties(),this._load()},_initPrivateProperties:function(){this._id=this.element.attr("id"),oclientProxy=this,currentReport="",currentCubeName="",reports="",reportsCount=0,ogridObj=null,ochartObj=null,chartObj=null,memberTreeObj=null,this._chartHeight=0,this._chartWidth=0,this._gridHeight=0,this._initStyles=[],this._toggleStyles=[],this._initToggle=!0,this._dimensionName="",this.pNode="",this.progressPos=null,draggedSplitBtn=null,isDragging=!1,oclientWaitingPopup=null},_destroy:function(){this.element.empty().removeClass("e-olapclient"+this.model.cssClass)},_load:function(){this.element.addClass(this.model.cssClass),this.model.progressMode!="infinite"?(n("#"+oclientProxy._id+"progressContainer").remove(),this._createProgressBar(),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering layout started"),this._progressStatus(5,70,140)):(n("#"+this._id).ejWaitingPopup({autoDisplay:!0}),oclientWaitingPopup=n("#"+this._id).data("ejWaitingPopup")),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeClient"}),this._renderControlSuccess)},_setModel:function(n){for(var t in n)switch(t){case"title":this.model.title=n[t];break;case"currentCubeName":this.currentCubeName=n[t];break;case"gridLayout":this.model.gridLayout=n[t];break;case"olapReport":this.currentReport=n[t];break;case"clientReports":this.reports=n[t]}},_getMeasuresList:function(){var t="";return this.element.find(".memberEditorDiv").find("div").each(function(){t+=n(this)[0].id+","}),t},_getUnSelectedNodes:function(){for(var f=this.element.find(".editorTreeView")[0],r="",u=n(f).find(":input.nodecheckbox:not(:checked)"),i,t=0;t<u.length;t++)i=n(u[t]).parents("li:eq(0)"),r+="::"+i[0].id+"||"+n(i).attr("tag");return r},_getSelectedNodes:function(){for(var f=this.element.find(".editorTreeView")[0],r="",u=n(f).find("input[type=checkbox]:checked"),i,t=0;t<u.length;t++)i=n(u[t]).parents("li:eq(0)"),r+="::"+i[0].id+"||"+n(i).attr("tag");return r},_removeSplitBtn:function(){var i=n(document).find(".dragClone"),t,r=this.element.find(".splitBtn");jQuery.each(r,function(r,u){n(n(u).children()[0]).text()==n(i).text()&&(t=n(u).attr("tag"),n(u).remove())}),n(".dragClone").remove(),this.model.progressMode!="infinite"?(oclientProxy._progressStatus(0,80,50),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query")):oclientWaitingPopup.show(),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.removeSplitButton,JSON.stringify({action:"removeSplitButton",clientParams:t,olapReport:currentReport,clientReports:reports}),oclientProxy._removeSplitButtonSuccess)},_wireEvents:function(){oclientProxy._wireDialogEvent(),oclientProxy._wireEditorRemoveEvent(),oclientProxy._wireMeasureRemoveEvent(),this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejDraggable({handle:"button",clone:!0,cursorAt:{top:-10,left:-10},dragStart:function(i){i.event.preventDefault(),n(this.element.find(".e-txt")).unbind("touchstart"),n(this.element.find(".e-txt")).unbind(t.eventType.click),isDragging=!0,this.element.find(".e-dialog").hide(),draggedSplitBtn=i.event.target},dragStop:function(t){var r,f,u;this.element.find(".targetAxis").removeClass("targetAxis"),isDragging=!1,r=null,f=oclientProxy.setSplitBtnTargetPos(t.event),oclientProxy._dropAxisClassName!=i&&oclientProxy._dropAxisClassName!=""?(oclientProxy._dropAxisClassName=="outOfAxis"?oclientProxy._removeSplitBtn():r=oclientProxy._dropAxisClassName,oclientProxy._dropAxisClassName=""):t.target!=i?n(t.target).hasClass("e-btn")||n(t.target).hasClass("removeSplitBtn")?r=n(t.target).parents("div:eq(1)").attr("class"):jQuery.type(t.target.className)!="string"?oclientProxy._removeSplitBtn():r=t.target.className.indexOf("splitBtn")>-1?n(t.target).parents("div:eq(0)").attr("class"):t.target.className:r=n(t.event.originalEvent.srcElement).hasClass("e-btn")||n(t.event.originalEvent.srcElement).hasClass("removeSplitBtn")?n(t.event.originalEvent.srcElement).parents("div:eq(1)").attr("class"):t.event.originalEvent.srcElement.className.indexOf("splitBtn")>-1?n(t.event.originalEvent.srcElement).parents("div:eq(0)").attr("class"):t.event.originalEvent.srcElement.className,r!=i&&r!=null&&(u=r.indexOf("categoricalAxis")>r.indexOf("rowAxis")?r.indexOf("categoricalAxis")>r.indexOf("slicerAxis")?"Categorical":"Slicer":r.indexOf("rowAxis")>r.indexOf("slicerAxis")?"Series":r.indexOf("slicerAxis")>=0?"Slicer":null,u!=null?oclientProxy._splitButtonDropped(u,f):oclientProxy._removeSplitBtn())},helper:function(t){return t.sender.target.className.indexOf("e-btn")>-1?n(t.sender.target).clone().addClass("dragClone").appendTo(oclientProxy.element):!1}}),this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").mouseover(function(){isDragging&&n(this).addClass("targetAxis")}),this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").mouseleave(function(){n(this).removeClass("targetAxis")}),this.element.find(".e-btn").mouseover(function(t){n(t.target.parentNode).find("span").css("display","inline")}),this.element.find(".splitBtn").mouseover(function(){isDragging&&n(this).addClass("dropIndicator")}),this.element.find(".splitBtn").mouseleave(function(){n(this).find("span").css("display","none"),n(this).removeClass("dropIndicator")}),this.element.find(".toggleExpandButton").click(function(){if(oclientProxy._initToggle){oclientProxy._initToggle=!1;var n={},t=oclientProxy.element.find(".cubeTable").width()+oclientProxy.element.find(".controlPanel").width()-17;n.controlPanelWidth=t,n.chartOuterWidth=n.chartModelWidth=n.gridOuterWidth=t-17,oclientProxy._toggleStyles.push(n)}oclientProxy._performToggleAction(oclientProxy._toggleStyles),oclientProxy.element.find(".csHeader, .cubeTable").hide(),oclientProxy.element.find(".toggleCollapseButton").show(),oclientProxy.element.find(".toggleText").show()}),this.element.find(".toggleCollapseButton").click(function(){oclientProxy._performToggleAction(oclientProxy._initStyles),oclientProxy.element.find(".csHeader, .cubeTable").show(),oclientProxy.element.find(".toggleCollapseButton").hide(),oclientProxy.element.find(".toggleText").hide()})},_wireMeasureRemoveEvent:function(){this.element.find(".removeMeasure").click(function(t){n(n(t.target).parent()).remove()})},_wireEditorRemoveEvent:function(){this.element.find(".removeSplitBtn").click(function(t){oclientProxy.model.progressMode!="infinite"?oclientProxy._progressStatus(0,80,50):oclientWaitingPopup.show(),n(n(t.target).parent()).remove(),oclientProxy._off(this.element,"click",".removeSplitBtn"),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query"),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.removeSplitButton,JSON.stringify({action:"removeSplitButton",clientParams:n(t.target).parent().attr("tag"),olapReport:currentReport,clientReports:reports}),oclientProxy._removeSplitButtonSuccess)})},_wireDialogEvent:function(){oclientProxy.element.find(".newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .saveReportImg, .loadReportImg, .e-txt").bind(t.eventType.click,function(t){isDragging||(t.preventDefault(),t.target.innerHTML!="Cancel"&&t.target.innerHTML!="OK"&&(oclientProxy._off(oclientProxy.element,"click",".newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .saveReportImg, .loadReportImg, .e-txt"),t.target.className.indexOf("loadReportImg")>=0?(oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Opening dialog..."),oclientProxy._progressStatus(0,80,50)):oclientWaitingPopup.show(),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.fetchReportList,"",oclientProxy._fetchReportListSuccess)):oclientProxy._createDialogRequest(t),oclientProxy._dimensionName=n(t.currentTarget).parent().attr("tag")))}),this.element.find(".excelExportImg").click(function(){oclientProxy.ogridObj.exportToExcel()}),this.element.find(".dialogCancelBtn").bind(t.eventType.click,function(n){n.preventDefault(),oclientProxy.element.find(".e-dialog").hide(),oclientProxy.element.find(".e-dialog, .clientDialog").remove()}),this.element.find(".dialogOKBtn").bind(t.eventType.click,function(t){var f,r;if(t.preventDefault(),oclientProxy.element.find(".e-titlebar").first().text()=="Load Report")f=oclientProxy.element.find(".reportNameList")[0].value,oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query..."),oclientProxy._progressStatus(0,80,50)):oclientWaitingPopup.show(),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.loadReport,JSON.stringify({reportName:f,olapReport:currentReport,clientReports:reports}),oclientProxy._toolbarOperationSuccess);else{if(oclientProxy._getSelectedNodes()==0&&args_innerHTML!="Measures"&&args_innerHTML!="ToolbarButtons")return!1;if(r=null,args_innerHTML!="ToolbarButtons")oclientProxy.model.progressMode!="infinite"?oclientProxy._progressStatus(0,80,50):oclientWaitingPopup.show(),args_innerHTML=="Measures"?r="Measures:"+oclientProxy._getMeasuresList():args_innerHTML!="ToolbarButtons"&&args_innerHTML!=i&&(r=oclientProxy._getUnSelectedNodes()+"CHECKED"+oclientProxy._getSelectedNodes()),args_innerHTML=="Measures"&&r!=null&&r.split(":")[1]==""&&n(oclientProxy.element).find(".splitBtn").each(function(t,i){i.firstChild.innerHTML=="Measures"&&n(i).remove()}),n(oclientProxy).find(".e-dialog").hide(),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query"),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.filterElement,JSON.stringify({action:"filtering",clientParams:r,olapReport:currentReport,clientReports:reports}),oclientProxy._filterElementSuccess);else if(oclientProxy.element.find(".e-titlebar").first().text()=="Remove Report"&&reportsCount<2)oclientProxy.element.find(".e-dialog").hide();else{if(oclientProxy.element.find(".reportName").val()=="")return!1;var e=oclientProxy.element.find(".reportName").val(),u=oclientProxy.element.find(".e-titlebar").first().text(),o=u=="New Report"?"":currentReport,s=u=="New Report"?"":reports;oclientProxy.element.find(".e-dialog").hide(),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Opening dialog..."),u=="Save Report"?oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.saveReport,JSON.stringify({reportName:e,olapReport:o,clientReports:s}),oclientProxy._toolbarOperationSuccess):oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.toolbarServices,JSON.stringify({action:"toolbarOperation",toolbarOperation:u,reportName:e,olapReport:o,clientReports:s}),oclientProxy._toolbarOperationSuccess)}}}),this.element.find(".measureEditor").mouseover(function(t){n(t.target).find("span").css("display","inline")}),this.element.find(".measureEditor").mouseleave(function(){n(this).find("span").css("display","none")}),this.element.find(".unCheckAll,.checkAll").click(function(n){n.target.className=="checkAll"?oclientProxy.element.find(".editorTreeView").ejTreeView("checkAll"):oclientProxy.element.find(".editorTreeView").ejTreeView("unCheckAll")})},_unWireEvents:function(){n(this.element.find(".dialogCancelBtn, .dialogOKBtn, .newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .e-txt, .removeSplitBtn, .unCheckAll, .checkAll, .removeMeasure, .toggleCollapseButton, .toggleExpandButton, .saveReportImg, .loadReportImg")).unbind(t.eventType.click),n(this.element.find(".dialogCancelBtn, .dialogOKBtn, .newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .e-txt, .removeSplitBtn, .unCheckAll, .checkAll, .removeMeasure, .toggleCollapseButton, .toggleExpandButton, .saveReportImg, .loadReportImg")).unbind("click")},_createProgressBar:function(){var f=t.buildTag("div#"+oclientProxy._id+"progressContainer.clientProgressContainer","",{top:n("#"+this._id).position().top+n("#"+this._id).height()/2-30,left:n("#"+this._id).position().left+n("#"+this._id).width()/3-50})[0].outerHTML,r=t.buildTag("div#"+oclientProxy._id+"blockDiv.blockDiv","",{width:n("#"+this._id).width(),display:"block",opacity:"0.3",backgroundColor:"#E9E9E9",height:n("#"+this._id).height(),position:"fixed",top:n("#"+this._id).position().top,left:n("#"+this._id).position().left})[0].outerHTML,i,u;n("#"+oclientProxy._id).after(f),i=t.buildTag("div#"+oclientProxy._id+"progressBar.clientProgressBar","",{})[0].outerHTML,oclientProxy.model.progressMode=="normal"?(n("#"+oclientProxy._id+"progressContainer").css({width:0,height:0}),n("#"+oclientProxy._id+"progressContainer").append(i).append(r)):(u=t.buildTag("span#"+oclientProxy._id+"progressText.clientProgressText","Initializing...",{})[0].outerHTML,n("#"+oclientProxy._id+"progressContainer").append(i).append(u).append(r)),n("#"+oclientProxy._id+"progressBar").ejProgressBar({value:10,text:"10 %",complete:"progressbarCompleted"}),oclientProgressBar=n("#"+oclientProxy._id+"progressBar").data("ejProgressBar")},_progressStatus:function(t,r,u){if(jQuery.type(r)==="string"){var f=r.split(":");f!=i&&(r=parseInt(f[0]))}oclientProgressBar.setModel({value:t,text:t+" %"}),n("#"+oclientProxy._id+"progressContainer").show(),oClientTimer=window.setInterval(function(){oclientProgressBar.setModel({value:t,text:t+" %"}),t++,t>=r&&(window.clearInterval(oClientTimer),f!=i&&oclientProgressBar.setModel({value:100,text:f[1]}))},u)},_progressHide:function(){oclientProxy.model.progressMode!="infinite"?(window.clearInterval(oClientTimer),n("#"+oclientProxy._id+"progressContainer").hide()):oclientWaitingPopup.hide()},_performToggleAction:function(n){this.element.find(".controlPanel").width(n[0].controlPanelWidth),(this.model.displayOptions.controlPlacement!="horizontal"||this.model.displayOptions.controlPlacement=="horizontal"&&this.model.displayOptions.mode=="chartOnly"||this.model.displayOptions.controlPlacement=="horizontal"&&this.model.displayOptions.mode=="gridOnly")&&(this.element.find(".e-olapchart").width(n[0].chartOuterWidth),this.element.find(".e-olapgrid").width(n[0].gridOuterWidth),(this.ochartObj!=null||this.ochartObj!=i)&&(this.element.find("#"+this.ochartObj._id).ejOlapChart("option","width",n[0].chartOuterWidth),this.chartObj=this.element.find("#"+this.ochartObj._id+"Container").data("ejChart"),this.element.find("#"+this.chartObj._id).ejChart("option",{model:{size:{width:n[0].chartOuterWidth}}}),this.element.find("#"+this.chartObj._id+"_svg").width(n[0].chartOuterWidth),this.chartObj.redraw()))},_splitButtonDropped:function(t,i){if(draggedSplitBtn!=null){var r=this.element.find(".cubeName").html()+"--"+n(draggedSplitBtn).parent("div:eq(0)").attr("Tag")+"--"+t+"--"+i;draggedSplitBtn=null,oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query"),this._progressStatus(0,80,100)):oclientWaitingPopup.show(),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"SplitButton",nodeInfo:r,olapReport:currentReport,clientReports:reports}),oclientProxy._nodeDroppedSuccess)}},_filterElementSuccess:function(t){function r(){oclientProxy.model.progressMode!="infinite"&&(window.clearInterval(oClientTimer),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering succeeded"),oclientProxy._progressHide()),oclientProxy._renderControls(),oclientProxy._unWireEvents(),oclientProxy._wireEvents()}oclientProxy.model.progressMode!="infinite"&&(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="MDX query executed successfully..."),window.clearInterval(oClientTimer)),t[0]!=i?(currentReport=t[0].Value,reports=t[1].Value):t.d!=i?(currentReport=t.d[0].Value,reports=t.d[1].Value):(currentReport=t.UpdatedReport,reports=t.ClientReports),this.model.progressMode!="infinite"?(this._progressStatus(90,"101:100%",50),window.setTimeout(function(){r()},300)):window.setTimeout(function(){r()},1),oclientProxy._successAction="Filter",oclientProxy._trigger("clientSuccess",oclientProxy)},_nodeDroppedSuccess:function(t){function e(){oclientProxy._renderControls(),oclientProxy._unWireEvents(),oclientProxy._wireEvents(),oclientProxy.model.progressMode!="infinite"&&(window.clearInterval(oClientTimer),oclientProxy._progressHide())}oclientProxy.model.progressMode!="infinite"&&(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="MDX query executed successfully..."),window.clearInterval(oClientTimer),oclientProgressBar.setModel({value:85,text:"85 %"}));var r,u,f;t[0]!=i?(r=t[0].Value,u=t[1].Value,f=t[2].Value,currentReport=t[3].Value,reports=t[4].Value):t.d!=i?(r=t.d[0].Value,u=t.d[1].Value,f=t.d[2].Value,currentReport=t.d[3].Value,reports=t.d[4].Value):(r=t.Columns,u=t.Rows,f=t.Slicers,currentReport=t.UpdatedReport,reports=t.ClientReports),oclientProxy.model.progressMode!="infinite"&&oclientProgressBar.setModel({value:90,text:"90 %"}),this.element.find(".splitBtn, .e-btn").remove(),n(oclientProxy._createSplitButtons(r,"Columns")).appendTo(".categoricalAxis"),n(oclientProxy._createSplitButtons(u,"Rows")).appendTo(".rowAxis"),n(oclientProxy._createSplitButtons(f,"Slicers")).appendTo(".slicerAxis"),this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px"}),oclientProxy.model.progressMode!="infinite"?(this._progressStatus(95,"101::100%",50),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering succeeded"),window.setTimeout(function(){e()},300)):window.setTimeout(function(){e()},1),oclientProxy._successAction="NodeDrop",oclientProxy._trigger("clientSuccess",oclientProxy)},_editorTreeInfoSuccess:function(t){function i(){oclientProxy._createDialog(args_className,args_innerHTML,t),oclientProxy.model.progressMode!="infinite"?(window.clearInterval(oClientTimer),oclientProxy._progressHide()):oclientWaitingPopup.hide()}oclientProxy.model.progressMode!="infinite"?(window.clearInterval(oClientTimer),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Opening dialog succeeded..."),this._progressStatus(95,"101::100%",50),window.setTimeout(function(){i()},300)):window.setTimeout(function(){i()},1),oclientProxy._successAction="EditorTreeInfo",oclientProxy._trigger("clientSuccess",oclientProxy)},_renderControlSuccess:function(r){function h(){var h,l,a,c,r,v,i;oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering layout started..."),h=n.parseJSON(f),oclientProxy.currentCubeName=n.parseJSON(u)[0].name;var y=t.buildTag("div#reportToolbar.reportToolbar",oclientProxy._reportToolbar(),{width:"410px",height:"29px"})[0].outerHTML,p=oclientProxy._createCubeSelector()+'<table class=cubeTable><tr><td valign="bottom">'+oclientProxy._createCubeBrowser(f)+"<\/td><td valign=\"bottom\" style='padding-left:5px;'>"+oclientProxy._createAxisElementBuilder(e,o,s)+"<\/td><\/tr><\/table>",w=t.buildTag("span.outerPanel","",{width:"1000px",height:"600px"}).append("<div class=\"titleText\"><span style='padding-left:10px'>"+oclientProxy.model.title+"<\/span><\/div>"+y+'<table class="outerTable"><tr><td>'+p+'<\/td><td class="controlPanelTD">'+oclientProxy._controlPanel()+"<\/td><\/tr><\/table>");for(oclientProxy.element.html(w).width(n(".outerPanel").width()),oclientProxy.element.find(".reportToolbar").ejToolbar(),l="<div class ='reportList' ><input type='text' id='reportList' class='reportlist' /><\/div>",n(l).appendTo(".reportToolbar"),oclientProxy.element.find(".reportlist").ejDropDownList({dataSource:reportList,fields:{text:"name",value:"name"},height:"20px"}),a=oclientProxy.model.displayOptions.togglePanel==!0?"280px":"315px",oclientProxy.element.find(".cubeSelector").ejDropDownList({dataSource:n.parseJSON(u),fields:{text:"name",value:"name"},width:a}),ddlTarget=oclientProxy.element.find(".cubeSelector").data("ejDropDownList"),reportDropTarget=oclientProxy.element.find("#reportList").data("ejDropDownList"),ddlTarget.selectItemByIndex(0),reportDropTarget.selectItemByIndex(0),oclientProxy.element.find(".cubeSelector").ejDropDownList("option","change",t.proxy(oclientProxy.CubeChanged,oclientProxy)),oclientProxy.element.find(".reportlist").ejDropDownList("option","change",t.proxy(oclientProxy.ReportChanged,oclientProxy)),oclientProxy.element.find(".cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:h},dragAndDrop:!0,dropChild:!1,dropSibling:!1,dragAndDropAcrossControl:!0,dragStart:function(){isDragging=!0},dropped:t.proxy(oclientProxy.NodeDropped,oclientProxy),height:n(".cubeBrowser").height()}),c=oclientProxy.element.find(".cubeTreeView").find("li"),r=0;r<c.length;r++)c[r].setAttribute("tag",h[r].tag);v=t.buildTag("div.cubeName",n.parseJSON(u)[0].name)[0].outerHTML,n(v).prependTo(".cubeTreeView"),oclientProxy.element.find(".categoricalAxis, .rowAxis, .slicerAxis").ejDroppable({drop:t.proxy(oclientProxy.onDropped,oclientProxy)}),oclientProxy.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px"}),oclientProxy.model.displayOptions.togglePanel&&(n(t.buildTag("div.toggleExpandButton")[0].outerHTML).appendTo(oclientProxy.element.find(".csHeader")),n(oclientProxy.element.find(".outerTable").find("td")[0]).append(t.buildTag("div.toggleCollapseButton")[0].outerHTML),n(t.buildTag("div.toggleText")[0].outerHTML).insertAfter(oclientProxy.element.find(".toggleCollapseButton")),oclientProxy.element.find(".toggleCollapseButton").hide(),oclientProxy.element.find(".toggleText").hide()),oclientProxy.element.find("#clientTab").ejTab({active:t.proxy(oclientProxy.OnTabClick,oclientProxy)}),oclientProxy.model.displayOptions.defaultView==t.OlapClient.defaultView.Chart?(oclientProxy.element.find("#OlapChart").ejOlapChart({url:oclientProxy.model.url,customObject:currentReport,size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},beforeServiceInvoke:oclientProxy.model.chartPreRender,drillSuccess:t.proxy(oclientProxy.ChartDrillSuccess,oclientProxy)}),oclientProxy.model.gridLayout!=t.OlapGrid.gridLayout.Normal?oclientProxy.element.find("#OlapGrid").ejOlapGrid({url:oclientProxy.model.url,olapReport:currentReport,gridLayout:oclientProxy.model.gridLayout}):oclientProxy.element.find("#OlapGrid").ejOlapGrid({url:oclientProxy.model.url,olapReport:currentReport,drillSuccess:t.proxy(oclientProxy.GridDrillSuccess,oclientProxy)})):(oclientProxy.model.gridLayout!=t.OlapGrid.gridLayout.Normal?oclientProxy.element.find("#OlapGrid").ejOlapGrid({url:oclientProxy.model.url,olapReport:currentReport,gridLayout:oclientProxy.model.gridLayout}):oclientProxy.element.find("#OlapGrid").ejOlapGrid({url:oclientProxy.model.url,olapReport:currentReport,drillSuccess:t.proxy(oclientProxy.GridDrillSuccess,oclientProxy)}),oclientProxy.element.find("#OlapChart").ejOlapChart({url:oclientProxy.model.url,customObject:currentReport,size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},drillSuccess:t.proxy(oclientProxy.ChartDrillSuccess,oclientProxy),beforeServiceInvoke:oclientProxy.model.chartPreRender})),oclientProxy.model.displayOptions.mode!="chartOnly"&&(oclientProxy.ogridObj=oclientProxy.element.find("#OlapGrid").data("ejOlapGrid")),oclientProxy.model.displayOptions.mode!="gridOnly"&&(oclientProxy.ochartObj=oclientProxy.element.find("#OlapChart").data("ejOlapChart")),i={},oclientProxy.ochartObj!=null&&(oclientProxy.element.find("#OlapChart").width(oclientProxy.ochartObj.model.size.width),i.chartModelWidth=oclientProxy.ochartObj.model.size.width),i.controlPanelWidth=oclientProxy.element.find(".controlPanel").width(),i.chartOuterWidth=oclientProxy._chartWidth,i.gridOuterWidth=oclientProxy._gridWidth,oclientProxy._initStyles.push(i),oclientProxy._wireEvents(),oclientProxy.model.progressMode!="infinite"&&(oclientProxy._progressStatus(100,101,10),oclientProxy._progressHide(),n("#"+oclientProxy._id+"progressContainer").css({top:n("#"+oclientProxy._id).height()/2-30,left:n("#"+oclientProxy._id).width()/2,position:"absolute"}),n("#"+oclientProxy._id+"blockDiv").css({height:n("#"+oclientProxy._id).height(),width:n("#"+oclientProxy._id).width()}))}oclientProxy._trigger("load",oclientProxy),oclientProxy.model.progressMode!="infinite"&&(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering layout completed..."),window.clearInterval(oClientTimer),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering started..."),oclientProgressBar.setModel({value:80,text:"80%"}));var u,e,o,s,f;r[0]!=i?(u=r[0].Value,e=r[1].Value,o=r[2].Value,s=r[3].Value,f=r[4].Value,currentReport=r[5].Value,reports=r[6].Value,reportsCount=r[7].Value,reportList=n.parseJSON(r[8].Value)):r.d!=i?(u=r.d[0].Value,e=r.d[1].Value,o=r.d[2].Value,s=r.d[3].Value,f=r.d[4].Value,currentReport=r.d[5].Value,reports=r.d[6].Value,reportsCount=r.d[7].Value,reportList=n.parseJSON(r.d[8].Value)):(u=r.Cubes,e=r.Columns,o=r.Rows,s=r.Slicers,f=r.CubeTreeInfo,currentReport=r.CurrentReport,reports=r.Reports,reportList=n.parseJSON(r.ReportList),reportsCount=r.ReportsCount),oclientProxy.model.progressMode!="infinite"?(this._progressStatus(89,"101:100%",10),window.setTimeout(function(){h()},300)):window.setTimeout(function(){h()},1),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering succeeded..."),oclientProxy._successAction="ClientRender",oclientProxy._trigger("clientSuccess",oclientProxy),oclientProxy.progressPos=n("#"+oclientProxy._id).position()},_cubeChangedSuccess:function(r){function s(){n(c).prependTo(".cubeTreeView"),oclientProxy._unWireEvents(),oclientProxy._wireEvents(),oclientProxy.model.progressMode!="infinite"?oclientProxy._progressHide():oclientWaitingPopup.hide()}var f,e,u;oclientProxy.model.progressMode!="infinite"&&(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering layout completed..."),window.clearInterval(oClientTimer),oclientProgressBar.setModel({value:83,text:"83 %"})),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering started..."),r[0]!=i?(currentReport=r[0].Value,f=r[1].Value,reports=r[2].Value,reportsCount=r[3].Value,reportList=n.parseJSON(r[4].Value)):r.d!=i?(currentReport=r.d[0].Value,f=r.d[1].Value,reports=r.d[2].Value,reportsCount=r.d[3].Value,reportList=n.parseJSON(r.d[4].Value)):(currentReport=r.NewReport,f=r.CubeTreeInfo,reports=r.ClientReports,reportsCount=r.ReportsCount,reportList=n.parseJSON(r.ReportList)),this.element.find(".splitBtn, .e-olapgrid, .e-olapchart, .e-treeview, .cubeTreeView").remove();var h=t.buildTag("div#cubeTreeView.cubeTreeView")[0].outerHTML,c=t.buildTag("div.cubeName",this.currentCubeName)[0].outerHTML,o=n.parseJSON(f);for(n(h).appendTo(".cubeBrowser"),this.element.find(".cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:o},dragAndDrop:!0,dropChild:!1,dropSibling:!1,dragAndDropAcrossControl:!0,dropped:t.proxy(this.NodeDropped,this),height:n(".cubeBrowser").height()}),e=oclientProxy.element.find(".cubeTreeView").find("li"),u=0;u<e.length;u++)e[u].setAttribute("tag",o[u].tag);this.element.find(".reportlist").ejDropDownList("option","change",""),this.element.find(".reportlist").ejDropDownList("option","dataSource",reportList),reportDropTarget.selectItemByIndex(reportList.length-1),oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering succeeded..."),this._progressStatus(90,"101:100%",20),window.setTimeout(function(){s()},300)):window.setTimeout(function(){s()},1),oclientProxy._successAction="CubeChange",oclientProxy._trigger("clientSuccess",oclientProxy)},_removeSplitButtonSuccess:function(t){function r(){oclientProxy._renderControls(),oclientProxy._unWireEvents(),oclientProxy._wireEvents(),oclientProxy.model.progressMode!="infinite"&&oclientProxy._progressHide()}oclientProxy.model.progressMode!="infinite"&&(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="MDX query executed successfully..."),window.clearInterval(oClientTimer),oclientProgressBar.setModel({value:89,text:"89 %"})),t[0]!=i?(currentReport=t[0].Value,reports=t[1].Value):t.d!=i?(currentReport=t.d[0].Value,reports=t.d[1].Value):(currentReport=t.UpdatedReport,reports=t.ClientReports),oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering succeeded"),this._progressStatus(95,"101:100%",50),window.setTimeout(function(){r()},300)):window.setTimeout(function(){r()},1),oclientProxy._successAction="ButtonRemove",oclientProxy._trigger("clientSuccess",oclientProxy)},_toolbarOperationSuccess:function(r){if(oclientProxy.model.progressMode!="infinite"&&(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Opening dialog succeeded..."),window.clearInterval(oClientTimer)),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering started"),r.d||r[0]||r.CurrentReport){var f,e,o,u,s;r.length>1&&r[0]!=i?(currentReport=r[0].Value,reports=r[1].Value,reportsCount=r[2].Value,f=r[3].Value,e=r[4].Value,o=r[5].Value,u=r[6].Value,reportList=n.parseJSON(r[7].Value),s=r[8].Value):r.d!=i?(currentReport=r.d[0].Value,reports=r.d[1].Value,reportsCount=r.d[2].Value,f=r.d[3].Value,e=r.d[4].Value,o=r.d[5].Value,u=r.d[6].Value,reportList=n.parseJSON(r.d[7].Value),s=r.d[8].Value):(currentReport=r.CurrentReport,reports=r.Reports,reportsCount=r.ReportsCount,f=r.Columns,e=r.Rows,o=r.Slicers,u=r.CurrentAction,reportList=n.parseJSON(r.ReportList),s=r.RenamedReport),u!="Report Change"&&(this.element.find(".reportlist").ejDropDownList("option","change",""),this.element.find(".reportlist").ejDropDownList("option","dataSource",reportList),u=="Load Report"?reportDropTarget.selectItemByIndex(0):u!="Rename Report"?reportDropTarget.selectItemByIndex(reportList.length-1):reportDropTarget.selectItemByText(s),this.element.find(".reportlist").ejDropDownList("option","change",t.proxy(this.ReportChanged,this))),u!="Rename Report"&&this.element.find(".splitBtn, .e-olapgrid, .e-olapchart").remove(),(u=="Remove Report"||u=="Report Change"||u=="Load Report")&&(n(oclientProxy._createSplitButtons(f,"Columns")).appendTo(".categoricalAxis"),n(oclientProxy._createSplitButtons(e,"Rows")).appendTo(".rowAxis"),n(oclientProxy._createSplitButtons(o,"Slicers")).appendTo(".slicerAxis"),this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px"}),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering succeeded"),oclientProxy._renderControls(),oclientProxy.model.progressMode!="infinite"&&oclientProxy._progressHide())}oclientProxy._unWireEvents(),oclientProxy._wireEvents(),oclientProxy.model.progressMode!="infinite"&&oclientProxy._progressHide(),oclientProxy._successAction="ToolbarOperation",oclientProxy._trigger("clientSuccess",oclientProxy)},_fetchChildNodeSuccess:function(t){var r,u,f;r=t.length>1&&t[0]!=i?JSON.parse(t[0].Value):t.d!=i?JSON.parse(t.d[0].Value):JSON.parse(t.ChildNodes),f={id:"id",parentId:"pid",hasChild:"hasChildren",text:"name",isChecked:"checkedStatus"},u=n(this.pNode).parents("li").length>1?n(this.pNode).parents("li").first():n(this.pNode).parents("li"),this.memberTreeObj._createSubNodesWhenLoadOnDemand(r,this.pNode,f),n.each(n(u).children().find("li"),function(n,t){t.setAttribute("tag",r[n].tag)}),this.memberTreeObj._expandCollapseAction(this.pNode),oclientProxy._successAction="FetchChildNode",oclientProxy._trigger("clientSuccess",oclientProxy)},_reportToolbar:function(){return t.buildTag("ul",t.buildTag("li.newReportImg","",{}).attr("title","New Report")[0].outerHTML+t.buildTag("li.addReportImg","",{}).attr("title","Add Report")[0].outerHTML+t.buildTag("li.removeReportImg","",{}).attr("title","Remove Report")[0].outerHTML+t.buildTag("li.renameReportImg","",{}).attr("title","Rename Report")[0].outerHTML+t.buildTag("li.saveReportImg","",{}).attr("title","Save Report")[0].outerHTML+t.buildTag("li.loadReportImg","",{}).attr("title","Load Report")[0].outerHTML+t.buildTag("li.excelExportImg","",{}).attr("title","Export To Excel")[0].outerHTML)},_createCubeSelector:function(){return t.buildTag("div.csHeader",t.buildTag("span","Cube Selector",{"padding-left":"6px",float:"left"})[0].outerHTML+t.buildTag("div","<input type='text' id='cubeSelector' class ='cubeSelector' />",{display:"inline",float:"left","padding-left":"5px",position:"relative",top:"-3px"})[0].outerHTML,{width:"415px",height:"20px"})[0].outerHTML},_createCubeBrowser:function(){return t.buildTag("div.cdbHeader",t.buildTag("span","Cube Dimension Browser",{"padding-left":"5px"})[0].outerHTML,{width:"200px",height:"30px"})[0].outerHTML+t.buildTag("div.cubeBrowser",t.buildTag("div.cubeTreeView.visibleHide")[0].outerHTML,{width:"200px",height:"523px"})[0].outerHTML},_createAxisElementBuilder:function(n,i,r){return t.buildTag("div.categoricalAxis",this._createSplitButtons(n,"Columns"),{width:"200px",height:"150px"})[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span","Column",{"padding-left":"5px"})[0].outerHTML,{height:"30px"})[0].outerHTML+t.buildTag("div.rowAxis",this._createSplitButtons(i,"Rows"),{width:"200px",height:"150px"})[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span","Row",{"padding-left":"5px"})[0].outerHTML,{height:"30px"})[0].outerHTML+t.buildTag("div.slicerAxis",this._createSplitButtons(r,"Slicers"),{width:"200px",height:"150px"})[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span","Slicer",{"padding-left":"5px"})[0].outerHTML,{height:"30px"})[0].outerHTML},_createSplitButtons:function(n,t){for(var r="",i=0;i<n.split("#").length-1;i++)r.indexOf(n.split("#")[i+1])<0&&(r+='<div class="splitBtn" tag="'+t+":"+n.split("#")[i+1]+'"><button>'+n.split("#")[i+1].split(".")[0]+"<\/button><span class=removeSplitBtn><\/span><\/div>");return r},_controlPanel:function(){var u,n,i,r,f,e,o;return this.model.displayOptions.controlPlacement==t.OlapClient.controlPlacement.Tab&&this.model.displayOptions.mode==t.OlapClient.displayMode.ChartAndGrid?(this._chartHeight=this._chartHeight==0?547:this._chartHeight,this._chartWidth=this._chartWidth==0?557:this._chartWidth,this._gridHeight=this._gridHeight==0?"530px":this._gridHeight,this._panelOverflow="auto"):this.model.displayOptions.controlPlacement==t.OlapClient.controlPlacement.Tile&&this.model.displayOptions.mode==t.OlapClient.displayMode.ChartAndGrid?(this._chartHeight=this._chartHeight==0?275:this._chartHeight,this._chartWidth=this._chartWidth==0?555:this._chartWidth,this._gridHeight=this._gridHeight==0?"530px":this._gridHeight,this._panelOverflow="hidden"):(this._chartHeight=this._chartHeight==0?560:this._chartHeight,this._chartWidth=this._chartWidth==0?790:this._chartWidth,this._gridHeight=this._gridHeight==0?"550px":this._gridHeight,this._panelOverflow="auto"),this.model.displayOptions.mode!=t.OlapClient.displayMode.ChartOnly&&(n=this.model.displayOptions.controlPlacement==t.OlapClient.controlPlacement.Tile&&this.model.displayOptions.mode==t.OlapClient.displayMode.ChartAndGrid?t.buildTag("div#gridPanel.gridPanel",t.buildTag("div#OlapGrid","",{margin:"5px 7px 7px","max-height":"300px",width:"563px",overflow:"auto"})[0].outerHTML,{width:"auto",height:"auto"})[0].outerHTML:t.buildTag("div#gridPanel.gridPanel",t.buildTag("div#OlapGrid","",{margin:"5px 7px 7px","min-height":"300px",overflow:"auto","max-height":this._gridHeight})[0].outerHTML,{width:"auto",height:"auto"})[0].outerHTML),this.model.displayOptions.mode!=t.OlapClient.displayMode.GridOnly&&(i=t.buildTag("div#chartPanel.chartPanel",t.buildTag("div#OlapChart","",{"min-height":"275px"})[0].outerHTML,{width:"auto",height:"auto"})[0].outerHTML),this.model.displayOptions.controlPlacement==t.OlapClient.controlPlacement.Tab&&this.model.displayOptions.mode==t.OlapClient.displayMode.ChartAndGrid?(e="<a style='font: bold 12px Segoe UI' href='#gridPanel'>Grid<\/a>",o="<a style='font: bold 12px Segoe UI' href='#chartPanel'>Chart<\/a>",this.model.displayOptions.defaultView==t.OlapClient.defaultView.Chart?(r=t.buildTag("ul.clientTab",t.buildTag("li",o)[0].outerHTML+t.buildTag("li",e)[0].outerHTML)[0].outerHTML,f=t.buildTag("div#clientTab",r+i+n)[0].outerHTML):(r=t.buildTag("ul.clientTab",t.buildTag("li",e)[0].outerHTML+t.buildTag("li",o)[0].outerHTML)[0].outerHTML,f=t.buildTag("div#clientTab",r+n+i)[0].outerHTML),u=f):u=this._createControlContainer(this.model.displayOptions.controlPlacement,i,n),t.buildTag("div.controlPanel",u,{width:"572px",height:"600px",overflow:this._panelOverflow})[0].outerHTML},_createControlContainer:function(n,i,r){return this.model.displayOptions.mode==t.OlapClient.displayMode.ChartOnly?"<table><tr><td>"+i+"<\/td><\/tr><\/table>":this.model.displayOptions.mode==t.OlapClient.displayMode.GridOnly?"<table><tr><td>"+r+"<\/td><\/tr><\/table>":this.model.displayOptions.controlPlacement==t.OlapClient.controlPlacement.Tile?this.model.displayOptions.defaultView==t.OlapClient.defaultView.Chart?"<table><tr><td>"+i+"<\/td><\/tr><tr><td>"+r+"<\/td><\/tr><\/table>":"<table><tr><td>"+r+"<\/td><\/tr><tr><td>"+i+"<\/td><\/tr><\/table>":this.model.displayOptions.defaultView==t.OlapClient.defaultView.Chart?"<table><tr><td valign='top'>"+i+"<\/td><td valign='top'>"+r+"<\/td><\/tr><\/table>":"<table><tr><td valign='top'>"+r+"<\/td><td valign='top'>"+i+"<\/td><\/tr><\/table>"},_renderOlapGrid:function(r){if(this.element.find(".e-dialog").hide(),this.model.displayOptions.mode!=t.OlapClient.displayMode.ChartOnly){var u;this.ochartObj!=i&&this.ochartObj._startDrilldown?(this.ochartObj._startDrilldown=!1,this.ogridObj.doAjaxPost("POST",this.model.url+"/"+this.ogridObj.model.serviceMethods.drillDown,JSON.stringify({action:"drillDownGrid",cellPosition:"",currentReport:this.ogridObj.getOlapReport(),headerInfo:r}),this.ogridObj._drillDownSuccess)):(this.element.find(".e-olapgrid, #OlapGrid").remove(),u=this.model.displayOptions.controlPlacement==t.OlapClient.controlPlacement.Tile&&this.model.displayOptions.mode==t.OlapClient.displayMode.ChartAndGrid?t.buildTag("div#OlapGrid","",{margin:"5px 7px 7px","max-height":"300px",width:"563px",overflow:"auto"})[0].outerHTML:t.buildTag("div#OlapGrid","",{margin:"5px 7px 7px","min-height":"300px",overflow:"auto","max-height":this._gridHeight})[0].outerHTML,n(u).appendTo(this.element.find(".gridPanel")),this.model.gridLayout!=t.OlapGrid.gridLayout.Normal?this.element.find("#OlapGrid").ejOlapGrid({url:this.model.url,olapReport:currentReport,gridLayout:this.model.gridLayout}):this.element.find("#OlapGrid").ejOlapGrid({url:this.model.url,olapReport:currentReport,drillSuccess:t.proxy(this.GridDrillSuccess,this)}),this.ogridObj=this.element.find("#OlapGrid").data("ejOlapGrid"))}},_renderOlapChart:function(r,u){if(this.element.find(".e-dialog").hide(),this.model.displayOptions.mode!=t.OlapClient.displayMode.GridOnly)if(this.ogridObj!=i&&this.ogridObj._startDrilldown)this.ogridObj._startDrilldown=!1,this.ochartObj.doAjaxPost("POST",this.model.url+"/"+this.ochartObj.model.serviceMethods.drillDown,JSON.stringify({action:u,drilledSeries:r,olapReport:this.ochartObj.getOlapReport()}),this.ochartObj.renderControlSuccess);else{this.element.find(".e-olapchart").remove();var f=t.buildTag("div#OlapChart","",{"min-height":"275px"})[0].outerHTML;n(f).appendTo(this.element.find(".chartPanel")),n("#OlapChart").ejOlapChart({url:this.model.url,customObject:currentReport,size:{height:this._chartHeight,width:this._chartWidth},drillSuccess:t.proxy(this.ChartDrillSuccess,this),beforeServiceInvoke:this.model.chartPreRender}),this.ochartObj=this.element.find("#OlapChart").data("ejOlapChart"),this.element.find("#OlapChart").width(this.ochartObj.model.size.width)}},_renderControls:function(){this.model.displayOptions.defaultView==t.OlapClient.defaultView.Chart?(oclientProxy._renderOlapChart(),oclientProxy._renderOlapGrid()):(oclientProxy._renderOlapGrid(),oclientProxy._renderOlapChart())},_createDialogRequest:function(t){oclientProxy.model.progressMode!="infinite"&&this._progressStatus(0,80,50),args_className=t.target.className,args_innerHTML=t.target.innerHTML==""?"ToolbarButtons":t.target.innerHTML,this.element.find(".e-dialog, .clientDialog").remove(),args_innerHTML!="ToolbarButtons"&&args_innerHTML!=i?(oclientProxy.model.progressMode=="progress"?n("#"+oclientProxy._id+"progressText")[0].innerHTML="Opening dialog ...":oclientProxy.model.progressMode=="infinite"&&oclientWaitingPopup.show(),this.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.fetchMemberTreeNodes,JSON.stringify({action:"fetchMemberTreeNodes",dimensionName:n(t.target).parent().attr("Tag"),olapReport:currentReport}),oclientProxy._editorTreeInfoSuccess)):oclientProxy.model.progressMode!="infinite"?oclientProxy._progressHide():oclientProxy._createDialog(args_className,args_innerHTML,"")},_fetchReportListSuccess:function(t){function i(){oclientProxy.element.find(".e-dialog, .clientDialog").remove(),t=t.d[0].Value||t[0].Value,oclientProxy._createDialog("LoadReport",t,"")}oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Opening dialog succeeded..."),window.clearInterval(oClientTimer),this._progressStatus(90,"101:100%",50),window.setTimeout(function(){i()},300)):(oclientWaitingPopup.hide(),window.setTimeout(function(){i()},1))},_createDialog:function(r,u,f){var v,y,e,o,p,w,b,k,d,s,g,nt,c,tt,it,ft,et,ot,l,a,h;if(this.model.progressMode!="infinite"&&window.clearInterval(oClientTimer),v=f[0]!=i?f[0].Value:f.d!=i?f.d[0].Value:f.EditorTreeInfo,y=t.buildTag("div#clientDialog.clientDialog",{opacity:"1"})[0].outerHTML,r.split(" ")[0]=="newReportImg")o="New Report",p="<p class='dialogPara'>Report Name<\/p>",w="<input type=text id=reportName class='reportName'/><\/br>",e=p+w;else if(r.split(" ")[0]=="addReportImg")o="Add Report",b="<p class='dialogPara'>Report Name<\/p>",k="<input type=text id=reportName class='reportName'/><\/br>",e=b+k;else if(r.split(" ")[0]=="removeReportImg")o="Remove Report",e=reportsCount>1?"<p>Are you sure to delete the report?<\/p>":"<p>Cannot remove single report!<\/p>";else if(r.split(" ")[0]=="renameReportImg")o="Rename Report",d="<p class='dialogPara'>Report Name<\/p>",renameReport="<input type=text id=reportName class='reportName'/><\/br>",e=d+renameReport;else if(r.split(" ")[0]=="saveReportImg")o="Save Report",s="<p class='dialogPara'>Report Name<\/p>",reportName="<input type=text id=reportName class='reportName'/><\/br>",e=s+reportName;else if(r.split(" ")[0]=="LoadReport")o="Load Report",s="<table class='loadReportTbl'><tr><td class='loadReportTd'>Report Name<\/td>",g="<td><input type='text' id='reportNameList' class='reportNameList'/><\/td><\/tr><\/table>",e=s+g;else if(r.indexOf("e-txt")>-1){u=="Measures"?(o="Measure Editor",e="<p class='editorPara'>"+u+"<\/p>"):(o="Member Editor",e="<p class='editorPara'>"+u+"<\/p>"),c="",n(rt).appendTo(ut),u!="Measures"&&(tt=t.buildTag("div.checkAll")[0].outerHTML,it=t.buildTag("div.unCheckAll")[0].outerHTML,c=t.buildTag("div",tt+it,{height:"19px"})[0].outerHTML),nt=u=="Measures"?oclientProxy._createMeasureEditor(f):t.buildTag("div#editorTreeView.editorTreeView")[0].outerHTML;var st=t.buildTag("div.memberEditorDiv",nt)[0].outerHTML,rt=t.buildTag("div",c+st)[0].outerHTML,ut=t.buildTag("div#EditorDiv.editorDiv",rt)[0].outerHTML;e+=ut+"<\/br>"}if(et="<button id=OKBtn class='dialogOKBtn'>OK<\/button>",ot="<button id=CancelBtn class='dialogCancelBtn'>Cancel<\/button>",ft=t.buildTag("div",et+ot,{float:"right",margin:"-5px 0 6px"})[0].outerHTML,n(y).appendTo("#"+oclientProxy._id),n(e+ft).appendTo(this.element.find(".clientDialog")),this.element.find(".clientDialog").ejDialog({width:265,contentContainer:"#"+oclientProxy._id,resizable:!1}),this.element.find(".e-titlebar").prepend(t.buildTag("div",o,{display:"inline"})[0].outerHTML),this.element.find(".reportName").ejMaskEdit({width:"155px"}),this.element.find(".e-mask").addClass("dialogInput"),this.element.find(".dialogOKBtn, .dialogCancelBtn").ejButton(),n(".reportNameList").ejDropDownList({dataSource:u.split("__"),width:"150px",height:"20px"}),this.element.find(".e-widget-content").height("auto"),f!=""&&f!=i&&u!="Measures")for(l=n.parseJSON(v),this.element.find(".editorTreeView").ejTreeView({showCheckbox:!0,loadOnDemand:!0,height:n(".memberEditorDiv").height(),fields:{id:"id",hasChild:"hasChildren",text:"name",isChecked:"checkedStatus",dataSource:l},click:t.proxy(this._onNodeExpand,this)}),a=this.element.find(".editorTreeView").find("li"),h=0;h<a.length;h++)a[h].setAttribute("tag",l[h].tag);else this.model.progressMode!="infinite"&&this._progressHide();this.memberTreeObj=this.element.find(".editorTreeView").data("ejTreeView"),oclientProxy._unWireEvents(),oclientProxy._wireEvents()},_createMeasureEditor:function(t){var u,f,r;for(u=t[0]!=i?n.parseJSON(t[0].Value):t.d!=i?n.parseJSON(t.d[0].Value):n.parseJSON(t.EditorTreeInfo),f="",r=0;r<u.length;r++)f+='<div id="'+u[r].uniqueName+'"class=measureEditor>'+u[r].name+"<span class=removeMeasure><\/span><\/div>";return f},_onNodeExpand:function(t){var i=t.Event.originalEvent.target,f=n(i).parents("li").first().children().find("li").length,u,r;i.className.indexOf("e-plus")>-1&&f==0&&(u=n(i).parent().find("input[type=checkbox]").prop("checked"),r=n(i).parents("li").first().attr("tag"),this.pNode=i,this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.memberExpand,JSON.stringify({action:"memberExpanded",checkedStatus:u,parentNode:n(i).parents("li")[0].id,tag:r,dimensionName:this._dimensionName,cubeName:this.currentCubeName,olapReport:currentReport,clientReports:reports}),this._fetchChildNodeSuccess))},ChartDrillSuccess:function(){this.ochartObj._startDrilldown&&this.ogridObj!=null&&this.ogridObj!=i&&this._renderOlapGrid(this.ochartObj._selectedTagInfo)},GridDrillSuccess:function(){if(this.ogridObj._startDrilldown&&this.ochartObj!=null&&this.ochartObj!=i){var r,t,n;t=this.ogridObj._drillCaption,jQuery.each(this.ochartObj._labelCurrentTags,function(i,u){u.name==t&&(n=u.tag,r=u)}),this.ogridObj._drillAction=="drilldown"?oclientProxy.ochartObj._tagCollection.push(r):jQuery.each(oclientProxy.ochartObj._tagCollection,function(n,i){if(i.name==t)return oclientProxy.ochartObj._tagCollection.splice(n,oclientProxy.ochartObj._tagCollection.length),!1}),n!=null&&n!=i&&oclientProxy._renderOlapChart(n,this.ogridObj._drillAction)}},NodeDropped:function(t){var e,r,f,u,o;if(t.target.prevObject!=i?t.target.prevObject.removeClass("targetAxis"):n(t.target).removeClass("targetAxis"),isDragging=!1,e=this.setSplitBtnTargetPos(t.event),t.target.prevObject!=i?t.target.prevObject.parents().find(".e-dialog").hide():n(t.target).parents().find(".e-dialog").hide(),r=null,n(t.target).hasClass("splitBtn"))r=n(t.target).parents("div:eq(0)").attr("class");else if(t.event.type=="touchend")r=t.target.context.className;else if(t.event.target!=i){if(t.event.target.className==i||t.event.target.className==null)return!1;r=t.event.target.className.indexOf("splitBtn")>-1?t.target.className:t.event.target.className}else r=t.event.originalEvent.srcElement.className.indexOf("splitBtn")>-1?t.target.className:t.event.originalEvent.srcElement.className;f=r.indexOf("categoricalAxis")>r.indexOf("rowAxis")?r.indexOf("categoricalAxis")>r.indexOf("slicerAxis")?"Categorical":"Slicer":r.indexOf("rowAxis")>r.indexOf("slicerAxis")?"Series":r.indexOf("slicerAxis")>=0?"Slicer":null,u=n(t.dropedElement.parents("li:eq(0)")[0]).attr("tag"),f!=null&&u!="Measures"&&u.lastIndexOf(".DF")!=u.length-".DF".length&&(oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query"),this._progressStatus(10,80,120)):oclientWaitingPopup.show(),o=oclientProxy.currentCubeName+"--"+n(t.dropedElement.parents("li:eq(0)")[0]).attr("tag")+"--"+f+"--"+e,oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"TreeNode",nodeInfo:o,olapReport:currentReport,clientReports:reports}),oclientProxy._nodeDroppedSuccess))},setSplitBtnTargetPos:function(t){var o="",r=t.originalEvent.target!=null?n(t.originalEvent.target).parents(".splitBtn"):n(t.originalEvent.srcElement).parents(".splitBtn"),f=t.originalEvent.target!=null?t.originalEvent.target.className:t.originalEvent.srcElement.className,e,u;if(r[0]||f!=i&&f!=null&&jQuery.type(f)=="string"&&f.indexOf("splitBtn")>-1)for(r=r[0]?r[0]:t.originalEvent.target!=null?t.originalEvent.target:t.originalEvent.srcElement,e=r.parentNode,u=0;u<e.children.length;u++)e.childNodes[u]==r&&(o=u);return o},CubeChanged:function(t){this.currentCubeName=t.selectedText,oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Rendering layout started"),this._progressStatus(0,80,120)):oclientWaitingPopup.show(),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.cubeChanged,JSON.stringify({action:"cubeChanged",cubeName:this.currentCubeName}),this._cubeChangedSuccess)},ReportChanged:function(t){oclientProxy.model.progressMode!="infinite"?(oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query"),this._progressStatus(5,80,100)):oclientWaitingPopup.show(),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.toolbarServices,JSON.stringify({action:"toolbarOperation",toolbarOperation:"Report Change",reportName:t.selectedText,olapReport:null,clientReports:reports}),this._toolbarOperationSuccess)},onDropped:function(n){if(n.target.className.indexOf("e-button")>-1){var t=this.GetAxisPosition(this.element.find(".categoricalAxis")),r=this.GetAxisPosition(this.element.find(".rowAxis")),u=this.GetAxisPosition(this.element.find(".slicerAxis"));this._dropAxisClassName,n.pageX!=i&&n.pageY!=i&&(this._dropAxisClassName=n.pageX>t.left&&n.pageX<t.right&&n.pageY>t.top&&n.pageY<t.bottom?"categoricalAxis":n.pageX>r.left&&n.pageX<r.right&&n.pageY>r.top&&n.pageY<r.bottom?"rowAxis":n.pageX>u.left&&n.pageX<u.right&&n.pageY>u.top&&n.pageY<u.bottom?"slicerAxis":"outOfAxis")}},GetAxisPosition:function(t){var r=t.position(),i={};return i.top=r.top,i.right=r.left+n(t).width(),i.bottom=r.top+n(t).height(),i.left=r.left,i},OnTabClick:function(n){oclientProxy.ochartObj!=null&&oclientProxy.ochartObj!=i&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.ochartObj._id+"Container").data("ejChart")),n.newContentPanel.className.indexOf("gridPanel")>-1?oclientProxy.element.find(".gridPanel").css("display","inline"):oclientProxy.chartObj!=null&&oclientProxy.chartObj!=i&&(oclientProxy.model.progressMode=="infinite"&&oclientWaitingPopup.show(),oclientProxy.chartObj.redraw(),oclientProxy.model.progressMode=="infinite"&&oclientWaitingPopup.hide())},doAjaxPost:function(t,i,r,u){n.ajax({type:t,url:i,contentType:"application/json; charset=utf-8",dataType:"json",data:r,success:n.proxy(u,this),complete:function(){oclientProxy._trigger("clientComplete",oclientProxy.element)},error:function(){oclientProxy.model.progressMode!="infinite"?(window.clearInterval(oClientTimer),oclientProxy.model.progressMode=="progress"&&(n("#"+oclientProxy._id+"progressText")[0].innerHTML="MDX query execution failed!!!"),n("#"+oclientProxy._id).show(),oclientProgressBar.setModel({value:0,text:"Failed!!!"})):(oclientWaitingPopup=n("#"+oclientProxy._id).data("ejWaitingPopup"),oclientWaitingPopup.hide()),oclientProxy._trigger("clientError",oclientProxy.element)}})}}),t.OlapClient.controlPlacement={Tab:"tab",Tile:"tile"},t.OlapClient.displayMode={ChartOnly:"chartOnly",GridOnly:"gridOnly",ChartAndGrid:"chartAndGrid"},t.OlapClient.defaultView={Chart:"chart",Grid:"grid"},t.OlapClient.progressMode={Infinite:"infinite",Normal:"normal",Progress:"progress"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejOlapChart","ej.OlapChart",{_rootCSS:"e-olapchart",element:null,model:null,validTags:["div","span"],defaults:{url:"",cssClass:"",title:"",type:"column",animation:!1,showTooltip:!0,tooltipFormat:"",crossHair:{moveToArea:!1,visible:!1},marker:{visible:!1},size:{height:600,width:800},zooming:"",customObject:"",primaryXAxis:{title:{text:""},labelRotation:270},primaryYAxis:{title:{text:""}},legend:{visible:!1},serviceMethods:{initialize:"InitializeOlapChart",drillDown:"DrillOlapChart"},drillSuccess:null,beforeServiceInvoke:null,afterServiceInvoke:null,progressMode:"infinite"},dataTypes:{marker:"data",crossHair:"data",size:"data",serviceMethods:"data",zooming:"data"},getOlapReport:function(){return this._olapReport},setOlapReport:function(n){this._olapReport=n},getJsonRecords:function(){return this._JSONRecords},setJsonRecords:function(t){this._JSONRecords=n.parseJSON(t)},_init:function(){this._initPrivateProperties(),this._load()},_destroy:function(){this.element.empty().removeClass("e-olapchart"+this.model.cssClass)},_initPrivateProperties:function(){this._id=this.element.attr("id"),ochartProxy=this,this._olapReport="",this._JSONRecords=null,this._currentAction="initialize",this._selectedItem="",this._selectedIndex=-1,this._selectedTagInfo=null,this._tagCollection=[],this._labelCurrentTags=[],this._startDrilldown=!1,this._drillAction="",this._initZooming=!1,ochartWaitingPopup=null,ochartProgressBar=null,oChartTimer=null},_load:function(){this.element.addClass(this.model.cssClass),this.model.progressMode!="infinite"?(n("#"+ochartProxy._id+"progressContainer").remove(),this._createProgressBar(),this._progressStatus(5,69,140)):typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.show():(this.element.ejWaitingPopup({autoDisplay:!0}),ochartWaitingPopup=this.element.data("ejWaitingPopup")),this.model.zooming!=""&&(this._initZooming=!0),this._trigger("beforeServiceInvoke",this.element),ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query..."),this.model.customObject.length!=i&&this.model.customObject!=null&&this.model.customObject!=i?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initialize",customObject:this.model.customObject}),this.renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initialize"}),this.renderControlSuccess)},_setModel:function(n){for(var t in n)switch(t){case"olapReport":this.setOlapReport(n[t]);break;case"jsonData":this.setJsonRecords(n[t]);break;case"refreshOlapChart":this.element.renderChartFromJSON(n[t]);break;case"customObject":this.model.customObject=n[t];break;case"height":this.model.size.height=n[t];break;case"width":this.model.size.width=n[t];break;case"type":this.model.type=n[t];break;case"title":this.model.title=n[t];break;case"animation":this.model.animation=n[t];break;case"showTooltip":this.model.showTooltip=n[t];break;case"crossHair":this.model.crossHair=n[t];break;case"marker":this.model.marker=n[t];break;case"zooming":this.model.zooming=n[t];break;case"legend":this.model.legend=n[t];break;case"primaryXAxis":this.model.primaryXAxis=n[t];break;case"primaryYAxis":this.model.primaryYAxis=n[t]}},_wireEvents:function(){window.clearInterval(oChartTimer),this._on(this.element,"click",".menuList",function(t){t.target.innerHTML=="Exit"?n("#"+ochartProxy._id).find("#"+ochartProxy._id+"ExpandMenu, .expandMenu, .e-dialog").remove():t.target.innerHTML.indexOf("Expand")>-1?(typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.show():this.model.progressMode!="infinite"?ochartProxy._progressStatus(0,70,120):ochartWaitingPopup.show(),this._drillAction="drilldown",this._selectedItem=n.trim(t.target.innerHTML.split("-")[1]),jQuery.each(this._labelCurrentTags,function(n,t){if(t.name==ochartProxy._selectedItem)return ochartProxy._tagCollection.push(t),ochartProxy._selectedTagInfo=t.tag,!1}),this._startDrilldown=!0,ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query..."),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.drillDown,JSON.stringify({action:"drilldown",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport()}),this.renderControlSuccess)):(typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.show():this.model.progressMode!="infinite"?ochartProxy._progressStatus(0,70,120):ochartWaitingPopup.show(),this._drillAction="drillup",this._selectedItem=n.trim(t.target.innerHTML.split("-")[1]),jQuery.each(this._tagCollection,function(n,t){if(t.name==ochartProxy._selectedItem)return ochartProxy._selectedIndex=n,ochartProxy._selectedTagInfo=t.tag,ochartProxy._tagCollection.splice(n,ochartProxy._tagCollection.length),!1}),this._startDrilldown=!0,ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML="Preparing and executing MDX query..."),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.drillDown,JSON.stringify({action:"drillup",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport()}),this.renderControlSuccess))})},_unWireEvents:function(){n(document.body).unbind("click"),this._off(this.element,"click",".menuList")},renderControlSuccess:function(r){ochartProxy.model.progressMode=="progress"?n("#"+ochartProxy._id+"progressText")[0].innerHTML="MDX query executed successfully...":typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null&&oclientWaitingPopup.show();try{ochartProxy.model.progressMode!="infinite"?(window.clearInterval(oChartTimer),ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML="Rendering started..."),ochartProxy._progressStatus(75,98,50),window.setTimeout(function(){u()},400)):window.setTimeout(function(){u()},1);function u(){ochartProxy._trigger("afterServiceInvoke",ochartProxy.element),r[0]!=i?(ochartProxy.setJsonRecords(r[0].Value),ochartProxy.setOlapReport(r[1].Value)):r.d!=i?(ochartProxy.setJsonRecords(r.d[0].Value),ochartProxy.setOlapReport(r.d[1].Value)):(ochartProxy.setJsonRecords(r.PivotRecords),ochartProxy.setOlapReport(r.OlapReport));var u=t.buildTag("div#"+ochartProxy._id+"Container")[0].outerHTML;ochartProxy.element.html(u),ochartProxy.renderChartFromJSON(ochartProxy.getJsonRecords()),ochartProxy.model.progressMode!="infinite"&&(ochartProxy._progressStatus(100,101,50),ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML="Rendering succeeded...")),ochartProxy._unWireEvents(),ochartProxy._wireEvents(),ochartProxy._drillAction!=""&&ochartProxy._trigger("drillSuccess",ochartProxy.element),ochartProxy.model.progressMode!="infinite"&&(ochartProxy._JSONRecords==null||ochartProxy._JSONRecords.chartLables.length==0||ochartProxy._JSONRecords.points_Y.length==0)?n("#"+ochartProxy._id+"progressContainer").hide():typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?oclientWaitingPopup.hide():ochartWaitingPopup.hide()}}catch(f){ochartProxy.model.progressMode!="infinite"&&(ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML="Rendering failed!!!"),window.clearInterval(oChartTimer),ochartProgressBar.setModel({value:70,text:" Failed"}))}},renderChartFromJSON:function(i){if(window.clearInterval(oChartTimer),i!=null&&i.chartLables.length>0&&i.points_Y.length>0){var e=[],r=[],h=i.chartLables,u=[],f=0,o;jQuery.each(i.chartLables,function(n){for(var u=[],t=0;t<i.points_Y[n].length;t++)o={xValues:i.chartLables[n],yValues:i.points_Y[n][t]},u.push(o);r.push(u)}),jQuery.each(i.seriesNames,function(){u.push([])}),jQuery.each(i.chartLables,function(n){for(var t=0;t<r[n].length;t++)u[t].push(r[n][t])}),jQuery.each(i.seriesNames,function(n){e[f]={dataSource:{data:u[n],xName:"xValues",yNames:["yValues"]},name:i.seriesNames[f]},f++}),i.chartLables.length>10&&this.model.zooming==""?this.model.zooming={enabled:!0,type:"x,y",enableMouseWheel:!0}:i.chartLables.length<10&&this._initZooming==""&&(this.model.zooming=this._initZooming),this.model.type==t.OlapChart.chartTypes.Column&&(this.model.crossHair={moveToArea:!1,visible:!1}),this.model.tooltipFormat=this.model.crossHair.moveToArea||this.model.crossHair.visible?"#point.x# : #point.y#":"Measure: "+i.measureNames+" <br/> Row: #series.name# <br/> Column: #point.x# <br/> Value: #point.y#",this.model.progressMode!="infinite"?(ochartProxy._progressStatus(99,"100:100%",70),window.setTimeout(function(){s()},300)):window.setTimeout(function(){s()},1);function s(){n("#"+ochartProxy._id+"Container").ejChart({primaryXAxis:ochartProxy.model.primaryXAxis,primaryYAxis:ochartProxy.model.primaryYAxis,crossHair:ochartProxy.model.crossHair,commonSeriesOptions:{marker:ochartProxy.model.marker,type:ochartProxy.model.type,animation:ochartProxy.model.animation,style:{borderWidth:1},explode:!1,tooltipFormat:ochartProxy.model.tooltipFormat},zooming:ochartProxy.model.zooming,showTooltip:ochartProxy.model.showTooltip,series:e,text:ochartProxy.model.title,size:ochartProxy.model.size,legend:ochartProxy.model.legend,axesLabelRendering:t.proxy(ochartProxy._onLabelRenders,ochartProxy),pointRegionClick:t.proxy(ochartProxy._onSeriesClick,ochartProxy)}),n("#"+ochartProxy._id+"progressContainer").hide()}ochartProxy._labelCurrentTags.splice(0,ochartProxy._labelCurrentTags.length),jQuery.each(i.labelTags,function(n,t){var i={},r=t.split("::");i={name:r[2],state:r.lastItem(),tag:t},ochartProxy._labelCurrentTags.push(i)})}ochartWaitingPopup!=null&&ochartProxy.model.progressMode=="infinite"?ochartWaitingPopup.hide():n("#"+ochartProxy._id+"progressContainer").hide()},_onLabelRenders:function(n){if(n.Axis.orientation=="Horizontal"&&n.Label.Text!=i){var t=n.Label.Text.toString().split("~");n.Label.Text=ochartProxy._tagCollection.length==0?t.lastItem():ochartProxy._drillAction=="drilldown"&&t.indexOf(ochartProxy._selectedItem)+1<t.length?t[t.indexOf(ochartProxy._selectedItem)+1]:ochartProxy._drillAction=="drilldown"&&t.indexOf(ochartProxy._selectedItem)+1>=t.length?t[t.indexOf(ochartProxy._selectedItem)]:t.length==1?t[0]:ochartProxy._drillAction=="drillup"?t[ochartProxy._selectedIndex]:t.lastItem()}},_createProgressBar:function(){var f=t.buildTag("div#"+this._id+"progressContainer.progressContainer","",{top:typeof oclientProxy!="undefined"?oclientProxy.model.displayOptions.controlPlacement=="tab"||oclientProxy.model.displayOptions.mode!="chartAndGrid"?oclientProxy.progressPos.top+300:oclientProxy.model.displayOptions.defaultView=="chart"?oclientProxy.progressPos.top+200:oclientProxy.progressPos.top+500:n("#"+this._id).position().top+n("#"+this._id).height()/2-35,left:typeof oclientProxy!="undefined"?oclientProxy.progressPos.left+550:n("#"+this._id).position().left+n("#"+this._id).width()/3-50,zIndex:999})[0].outerHTML,i=t.buildTag("div#"+this._id+"progressBar.progressBar","")[0].outerHTML,r=t.buildTag("div#"+this._id+"blockDiv.blockDiv","",{width:typeof oclientProxy!="undefined"?n("#"+oclientProxy._id).width():n("#"+this._id).width(),display:"block",opacity:"0.3",backgroundColor:"#E9E9E9",height:typeof oclientProxy!="undefined"?n("#"+oclientProxy._id).height():n("#"+this._id).height(),position:"fixed",top:typeof oclientProxy!="undefined"?oclientProxy.progressPos.top:n("#"+this._id).position().top,left:typeof oclientProxy!="undefined"?oclientProxy.progressPos.left:n("#"+this._id).position().left})[0].outerHTML,u;n("#"+ochartProxy._id).after(f),ochartProxy.model.progressMode=="normal"?(n("#"+this._id+"progressContainer").css({height:0,width:0}),n("#"+this._id+"progressContainer").removeClass(".progressContainer"),n("#"+ochartProxy._id+"progressContainer").append(i).append(r)):(u=t.buildTag("span#"+this._id+"progressText.progressText","OlapChart initial loading...")[0].outerHTML,n("#"+ochartProxy._id+"progressContainer").append(i).append(u).append(r)),n("#"+ochartProxy._id+"progressBar").ejProgressBar({value:0,text:"0 %",complete:"progressbarCompleted"}),ochartProgressBar=n("#"+ochartProxy._id+"progressBar").data("ejProgressBar")},_progressStatus:function(t,r,u){if(window.clearInterval(oChartTimer),jQuery.type(r)==="string"){var f=r.split(":");f!=i&&(r=parseInt(f[0]))}ochartProgressBar.setModel({value:t,text:t+" %"}),n("#"+ochartProxy._id+"progressContainer").show(),oChartTimer=window.setInterval(function(){ochartProgressBar.setModel({value:t,text:t+" %"}),t++,t>=r&&(window.clearInterval(oChartTimer),f!=i&&ochartProgressBar.setModel({value:100,text:f[1]}))},u)},_onSeriesClick:function(i){var o;if(i.model.series[0].type!="pie"){var f=n("#"+ochartProxy._id).offset(),s=i.model.primaryXAxis.labels[i.Data.Region.Region.PointIndex],e=s.split("~"),u=[],r=[];n("#"+ochartProxy._id).find("#"+ochartProxy._id+"ExpandMenu, .expandMenu, .e-dialog").remove(),jQuery.each(e,function(t,i){jQuery.each(ochartProxy._labelCurrentTags,function(t,r){if(n.trim(i)==r.name)return u.push(r),!1})}),jQuery.each(u,function(n,i){i.state>1&&ochartProxy._tagCollection.length==0?r.push(t.buildTag("li.menuList","Expand - "+i.name)[0].outerHTML):i.state>1&&ochartProxy._tagCollection.length>0&&e.indexOf(i.name)>-1&&r.push(t.buildTag("li.menuList","Expand - "+i.name)[0].outerHTML)}),ochartProxy._tagCollection.length>0?jQuery.each(ochartProxy._tagCollection,function(i,u){for(var f=0;f<r.length;f++)n.trim(r[f].split("-")[1].replace("<\/li>","")).replace("<\/LI>","")==u.name&&r.splice(f,1);r.push(t.buildTag("li.menuList","Collapse - "+u.name)[0].outerHTML)}):ochartProxy._JSONRecords.addInfo.namedsetEnabled||jQuery.each(u,function(n,i){i.state==1&&(r.push(t.buildTag("li.menuList","Collapse - "+i.name)[0].outerHTML),ochartProxy._tagCollection.push(i))}),r.push(t.buildTag("li.menuList","Exit")[0].outerHTML),o=t.buildTag("div#"+ochartProxy._id+"ExpandMenu.expandMenu",r)[0].outerHTML,n(o).ejDialog({width:"auto",contentContainer:"#"+ochartProxy._id,resizable:!1}),this.element.find(".e-titlebar, .e-header").remove(),n("#"+ochartProxy._id+"ExpandMenu_wrapper").css({left:i.Data.location.X+f.left,top:i.Data.location.Y+f.top})}},doAjaxPost:function(t,i,r,u){n.ajax({type:t,url:i,data:r,contentType:"application/json; charset=utf-8",dataType:"json",success:n.proxy(u,this),error:function(){ochartProxy.model.progressMode!="infinite"?(ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML="MDX query execution failed!!!"),window.clearInterval(oChartTimer),ochartProgressBar.setModel({value:10,text:" Failed"})):ochartWaitingPopup.hide()}})}}),t.OlapChart.chartTypes={Column:"column"},t.OlapChart.progressMode={Infinite:"infinite",Normal:"normal",Progress:"progress"},t.OlapChart.symbolShapes={None:"none",LeftArrow:"leftArrow",RightArrow:"rightArrow",Circle:"circle",Cross:"cross",HorizLine:"horizLine",VertLine:"vertLine",Diamond:"diamond",Rectangle:"rectangle",Triangle:"triangle",InvertedTriangle:"invertedTriangle",Hexagon:"hexagon",Pentagon:"pentagon",Star:"star",Ellipse:"ellipse",Wedge:"wedge",Trapezoid:"trapezoid",UpArrow:"upArrow",DownArrow:"downArrow",Image:"image"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejRangeNavigator","ej.RangeNavigator",{ejChart:"",validTags:["div"],defaults:{theme:"",padding:"0",canResize:!1,snappingMode:!1,size:{width:"",height:""},dataSource:{data:"",xName:"",yName:""},tooltip:{visible:!0,labelFormat:"dd/MM/yyyy",tooltipDisplayMode:"always",backgroundColor:"#F5B43F",labelstyles:{font:{color:"#333333",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}}},zoomCordinates:{zoomPosition:"0",zoomFactor:"1"},selectedRange:{start:"",end:""},selectedData:"",range:{start:"",end:""},deferredUpdate:!0,series:"",seriesSettings:"",labelSettings:{higherLevel:{intervalType:"years",labelstyles:{font:{color:"#333333",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"},horizontalAlignment:"center"},gridLineStyle:{color:"#727272",width:.5},border:{color:"black",width:.5},fill:"#dddddd",position:"top",visible:!0,labelPlacement:"outside"},lowerLevel:{intervalType:"quarters",labelstyles:{font:{color:"#333333",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"},horizontalAlignment:"center"},gridLineStyle:{color:"#727272",width:.5},border:{color:"black",width:.5},fill:"#dddddd",position:"bottom",visible:!0,labelPlacement:"outside"}},navigatorStyle:{selectedRegionColor:"#e2edf3",unselectedRegionColor:"#f4f4f4",thumbColor:"#49494a",thumbRadius:10,background:"#dddddd",border:{color:"black",width:.5},majorGridLineStyle:{color:"#727272",visible:!0},minorGridLineStyle:{color:"#727272",visible:!0}},loaded:"",rangeChanged:""},dataTypes:{canResize:"boolean",snappingMode:"boolean",dataSource:{data:"data",query:"data"},tooltip:{visible:"boolean",labelFormat:"string",tooltipDisplayMode:"string"},zoomCordinates:{zoomPosition:"string",zoomFactor:"string"},selectedRange:{start:"string",end:"string"},selectedData:"string",range:{start:"string",end:"string"},deferredUpdate:"boolean",labelSettings:{higherLevel:{intervalType:"string",position:"string",visible:"boolean",labelPlacement:"string"},lowerLevel:{intervalType:"string",position:"string",visible:"boolean",labelPlacement:"string"}},navigatorStyle:{thumbRadius:"number"}},observables:["dataSource.data"],_themes:{flatlight:{labelSettings:{higherLevel:{labelstyles:{font:{color:"#333333",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#606262",width:.5},fill:"#dddddd",gridLineStyle:{color:"#8c8c8c"}},lowerLevel:{labelstyles:{font:{color:"#333333",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#606262",width:.5},fill:"#dddddd",gridLineStyle:{color:"#8c8c8c"}}},navigatorStyle:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#f4f4f4",thumbColor:"#49494a",thumbRadius:10,background:"#dddddd",border:{color:"#606262",width:0},majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},flatdark:{labelSettings:{higherLevel:{labelstyles:{font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#FFFFFF",width:.5},fill:"#050505",gridLineStyle:{color:"#FFFFFF"}},lowerLevel:{labelstyles:{font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#FFFFFF",width:.5},fill:"#050505",gridLineStyle:{color:"#FFFFFF"}}},navigatorStyle:{selectedRegionColor:"#353635",unselectedRegionColor:"#323232",thumbColor:"#707070",thumbRadius:10,background:"#050505",border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientdark:{labelSettings:{higherLevel:{labelstyles:{font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#FFFFFF",width:.2},fill:"#050505",gridLineStyle:{color:"#999999"}},lowerLevel:{labelstyles:{font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#FFFFFF",width:.2},fill:"#050505",gridLineStyle:{color:"#999999"}}},navigatorStyle:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#4b4a4b",colorStop:"50%"},{color:"#050505",colorStop:"100%"}],thumbColor:"#707070",thumbRadius:10,background:"#050505",border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientlight:{labelSettings:{higherLevel:{labelstyles:{font:{color:"#333333",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#606262",width:.5},fill:"#dddddd",gridLineStyle:{color:"#8c8c8c"}},lowerLevel:{labelstyles:{font:{color:"#333333",fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"}},border:{color:"#606262",width:.5},fill:"#dddddd",gridLineStyle:{color:"#8c8c8c"}}},navigatorStyle:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#e6e7e8",colorStop:"50%"},{color:"#bbbdbf",colorStop:"100%"}],thumbColor:"#49494a",thumbRadius:10,background:"#dddddd",border:{color:"#606262",width:0},majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}}},_setModel:function(t){for(var i in t){this.disableAnimation();switch(i){case"theme":this.model._themeChanged=!0,this.model.theme=t[i],this._setTheme(this._themes,this.model.theme);default:n.extend(!0,this.model,{},t[i])}}n(this.svgDocument).empty(),this.bindTo()},_destroy:function(){this.element.empty().removeClass(this.model.cssClass)},_createSvg:function(){this.svgSupport=window.SVGSVGElement?!0:!1,this.svgSupport?(this.renderer=new SfSvgRender(this.element),this.svgns=this.renderer.svgLink,this.svgDocument=this.renderer.svgObj):(this.renderer=new SfVmlRender(this.element),this.svgDocument=this.renderer.svgObj)},_setTheme:function(n,i){var r=i.toLowerCase();this.model=t.copyObject({},this.model,n[r])},_setPositions:function(){var n=this.model.labelSettings.higherLevel.position,t=this.model.labelSettings.lowerLevel.position,i=this.model.labelSettings.higherLevel.visible,r=this.model.labelSettings.lowerLevel.visible,u=this.model.labelSettings.higherLevel.labelPlacement,f=this.model.labelSettings.lowerLevel.labelPlacement;n==="top"&&t==="bottom"?(this.centerPosition=this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minHighHeight+this.centerHeight+1):n==="bottom"&&t==="bottom"?(this.centerPosition=0,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minLowHeight+this.centerHeight+1):n==="bottom"&&t==="top"?(this.centerPosition=this.minLowHeight+1,topPosition=0,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minLowHeight+this.centerHeight+1):n==="top"&&t==="top"&&(this.centerPosition=this.minLowHeight+this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.newHeight),i===!1&&r===!1?(this.centerPosition=0,this.centerHeight=this.newHeight,this.bottomPostion=this.newHeight):i===!1?(this.centerPosition=0,this.centerHeight=this.newHeight-this.minLowHeight,this.bottomPosition=this.newHeight):r===!1&&(this.centerPosition=this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight,this.bottomPosition=this.minHighHeight+this.centerHeight+1),u==="outside"&&f==="outside"?(this.sliderPosition=this.centerPosition,this.sliderHeight=this.centerHeight):u==="outside"?(this.sliderPosition=this.centerPosition,this.sliderHeight=this.newHeight):f==="outside"?(this.sliderPosition=0,this.sliderHeight=this.centerHeight+this.minHighHeight):(this.sliderPosition=0,this.sliderHeight=this.newHeight)},rendernavigator:function(){var r,u,e,o,s,h,c,t,f,l,a,v,y,p,w,b,k;this._rootId=n(this.element).attr("id"),this.leftPadding=parseFloat(n("#"+this._rootId).css("padding-left")),r=parseFloat(this.model.labelSettings.higherLevel.labelstyles.font.size),this.minHighHeight=r<20?20:r+2,r=parseFloat(this.model.labelSettings.lowerLevel.labelstyles.font.size),this.minLowHeight=r<20?20:r+2,this.minCenterHeight=80,this.minHeight=this.minHighHeight+this.minCenterHeight+this.minLowHeight,this.padding=parseFloat(this.model.padding),this.newWidth=this.model.size.width?this.model.size.width:n(this.element).width(),this.newHeight=this.model.size.height?this.model.size.height:n(this.element).height>this.minHeight?n(this.element).height:this.minHeight,this._higherTextNode=[],this._higherTotalValues=[],this._higherLineLeft=[],this._higherTextLeft=[],this._lowerTextNode=[],this._lowerTotalValues=[],this._lowerLineLeft=[],this._lowerTextLeft=[],this.centerPosition=0,this.bottomPosition=0,this.centerHeight=0,this.sliderPosition=0,this.sliderHeight=0,this._setPositions(),n(this.svgDocument).empty(),this.svgDocument.setAttribute("position","relative"),this.svgDocument.setAttribute("overflow","visible"),this.svgSupport?(this.svgDocument.setAttribute("height",this.newHeight),this.svgDocument.setAttribute("width",this.newWidth)):(n(this.svgDocument).width(this.newWidth),n(this.svgDocument).height(this.newHeight)),u=n.extend({},SfSvgRender.commonChartEventArgs),u.Data={Model:this.model},this._trigger("loaded",u),this.model.theme!=""&&this._setTheme(this._themes,this.model.theme),e=this.model.navigatorStyle.unselectedRegionColor,this.unselectgrad=this.renderer.createGradientElement("unselected",e,150,0,150,100,this.svgDocument),o=this.model.navigatorStyle.background,this.naviback=this.renderer.createGradientElement("naviback",o,150,0,150,100,this.svgDocument),s=this.model.navigatorStyle.selectedRegionColor,this.selectedgrad=this.renderer.createGradientElement("selected",s,150,0,150,100,this.svgDocument),h={id:this._rootId+"_Border",x:this.padding,y:1,width:this.newWidth-this.padding*2,height:this.newHeight-this.model.navigatorStyle.border.width,fill:this.naviback,"stroke-width":this.model.navigatorStyle.border.width,stroke:this.model.navigatorStyle.border.color},this.renderer.drawRect(h,this.svgDocument),this.higherLevel=this.renderer.createGroup({id:this._rootId+"higherLevel"}),this.lowerLevel=this.renderer.createGroup({id:this._rootId+"lowerLevel"}),this.centerLevel=this.renderer.createGroup({id:this._rootId+"centerLelvel"}),this.higherLevel.height=this.minHighHeight,this.lowerLevel.height=this.minLowHeight,this.model.tooltip.visible&&this.svgSupport&&(this.leftTooltip=this.renderer.createGroup({id:this._rootId+"leftTooltip"}),this.rightTooltip=this.renderer.createGroup({id:this._rootId+"rightTooltip"}),c={fill:this.model.tooltip.backgroundColor,d:"M 0 0 L 0 21 L 64 21 L 64 6 L 70 0 Z"},this.renderer.drawPath(c,this.leftTooltip),t=this.model.tooltip.labelstyles.font,f={id:this._rootId+"_LeftToolText",x:5,fill:t.color,"font-size":t.size,"font-family":t.fontFamily,"font-style":t.fontStyle,"font-weight":t.fontWeight,"text-anchor":"start",opacity:t.opacity,"dominant-baseline":"middle"},this.renderer.drawText(f,Globalize.format(new Date(1/2e3),"MMMM, yyyy"),this.leftTooltip),this.leftTxt=this.leftTooltip.childNodes[1],l={fill:this.model.tooltip.backgroundColor,d:"M 0 0 L 70 0 L 70 21 L 6 21 L 6 6 Z","horizontal-alignment":"stretch"},this.renderer.drawPath(l,this.rightTooltip),this.renderer.drawText(f,Globalize.format(new Date(1/2e3),"MMMM, yyyy"),this.rightTooltip),this.rightTxt=this.rightTooltip.childNodes[1]),this.chartGView=this.renderer.createGroup({id:this._rootId+"charView"}),this.renderer.append(this.chartGView,this.svgDocument),this.renderer.append(this.higherLevel,this.svgDocument),this.renderer.append(this.lowerLevel,this.svgDocument),this.renderer.append(this.centerLevel,this.svgDocument),this.leftUnSelected=this.renderer.createGroup({id:"unselectleft"}),this.gLeftSlider=this.renderer.createGroup({id:"leftslider"}),this.gRightSlider=this.renderer.createGroup({id:"rightslider"}),this.gCenterSlider=this.renderer.createGroup({id:"centerslider"}),this.rightUnSelected=this.renderer.createGroup({id:"unselectright"}),a={width:parseFloat(this.newWidth-4-this.padding),height:this.sliderHeight,fill:this.unselectgrad,opacity:"0.7",transform:"translate("+this.padding+","+this.sliderPosition+")"},this.renderer.drawRect(a,this.leftUnSelected),this.leftUnArea=this.leftUnSelected.firstChild,this.renderer.append(this.leftUnSelected,this.svgDocument),v={width:parseFloat(this.newWidth-4),height:this.sliderHeight,fill:this.selectedgrad,opacity:"0.3",transform:"translate(2,"+this.sliderPosition+")"},this.renderer.drawRect(v,this.gCenterSlider),this.centerSlider=this.gCenterSlider.firstChild,n(this.centerSlider).css("cursor","pointer"),this.renderer.append(this.gCenterSlider,this.svgDocument),y={width:"2",height:this.sliderHeight,fill:this.model.navigatorStyle.thumbColor,opacity:"0.5",y:this.sliderPosition},p={cx:0,cy:this.sliderPosition+this.sliderHeight/2,r:this.model.navigatorStyle.thumbRadius,"stroke-width":3,stroke:this.model.navigatorStyle.thumbColor,fill:"#dddddd"},this.renderer.drawRect(y,this.gLeftSlider),this.renderer.drawCircle(p,this.gLeftSlider),this.leftCircle=this.gLeftSlider.lastChild,n(this.leftCircle).css("cursor","pointer"),this.leftSlider=this.gLeftSlider.firstChild,n(this.leftSlider).css("cursor","w-resize"),this.renderer.append(this.gLeftSlider,this.svgDocument),w={width:parseFloat(this.newWidth-4-this.padding),height:this.sliderHeight,fill:this.unselectgrad,opacity:"0.7",transform:"translate(0,"+this.sliderPosition+")"},this.renderer.drawRect(w,this.rightUnSelected),this.rightUnArea=this.rightUnSelected.firstChild,this.renderer.append(this.rightUnSelected,this.svgDocument),b={width:"2",height:this.sliderHeight,fill:this.model.navigatorStyle.thumbColor,opacity:"0.5",transform:"translate("+parseFloat(this.newWidth-4)+", "+this.sliderPosition+" )"},k={cx:0,cy:this.sliderPosition+this.sliderHeight/2,r:this.model.navigatorStyle.thumbRadius,"stroke-width":3,stroke:this.model.navigatorStyle.thumbColor,fill:"#dddddd"},this.renderer.drawRect(b,this.gRightSlider),this.renderer.drawCircle(k,this.gRightSlider),this.rightCircle=this.gRightSlider.lastChild,n(this.rightCircle).css("cursor","pointer"),this.rightSlider=this.gRightSlider.firstChild,n(this.rightSlider).css("cursor","w-resize"),this.renderer.append(this.gRightSlider,this.svgDocument),this.renderer.append(this.leftTooltip,this.svgDocument),this.renderer.append(this.rightTooltip,this.svgDocument),this.element.append(this.svgDocument),this.svgSupport&&(this.trueCoords=this.svgDocument.createSVGPoint(),this.grabPoint=this.svgDocument.createSVGPoint()),this.backDrop=this.element,this.dragTarget=null,this._renderChart.call(this,this.model),this.startDateTime!=i&&this.endDateTime!=i&&this.calculateInterval.call(this,this.model.labelSettings.higherLevel,this.model.labelSettings.lowerLevel),this.setSliders()},eachInterval:"",_renderChart:function(t){t.dataSource.data!=""&&t.dataSource.xName!=""&&t.dataSource.yNames!=""&&t.series==""&&t.seriesSettings==""?n(this.chartGView).ejChart({chartBorder:{width:0,color:"transparent"},chartAreaBorder:{visible:!1},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:"none",visible:!1},primaryYAxis:{rangePadding:"none",axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},visible:!1},series:[{dataSource:{data:t.dataSource.data,xName:t.dataSource.xName,yNames:[t.dataSource.yNames]},type:"line"},],size:{height:parseFloat(t.size.height),width:parseFloat(this.newWidth-2*this.padding),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}}):t.dataSource.data!=""&&t.dataSource.xName!=""&&t.dataSource.yNames!=""&&t.series!=""&&t.series[0].dataSource==i||t.seriesSettings!=""&&t.seriesSettings.dataSource==i?(t.seriesSettings.dataSource=t.dataSource,n(this.chartGView).ejChart({chartBorder:{width:0,color:"transparent"},margin:{left:0,right:0,top:0,bottom:0},chartAreaBorder:{visible:!1},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:"none",visible:!1},primaryYAxis:{rangePadding:"none",axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},visible:!1},series:t.series,commonSeriesOptions:t.seriesSettings,size:{height:parseFloat(t.size.height),width:parseFloat(this.newWidth-2*this.padding),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}})):(t.series!=""&&t.series[0].dataSource!=i||t.seriesSettings!=""&&t.seriesSettings.dataSource!=i)&&(t.seriesSettings==""&&(t.seriesSettings={type:"line"}),n(this.chartGView).ejChart({chartBorder:{width:0,color:"transparent"},chartAreaBorder:{visible:!1},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:"none",visible:!1},primaryYAxis:{rangePadding:"none",axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},visible:!1},series:t.series,commonSeriesOptions:t.seriesSettings,size:{height:parseFloat(t.size.height),width:parseFloat(this.newWidth-2*this.padding),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}})),this.ejChart=n(this.chartGView).data("ejChart"),this.renderer._setAttr(n(this.chartGView),{transform:"translate("+this.padding+","+this.sliderPosition+")",height:this.sliderHeight})},_init:function(){this._initializeVariables.call(this,this.model.dataSource,this.model.series,this.model.seriesSettings),this._createSvg(this),this.rendernavigator(this),this.model.canResize&&this._on(n(window),"resize",this.rendernavigator),this._bindevents()},isDevice:function(){return/mobile|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bindevents:function(){var t=jQuery.uaMatch(navigator.userAgent),i=!!navigator.userAgent.match(/Trident\/7\./);window.navigator.msPointerEnabled&&!i?(this._on(n(this.svgDocument),"MSPointerDown",this._grab),this._on(n(this.svgDocument),"MSPointerMove",this._drag),this._on(n(this.svgDocument),"MSPointerUp",this._drop),this._on(n(window),"MSPointerUp",this.mouseup),n(this.svgDocument).css("-ms-touch-action","none")):this.isDevice()?(this._on(n(this.svgDocument),"touchstart",this._grab),this._on(n(this.svgDocument),"touchmove",this._drag),this._on(n(this.svgDocument),"touchend",this._drop)):t.browser.toLowerCase()=="chrome"?(this._on(n(this.svgDocument),"touchstart",this._grab),this._on(n(this.svgDocument),"touchmove",this._drag),this._on(n(this.svgDocument),"touchend",this._drop),this._on(n(this.svgDocument),"mousedown",this._grab),this._on(n(this.svgDocument),"mousemove",this._drag),this._on(n(this.svgDocument),"mouseup",this._drop)):(this._on(n(this.svgDocument),"mousedown",this._grab),this._on(n(this.svgDocument),"mousemove",this._drag),this._on(n(this.svgDocument),"mouseup",this._drop)),this._on(n(window),"mouseup",this.mouseup)},_initializeVariables:function(n,t,r){this.ismouseup=!1,n.data!=""&&n.xName!=""&&n.yNames!=""?this._processJsonData(n.data,this.model):t!=""&&t!=i&&t[0].dataSource!=i&&t[0].dataSource.xName!=i&&t[0].dataSource.yNames!=i?this._processJsonData(t[0].dataSource.data,t[0]):r.dataSource!=i&&r.dataSource.xName!=i&&r.dataSource.yNames!=i?this._processJsonData(r.dataSource.data,r):this.model.range.start!=""&&this.model.range.end!=""&&(this.startDateTime=new Date(this.model.range.start),this.endDateTime=new Date(this.model.range.end)),this.startDateTime!=i&&this.endDateTime!=i&&(this.startYear=this.startDateTime.getFullYear(),this.startMonth=this.startDateTime.getMonth(),this.endYear=this.endDateTime.getFullYear(),this.endMonth=this.endDateTime.getMonth())},setSliders:function(){var u=this.newWidth-this.padding*2,n=this.model.selectedRange.start,t=this.model.selectedRange.end,i,r;this.eachInterval=u/parseFloat(this.endDateTime.getTime()-this.startDateTime.getTime()),n===""&&t===""&&(n=this.startDateTime,t=this.endDateTime),i=(new Date(n).getTime()-this.startDateTime.getTime())*this.eachInterval+this.padding,r=(new Date(t).getTime()-this.startDateTime.getTime())*this.eachInterval+this.padding,this.setopacity=this.model.tooltip.tooltipDisplayMode=="always"?1:0,this.setSliderPositions(i,null,null),this.setSliderPositions(null,null,r),this.setopacity=1,this.model.deferredUpdate&&(this._calculateSelectedData(),this.startDateTime!==new Date(n)&&this.endDateTime!==new Date(t)&&this._trigger("rangeChanged",this.model))},centerSliderWidth:"",setSliderPositions:function(t,r,u){var c,l,a,o,f,e;if(t!=null&&t>=this.padding)o=t/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval,this.model.tooltip.visible&&this.svgSupport&&(this.leftTooltip.setAttribute("opacity",this.setopacity),this.leftTxt.textContent=Globalize.format(new Date(o),this.model.tooltip.labelFormat),f=this.leftTooltip.lastChild.getBBox().width+15,e=this.leftTooltip.lastChild.getBBox().height,this.leftTxt.setAttribute("y",e/2+6),this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z",this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z",t-f>=0?(this.leftTooltip.firstChild.setAttribute("d",this.leftd),this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(t-f)+","+this.centerPosition+")"})):t+f<this.rightTooltip.getCTM().e?(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+t+","+this.centerPosition+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd)):this.rightTooltip.getCTM().f<30?(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+t+","+(this.centerPosition+30)+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd)):(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+t+","+this.centerPosition+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd)),t>this.newWidth-this.rightTooltip.lastChild.getBBox().width-15&&this.rightTooltip.getCTM().f<30&&this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(t-f)+","+(this.centerPosition+30)+")"}),this.rightTooltip.getCTM().f>=30&&t<this.rightTooltip.getCTM().e&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+this.rightTooltip.getCTM().e+","+this.centerPosition+")"})),this.ismouseup==!1?(this.renderer._setAttr(n(this.leftUnArea),{width:t-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+","+this.sliderPosition+")"}),this.leftCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:t}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(t-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+parseFloat(t)+","+this.sliderPosition+")"}),c=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left),this.renderer._setAttr(n(this.centerSlider),{width:c})):(this.ismouseup=!1,this.renderer._setAttr(n(this.leftUnArea),{width:t-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+","+this.sliderPosition+")"}),this.leftCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:t}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(t-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+parseFloat(t)+","+this.sliderPosition+")"}),c=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left),this.renderer._setAttr(n(this.centerSlider),{width:c})),this.model.zoomCordinates.zoomPosition=(t-this.padding)/(this.newWidth-this.padding*2),this.model.zoomCordinates.zoomFactor=(this.rightSlider.getBoundingClientRect().left+parseFloat(this.renderer._getAttrVal(n(this.rightSlider),"width"))-t)/(this.newWidth-this.padding*2),this.model.selectedRange.start=new Date(o),l=this.rightSlider.getBoundingClientRect().left,this.model.selectedRange.end=new Date(l/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval);else if(u!=null&&u<=this.newWidth-this.padding+1)a=new Date(this.model.range.start),o=u/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval,this.model.selectedRange.end=new Date(o),this.model.tooltip.visible&&this.svgSupport&&(this.rightTooltip.setAttribute("opacity",this.setopacity),this.rightTxt.textContent=Globalize.format(new Date(o),this.model.tooltip.labelFormat),f=this.rightTooltip.lastChild.getBBox().width+15,e=this.rightTooltip.lastChild.getBBox().height,this.rightTxt.setAttribute("y",e/2+6),this.rightTxt.setAttribute("x",10),this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z",this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z",u+f<=this.newWidth?(this.rightTooltip.firstChild.setAttribute("d",this.rightd),this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+u+","+this.centerPosition+")"})):u+f>=this.newWidth&&u-f>this.centerSlider.getCTM().e?(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(u-f)+","+this.centerPosition+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd)):this.leftTooltip.getCTM().f<30?(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(u-f)+","+(this.centerPosition+30)+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd)):(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(u-f)+","+this.centerPosition+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd)),u<this.leftTooltip.getCTM().e+f&&this.leftTooltip.getCTM().f<30&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+u+","+(this.centerPosition+30)+")"}),this.leftTooltip.getCTM().f>=30&&u>this.leftTooltip.getCTM().e+f&&this.rightTooltip.getCTM().e>this.leftTooltip.getCTM().e+f&&this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+this.leftTooltip.getCTM().e+","+this.centerPosition+")"})),this.renderer._setAttr(n(this.rightUnArea),{width:this.newWidth-u-this.padding-2,transform:"translate("+parseFloat(u+2)+","+this.sliderPosition+")"}),this.renderer._setAttr(n(this.rightSlider),{transform:"translate("+u+","+this.sliderPosition+")"}),this.rightCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.rightCircle),{cx:u}):this.renderer._setAttr(n(this.rightCircle),{transform:"translate("+parseFloat(u-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.centerSliderWidth=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left),this.renderer._setAttr(n(this.centerSlider),{width:this.centerSliderWidth}),this.model.zoomCordinates.zoomFactor=(u-this.leftSlider.getBoundingClientRect().left)/(this.newWidth-this.padding*2);else if(r!=null){var v=this.renderer._getAttrVal(n(this.leftSlider),"width"),s=r,h=r+parseFloat(this.renderer._getAttrVal(n(this.centerSlider),"width")),a=new Date(this.model.range.start),o=s/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval;this.model.selectedRange.start=new Date(o),s>=this.padding&&h<=this.newWidth-this.padding&&(this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+s+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+s+","+parseFloat(this.sliderPosition)+")"}),this.leftCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:s}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(s-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.model.tooltip.visible&&this.svgSupport&&(this.leftTooltip.setAttribute("opacity",this.setopacity),this.leftTxt.textContent=Globalize.format(new Date(o),this.model.tooltip.labelFormat),f=this.leftTooltip.lastChild.getBBox().width+15,e=this.leftTooltip.lastChild.getBBox().height,this.leftTxt.setAttribute("y",e/2+6),this.rightTxt.setAttribute("y",e/2+6),this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z",this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z",s-f>=0?(this.leftTooltip.firstChild.setAttribute("d",this.leftd),this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(s-f)+","+this.centerPosition+")"})):(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+s+","+this.centerPosition+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd),this.leftSlider.getBoundingClientRect().left+f>this.rightSlider.getCTM().e&&this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+s+","+(this.centerPosition+30)+")"}))),o=h/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval,this.model.selectedRange.end=new Date(o),this.renderer._setAttr(n(this.rightSlider),{transform:"translate("+h+","+this.sliderPosition+")"}),this.rightCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.rightCircle),{cx:h}):this.renderer._setAttr(n(this.rightCircle),{transform:"translate("+parseFloat(h-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.model.tooltip.visible&&this.svgSupport&&(this.rightTooltip.setAttribute("opacity",this.setopacity),this.rightTxt.textContent=Globalize.format(new Date(o),this.model.tooltip.labelFormat),f=this.rightTooltip.lastChild.getBBox().width+15,e=this.rightTooltip.lastChild.getBBox().height,this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z",this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z",h+f<=this.newWidth?(this.rightTooltip.firstChild.setAttribute("d",this.rightd),this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+h+","+this.centerPosition+")"})):(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(h-f)+","+this.centerPosition+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd),this.rightTooltip.getBoundingClientRect().left<this.leftSlider.getBoundingClientRect().left&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(h-f)+","+(this.centerPosition+30)+")"}))),this.renderer._setAttr(n(this.leftUnArea),{width:s-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.renderer._setAttr(n(this.rightUnArea),{transform:"translate("+parseFloat(h+2)+","+this.sliderPosition+")",width:this.newWidth-h-this.padding-2}),this.model.zoomCordinates.zoomPosition=(this.leftSlider.getBoundingClientRect().left-this.padding)/(this.newWidth-this.padding*2),this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+r+","+this.sliderPosition+")"}))}!this.model.deferredUpdate&&this.leftSlider.getBoundingClientRect().left<this.rightSlider.getBoundingClientRect().left&&(this._calculateSelectedData(),this._trigger("rangeChanged",this.model))},_calculateSelectedData:function(){var t=[],i=0,n;if(this.model.dataSource.data!="")for(n=0;n<this.model.dataSource.data.length;n++)Date.parse(this.model.selectedRange.start)<=Date.parse(this.model.dataSource.data[n].xDate)&&Date.parse(this.model.selectedRange.end)>=Date.parse(this.model.dataSource.data[n].xDate)&&(t[i]=this.model.dataSource.data[n],i++);this.model.selectedData=t},calculateInterval:function(n,t){n.visible===!0&&(n.intervalType==="years"?this.setYearInterval(this,"higher"):n.intervalType==="quarters"?this.setQuarterInterval(this,"higher",0):n.intervalType==="months"?this.setMonthInterval(this,"higher",0):n.intervalType==="days"?this.setDayInterval(this,"higher",0):n.intervalType==="hours"&&this.setHourInterval(this,"higher",0)),t.visible===!0&&(t.intervalType==="years"?this.setYearInterval(this,"lower"):t.intervalType==="quarters"?this.setQuarterInterval(this,"lower",0):t.intervalType==="months"?this.setMonthInterval(this,"lower",0):t.intervalType==="days"?this.setDayInterval(this,"lower",0):t.intervalType==="hours"&&this.setHourInterval(this,"lower",0))},setHourInterval:function(t,i,r){t._higherTextNode=[],t._higherTotalValues=[],t._lowerTextNode=[],t._lowerTotalValues=[],i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty(),Date.prototype.addHours=function(n){var t=new Date(this.valueOf());return t.getMilliseconds()!==0&&t.setMilliseconds(t.getMilliseconds()+(1e3-t.getMilliseconds())),t.getSeconds()!==0&&t.setSeconds(t.getSeconds()+(60-t.getSeconds())),t.getMinutes()!==0?t.setMinutes(t.getMinutes()+(60-t.getMinutes())):t.setHours(t.getHours()+n),t};var u=t.startDateTime,e=0,o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"hhtt",u,e,f,!1),o+=f,e++,u=u.addHours(1);o>=t.newWidth?t.setHourInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"hht",u,e,f,!1),o+=f,e++,u=u.addHours(1);this.insertLabels(t,i)}},setDayInterval:function(t,i,r){t._higherTextNode=[],t._higherTotalValues=[],t._lowerTextNode=[],t._lowerTotalValues=[],i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty(),Date.prototype.addDays=function(){var n=new Date(this.valueOf());return new Date(n.getFullYear(),n.getMonth(),n.getDate()+1)};var u=t.startDateTime,e=0,o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"dddd, MMMM d, yyyy",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"ddd, MMM d, yy",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,2):this.insertLabels(t,i);break;case 2:while(u<=t.endDateTime)f=this._insertText(t,i,"dddd, d",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,3):this.insertLabels(t,i);break;case 3:while(u<=t.endDateTime)f=this._insertText(t,i,"dd",u,e,f,!1),o+=f,e++,u=u.addDays();this.insertLabels(t,i)}},setMonthInterval:function(t,i,r){t._higherTextNode=[],t._higherTotalValues=[],t._lowerTextNode=[],t._lowerTotalValues=[],i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();var u=t.startDateTime,e=0,s=new Date(t.startDateTime),o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"MMMM, yyyy",u,e,f,!1),o+=f,e++,u=u.addMonths();o>=t.newWidth?t.setMonthInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"MMMM",u,e,f,!1),o+=f,e++,u=u.addMonths();o>=t.newWidth?t.setMonthInterval(t,i,2):this.insertLabels(t,i);break;case 2:while(u<=t.endDateTime)f=this._insertText(t,i,"MMM",u,e,f,!1),o+=f,e++,u=u.addMonths();o>=t.newWidth?t.setMonthInterval(t,i,3):this.insertLabels(t,i);break;case 3:while(u<=t.endDateTime)f=this._insertText(t,i,"MMM",u,e,f,!0),o+=f,e++,u=u.addMonths();this.insertLabels(t,i)}},_quarter:function(n,t,i,r,u,f,e){for(var o,s,h,c,l=n.startYear;l<=n.endYear;l++)if(l===n.startYear)for(o=n.startMonth;o<=11;o++)s=t=="higher"?{id:this._rootId+"_higLabelBarText_"+e,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.labelstyles.font.size,"font-family":n.model.labelSettings.higherLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.labelstyles.font.fontWeight,fill:n.model.labelSettings.higherLevel.labelstyles.font.color}:{id:this._rootId+"_LabelBarText_"+e,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.labelstyles.font.size,"font-family":n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.labelstyles.font.fontWeight,fill:n.model.labelSettings.lowerLevel.labelstyles.font.color},o>=0&&o<=2?(t=="higher"?n.renderer.drawText(s,i+"1 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"1 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(3)),k=2):o>=3&&o<=5?(t=="higher"?n.renderer.drawText(s,i+"2 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"2 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(6)),k=5):o>=6&&o<=8?(t=="higher"?n.renderer.drawText(s,i+"3 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"3 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(9)),k=8):o>=9&&o<=11&&(t=="higher"?n.renderer.drawText(s,i+"4 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"4 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(12)),k=11),t==="lower"?(n._lowerTotalValues[e]=o===n.startMonth?n.startDateTime.getTime()-n.startDateTime.getTime():new Date(n.startYear+"/"+parseInt(o+1)+"/1").getTime()-n.startDateTime.getTime(),o=k,n._lowerTextNode[e]=n.lowerLevel.childNodes[e],h={size:n.model.labelSettings.lowerLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(n.lowerLevel.childNodes[e].textContent,null,h),f+=c.width):(n._higherTotalValues[e]=o===n.startMonth?n.startDateTime.getTime()-n.startDateTime.getTime():new Date(n.startYear+"/"+parseInt(o+1)+"/1").getTime()-n.startDateTime.getTime(),o=k,n._higherTextNode[e]=n.higherLevel.childNodes[e],h={size:n.model.labelSettings.higherLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(n.higherLevel.childNodes[e].textContent,null,h),f+=c.width),e++;else if(l===n.endYear)for(o=0;o<=n.endMonth;o++)s=t=="higher"?{id:this._rootId+"_higLabelBarText_"+e,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.labelstyles.font.size,"font-family":n.model.labelSettings.higherLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.labelstyles.font.fontWeight}:{id:this._rootId+"_LabelBarText_"+e,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.labelstyles.font.size,"font-family":n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.labelstyles.font.fontWeight},o>=0&&o<=2?(t=="higher"?n.renderer.drawText(s,i+"1 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"1 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(3)),k=2):o>=3&&o<=5?(t=="higher"?n.renderer.drawText(s,i+"2 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"2 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(6)),k=5):o>=6&&o<=8?(t=="higher"?n.renderer.drawText(s,i+"3 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"3 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(9)),k=8):o>=9&&o<=11&&(t=="higher"?n.renderer.drawText(s,i+"4 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"4 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(12)),k=11),t==="lower"?(n._lowerTotalValues[e]=new Date(n.endYear+"/"+parseInt(o+1)+"/1").getTime()-n.startDateTime.getTime(),o=k,n._lowerTextNode[e]=n.lowerLevel.childNodes[e],h={size:n.model.labelSettings.lowerLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(n.lowerLevel.childNodes[e].textContent,null,h),f+=c.width):(n._higherTotalValues[e]=new Date(n.endYear+"/"+parseInt(o+1)+"/1").getTime()-n.startDateTime.getTime(),o=k,n._higherTextNode[e]=n.higherLevel.childNodes[e],h={size:n.model.labelSettings.higherLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(n.higherLevel.childNodes[e].textContent,null,h),f+=c.width),e++;else for(o=0;o<=11;o++)s=t=="higher"?{id:this._rootId+"_higLabelBarText_"+e,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.labelstyles.font.size,"font-family":n.model.labelSettings.higherLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.labelstyles.font.fontWeight}:{id:this._rootId+"_LabelBarText_"+e,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.labelstyles.font.size,"font-family":n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.labelstyles.font.fontWeight},o>=0&&o<=2?(t=="higher"?n.renderer.drawText(s,i+"1 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"1 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(3)),k=2):o>=3&&o<=5?(t=="higher"?n.renderer.drawText(s,i+"2 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"2 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(6)),k=5):o>=6&&o<=8?(t=="higher"?n.renderer.drawText(s,i+"3 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"3 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(9)),k=8):o>=9&&o<=11&&(t=="higher"?n.renderer.drawText(s,i+"4 "+Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,i+"4 "+Globalize.format(u,r),n.lowerLevel),u=new Date(u.setMonth(12)),k=11),t==="lower"?(n._lowerTotalValues[e]=new Date(l+"/"+parseInt(o+1)+"/1").getTime()-n.startDateTime.getTime(),o=k,n._lowerTextNode[e]=n.lowerLevel.childNodes[e],h={size:n.model.labelSettings.lowerLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(n.lowerLevel.childNodes[e].textContent,null,h),f+=c.width):(n._higherTotalValues[e]=new Date(l+"/"+parseInt(o+1)+"/1").getTime()-n.startDateTime.getTime(),o=k,n._higherTextNode[e]=n.higherLevel.childNodes[e],h={size:n.model.labelSettings.higherLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(n.higherLevel.childNodes[e].textContent,null,h),f+=c.width),e++},setQuarterInterval:function(t,i,r){t._higherTextNode=[],t._higherTotalValues=[],t._lowerTextNode=[],t._lowerTotalValues=[],i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();var f=new Date(t.startDateTime),e=0,u=0;switch(r){case 0:this._quarter(t,i,"Quarter","yyyy",f,u,e),u>=t.newWidth?t.setQuarterInterval(t,i,1):this.insertLabels(t,i);break;case 1:this._quarter(t,i,"Quarter","yy",f,u,e),u>=t.newWidth?t.setQuarterInterval(t,i,2):this.insertLabels(t,i);break;case 2:this._quarter(t,i,"Q","yyyy",f,u,e),u>=t.newWidth?t.setQuarterInterval(t,i,3):this.insertLabels(t,i);break;case 3:this._quarter(t,i,"Q",null,f,u,e),this.insertLabels(t,i)}},_insertText:function(n,t,i,r,u,f,e){var o,s,h;return Date.prototype.addYears=function(n){var t=new Date(this.valueOf());return t.getMilliseconds()!==0||t.getSeconds()!==0||t.getMinutes()!==0||t.getHours()!==0||t.getDate()!==0||t.getMonth()!==0?t=new Date(t.getFullYear()+1,0,1):t.setYear(t.getFullYear()+n),t},Date.prototype.addMonths=function(){var n=new Date(this.valueOf());return new Date(n.getFullYear(),n.getMonth()+1,1)},t==="higher"?(n._higherTotalValues[u]=r.getTime()-n.startDateTime.getTime(),o={id:this._rootId+"_higLabelBarText_"+u,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.labelstyles.font.size,"font-family":n.model.labelSettings.higherLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.labelstyles.font.fontWeight,fill:n.model.labelSettings.higherLevel.labelstyles.font.color},e==!1?n.renderer.drawText(o,Globalize.format(r,i),n.higherLevel):n.renderer.drawText(o,Globalize.format(r,i).toString().substring(0,1),n.higherLevel),n._higherTextNode[u]=n.higherLevel.childNodes[u],s={size:n.model.labelSettings.higherLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.higherLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.labelstyles.font.fontFamily},h=this.svgSupport?SfSvgRender.utils._measureText(n.higherLevel.childNodes[u].textContent,null,s):SfSvgRender.utils._measureText(n.higherLevel.childNodes[u].innerHTML,null,s),f=Math.max(f,h.width)):(n._lowerTotalValues[u]=r.getTime()-n.startDateTime.getTime(),o={id:this._rootId+"_LabelBarText_"+u,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.labelstyles.font.size,"font-family":n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.labelstyles.font.fontWeight,fill:n.model.labelSettings.lowerLevel.labelstyles.font.color},e==!1?n.renderer.drawText(o,Globalize.format(r,i),n.lowerLevel):n.renderer.drawText(o,Globalize.format(r,i).substring(0,1),n.lowerLevel),n._lowerTextNode[u]=n.lowerLevel.childNodes[u],s={size:n.model.labelSettings.lowerLevel.labelstyles.font.size,fontStyle:n.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.labelstyles.font.fontFamily},h=this.svgSupport?SfSvgRender.utils._measureText(n.lowerLevel.childNodes[u].textContent,null,s):SfSvgRender.utils._measureText(n.lowerLevel.childNodes[u].innerHTML,null,s),f=Math.max(f,h.width)),f},setYearInterval:function(n,t){var i=n.startDateTime;for(count=0;i<=n.endDateTime;)this._insertText(n,t,"yyyy",i,count,0,!1),count++,i=i.addYears(1);this.insertLabels(n,t)},_applyPadding:function(){for(var n=0;n<this._higherTotalValues.length;n++)this._higherTotalValues[n]+=this.padding;for(n=0;n<this._lowerTotalValues.length;n++)this._lowerTotalValues[n]+=this.padding},insertLabels:function(t,r){var v=jQuery.uaMatch(navigator.userAgent),w=parseFloat(this.renderer._getAttrVal(n(t.svgDocument),"width")),b,e,y,f,l,c,o,h,p,u;this.eachInterval=(w-this.padding*2)/parseFloat(this.endDateTime.getTime()-this.startDateTime.getTime());var a=0,s=0;if(r==="higher"&&t.model.labelSettings.higherLevel.visible===!0){for(t.model.labelSettings.higherLevel.position=="top"&&t.model.labelSettings.lowerLevel.position=="top"?(u={x:this.padding,y:1,width:t.newWidth-t.padding*2,height:t.minHighHeight,stroke:t.model.labelSettings.higherLevel.border.color,"stroke-width":t.model.labelSettings.higherLevel.border.width,fill:"transparent"},t.renderer.drawRect(u,t.higherLevel)):t.model.labelSettings.higherLevel.position=="top"?(u={x:this.padding,y:1,width:t.newWidth-t.padding*2,height:t.minHighHeight,stroke:t.model.labelSettings.higherLevel.border.color,"stroke-width":t.model.labelSettings.higherLevel.border.width,fill:"transparent"},t.renderer.drawRect(u,t.higherLevel)):(u={x:this.padding,y:t.bottomPosition,width:t.newWidth-t.padding*2,height:t.minHighHeight,stroke:t.model.labelSettings.higherLevel.border.color,"stroke-width":t.model.labelSettings.higherLevel.border.width,fill:"transparent"},t.renderer.drawRect(u,t.higherLevel)),t._higherLineLeft=[],e=t._higherTotalValues[a]*this.eachInterval+this.padding,b=0,f=0;f<t._higherTextNode.length;f++)if(t._higherLineLeft[f]=e,l={size:t.model.labelSettings.higherLevel.labelstyles.font.size,fontStyle:t.model.labelSettings.higherLevel.labelstyles.font.fontStyle,fontFamily:t.model.labelSettings.higherLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(t.higherLevel.childNodes[a].textContent,null,l),s=c.width,h=t._higherTotalValues[f+1]===i?t.newWidth:t._higherTotalValues[f+1]*this.eachInterval+this.padding,o=t.model.labelSettings.higherLevel.labelstyles.horizontalAlignment==="center"?(h-e)/2+e-s/2:t.model.labelSettings.higherLevel.labelstyles.horizontalAlignment==="left"?e+2:h-s-2,t.renderer._setAttr(n(t._higherTextNode[f]),{x:o}),t.renderer._setAttr(n(t._higherTextNode[f]),{fill:t.model.labelSettings.higherLevel.labelstyles.font.color}),t._higherTextLeft[f]=o,t.model.labelSettings.higherLevel.position=="top"&&t.model.labelSettings.lowerLevel.position=="top"?(t._higherTextNode[f].setAttribute("y",t.minHighHeight-5),u={x1:e,y1:"0",x2:e,y2:t.centerPosition,stroke:t.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":t.model.labelSettings.higherLevel.gridLineStyle.width},f!=0&&t.renderer.drawLine(u,t.higherLevel)):t.model.labelSettings.higherLevel.position=="top"?(this.svgSupport?v.browser.toLowerCase()=="msie"?t._higherTextNode[f].setAttribute("y",t.centerPosition-5):t._higherTextNode[f].setAttribute("y",t.centerPosition-9):t.renderer._setAttr(n(t._higherTextNode[f]),{y:t.centerPosition/2-5}),u={x1:e,y1:"0",x2:e,y2:t.centerPosition,stroke:t.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":t.model.labelSettings.higherLevel.gridLineStyle.width},f!=0&&t.renderer.drawLine(u,t.higherLevel)):(t._higherTextNode[f].setAttribute("y",t.newHeight-5),u={x1:e,y1:this.bottomPosition,x2:e,y2:t.newHeight,stroke:t.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":t.model.labelSettings.higherLevel.gridLineStyle.width},f!=0&&t.renderer.drawLine(u,t.higherLevel)),e=t._higherTotalValues[f+1]*this.eachInterval+this.padding,o<this.padding||o+s>t.newWidth-this.padding){t.higherLevel.removeChild(t._higherTextNode[f]);continue}}else if(t.model.labelSettings.lowerLevel.visible===!0)for(t._lowerLineLeft=[],e=t._lowerTotalValues[a]*this.eachInterval+this.padding,y=t.model.labelSettings.higherLevel.visible?t.bottomPosition:t.centerHeight,t.model.labelSettings.lowerLevel.position==="bottom"&&t.model.labelSettings.higherLevel.position==="top"?(u={x:this.padding,y:y,width:this.newWidth-t.padding*2,height:t.minLowHeight-1,stroke:t.model.labelSettings.lowerLevel.border.color,"stroke-width":t.model.labelSettings.lowerLevel.border.width,fill:"transparent"},t.renderer.drawRect(u,t.lowerLevel)):t.model.labelSettings.lowerLevel.position==="bottom"&&t.model.labelSettings.higherLevel.position==="bottom"?(u={x:this.padding,y:t.centerHeight,width:this.newWidth-t.padding*2,height:t.minLowHeight-1,stroke:t.model.labelSettings.lowerLevel.border.color,"stroke-width":t.model.labelSettings.lowerLevel.border.width,fill:"transparent"},t.renderer.drawRect(u,t.lowerLevel)):t.model.labelSettings.lowerLevel.position==="top"&&t.model.labelSettings.higherLevel.position==="bottom"?(u={x:this.padding,y:0,width:this.newWidth-t.padding*2,height:t.minLowHeight-1,stroke:t.model.labelSettings.lowerLevel.border.color,"stroke-width":t.model.labelSettings.lowerLevel.border.width,fill:"transparent"},t.renderer.drawRect(u,t.lowerLevel)):t.model.labelSettings.higherLevel.position==="top"&&t.model.labelSettings.lowerLevel.position==="top"&&(u={x:this.padding,y:t.minHighHeight-1,width:this.newWidth-t.padding*2,height:t.minLowHeight,stroke:t.model.labelSettings.lowerLevel.border.color,"stroke-width":t.model.labelSettings.lowerLevel.border.width,fill:"transparent"},t.renderer.drawRect(u,t.lowerLevel)),f=0;f<t._lowerTextNode.length;f++)if(t._lowerLineLeft[f]=e,l={size:t.model.labelSettings.lowerLevel.labelstyles.font.size,fontStyle:t.model.labelSettings.lowerLevel.labelstyles.font.fontStyle,fontFamily:t.model.labelSettings.lowerLevel.labelstyles.font.fontFamily},c=SfSvgRender.utils._measureText(t.lowerLevel.childNodes[a].textContent,null,l),s=c.width,o=0,h=t._lowerTotalValues[f+1]===i?t.newWidth:t._lowerTotalValues[f+1]*this.eachInterval+this.padding,o=t.model.labelSettings.lowerLevel.labelstyles.horizontalAlignment==="center"?(h-e)/2+e-s/2:t.model.labelSettings.lowerLevel.labelstyles.horizontalAlignment==="left"?e+2:h-s-2,t.renderer._setAttr(n(t._lowerTextNode[f]),{x:o}),t.renderer._setAttr(n(t._lowerTextNode[f]),{fill:t.model.labelSettings.lowerLevel.labelstyles.font.color}),t._lowerTextLeft[f]=o,t.model.labelSettings.lowerLevel.position==="bottom"&&t.model.labelSettings.higherLevel.position==="top"?(this.svgSupport?v.browser.toLowerCase()=="msie"?t._lowerTextNode[f].setAttribute("y",t.newHeight-5):t._lowerTextNode[f].setAttribute("y",t.newHeight-9):t.renderer._setAttr(n(t._lowerTextNode[f]),{y:t.newHeight-c.height}),p=t.model.labelSettings.higherLevel.visible?parseFloat(t.minHighHeight+t.centerHeight):t.minHighHeight,u={x1:e,y1:p,x2:e,y2:t.newHeight,stroke:t.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":t.model.labelSettings.lowerLevel.gridLineStyle.width},f!=0&&t.renderer.drawLine(u,t.lowerLevel)):t.model.labelSettings.lowerLevel.position==="bottom"&&t.model.labelSettings.higherLevel.position==="bottom"?(t._lowerTextNode[f].setAttribute("y",t.bottomPosition-5),u={x1:e,y1:t.centerHeight,x2:e,y2:t.bottomPosition,stroke:t.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":t.model.labelSettings.lowerLevel.gridLineStyle.width},f!=0&&t.renderer.drawLine(u,t.lowerLevel)):t.model.labelSettings.lowerLevel.position==="top"&&t.model.labelSettings.higherLevel.position==="bottom"?(t._lowerTextNode[f].setAttribute("y",t.centerPosition-5),u={x1:e,y1:0,x2:e,y2:t.centerPosition,stroke:t.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":t.model.labelSettings.lowerLevel.gridLineStyle.width},f!=0&&t.renderer.drawLine(u,t.lowerLevel)):t.model.labelSettings.higherLevel.position==="top"&&t.model.labelSettings.lowerLevel.position==="top"&&(t._lowerTextNode[f].setAttribute("y",t.centerPosition-5),u={x1:e,y1:t.minHighHeight,x2:e,y2:t.centerPosition,stroke:t.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":t.model.labelSettings.lowerLevel.gridLineStyle.width},f!=0&&t.renderer.drawLine(u,t.lowerLevel)),e=t._lowerTotalValues[f+1]*this.eachInterval+this.padding,o<this.padding||o+s>t.newWidth-this.padding){t.lowerLevel.removeChild(t._lowerTextNode[f]);continue}t._setGridlines(t)},_setGridlines:function(n){var t,i;if(n.model.navigatorStyle.minorGridLineStyle.visible===!0)for(t=0;t<n._lowerTextNode.length;t++)n.model.labelSettings.higherLevel.position=="top"&&n.model.labelSettings.lowerLevel.position=="top"?(i={x1:n._lowerLineLeft[t],y1:n.centerHeight+n.minLowHeight+n.minHighHeight,x2:n._lowerLineLeft[t],y2:n.centerPosition,stroke:n.model.navigatorStyle.minorGridLineStyle.color,"stroke-width":"0.5"},n.renderer.drawLine(i,n.centerLevel)):(i={x1:n._lowerLineLeft[t],y1:n.centerPosition,x2:n._lowerLineLeft[t],y2:n.centerPosition+n.centerHeight,stroke:n.model.navigatorStyle.minorGridLineStyle.color,"stroke-width":"0.5"},n.renderer.drawLine(i,n.centerLevel));else for(t=0;t<n._higherTextNode.length;t++)i={x1:n._higherLineLeft[t],y1:n.centerHeight+n.minLowHeight,x2:n._higherLineLeft[t],y2:n.centerPosition,stroke:n.model.navigatorStyle.majorGridLineStyle.color,"stroke-width":"0.5"},n.renderer.drawLine(i,n.centerLevel)},bindTo:function(){t.util.isNullOrUndefined(this.model.dataSource)||this.model.dataSource.data!=null&&this.model.dataSource.data.length>0&&this._processJsonData(this.model.dataSource.data,this.model)},_processJsonData:function(n,r){for(var o=[],h=[],c=0,f,s,e,u=0;u<n.length;u++)typeof n[u][r.dataSource.xName]=="string"&&n[u][r.dataSource.xName].indexOf("/Date(")!=-1&&(n[u][r.dataSource.xName]=new Date(parseInt(n[u][r.dataSource.xName].substr(6)))),jQuery.type(n[u][r.dataSource.xName])!="string"&&jQuery.type(n[u][r.dataSource.xName])!="date"?o.push(parseFloat(t.util.isNullOrUndefined(n[u][r.dataSource.xName])?u:n[u][r.dataSource.xName])):o.push(t.util.isNullOrUndefined(n[u][r.dataSource.xName])?u:n[u][r.dataSource.xName]);if(!t.util.isNullOrUndefined(r.dataSource.yNames))for(f=0;f<r.dataSource.yNames.length;f++){for(s=[],e=0;e<n.length;e++)s.push(n[e][r.dataSource.yNames[f]]===null||n[e][r.dataSource.yNames[f]]===i?n[e][r.dataSource.yNames[f]]:parseFloat(n[e][r.dataSource.yNames[f]]));h[f]=s,c=f+1}this.endDateTime=new Date(Math.max.apply(null,o)),this.startDateTime=new Date(Math.min.apply(null,o))},calTouchPosition:function(t){var f=jQuery.uaMatch(navigator.userAgent),r,u,i;return f.browser.toLowerCase()=="mozilla"||f.browser.toLowerCase()=="webkit"?(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).parent().offset().left,u=i.pageY-n(this.svgDocument).parent().offset().top,this.leftPadding=n(this.svgDocument).offset().left,this.grabPadding=0):f.browser.toLowerCase()=="msie"?(r=t.originalEvent.pageX-n(this.svgDocument).offset().left,u=t.originalEvent.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left):(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).offset().left,u=i.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left),{X:r,Y:u}},calMousePosition:function(t){var u=jQuery.uaMatch(navigator.userAgent),i,r;return u.browser.toLowerCase()=="mozilla"||u.browser.toLowerCase()=="webkit"?(i=t.pageX-n(this.svgDocument).parent().offset().left,r=t.pageY-n(this.svgDocument).parent().offset().top,this.leftPadding=n(this.svgDocument).offset().left,this.grabPadding=0):(i=t.pageX-n(this.svgDocument).offset().left,r=t.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left),{X:i,Y:r}},calTouchPosition:function(t){var f=jQuery.uaMatch(navigator.userAgent),r,u,i;return f.browser.toLowerCase()=="mozilla"||f.browser.toLowerCase()=="webkit"?(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).parent().offset().left,u=i.pageY-n(this.svgDocument).parent().offset().top,this.leftPadding=n(this.svgDocument).offset().left,this.grabPadding=0):f.browser.toLowerCase()=="msie"?(r=t.originalEvent.pageX-n(this.svgDocument).offset().left,u=t.originalEvent.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left):(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).offset().left,u=i.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left),{X:r,Y:u}},_grab:function(n){var e,t,f,u,o,r,i;if(n.preventDefault(),e=jQuery.uaMatch(navigator.userAgent),t=this,f=this.svgSupport&&n.originalEvent.toString()!=="[object TouchEvent]"&&e.browser.toLowerCase()!="msie"?t.calMousePosition(n):this.svgSupport?t.calTouchPosition(n):t.calMousePosition(n),t.mouseDownX=f.X,t.mouseDownY=f.Y,u=n.target,u.parentNode.id==="leftslider"||u.parentNode.id==="rightslider"||u.parentNode.id==="centerslider"||u.parentNode.id===this._rootId+"higherLevel"||u.parentNode.id===this._rootId+"lowerLevel")if(t.dragTarget=u,t.edge=!1,this.svgSupport&&(o=t.dragTarget.getCTM(),t.grabPoint.x=e.browser.toLowerCase()=="mozilla"||e.browser.toLowerCase()=="webkit"?t.mouseDownX+this.grabPadding-Number(o.e):t.mouseDownX+this.leftPadding-Number(o.e),t.grabPoint.y=t.trueCoords.y-Number(o.f)),t.dragTarget.parentNode.id===this._rootId+"higherLevel")for(r=t.mouseDownX,i=0;i<t._higherLineLeft.length;i++)i+1<t._higherLineLeft.length&&r>t._higherLineLeft[i]&&r<t._higherLineLeft[i+1]?(t.setSliderPositions(t._higherLineLeft[i],null,null),t.setSliderPositions(null,null,t._higherLineLeft[i+1])):i+1===t._higherLineLeft.length&&r>t._higherLineLeft[i]&&(t.setSliderPositions(t._higherLineLeft[i],null,null),t.setSliderPositions(null,null,t.newWidth-t.padding));else if(t.dragTarget.parentNode.id===this._rootId+"lowerLevel")for(r=t.mouseDownX,i=0;i<t._lowerLineLeft.length;i++)i+1<t._lowerLineLeft.length&&r>t._lowerLineLeft[i]&&r<t._lowerLineLeft[i+1]?(t.setSliderPositions(t._lowerLineLeft[i],null,null),t.setSliderPositions(null,null,t._lowerLineLeft[i+1])):i+1===t._lowerLineLeft.length&&r>t._lowerLineLeft[i]&&(t.setSliderPositions(t._lowerLineLeft[i],null,null),t.setSliderPositions(null,null,t.newWidth-t.padding))},_drag:function(t){var e,i,u,r,f;t.preventDefault(),e=jQuery.uaMatch(navigator.userAgent),i=this,u=this.svgSupport&&t.originalEvent.toString()!=="[object TouchEvent]"&&e.browser.toLowerCase()!="msie"?i.calMousePosition(t):this.svgSupport?i.calTouchPosition(t):i.calMousePosition(t),i.mouseDownX=u.X,i.mouseDownY=u.Y,this.svgSupport&&i.GetTrueCoords(t),i.dragTarget&&((i.edge||i.dragTarget!==i.leftSlider)&&i.dragTarget!==i.rightSlider&&i.dragTarget!==i.centerSlider?(r=i.mouseDownX,f=i.mouseDownY):this.svgSupport?(r=i.trueCoords.x-i.grabPoint.x,f=i.trueCoords.y-i.grabPoint.y):(r=i.mouseDownX,f=i.mouseDownY),i.dragTarget.parentNode.id==="leftslider"?(r<=i.rightSlider.getBoundingClientRect().left-this.leftPadding?(i.setSliderPositions(r,null,null),this.leftset=!1):(i.setSliderPositions(i.rightSlider.getBoundingClientRect().left-this.leftPadding,null,null),this.leftset=!0),i.left=r):i.dragTarget.parentNode.id==="rightslider"?(i.leftSlider.getBoundingClientRect().left==i.rightSlider.getBoundingClientRect().left&&r<i.newWidth-15&&i.rightSlider.getBoundingClientRect().left==i.newWidth-i.padding?(i.setSliderPositions(r-20,null,null),i._drop(t),i.dragTarget=i.leftSlider,i._grab(t),i.edge=!0,i._drag(t)):r>=i.leftSlider.getBoundingClientRect().left-this.leftPadding?i.setSliderPositions(null,null,r):i.setSliderPositions(null,null,i.leftSlider.getBoundingClientRect().left-this.leftPadding),i.right=r):i.dragTarget.parentNode.id==="centerslider"&&(i.setSliderPositions(null,parseFloat(r),null),r>r+this.renderer._getAttrVal(n(i.dragTarget),"width")&&i.setSliderPositions(null,r,null),i.center=r))},_drop:function(n){var e,t,u,f,r;if(this.dragTarget){if(e=n.target,t=this,t.model.snappingMode&&parseInt(t.leftSlider.getBoundingClientRect().left+2)<parseInt(t.rightSlider.getBoundingClientRect().left))for(t.ismouseup=!0,t.dragTarget.parentNode.id==="leftslider"?u=t.left:t.dragTarget.parentNode.id==="rightslider"?u=t.right:t.dragTarget.parentNode.id==="centerslider"&&(u=t.center),f=0,r=0;r<t._lowerLineLeft.length;r++)r+1<t._lowerLineLeft.length&&u>t._lowerLineLeft[r]&&u<t._lowerLineLeft[r+1]?(t.mikey=t._lowerLineLeft[r],f=t._lowerLineLeft[r+1]-t.mikey,u>=t.mikey+f/2?(t.mikey=t._lowerLineLeft[r+1],t.dragTarget.parentNode.id==="leftslider"?t.setSliderPositions(t._lowerLineLeft[r+1],null,null):t.dragTarget.parentNode.id==="rightslider"?t.setSliderPositions(null,null,t._lowerLineLeft[r+1]):t.dragTarget.parentNode.id==="centerslider"&&(t.setSliderPositions(null,null,t._lowerLineLeft[r+1]+parseFloat(t.centerSlider.getAttribute("width"))),t.setSliderPositions(t._lowerLineLeft[r+1],null,null))):(t.mikey=t._lowerLineLeft[r],t.dragTarget.parentNode.id==="leftslider"?t.setSliderPositions(t._lowerLineLeft[r],null,null):t.dragTarget.parentNode.id==="rightslider"?t.setSliderPositions(null,null,t._lowerLineLeft[r]):t.dragTarget.parentNode.id==="centerslider"&&(t.setSliderPositions(null,null,t._lowerLineLeft[r]+parseFloat(t.centerSlider.getAttribute("width"))),t.setSliderPositions(t._lowerLineLeft[r],null,null)))):r+1===t._lowerLineLeft.length&&u>t._lowerLineLeft[r]&&t.setSliderPositions(t._lowerLineLeft[r],null,null);this.dragTarget=null,this.leftTooltip!=i&&this.model.tooltip.tooltipDisplayMode=="always"?(this.leftTooltip.setAttribute("opacity",1),this.rightTooltip.setAttribute("opacity",1)):this.leftTooltip!=i&&this.model.tooltip.tooltipDisplayMode=="ondemand"&&(this.leftTooltip.setAttribute("opacity",0),this.rightTooltip.setAttribute("opacity",0)),this.model.deferredUpdate&&(this._calculateSelectedData(),this._callRangeChange(this))}},_callRangeChange:function(n){n._trigger("rangeChanged",n.model)},mouseup:function(n){this.dragTarget!=null&&(this._drop(n),this.dragTarget!=null&&(this.dragTarget.setAttributeNS(null,"pointer-events","all"),this.dragTarget=null),this.model.deferredUpdate&&(this._calculateSelectedData(),this._trigger("rangeChanged",this.model)))},GetTrueCoords:function(n){var t=this.svgDocument.currentScale,i=this.svgDocument.currentTranslate,r=jQuery.uaMatch(navigator.userAgent);n.originalEvent.toString()!=="[object TouchEvent]"&&r.browser.toLowerCase()!="msie"?(this.trueCoords.x=(n.clientX-i.x)/t,this.trueCoords.y=(n.clientY-i.y)/t):r.browser.toLowerCase()=="msie"?(this.trueCoords.x=(n.originalEvent.clientX-i.x)/t,this.trueCoords.y=(n.originalEvent.clientY-i.y)/t):(this.trueCoords.x=(n.originalEvent.touches[0].clientX-i.x)/t,this.trueCoords.y=(n.originalEvent.touches[0].clientY-i.y)/t)}})}(jQuery,Syncfusion),jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}}